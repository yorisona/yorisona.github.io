"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[2274],{7185:function(t,e,o){o.d(e,{Z:function(){return u}});var n,i,a=o(97434),l=(0,a.defineComponent)({setup(t,e){const o=t=>()=>{e.emit("close",t)};return{selected:o}},render(t){const e=this.selected;return t("div",{class:"dialog-contact-container"},[t("div",{class:"block"},[t("div",{class:"title"},[t("span",["模板合同"]),t("el-popover",{attrs:{width:180,trigger:"hover","open-delay":300}},[t("tg-button",{slot:"reference",attrs:{type:"link"},class:"abnormal-tip-btn"},[t("tg-icon",{attrs:{name:"ico-question"}})]),t("div",{class:"abnormal-tip"},["需下载合同模板，或在线编辑后生成固定条款的合同"])])]),t("div",{class:"items"},[t("div",{class:"item",on:{click:e(1)}},[t("div",{class:"icon-contract icon-contract-0"}),t("div",{class:"text"},["客户合同"])]),t("div",{class:"item",on:{click:e(2)}},[t("div",{class:"icon-contract icon-contract-1"}),t("div",{class:"text"},["供应商合同"])])])]),t("div",{class:"block"},[t("div",{class:"title"},[t("span",["非模板合同"]),t("el-popover",{attrs:{width:180,trigger:"hover","open-delay":300}},[t("tg-button",{slot:"reference",attrs:{type:"link",className:"abnormal-tip-btn"}},[t("tg-icon",{attrs:{name:"ico-question"}})]),t("div",{class:"abnormal-tip"},["根据业务实际情况拟订的非固定条款合同"])])]),t("div",{class:"items"},[t("div",{class:"item",on:{click:e(3)}},[t("div",{class:"icon-contract icon-contract-0"}),t("div",{class:"text"},["客户合同"])]),t("div",{class:"item",on:{click:e(4)}},[t("div",{class:"icon-contract icon-contract-1"}),t("div",{class:"text"},["供应商合同"])])])])])}}),s=l,c=o(1001),r=(0,c.Z)(s,n,i,!1,null,"6531246e",null),u=r.exports},32039:function(t,e,o){o.d(e,{Z:function(){return u}});var n,i,a=o(97434),l=(0,a.defineComponent)({setup(t,e){const o=(0,a.ref)(!1),n=(0,a.ref)(""),i=(0,a.ref)([]),l=t=>{o.value=!1,setTimeout((()=>{e.emit("close",t)}),170)},s=t=>{n.value=t.title,i.value=t.items,o.value=!0};return{emitClose:l,title:n,visible:o,items:i,show:s}},render(t){return t("el-dialog",{class:"customer-dialog",attrs:{width:"460px",visible:this.visible,title:this.title},on:{close:this.emitClose}},[t("div",{class:"dialog-contact-container"},[this.items.map(((e,o)=>t("div",{class:"block",key:o,on:{click:()=>{this.emitClose(e)}}},[t("div",{class:`icon-contract icon-contract-${o}`}),t("span",{class:"text"},[e.name])])))])])}}),s=l,c=o(1001),r=(0,c.Z)(s,n,i,!1,null,null,null),u=r.exports},79058:function(t,e,o){o.d(e,{Z:function(){return d}});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.visible?o("div",[o("el-dialog",{staticClass:"tg-dialog-classic tg-dialog-vcenter-new contract-form-modal",attrs:{visible:t.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px",top:"70px",title:"合同模板下载"},on:{close:function(e){t.visible=!1}},scopedSlots:t._u([{key:"footer",fn:function(){return[o("tg-button",{on:{click:function(e){t.visible=!1}}},[t._v("关闭")])]},proxy:!0}],null,!1,1168837785)},[o("div",{staticClass:"dialog-content",staticStyle:{padding:"20px 20px","overflow-y":"auto",height:"300px","overflow-x":"hidden"}},[o("el-form",{ref:"formRef",attrs:{"label-width":"103px"}},[o("el-form-item",{staticStyle:{width:"400px"},attrs:{label:"业务类型："}},[o("el-select",{staticClass:"select",staticStyle:{width:"327px"},attrs:{clearable:"",placeholder:"请选择"},on:{change:t.selectbusinesstypeChange},model:{value:t.business_type,callback:function(e){t.business_type=e},expression:"business_type"}},t._l(t.businessTypeOptions,(function(t){return o("el-option",{key:t.value,attrs:{"合同搜索":"",label:t.label,value:t.value}})})),1)],1)],1),!t.list||t.list.length<1?o("div",{staticStyle:{height:"195px",width:"320px","border-radius":"4px",margin:"auto","margin-top":"10px"}},[o("div",{staticStyle:{"margin-top":"45px","margin-left":"0px"}},[o("empty-common",{attrs:{"detial-text":"暂无该类型选项合同模板数据","img-height":"100","img-width":"150"}})],1)]):o("div",{staticStyle:{height:"195px",width:"400px",border:"1px solid rgba(164, 178, 194, 0.3)",padding:"10px 0px 10px 0px","border-radius":"4px",margin:"auto","margin-top":"10px"}},[o("ul",{staticStyle:{overflow:"auto",margin:"auto",height:"168px"}},t._l(t.list,(function(e){return o("li",{key:e.id,staticStyle:{height:"25px","line-height":"25px","font-size":"14px",cursor:"pointer","margin-bottom":"6px"},on:{click:function(o){return t.selectlistChange(e)}}},[o("tg-button",{staticStyle:{display:"inline-block",border:"none",width:"100%",padding:"0px",height:"25px","line-height":"25px","padding-left":"16px"}},[e.name.length>28?o("el-popover",{attrs:{placement:"top-start",width:"330",trigger:"hover",content:e.name}},[o("span",{staticClass:"line-clamp-1",staticStyle:{display:"inline-block","max-width":"330px",overflow:"hidden","text-overflow":"ellipsis","-o-text-overflow":"ellipsis","white-space":"nowrap",float:"left",color:"#3c5269",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.name))])]):o("span",{staticStyle:{display:"inline-block","max-width":"330px",overflow:"hidden","text-overflow":"ellipsis","-o-text-overflow":"ellipsis","white-space":"nowrap",float:"left",color:"#3c5269",cursor:"pointer"}},[t._v(t._s(e.name))]),o("div",{staticStyle:{display:"inline-block",border:"none","font-size":"14px",width:"20px",float:"left",height:"20px","margin-left":"6px",padding:"0px","background-color":"transparent"}},[o("tg-icon",{staticStyle:{"font-size":"16px"},attrs:{name:"ico-xiazai"}})],1)],1)],1)})),0)])],1)])],1):t._e()},i=[],a=o(97434),l=o(89935),s=o(83005),c=o(74750),r=(0,a.defineComponent)({name:"TemplateContract",props:{type:{type:String,default:"live"}},setup(t,e){const o=(0,a.inject)("project"),n=(0,a.ref)(o.value?.business_type);2===o.value?.cooperation_type&&(n.value=4);const i=(0,c.LP)();(0,a.watch)((()=>o),(t=>{2===t.value?.cooperation_type?n.value=4:n.value=t.value?.business_type}),{deep:!0});const s=(0,a.ref)(l.tv),r=(0,a.ref)([]);return{mytoken:i,no_upload_click:!1,visible:!1,business_type:n,businessTypeOptions:s,list:r}},methods:{show(){this.no_upload_click=!0,this.visible=!0,this.getList(),this.$nextTick((()=>{}))},selectbusinesstypeChange(t){this.business_type=t,this.getList()},selectlistChange(t){window.open(t.file_url+"?Authorization="+this.mytoken)},async getList(){const{data:t}=await(0,s.Xv)({status:"1",business_type:this.business_type},this.type);if(t.success){const e=t.data.data;this.list=e}}}}),u=r,p=o(1001),v=(0,p.Z)(u,n,i,!1,null,"2bc0a549",null),d=v.exports},35750:function(t,e,o){var n=o(97434),i=o(83005),a=o(61282),l=o(85937),s=o.n(l);e["Z"]={useContract(t){const e=(0,n.ref)([]);let o;const l=(0,n.ref)(!1),c=n=>{l.value=!0,setTimeout((()=>{(0,i.q0)(n,t).then((t=>{e.value=t.data.data.data.map((t=>{const e=t.template_info;if(e){const o=e.pay_condition;if(o)o.filter((e=>{if("收费类型"===e.key&&(t.getMoneytype=e.value,t.contractMoney="",t.contractCommission="",t.contractOtherMoney="",e.value||(t.getMoneytype="其它")),"纯佣金"===t.getMoneytype){if("佣金"===e.key&&(t.contractCommission=e.value?e.value+"%":""),"构美佣金"===e.key&&0!==Number(e.value)){const o=e.value?e.value+"%(构美)":"";t.contractCommission=o}if("主播佣金"===e.key){const o=e.value?e.value+"%(主播)":"";t.contractCommission=t.contractCommission?o+"+"+t.contractCommission:o}}if("服务费+佣金"===t.getMoneytype||"固定服务费+佣金"===t.getMoneytype){if(t.getMoneytype="服务费+佣金","固定服务费"===e.key&&(t.contractMoney=e.value||0===Number(e.value)?"￥"+(0,a.SJ)(new(s())(e.value)):""),"构美佣金"===e.key&&0!==Number(e.value)){const o=e.value?e.value+"%(构美)":"";t.contractCommission=o}if("主播佣金"===e.key){const o=e.value?e.value+"%(主播)":"";t.contractCommission=t.contractCommission?o+"+"+t.contractCommission:o}if("佣金"===e.key){const o=e.value?e.value+"%":"";t.contractCommission=o}}"固定服务费"===t.getMoneytype&&"固定服务费"===e.key&&(t.contractMoney=e.value||0===Number(e.value)?"￥"+(0,a.SJ)(new(s())(e.value)):""),"其它"===t.getMoneytype&&"其它"===e.key&&(t.contractOtherMoney="--")}));else{const o=t.contract_info;if(7===o.contract_type){const o=e.cooperation_content;o&&o.filter((e=>{if("计算方式"===e.key){const o=[{value:1,label:"小时服务费"},{value:9,label:"保底服务费"},{value:4,label:"小时服务费或提点"},{value:2,label:"保底服务费或提点"},{value:5,label:"小时服务费或阶梯式提点"},{value:6,label:"保底服务费或阶梯式提点"},{value:7,label:"保底服务费A或保底服务费B+提点"},{value:8,label:"小时服务费或保底服务费+提点"}],n=e.value;let i="--";o.map((t=>{String(t.value)===String(n)&&(i=t.label)})),t.getMoneytype=i||"--",t.contractOtherMoney="--"}"保底服务费"===t.getMoneytype&&"保底服务费"===e.key&&(t.contractOtherMoney=e.value||0===Number(e.value)?"￥"+(0,a.SJ)(new(s())(e.value)):""),"小时服务费"===t.getMoneytype&&"小时服务费"===e.key&&(t.contractOtherMoney=e.value||0===Number(e.value)?"￥"+(0,a.SJ)(new(s())(e.value))+"元/小时":"")}))}else t.getMoneytype="--",t.contractOtherMoney=t.contract_detail.contract_amount||0===t.contract_detail.contract_amount?"￥"+(0,a.SJ)(new(s())(t.contract_detail.contract_amount)):"--"}}else t.getMoneytype="--",t.contractOtherMoney=t.contract_detail.contract_amount||0===t.contract_detail.contract_amount?"￥"+(0,a.SJ)(new(s())(t.contract_detail.contract_amount)):"--";return t})),l.value=!1}))}),500),o=n},r=()=>{c(o)};return{loading:l,data:e,query:c,reload:r}}}},89852:function(t,e,o){o.d(e,{L:function(){return l}});var n=o(97434),i=o(1763),a=o(29625);const l=t=>{const e=(0,n.computed)((()=>t.root.$route.name??"")),o=(0,n.computed)((()=>parseInt(t.root.$route.params.id,10))),l=(0,n.computed)((()=>e.value===i.Z8.project.detail)),s=(0,n.computed)((()=>e.value===i.FB.project.detail)),c=(0,n.computed)((()=>e.value===i.u3.project.detail)),r=(0,n.computed)((()=>{if(l.value){const t=(0,n.inject)("MarketingProject")??(0,n.ref)(void 0);return{...t.value,project__type:"marketing"}}if(s.value){const t=(0,n.inject)("live_project")??(0,n.ref)(void 0);return{...t.value,project__type:"live"}}if(c.value){const t=(0,n.inject)("common_project")??(0,n.ref)(void 0);return{...t.value,project__type:"common"}}})),u=(0,n.computed)((()=>l.value?"marketing":s.value?"live":c.value?"common":t.root.$route.name===i.B_.settlement?"finance":"finance_cost")),p=(0,n.computed)((()=>void 0===r.value||void 0===r.value.project__type?void 0:"marketing"===r.value.project__type?a.WD.marketing:"common"===r.value.project__type||"live"===r.value.project__type?r.value.business_type:void 0));return{project_id:o,isFromMarketing:l,isFromLive:s,isFromCommon:c,project:r,project_type:u,business_type:p}}}}]);
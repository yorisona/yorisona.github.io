"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[4324],{20696:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-center-collect tg-card"},[a("div",{staticClass:"collect-select"},[a("select-date",{on:{selectDate:e.selectDate}}),a("data-switch",{attrs:{index:e.activeIndex},on:{checkATab:e.handleCheckTab}})],1),0===e.activeIndex?[a("data-center-list",{staticClass:"list-min-height",attrs:{loading:e.tableLoading,list:e.list,"current-date-type":e.currentDateType}}),a("div",{staticClass:"related-project",staticStyle:{"margin-top":"16px"}},[a("div",{staticClass:"related-project-title"},[a("head-lines",{attrs:{title:"相关项目"}}),a("el-input",{staticStyle:{width:"182px"},attrs:{size:"mini",placeholder:"项目名称/编码","suffix-icon":"el-icon-search"},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnterPressSearch.apply(null,arguments)},click:function(t){return e.onEnterPressSearch.apply(null,arguments)}},model:{value:e.project_id,callback:function(t){e.project_id=t},expression:"project_id"}})],1),a("related-project",{attrs:{list:e.project_list_filter},on:{viewDetail:e.viewDetail}})],1)]:e._e(),1===e.activeIndex?a("data-center-chart",{attrs:{currentDate:e.currentDate}}):e._e()],2)},i=[],r=a(97434),c=a(86919),s=a(99824),o=a(60226),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-center-chart"},[a("h3",{staticClass:"center-chart-title",staticStyle:{margin:"14px 0 20px 0"}},[e._v("汇总数据")]),a("div",{staticClass:"center-chart-total",staticStyle:{"margin-bottom":"32px"}},e._l(e.chartTotal,(function(t,n){return a("div",{key:n,staticClass:"item"},[a("p",{staticClass:"title"},[e._v(e._s(t.name))]),a("p",{staticClass:"num"},[e._v(e._s(t.value))])])})),0),a("div",{staticClass:"line-pie-box"},[a("div",{staticClass:"line-box"},[a("h3",{staticClass:"center-chart-title"},[e._v("到账金额趋势")]),a("div",{staticClass:"chart-border-box"},[a("LineEcharts",{attrs:{date:e.dateLineList,list:e.dataLineList,loading:e.dataLineLoading}})],1)]),a("div",{staticClass:"pie-box"},[a("h3",{staticClass:"center-chart-title"},[e._v("各项目到账金额占比")]),a("div",{staticClass:"chart-border-box"},[a("pieEcharts",{attrs:{"pie-data":e.pieData,loading:e.pieDataLoading}})],1)])])])},u=[],d=a(36672),p=a(82598),v=a(99575),f=(0,r.defineComponent)({props:{currentDate:{type:String,default:null}},components:{LineEcharts:d.Z,pieEcharts:p.Z},setup(e,t){(0,r.watch)((()=>e.currentDate),(()=>{l()}));const a=(0,r.ref)([]),n=(0,r.ref)([]),i=(0,r.ref)(!0),c=(0,r.ref)([]),s=(0,r.ref)(!0),o=(0,r.ref)([]),l=()=>{null!==e.currentDate&&(i.value=!0,s.value=!0,(0,v.wT)({business_type:1,the_date:e.currentDate,chart_type:10}).then((e=>{if(i.value=!1,!0!==e.data.success)return;const t=e.data.data;a.value=t.dates,n.value=t.lists.map((e=>({smooth:!0,showSymbol:!0,type:"line",name:e.project_name,data:e.values})))})),(0,v.wT)({business_type:1,the_date:e.currentDate,chart_type:13}).then((e=>{if(s.value=!1,!0!==e.data.success)return;const t=e.data.data;c.value=t.lists.map((e=>({name:e.project_name,value:e.values&&e.values[0]})))})),(0,v.wT)({business_type:1,the_date:e.currentDate,chart_type:0}).then((e=>{if(!0!==e.data.success)return;const t=e.data.data;o.value=t.map((e=>(e.name="到账金额",e.value=e["到账金额"],e)))})))};return l(),{dateLineList:a,dataLineList:n,dataLineLoading:i,pieData:c,pieDataLoading:s,chartTotal:o}}}),h=f,m=a(1001),_=(0,m.Z)(h,l,u,!1,null,"3ac614f8",null),y=_.exports,b=a(41947),x=a(1763),g=a(87939),C=a(44928),D=(0,r.defineComponent)({components:{DataSwitch:c.Z,DataCenterList:o.Z,DataCenterChart:y,SelectDate:s.Z,RelatedProject:b.Z},setup(e,t){const a=(0,r.ref)(""),n=(0,r.ref)(""),i=(0,r.ref)(0),c=e=>{i.value=e},s=(0,r.ref)([]),o=(0,r.computed)((()=>s.value.filter((e=>!n.value||(!(!e.cooperation_name||-1===e.cooperation_name.indexOf(n.value))||!(!e.cooperation_uid||-1===e.cooperation_uid.indexOf(n.value))))))),l=(0,r.ref)([]),u=(0,r.ref)(null),d=(0,r.ref)(null),p=(0,r.ref)(!0),f=(e,t)=>{u.value=e,d.value=t,p.value=!0,(0,v.BP)({business_type:1,the_date:t}).then((e=>{const t=e.data.data;l.value=t.data,p.value=!1})),(0,v.vN)({page_num:1,num:1e6,end_date:t}).then((e=>{e.data.success&&(s.value=e.data.data.data.map((e=>(e.id=e.cooperation_id,e.title=null===e.cooperation_name||""===e.cooperation_name?e.cooperation_uid:e.cooperation_name,e))))}))},h=e=>{const a=(0,C.t)(),{meta:n}=a.currentRoute;t.root.$router.push({name:"/datacenter/overview"===n?.activePath?x.xx.dataGeneralizationProject:x.xx.dataMarketProject,params:{id:e.id,businessType:""+g._.Marketing},query:{dateType:""+u.value,dateValue:d.value,projectName:e.title}})},m=()=>{n.value=a.value};return{activeIndex:i,handleCheckTab:c,selectDate:f,currentDateType:u,list:l,tableLoading:p,project_id:a,viewDetail:h,onEnterPressSearch:m,project_list:s,currentDate:d,project_list_filter:o}}}),k=D,L=(0,m.Z)(k,n,i,!1,null,"3e5ccfb2",null),w=L.exports},29625:function(e,t,a){var n,i;a.d(t,{Bs:function(){return v},C_:function(){return s},RB:function(){return f},UN:function(){return u},WD:function(){return n},Wj:function(){return o},Y$:function(){return i},Yh:function(){return c},Zb:function(){return r},i8:function(){return p},kA:function(){return h},x3:function(){return l}}),function(e){e[e["marketing"]=1]="marketing",e[e["taobao"]=2]="taobao",e[e["douyin"]=3]="douyin",e[e["base"]=4]="base",e[e["mcn"]=5]="mcn",e[e["douyinsh"]=7]="douyinsh"}(n||(n={})),function(e){e[e["common"]=1]="common",e[e["system"]=2]="system"}(i||(i={}));const r=new Map([[n.marketing,"营销业务"],[n.douyin,"抖音店播"],[n.taobao,"淘宝店播"],[n.base,"基地业务"],[n.mcn,"S2B2C"],[n.douyinsh,"抖音店播(上海)"]]),c=[{value:n.marketing,label:"整合营销"},{value:n.douyin,label:"抖音店播"},{value:n.taobao,label:"淘宝店播"},{value:n.mcn,label:"S2B2C"},{value:n.douyinsh,label:"抖音店播(上海)"}];var s;(function(e){e[e["creation"]=1]="creation",e[e["tryLive"]=2]="tryLive",e[e["execution"]=3]="execution",e[e["regionExecution"]=4]="regionExecution",e[e["finish"]=5]="finish",e[e["executionEnd"]=6]="executionEnd"})(s||(s={}));const o=new Map([[s.creation,"项目创建"],[s.tryLive,"试播中"],[s.execution,"项目执行中"],[s.regionExecution,"区域执行中"],[s.executionEnd,"执行结束"],[s.finish,"已完结"]]);var l;(function(e){e[e["region"]=2]="region",e[e["selfSupport"]=1]="selfSupport"})(l||(l={}));const u=new Map([[l.region,"区域"],[l.selfSupport,"自营"]]);var d;(function(e){e[e["month"]=1]="month",e[e["quarter"]=2]="quarter",e[e["halfAyear"]=3]="halfAyear"})(d||(d={}));const p=new Map([[d.month,"月结"],[d.quarter,"季结"],[d.halfAyear,"半年"]]),v=new Map([[1,"美妆"],[2,"生活"],[3,"服饰"],[4,"美食"],[5,"母婴"],[6,"数码"],[7,"家装"],[8,"健康"],[9,"宠物"],[10,"时尚"],[11,"配饰"],[12,"家电"],[13,"测评"],[14,"旅行"],[15,"运动"],[16,"摄影"],[17,"情感"],[18,"汽车"],[19,"搞笑"],[20,"教育"],[21,"财经"],[22,"萌娃"],[23,"文化"],[24,"影视"],[25,"娱乐"],[26,"游戏"],[27,"海外"],[28,"才艺"],[29,"三农"],[30,"二次元"],[31,"高颜值"]]);function f(e){return 0===e?"无":v.get(e)??"无"}var h;(function(e){e[e["live"]=1]="live",e[e["marketing"]=2]="marketing",e[e["common_business"]=3]="common_business"})(h||(h={}))}}]);
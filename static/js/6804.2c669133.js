"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[6804],{56804:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});a(26699);var s,n,r=a(36568),u=a.n(r),i=a(97434),l=a(3293),o=a(64236),c=a(29625),v={useLiveRealState(){const e=(0,i.ref)(!1),t=(0,i.ref)([]),a=(0,i.ref)([]),s=(0,i.ref)(0),n=(0,i.ref)(0),r=(0,i.ref)(`${c.WD.douyin}`),u=async()=>{t.value=[],a.value=[],e.value=!0;const[u]=await Promise.all([await(0,l.Ph)({business_type:r.value}),await(0,o._v)(400)]);if(e.value=!1,u.data.success){const e=u.data.data;s.value=e.number_of_free,n.value=e.number_of_living,t.value=e.studio_info.filter((e=>1===e.status)),a.value=e.studio_info.filter((e=>0===e.status))}};return{loading:e,living:t,number_of_living:n,number_of_free:s,free:a,query:u,businessTypeOptions:r}}},f=a(23812),d=(0,i.defineComponent)({setup(){const e=v.useLiveRealState();e.query();const t=(0,f.pK)(c.Yh.filter((e=>[c.WD.taobao,c.WD.douyin].includes(e.value))));return{...e,...t}},render(){const e=arguments[0],t=t=>t.map(((t,a)=>e("div",{class:"live",key:a},[e("div",{class:"name text-overflow-cls"},[t.studio_name]),e("div",{class:"state"},[t.status?"直播中":"空闲"])]))),a={class:["page-realtime"],props:{padding:0}},s={props:{tabs:this.tabs,bottom:!0,value:this.checkedTab},on:{change:e=>{this.businessTypeOptions=e.value,this.query()}}};return e("tg-card",u()([{},a,{directives:[{name:"loading",value:this.loading}]}]),[e("div",{class:"flex-none live-status-tab"},[e("tg-tabs",u()([{},s]))]),e("div",{class:"flex-auto live-status-list"},[e("div",{class:"article live-state-living"},[e("div",{class:"header"},[e("div",{class:"label"},["直播中："]),e("div",{class:"num"},[this.number_of_living])]),e("div",{class:"live-list-container"},[t(this.living)])]),e("div",{class:"article live-state-free"},[e("div",{class:"header"},[e("div",{class:"label"},["空闲："]),e("div",{class:"num"},[this.number_of_free])]),e("div",{class:"live-list-container"},[t(this.free)])])])])}}),b=d,h=a(1001),p=(0,h.Z)(b,s,n,!1,null,null,null),g=p.exports},23812:function(e,t,a){a.d(t,{GQ:function(){return i},YE:function(){return r},cY:function(){return l},pK:function(){return u}});var s=a(97434),n=a(44928);const r=(e,t)=>({tabs:(0,s.reactive)([...e]),checkedTab:(0,s.ref)(t??(e.length<1?"":e[0].value))}),u=(e,t)=>{const a=(0,s.isRef)(e)?e:(0,s.ref)(e),n=(0,s.isRef)(t)?(0,s.unref)(t):t,r=a.value.length<1?"":a.value[0].value,u=(0,s.ref)(n??r);return{tabs:a,checkedTab:u}},i=(e,t,a)=>{const n=(0,s.reactive)([...t]),r=(0,s.ref)(a??(t.length<1?"":`${t[0].value}`)),u=t=>{e.root.$router.push({path:e.root.$route.path,query:{tab:`${t.value}`}})};return(0,s.onBeforeMount)((()=>{const s=e.root.$route.query.tab;r.value="string"===typeof s?s:a??(t.length<1?"":`${t[0].value}`)})),{tabs:n,checkedTab:r,onTabChange:u}},l=(e,t)=>{const a=(0,s.reactive)([...e]),r=(0,s.ref)(t??(e.length<1?"":`${e[0].value}`)),u=(0,n.t)(),i=e=>{const t=u.currentRoute,a={...t.params,tab:e.value};u.push({name:t.name,params:a})};return r.value=u.currentRoute.params.tab||t||r.value,{tabs:a,checkedTab:r,onTabChange:i}}},44928:function(e,t,a){a.d(t,{t:function(){return n}});var s=a(86834);const n=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(s.Z,t)}});return e}}}]);
"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[8934],{68934:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var r,n,o=a(36568),i=a.n(o),s=a(97434),l=a(21495),c=a(59563),m=a(70437),u=a(15681),p=a(1763),d=a(23624),_=a(44928),f=a(64185),g=a(3293),y=(0,s.defineComponent)({setup:()=>{const e=(0,_.t)(),t=[{label:"花名",minWidth:70,align:"left",prop:"username"},{align:"left",label:"工号",minWidth:80,prop:"work_id"},{align:"left",label:"部门",minWidth:130,showOverflowTooltip:!0,prop:"department_name"},{align:"left",label:"考核名称",minWidth:143,showOverflowTooltip:!0,prop:"assessment_management_name"},{align:"left",label:"考核周期",showOverflowTooltip:!0,minWidth:100,prop:"assessment_cycle"},{align:"left",label:"考评组",minWidth:100,showOverflowTooltip:!0,formatter:e=>e.evaluation_group?.name??"--"},{align:"center",label:"当前节点",formatter:e=>u.Kg.get(e.present_stage)},{align:"center",label:"待办人员",formatter:e=>e.present_person?.name},{align:"center",label:"考核结果",prop:"result"},{align:"center",label:"考核等级",prop:"level"},{label:"操作",minWidth:60,formatter:t=>h("div",[h("tg-button",{attrs:{type:"link"},on:{click:()=>{e.push({name:p.Gr.my.related.detail,params:{id:t.id}})}}},["查看"])])}],a=(0,c.h)(d.Cl),r=(0,s.ref)({username:void 0,work_id:void 0,feishu_department_id_list:void 0,evaluation_group_id:void 0,is_leave:void 0}),n=()=>{r.value={},a.pagination.reQuery(r.value)},o=(0,c.h)(d.Ev,{defaultParams:[{num:20,page_num:1},{search_type:2}],transform(e){return e.data.map((e=>({label:e.name,value:e.id})))}}),i=(0,c.Q)(g.o1,{transform(e){return e.data}}),l=(0,s.ref)(),m=(0,c.h)(d.bV,{defaultParams:[{num:1e6,page_num:0},{search_type:2}],transform:e=>e.data.map((e=>({label:e.name,value:e.id})))}),f=(e,t)=>(t.push(e.id),e.sons?.forEach((e=>f(e,t))),t.join(","));return{columns:t,reqList:a,formData:r,reset:n,groupOptions:o,treeRef:l,reqFeishuDep:i,eachDemp:f,reqAssess:m}},render(){const e=arguments[0],{formData:t}=this;return e(l.L,{attrs:{columns:this.columns,service:this.reqList},model:{value:t,callback:e=>{t=e}}},[e("el-form-item",{attrs:{label:"员工花名："}},[e("el-input",{attrs:{placeholder:"请填写花名"},model:{value:t.username,callback:e=>{this.$set(t,"username",e)}}})]),e("el-form-item",{attrs:{label:"员工工号："}},[e("el-input",{attrs:{placeholder:"请填写工号"},model:{value:t.work_id,callback:e=>{this.$set(t,"work_id",e)}}})]),e("el-form-item",{attrs:{label:"员工部门："}},[e("el-popover",{attrs:{placement:"bottom-start",trigger:"click","popper-class":"marketing-department-tree-popper-class"}},[e("div",{slot:"reference",class:"repain-select",style:"display: block"},[e("el-input",{attrs:{value:this.formData.department_id_input,placeholder:"请选择所属部门",readonly:!0},style:"color: #999"},[e("i",{class:"select-icon select-icon-user-add el-icon-arrow-down",slot:"suffix"})])]),e("div",{class:"department-tree"},[e("el-tree",i()([{ref:"treeRef"},{props:{props:{label:"name",children:"sons"}}},{attrs:{"check-strictly":"true","node-key":"id",data:this.reqFeishuDep.data,"show-checkbox":!0},on:{check:e=>{this.treeRef?.setCheckedKeys([]),e.name!==t.department_id_input?(this.treeRef?.setCheckedKeys([e.id]),(0,s.set)(t,"department_id_input",e.name),(0,s.set)(t,"feishu_department_id_list",this.eachDemp(e,[]))):((0,s.set)(t,"department_id_input",""),(0,s.set)(t,"feishu_department_id_list",""))}}}]))])])]),e("el-form-item",{attrs:{label:"考核名称："}},[e(m.Z,{attrs:{placeholder:"请选择考核名称",options:this.reqAssess.data,filterable:!0,remote:!0,"remote-method":e=>this.reqAssess.pagination.reQuery({name:e,search_type:2})},model:{value:t.assessment_management_id,callback:e=>{this.$set(t,"assessment_management_id",e)}}})]),e("el-form-item",{attrs:{label:"考评组："}},[e(m.Z,{attrs:{placeholder:"请选择考评组",options:this.groupOptions.data,filterable:!0,remote:!0,"remote-method":e=>this.groupOptions.pagination.reQuery({name:e,search_type:2})},model:{value:t.evaluation_group_id,callback:e=>{this.$set(t,"evaluation_group_id",e)}}})]),e("el-form-item",{attrs:{label:"考核阶段："}},[e(m.Z,{attrs:{placeholder:"请选择考核阶段",options:u.Tp},model:{value:t.stage,callback:e=>{this.$set(t,"stage",e)}}})]),e("div",{slot:"searchBtn"},[e("tg-button",{attrs:{type:"primary"},on:{click:()=>{this.reqList.pagination.reQuery(t)}}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:this.reset}},["重置"]),e("tg-button",{class:"mgl-12",on:{click:()=>{(0,f.KY)({...t,export_type:1},"/api/performance_management/export_evaluation_performance")}}},["导出"])])])}}),v=y,b=a(1001),A=(0,b.Z)(v,r,n,!1,null,"fe1ae900",null),T=A.exports},59063:function(e,t,a){var r;a.d(t,{b_:function(){return r},md:function(){return n}}),function(e){e[e["QuickFashion"]=2]="QuickFashion",e[e["LightLuxury"]=1]="LightLuxury",e[e["Sports"]=3]="Sports",e[e["Other"]=4]="Other"}(r||(r={}));const n=[{label:"轻奢",value:r.LightLuxury},{label:"快时尚",value:r.QuickFashion},{label:"运动",value:r.Sports},{label:"其他",value:r.Other}];var o;(function(e){e[e["Normal"]=0]="Normal",e[e["Leading"]=1]="Leading",e[e["Lagging"]=2]="Lagging"})(o||(o={}));o.Normal,o.Leading,o.Lagging;var i;(function(e){e[e["Spring"]=1]="Spring",e[e["Summer"]=2]="Summer",e[e["Autumn"]=3]="Autumn",e[e["Winter"]=4]="Winter"})(i||(i={}));i.Spring,i.Summer,i.Autumn,i.Winter},15681:function(e,t,a){var r;a.d(t,{F2:function(){return r},Kg:function(){return u},OF:function(){return l},Sr:function(){return i},Tp:function(){return p},__:function(){return m},fB:function(){return s},rD:function(){return n},ts:function(){return o}}),function(e){e[e["RATION"]=1]="RATION",e[e["QUALITATIVE"]=2]="QUALITATIVE",e[e["BONUS"]=3]="BONUS",e[e["DEDUCT"]=4]="DEDUCT"}(r||(r={}));const n=new Map([[r.RATION,"定量指标"],[r.QUALITATIVE,"定性指标"],[r.BONUS,"加分项"],[r.DEDUCT,"扣分项"]]),o=[{label:"定量指标",value:r.RATION},{label:"定性指标",value:r.QUALITATIVE},{label:"加分项",value:r.BONUS},{label:"扣分项",value:r.DEDUCT}];var i;(function(e){e[e["MONTHLY"]=1]="MONTHLY",e[e["QUARTERLY"]=2]="QUARTERLY",e[e["SEMIANNUA"]=3]="SEMIANNUA",e[e["ANNUAL"]=4]="ANNUAL"})(i||(i={}));const s=new Map([[i.MONTHLY,"月度"],[i.QUARTERLY,"季度"],[i.SEMIANNUA,"半年度"],[i.ANNUAL,"年度"]]),l=[{label:"月度",value:i.MONTHLY},{label:"季度",value:i.QUARTERLY},{label:"半年度",value:i.SEMIANNUA},{label:"年度",value:i.ANNUAL}];var c,m;(function(e){e[e["BY_EVALUATION_PERSON"]=1]="BY_EVALUATION_PERSON",e[e["DIRECT_MANAGER"]=2]="DIRECT_MANAGER"})(c||(c={})),function(e){e[e["TARGET_SETTING"]=1]="TARGET_SETTING",e[e["TARGET_CONFIRM"]=2]="TARGET_CONFIRM",e[e["IN_PROGRESS"]=3]="IN_PROGRESS",e[e["SELF"]=4]="SELF",e[e["SUPERIOR"]=5]="SUPERIOR",e[e["SIGNATURE"]=6]="SIGNATURE",e[e["FINISH"]=7]="FINISH"}(m||(m={}));const u=new Map([[m.TARGET_SETTING,"目标制定"],[m.TARGET_CONFIRM,"目标确认"],[m.IN_PROGRESS,"执行中"],[m.SELF,"自评"],[m.SUPERIOR,"上级评分"],[m.SIGNATURE,"签字确认"],[m.FINISH,"考核完成"]]),p=[{label:"目标制定",value:m.TARGET_SETTING},{label:"目标确认",value:m.TARGET_CONFIRM},{label:"执行中",value:m.IN_PROGRESS},{label:"自评",value:m.SELF},{label:"上级评分",value:m.SUPERIOR},{label:"签字确认",value:m.SIGNATURE},{label:"考核完成",value:m.FINISH}]},59563:function(e,t,a){a.d(t,{Q:function(){return o},h:function(){return i}});a(21703);var r=a(97434),n=a(48606);const o=(e,{manual:t,onError:a,onSuccess:o,defaultParams:i,transform:s}={})=>{const l=(0,r.ref)(),c=(0,r.ref)(),m=(0,r.ref)(!1),u=(0,r.ref)([]),p=()=>{d(...u.value)},d=(...t)=>Promise.resolve(t||i).then((()=>{m.value=!0})).then((()=>0===t.length&&i&&i.length>0?i:t)).then((e=>(u.value=e,e))).then((t=>e(...t))).then((e=>{if(!e.data.success)throw new Error(e.data.message);return l.value=s?s(e.data.data):e.data.data,o&&o(l.value,e.data),e})).then((()=>{m.value=!1})).catch((e=>{throw m.value=!1,c.value=e.message,a&&a(e),n.Message.error(e.message),e})),_=d;return t||d(...i||[]),(0,r.reactive)({data:l,error:c,loading:m,reload:p,run:d,runAsync:_,params:u})},i=(e,t={})=>{const{defaultPageSize:a=20,defaultParams:n=[],transform:i,...s}=t,l=(0,r.ref)(),c=(0,r.reactive)({total:0,page_num:1,page_size:a,onCurrentChange:e=>{const t=[...p.params];t[0]?t[0].page_num=e:t[0]={num:a,page_num:e},p.runAsync(...t).then((()=>{c.page_num=e}))},refresh:()=>c.onCurrentChange(1),reQuery(...e){const t=[];return p.params[0]?(t[0]=p.params[0],t[0].page_num=1,c.page_num=1):(t[0]={num:a,page_num:1},c.page_num=1),t.push(...e),p.runAsync(...t)}}),[m={num:a,page_num:1},...u]=n,p=o(e,{defaultParams:[m,...u],...s,onSuccess(e,a){l.value=i?i(e):e.data,c.total=e.total,t.onSuccess&&t.onSuccess(l.value,a)}}),{data:d,..._}=(0,r.toRefs)(p);return(0,r.reactive)({..._,data:l,pagination:c})}},64185:function(e,t,a){a.d(t,{CO:function(){return y},KY:function(){return f},YV:function(){return g},_O:function(){return h},b5:function(){return A},mU:function(){return b},yF:function(){return v}});var r=a(97434),n=a(99575),o=a(45781),i=a(24643),s=a(42963),l=a(74750),c=a(6933),m=a.n(c),u=a(59760),p=a(59063),d=a(61282);const{formatPriceFormYuan:_}=o.Z;function f(e,t){const a=s.stringify(e),r=(0,l.LP)();window.open(`https://data.goumee.com${t}?${a}&Authorization=${r}`)}const g=e=>{const t=[{label:"竞品店铺风格",prop:"style",width:160,formatter:e=>{switch(e.style){case p.b_.QuickFashion:return"快时尚";case p.b_.LightLuxury:return"轻奢";case p.b_.Sports:return"运动";case p.b_.Other:return"其他";default:return"未知分类"}}},{label:"类目",prop:"item_cat",minWidth:220,formatter:e=>{if(!e.item_cat||e.item_cat.length<16)return e.item_cat||"--";const{folded_text:t}=(0,d.zb)(e.item_cat,15);return(0,r.h)("el-popover",{props:{placement:"top",trigger:"hover",effect:"light",content:e.item_cat},scopedSlots:{reference:()=>(0,r.h)("span",{},t)}})}},{label:"销售额 (元)",prop:"gmv",align:"right",minWidth:160,headerAlign:"right",sortable:!!e&&"custom",dataType:"",formatter:e=>e.gmv_str},{label:"销量",prop:"sale_count",align:"right",minWidth:120,headerAlign:"right",sortable:!!e&&"custom",formatter:e=>e.sale_count_str},{label:"浏览量",prop:"watch_count_str",align:"right",minWidth:120,headerAlign:"right",sortable:!!e&&"custom"},{label:"转化率",prop:"pay_rate_str",align:"right",minWidth:120,headerAlign:"right",sortable:!!e&&"custom",dataType:{suffix:"%"}}];return t},h=(e,t)=>{const a=[{label:"商品信息",minWidth:280,formatter:e=>(0,r.h)("div",{class:"competitor-goods-info"},[(0,r.h)("el-image",{attrs:{src:e.item_image,fit:"contain"},style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}},class:"goods-image"},[(0,r.h)("img",{slot:"error",attrs:{style:"width: 100%;height: 100%;",src:u}})]),(0,r.h)("div",{class:"goods-info"},[(0,r.h)("p",void 0,e.item_id),(0,r.h)("el-tooltip",{attrs:{effect:"light",content:e.item_title,placement:"top-start"}},[(0,r.h)("div",{attrs:{title:e.item_title},class:"goods-name two-omit-item"},[(0,r.h)("a",{attrs:{target:"_blank",href:"https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id}},e.item_title)])])])])},{label:"所属类目",prop:"item_cat",minWidth:134,align:"center",headerAlign:"center"},{label:"销量",minWidth:134,align:"right",headerAlign:"right",sortable:!!e&&"custom",prop:"sale_count",formatter(e){return null!==e.sale_count?(0,i.Y4)(Number(e.sale_count),0,".",","):"--"}},{label:"销售额 (元)",minWidth:134,align:"right",headerAlign:"right",sortable:!!e&&"custom",prop:"gmv",formatter(e){return null!==e.gmv?_(e.gmv,2,!1):"--"}},{label:"浏览量",minWidth:134,align:"right",headerAlign:"right",prop:"watch_count",sortable:!!e&&"custom",formatter(e){return null!==e.watch_count?(0,i.Y4)(Number(e.watch_count),0,".",","):"--"}},{label:"转化率",align:"center",minWidth:98,headerAlign:"center",sortable:!!e&&"custom",prop:"pay_rate",formatter(e){return null!==e.pay_rate?e.pay_rate+"%":"--"}},{label:"吊牌价 (元)",align:"right",minWidth:110,headerAlign:"right",sortable:!!e&&"custom",prop:"market_price",formatter(e){return null!==e.market_price?_(e.market_price,2,!1):"--"}},{label:"销售价 (元)",align:"right",minWidth:110,headerAlign:"right",sortable:!!e&&"custom",prop:"discount_price",formatter(e){return null!==e.discount_price?_(e.discount_price,2,!1):"--"}},{label:"销售趋势",minWidth:134,align:"center",headerAlign:"center",formatter(e){return(0,r.h)("a",{class:"trend",on:{click:()=>t(e)}},"查看")}}];return a},y=[{label:"商品信息",minWidth:270,formatter:e=>(0,r.h)("div",{class:"competitor-goods-info"},[(0,r.h)("el-image",{attrs:{src:e.item_image,fit:"contain"},class:"goods-image"}),(0,r.h)("div",{class:"goods-info"},[(0,r.h)("p",void 0,e.item_id),(0,r.h)("el-tooltip",{attrs:{effect:"light",content:e.item_title,placement:"top-start"}},[(0,r.h)("div",{attrs:{title:e.item_title},class:"goods-name two-omit-item"},e.item_title)])])])},{label:"所属类目",prop:"item_cat",minWidth:134,align:"center",headerAlign:"center"},{label:"日期",minWidth:134,prop:"date",align:"center",headerAlign:"center"},{label:"销量",minWidth:134,align:"right",headerAlign:"right",prop:"sale_count",sortable:"custom",formatter(e){return null!==e.sale_count?(0,i.Y4)(Number(e.sale_count),0,".",","):"--"}},{label:"销售额 (元)",minWidth:134,align:"right",headerAlign:"right",prop:"gmv",sortable:"custom",formatter(e){return null!==e.gmv?_(e.gmv,2,!1):"--"}},{label:"浏览量",minWidth:134,align:"right",headerAlign:"right",prop:"watch_count",sortable:"custom",formatter(e){return null!==e.watch_count?(0,i.Y4)(Number(e.watch_count),0,".",","):"--"}},{label:"转化率",align:"center",minWidth:88,headerAlign:"center",sortable:"custom",prop:"pay_rate",formatter(e){return null!==e.pay_rate?e.pay_rate+"%":"--"}},{label:"吊牌价 (元)",align:"right",minWidth:110,headerAlign:"right",sortable:"custom",prop:"market_price",formatter(e){return null!==e.market_price?_(e.market_price,2,!1):"--"}},{label:"销售价 (元)",align:"right",minWidth:110,headerAlign:"right",sortable:"custom",prop:"discount_price",formatter(e){return null!==e.discount_price?_(e.discount_price,2,!1):"--"}}],v=e=>{const t=(0,r.reactive)({loading:!1,cummaryParams:{shop_name:void 0,start_date:void 0,end_date:void 0,item_cat:void 0,page_num:1,num:10,sort:void 0},summaryTotal:0,summaryData:[]}),a=async(a,r)=>{const o={...a};o.shop_name="全部"===o.shop_name?void 0:o.shop_name,t.loading=!0;const i=1===r?n.Av:n.Qd;try{const{data:{data:e}}=await i(o);t.summaryData=e.list,t.summaryTotal=e.total}catch(s){console.error(s),e.root.$message.error("查询失败")}finally{t.loading=!1}};return{...(0,r.toRefs)(t),getData:a}},b=()=>{const e=(0,r.ref)(!1),t=(0,r.ref)(!1),a=(0,r.ref)({data:[],series:[]}),o=(0,r.ref)(""),i=()=>{t.value=!1},s=r=>{o.value="抖音销量/浏览量趋势",a.value={data:[],series:[]},t.value=!0,e.value=!0,(0,n.hU)(r).then((t=>{const r=t.data.data,n=r.map((e=>e.date));a.value={data:n,series:[{smooth:!0,showSymbol:!0,type:"line",name:"销量",data:r.map((e=>e.sale_count))},{smooth:!0,showSymbol:!0,type:"line",name:"浏览量",yAxisIndex:1,data:r.map((e=>e.watch_count))}]},e.value=!1}))};return(0,r.reactive)({loading:e,visible:t,charts:a,queryCategory:s,onClose:i,title:o})},A=e=>{const t=m()().add(-30,"days").format("YYYY-MM-DD"),a=m()().format("YYYY-MM-DD"),o=(0,r.reactive)({loading:!1,categoryParams:{shop_name:void 0,start_date:t,end_date:a,style:void 0},categoryData:[],shopList:[],total_gmv:0,total_sale_count:0}),s=async t=>{const a={...t};o.loading=!0;try{const{data:{data:e}}=await(0,n.Hk)(a);e.list.forEach((e=>{e.pay_rate_str=e.pay_rate,e.gmv_str=_(e.gmv,2,!1),e.sale_count_str=null!==e.sale_count?(0,i.Y4)(Number(e.sale_count),0,".",","):null,e.watch_count_str=null!==e.watch_count?(0,i.Y4)(Number(e.watch_count),0,".",","):null})),o.total_gmv=e.total_gmv,o.total_sale_count=e.total_sale_count,o.categoryData=e.list}catch(r){e.root.$message.error("查询失败")}finally{o.loading=!1}},l=async()=>{try{const{data:{data:e}}=await(0,n.hx)();o.shopList=[...e]}catch(t){e.root.$message.error("查询失败")}};return{...(0,r.toRefs)(o),getData:s,getShopData:l}}},23624:function(e,t,a){a.d(t,{$K:function(){return R},$R:function(){return N},$b:function(){return X},Cl:function(){return U},Dr:function(){return i},EB:function(){return v},Ev:function(){return f},JP:function(){return E},L5:function(){return Y},Mz:function(){return F},O5:function(){return S},UX:function(){return _},Y4:function(){return s},ZM:function(){return y},Z_:function(){return k},ao:function(){return x},bV:function(){return $},bl:function(){return l},dP:function(){return D},g:function(){return A},gb:function(){return L},iC:function(){return T},iL:function(){return d},kT:function(){return h},lI:function(){return g},mS:function(){return c},n5:function(){return b},nQ:function(){return o},oY:function(){return q},o_:function(){return W},q0:function(){return C},s9:function(){return I},vL:function(){return u},vv:function(){return m},wF:function(){return w},wH:function(){return O},y3:function(){return P},yI:function(){return G},zr:function(){return p}});var r=a(76012),n=a(64236);const o=async(e,t)=>(0,r.dX)("/api/performance_management/query_indicators_library",{params:{...e,...(0,n.jG)(t)}}),i=async e=>(0,r.SO)("/api/performance_management/save_or_modify_indicator",(0,n.jG)(e)),s=async e=>(0,r.HG)("/api/performance_management/delete_indicators",{data:{id_list:e}}),l=async e=>(0,r.dX)("/api/performance_management/query_indicator_tag",{params:{...(0,n.jG)(e)}}),c=async e=>(0,r.SO)("/api/performance_management/modify_move_indicator_tag",{indicator_tag_list:e}),m=async e=>(0,r.SO)("/api/performance_management/save_or_modify_indicator_tag",e),u=async e=>(0,r.HG)(`/api/performance_management/delete_indicators_tag/${e}`),p=async()=>(0,r.dX)("/api/feishu/feishu_department_and_user_list"),d=async e=>(0,r.SO)("/api/performance_management/save_or_modify_evaluation_group",e),_=async(e,t)=>(0,r.dX)("/api/performance_management/query_evaluation_group",{params:(0,n.jG)({...e,...t})}),f=async(e,t)=>(0,r.dX)("/api/performance_management/query_evaluation_group_name",{params:(0,n.jG)({...e,...t})}),g=async e=>(0,r.HG)(`/api/performance_management/delete_evaluation_group/${e}`),h=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment",{params:(0,n.jG)({...e,...t})}),y=async e=>(0,r.SO)("/api/performance_management/save_assessment",e),v=async e=>(0,r.SO)("/api/performance_management/save_assessment_level_config",e),b=async()=>(0,r.dX)("/api/performance_management/query_assessment_level_config"),A=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment_detail",{params:(0,n.jG)({...e,...t})}),T=async e=>(0,r.dX)("/api/performance_management/get_assessment_detail_by_my_performance",{params:(0,n.jG)(e)}),S=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment_detail_by_analysis",{params:(0,n.jG)({...e,...t})}),N=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment_detail_by_performance_record",{params:(0,n.jG)({...e,...t})}),w=async e=>(0,r.SO)("/api/performance_management/modify_start_score",e),E=async e=>(0,r.SO)("/api/performance_management/modify_assessment_result",e),R=async(e,t)=>(0,r.dX)("/api/performance_management/query_my_performance",{params:(0,n.jG)({...e,...t})}),I=async e=>(0,r.dX)("/api/performance_management/query_assessment_by_id",{params:{assessment_management_id:e}}),O=async e=>{const{assessment_dimension_list:t}=e;return t&&t.length>0&&t.forEach((e=>{e.indicator_list&&e.indicator_list?.forEach((e=>{["self_assessment_score","weight","superior_assessment_score"].forEach((t=>{(0,n.xb)(e[t])&&(e[t]=null)}))}))})),console.log("payload",e),(0,r.SO)("/api/performance_management/modify_performance_process",(0,n.jG)(e))},L=async(e,t)=>(0,r.dX)("/api/performance_management/query_user_performance_record",{params:(0,n.jG)({...t,...e})}),k=async(e,t)=>(0,r.dX)("/api/performance_management/query_user_performance_detail_record",{params:(0,n.jG)({...e,...t})}),G=async(e,t)=>(0,r.dX)("/api/performance_management/query_performance_analysis",{params:(0,n.jG)({...e,...t})}),q=async()=>(0,r.dX)("/api/performance_management/query_finish_assessment"),U=async(e,t)=>(0,r.dX)("/api/performance_management/query_with_me_performance",{params:(0,n.jG)({...e,...t})}),F=async(e,t)=>(0,r.dX)("/api/performance_management/query_subordinate_performance",{params:(0,n.jG)({...e,...t})}),C=async e=>(0,r.SO)("/api/performance_management/check_evaluation_group_user_ids",e),D=async e=>(0,r.SO)("/api/performance_management/modify_reset_process",(0,n.jG)(e)),W=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user",{params:e}),Y=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_analysis",{params:e}),P=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_performance_record",{params:e}),$=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment_name",{params:(0,n.jG)({...e,...t})}),x=async e=>(0,r.dX)("/api/auth/getuser_leader_by_subordinate_id",{params:{user_id:e}}),X=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_my_performance",{params:(0,n.jG)(e)})},44928:function(e,t,a){a.d(t,{t:function(){return n}});var r=a(86834);const n=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(r.Z,t)}});return e}},45781:function(e,t,a){var r=a(49187),n=a(8581),o=a(61282);const i=new r.ZP;t["Z"]={formatEmpty(e,t){return null===e||void 0===e||""===e||e instanceof Array&&e.length<=0?"--":void 0!==t?`${e}${t}`:e},formatTime(e){try{return null===e||void 0===e||""===e?"--":e.replace(/-/g,".")}catch(t){return e}},formatTimespan(e){try{if(null===e||void 0===e||""===e)return"--";const t=new Date;return t.setTime(1e3*e),(0,n.WU)(t,"YYYY.mm.dd")}catch(t){return e}},formatPrice(e,t=r.WL.Fen,a=!0){try{if(null===e||void 0===e||""===e)return"--";const r=i.format(i.parse(e,t));return a?`￥${r}`:r}catch(n){return e}},formatPriceFormYuan(e,t=2,a=!0){try{if(null===e||void 0===e||""===e)return"--";let r=e;return r=e>1e8?(e/1e8).toFixed(t)+"亿":e>1e4?(e/1e4).toFixed(t)+"w":(e-0).toFixed(t),a&&(r=`￥${r}`),r}catch(r){return e}},formatPriceToThousand(e,t=2,a=!0,r=!1){try{if(null===e||void 0===e||""===e)return"--";let n=e;return e>1e4?n=(e/1e4).toFixed(t)+"w":(n=(e-0).toFixed(t),r&&(n=(e-0).toFixed(0))),a&&(n=`￥${n}`),n}catch(n){return e}},formatPriceToThousandformatAmount(e,t=2,a=!0,r=!1){try{if(null===e||void 0===e||""===e)return"--";let n=e;return e>1e4?n=(0,o.dN)((e/1e4).toFixed(2),"None")+"w":(n=(0,o.dN)((e-0).toFixed(t),"None",0===t),r&&(n=(e-0).toFixed(0))),a&&(n=`￥${n}`),n}catch(n){return e}},tranNumber(e,t=2){if(null===e||void 0===e||""===e)return"--";if(!(e>=0))return e||"-";e+="";const a=e.toString(),r=a.split(".")[0],n=r.length;if(n<5)return a;if(n>8){const e=r.substring(r.length-8,r.length-8+t);return parseFloat(parseInt(r/1e8+"",10)+"."+e)+"亿"}if(n>4){const e=r.substring(r.length-4,r.length-4+t);return parseFloat(parseInt(r/1e4+"",10)+"."+e)+"w"}}}},70437:function(e,t,a){var r=a(36568),n=a.n(r);const o={functional:!0,render:(e,t)=>{const{props:a}=t,{showAll:r=!1,showAllText:o="全部",clearable:i=!0}=a,s={props:{...t.value,clearable:i},on:t.listeners,attrs:t.data.attrs};return e("el-select",n()([{},s]),[r&&e("el-option",{attrs:{label:o,value:void 0}}),a.options?.map(((t,a)=>e("el-option",{attrs:{disabled:t.disabled,label:t.label,value:t.value},key:a})))])}};t["Z"]=o},21495:function(e,t,a){a.d(t,{L:function(){return o}});var r=a(97434),n={template:"template-fe9519",searchBar:"searchBar-c522bd",formItemContainer:"formItemContainer-d53e08",formItem:"formItem-c6ff4c",bodyContainer:"bodyContainer-b06936",btnLine:"btnLine-d428fc",tableContainer:"tableContainer-dd87f4"},o=(0,r.defineComponent)({props:{columns:{type:Array,default:()=>[]},value:{type:Object},routes:{},service:{required:!0,type:Function},config:{type:Object,default:()=>{}}},setup(e,t){const a=(0,r.ref)(),{reset:n}=e.config||{},o=e.service,i=()=>{const t=o.params;return t[0]&&(t[0].page_num=1),o.runAsync(t[0],e.value)},s=()=>{n&&n(),(0,r.nextTick)(i)};return{formRef:a,onReset:s,reqData:o,search:i}},render(){const e=arguments[0];return e("div",{class:["tg-page-container",n.template]},[this.routes&&e("tg-breadcrumbs",{attrs:{routes:this.routes}}),this.$slots.default&&e("div",{class:["tg-card",n.searchBar]},[e("el-form",{attrs:{size:"small","show-message":!1,"hide-required-asterisk":!0,"label-width":"70px"},ref:"formRef"},[e("div",{class:n.formItemContainer},[this.$slots.default?.map((t=>e("div",{class:n.formItem},[t]))),this.$slots.searchBtn?this.$slots.searchBtn:e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:this.search}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:this.onReset}},["重置"])])])])]),this.$slots.middle,e("div",{class:n.bodyContainer},[this.$slots.btnLine&&e("div",{class:n.btnLine},[this.$slots.btnLine]),e("div",{class:n.tableContainer},[e("tg-table",{attrs:{stripe:!0,columns:this.columns,height:"100%",data:this.reqData.data,pagination:this.reqData.pagination},directives:[{name:"loading",value:this.reqData.loading}],on:{"selection-change":this.config?.table?.selectionChange}},[e("div",{class:"tg-page-empty",slot:"empty"},[e("empty-common")])])])])])}})}}]);
"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[7240],{47143:function(e,t,a){a.d(t,{Z:function(){return b}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("div",[a("el-dialog",{staticClass:"tg-dialog-classic tg-dialog-vcenter-new contract-form-modal",attrs:{visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1128px",top:"70px"},on:{close:e.backClick},scopedSlots:e._u([{key:"title",fn:function(){return[a("span",[e._v(e._s("add"===e.type?"新增客户合同":"编辑客户合同"))])]},proxy:!0},{key:"footer",fn:function(){return[a("tg-button",{attrs:{type:"primary",disabled:e.iscannotclick},on:{click:function(t){return e.onSaveBtnClick(1)}}},[e._v("提交审核")]),1!=e.project_type&&1===e.form.contract_status?a("tg-button",{attrs:{disabled:e.iscannotclick},on:{click:function(t){return e.onSaveBtnClick(2)}}},[e._v("合同预览")]):e._e(),a("tg-button",{on:{click:e.backClick}},[e._v("返回")])]},proxy:!0}],null,!1,1002824104)},[a("div",{staticClass:"dialog-content",staticStyle:{padding:"5px 20px","overflow-y":"auto","overflow-x":"hidden",height:"80vh","min-height":"400px"}},[a("el-form",{attrs:{model:e.form,"label-width":"84px"}},[1!=e.project_type?a("el-form-item",{staticStyle:{display:"inline-block",width:"578px","margin-top":"10px"},attrs:{label:"合同类型：",prop:"radio"}},[a("el-radio-group",{staticStyle:{"line-height":"40px",height:"40px"},attrs:{value:e.form.contract_status},on:{input:e.tabscontract_statusChange}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px",width:"230px"},attrs:{label:1}},[e._v("直播推广服务协议（品牌&构美）")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px"},attrs:{label:0}},[e._v("其它合同协议")])],1),a("div",{staticStyle:{display:"block",height:"22px","font-family":"PingFangSC-Regular","font-size":"12px","margin-left":"0px","margin-top":"-10px"},style:{marginLeft:0===e.form.contract_status?"250px":"0px"}},[a("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#ffac15",height:"22px","line-height":"22px","font-size":"14px"}}),1===e.form.contract_status?a("span",{staticStyle:{color:"#999999","margin-left":"6px",height:"17px","line-height":"17px"}},[e._v("完成信息填写后自动生成该协议文本")]):e._e(),0===e.form.contract_status?a("span",{staticStyle:{color:"#999999","margin-left":"6px",height:"17px","line-height":"17px"}},[e._v("合同模板请至项目合同协议页面下载")]):e._e()])],1):e._e(),a("el-form-item",{staticClass:"flex-form-item",staticStyle:{"margin-right":"20px","margin-top":"10px","margin-bottom":"12px",width:"916px"},attrs:{label:"客户名称："}},[a("el-select",{staticStyle:{width:"180px","margin-top":"5px"},attrs:{size:"small",filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"请输入并选择客户名称","remote-method":e.getAllSupplierName,disabled:void 0!==e.contract_id},on:{change:e.onSupplierIdChange},model:{value:e.frame_contract_uid,callback:function(t){e.frame_contract_uid=t},expression:"frame_contract_uid"}},e._l(e.allSupplierName,(function(t){return a("el-option",{key:t.partner_id,attrs:{label:t.partner_name,value:t.partner_id}},[a("span",[e._v(e._s(t.partner_name))])])})),1),a("div",{staticClass:"elbuttonnone add",staticStyle:{display:"inline-block",height:"17px","font-family":"PingFangSC-Regular","font-size":"12px","margin-left":"12px"}},[a("span",{staticStyle:{color:"#999999"}},[e._v("找不到审核通过的客户信息？点此处")]),a("el-button",{staticStyle:{color:"#2877ff","line-height":"17px","font-size":"12px","font-weight":"400"},on:{click:e.gotoAddCompany}},[a("span",[e._v("新增")])])],1)],1)],1),a("el-form",{ref:"formRef",staticStyle:{"margin-left":"5px"},attrs:{model:e.form,rules:e.formRules}},[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"我方信息"}}),a("el-form-item",{staticClass:"sub-item",attrs:{label:"签约主体",prop:"owncontracttype"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择签约主体","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.owncontracttype,callback:function(t){e.$set(e.form,"owncontracttype",t)},expression:"form.owncontracttype"}},e._l(e.ownInfoRecords,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"联系人花名",prop:"own_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{placeholder:"请输入联系人花名"},model:{value:e.form.own_name,callback:function(t){e.$set(e.form,"own_name","string"===typeof t?t.trim():t)},expression:"form.own_name"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"电话",prop:"own_tel"}},[a("el-input",{attrs:{type:"tel",rows:"1",maxlength:"11",placeholder:"请输入联系人电话"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"own_tel")}},model:{value:e.form.own_tel,callback:function(t){e.$set(e.form,"own_tel",t)},expression:"form.own_tel"}})],1),1===e.form.contract_status?[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"合作内容"}}),a("el-form-item",{staticClass:"sub-item",attrs:{label:"直播平台",prop:"cooperation_work_platform"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px",display:"inline-block"},attrs:{placeholder:"请选择直播平台","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.cooperation_work_platform,callback:function(t){e.$set(e.form,"cooperation_work_platform",t)},expression:"form.cooperation_work_platform"}},e._l(e.pingtaiRecords,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"主播名称",prop:"cooperation_zhubo_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{maxlength:"20",placeholder:"请输入主播名称"},model:{value:e.form.cooperation_zhubo_name,callback:function(t){e.$set(e.form,"cooperation_zhubo_name","string"===typeof t?t.trim():t)},expression:"form.cooperation_zhubo_name"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"链接数量",prop:"cooperation_link_count"}},[a("el-input",{ref:"autoFocuseRef",attrs:{maxlength:"8",placeholder:"请输入链接数量"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"cooperation_link_count")}},model:{value:e.form.cooperation_link_count,callback:function(t){e.$set(e.form,"cooperation_link_count","string"===typeof t?t.trim():t)},expression:"form.cooperation_link_count"}})],1),a("el-form-item",{staticClass:"sub-item",staticStyle:{"margin-right":"0px"},attrs:{label:"店铺名称",prop:"cooperation_shop_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{maxlength:"20",placeholder:"请输入店铺名称"},model:{value:e.form.cooperation_shop_name,callback:function(t){e.$set(e.form,"cooperation_shop_name","string"===typeof t?t.trim():t)},expression:"form.cooperation_shop_name"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"产品服务/服务名称",prop:"cooperation_work_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{maxlength:"20",placeholder:"请输入产品服务/服务名称"},model:{value:e.form.cooperation_work_name,callback:function(t){e.$set(e.form,"cooperation_work_name","string"===typeof t?t.trim():t)},expression:"form.cooperation_work_name"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"直播日期（暂定）",prop:"cooperation_gather_date"}},[a("el-date-picker",{staticStyle:{width:"252px"},attrs:{type:"date",editable:!1,placeholder:"请选择直播日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_gather_date,callback:function(t){e.$set(e.form,"cooperation_gather_date",t)},expression:"form.cooperation_gather_date"}})],1),a("el-form-item",{staticClass:"sub-item append",attrs:{label:"讲解时长",prop:"cooperation_work_time"}},[a("el-input",{attrs:{placeholder:"请输入讲解时长"},on:{input:function(t){return e.getfixPositiveNumber(t,"cooperation_work_time")},blur:function(t){return e.blurPositiveNumber(t,"cooperation_work_time")}},model:{value:e.form.cooperation_work_time,callback:function(t){e.$set(e.form,"cooperation_work_time",t)},expression:"form.cooperation_work_time"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("分钟")])])],1),a("el-form-item",{staticClass:"sub-item append",staticStyle:{"margin-right":"0px"},attrs:{label:"平台信息流授权",prop:"cooperation_work_day"}},[a("el-input",{attrs:{placeholder:"请输入授权天数"},on:{input:function(t){return e.getfixPositiveNumber(t,"cooperation_work_day")},blur:function(t){return e.blurPositiveNumber(t,"cooperation_work_day")}},model:{value:e.form.cooperation_work_day,callback:function(t){e.$set(e.form,"cooperation_work_day",t)},expression:"form.cooperation_work_day"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("天")])])],1),a("el-form-item",{staticClass:"sub-item append",attrs:{label:"种草视频时长",prop:"cooperation_work_video_time"}},[a("el-input",{attrs:{placeholder:"请输入种草视频时长"},on:{input:function(t){return e.getfixPositiveNumber(t,"cooperation_work_video_time")},blur:function(t){return e.blurPositiveNumber(t,"cooperation_work_video_time")}},model:{value:e.form.cooperation_work_video_time,callback:function(t){e.$set(e.form,"cooperation_work_video_time",t)},expression:"form.cooperation_work_video_time"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("秒")])])],1),a("el-form-item",{staticClass:"sub-item append",attrs:{label:"其它权益"}},[a("el-input",{staticClass:"input-show-limit",attrs:{type:"text",placeholder:"请输入其它权益",maxlength:"20","show-word-limit":""},model:{value:e.form.cooperation_work_other,callback:function(t){e.$set(e.form,"cooperation_work_other",t)},expression:"form.cooperation_work_other"}})],1)]:e._e(),[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"合同期限"}}),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"签约类型",prop:"cooperation_contract_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},attrs:{value:e.form.cooperation_contract_type,disabled:"add"!==e.type},on:{input:e.tabsChange}},e._l(e.qianyuerecord,(function(t){return a("el-radio",{key:t.value,staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px"},attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),4===e.form.cooperation_contract_type||5===e.form.cooperation_contract_type||6===e.form.cooperation_contract_type?a("el-form-item",{staticClass:"sub-item one-item-sub paytypeselect",class:{five:4===e.form.cooperation_contract_type,six:5===e.form.cooperation_contract_type,seven:6===e.form.cooperation_contract_type},staticStyle:{height:"56px","line-height":"56px"},attrs:{label:"关联主合同：","label-width":"80px",prop:"cooperation_link_contract_ID"}},[a("div",{staticClass:"triangle-css3 transform"}),a("el-select",{staticStyle:{width:"292px","margin-top":"-1px"},attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"请输入合同编码","remote-method":e.getContract,size:"medium"},on:{change:function(t){return e.selectContractUidChange(t)}},model:{value:e.form.cooperation_link_contract_ID,callback:function(t){e.$set(e.form,"cooperation_link_contract_ID",t)},expression:"form.cooperation_link_contract_ID"}},e._l(e.contract_uids,(function(e){return a("el-option",{key:e.contract_id,attrs:{label:e.contract_uid,value:e.contract_uid}})})),1)],1):e._e(),a("el-form-item",{staticClass:"one-item",attrs:{label:"合同有效期",prop:"cooperation_zhubo_real_start_time"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"开始日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_zhubo_real_start_time,callback:function(t){e.$set(e.form,"cooperation_zhubo_real_start_time",t)},expression:"form.cooperation_zhubo_real_start_time"}}),a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{disabled:e.form.cooperation_contract_long_type,type:"date",editable:!1,placeholder:"结束日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_zhubo_real_end_time,callback:function(t){e.$set(e.form,"cooperation_zhubo_real_end_time",t)},expression:"form.cooperation_zhubo_real_end_time"}}),a("el-checkbox",{model:{value:e.form.cooperation_contract_long_type,callback:function(t){e.$set(e.form,"cooperation_contract_long_type",t)},expression:"form.cooperation_contract_long_type"}},[e._v("长期有效")])],1),a("el-form-item",{staticClass:"one-item",staticStyle:{"margin-top":"10px"},attrs:{label:"最后一期款项收款时间",prop:"cooperation_zhubo_real_last_time"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"选择时间",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_zhubo_real_last_time,callback:function(t){e.$set(e.form,"cooperation_zhubo_real_last_time",t)},expression:"form.cooperation_zhubo_real_last_time"}})],1)],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"收付款条件"}}),a("el-form-item",{staticClass:"one-item changeerrortypenew",staticStyle:{"margin-bottom":"5px"},attrs:{label:"收费类型",prop:"payee_type"}},[a("el-radio-group",{staticStyle:{"line-height":"32px",height:"32px",display:"block","margin-top":"26px"},attrs:{value:e.form.payee_type},on:{input:e.tabsshoufeiChange}},[a("el-radio",{staticStyle:{"line-height":"32px",height:"32px !important",width:"250px","margin-right":"30px"},attrs:{label:1}},[e._v("固定服务费")]),a("el-radio",{staticStyle:{"line-height":"32px",height:"32px !important",width:"250px","margin-right":"30px"},attrs:{label:2}},[e._v("服务费+佣金")]),a("el-radio",{staticStyle:{"line-height":"32px",height:"32px !important",width:"250px","margin-right":"30px"},attrs:{label:3}},[e._v("纯佣金")]),a("el-radio",{staticStyle:{"line-height":"32px",height:"32px !important",width:"150px"},attrs:{label:4}},[e._v("其它 ")])],1)],1),e.form.payee_type?a("div",{staticClass:"paytypeselect client",class:{one:1===e.form.payee_type,two:2===e.form.payee_type,three:3===e.form.payee_type,four:4===e.form.payee_type},staticStyle:{"margin-top":"0px","margin-bottom":"10px"}},[a("div",{staticClass:"triangle-css3 transform"}),1===e.form.payee_type?a("div",{staticStyle:{"margin-left":"18px"}},[a("span",[e._v("固定服务费")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"32px",height:"32px !important"},attrs:{placeholder:"请输入(必填)"},on:{input:function(t){return e.getfixPositiveNumber(t,"payee_money")},blur:function(t){return e.blurPositiveNumber(t,"payee_money")}},model:{value:e.form.payee_money,callback:function(t){e.$set(e.form,"payee_money",t)},expression:"form.payee_money"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),2===e.form.payee_type?a("div",{staticStyle:{"margin-left":"18px"}},[a("span",[e._v("服务费")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"32px",height:"32px !important"},attrs:{placeholder:"请输入(必填)"},on:{input:function(t){return e.getfixPositiveNumber(t,"payee_money_two")},blur:function(t){return e.blurPositiveNumber(t,"payee_money_two")}},model:{value:e.form.payee_money_two,callback:function(t){e.$set(e.form,"payee_money_two",t)},expression:"form.payee_money_two"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])]),a("span",{staticStyle:{"margin-left":"24px"}},[e._v("主播佣金")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入(必填)"},on:{input:function(t){return e.getfixIsBaiPositiveNumber(t,"payee_yongjinlv_two")},blur:function(t){return e.blurPositiveNumber(t,"payee_yongjinlv_two")}},model:{value:e.form.payee_yongjinlv_two,callback:function(t){e.$set(e.form,"payee_yongjinlv_two",t)},expression:"form.payee_yongjinlv_two"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])]),a("span",{staticStyle:{"margin-left":"24px"}},[e._v("构美佣金")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入(选填)"},on:{input:function(t){return e.getfixIsBaiPositiveNumber(t,"payee_yongjinlv_one")},blur:function(t){return e.blurPositiveNumber(t,"payee_yongjinlv_one")}},model:{value:e.form.payee_yongjinlv_one,callback:function(t){e.$set(e.form,"payee_yongjinlv_one",t)},expression:"form.payee_yongjinlv_one"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1):e._e(),3===e.form.payee_type?a("div",{staticStyle:{"margin-left":"18px"}},[a("span",[e._v("主播佣金")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入(必填)"},on:{input:function(t){return e.getfixIsBaiPositiveNumber(t,"payee_yongjinlv_four")},blur:function(t){return e.blurPositiveNumber(t,"payee_yongjinlv_four")}},model:{value:e.form.payee_yongjinlv_four,callback:function(t){e.$set(e.form,"payee_yongjinlv_four",t)},expression:"form.payee_yongjinlv_four"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])]),a("span",{staticStyle:{"margin-left":"24px"}},[e._v("构美佣金")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入(选填)"},on:{input:function(t){return e.getfixIsBaiPositiveNumber(t,"payee_yongjinlv_three")},blur:function(t){return e.blurPositiveNumber(t,"payee_yongjinlv_three")}},model:{value:e.form.payee_yongjinlv_three,callback:function(t){e.$set(e.form,"payee_yongjinlv_three",t)},expression:"form.payee_yongjinlv_three"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1):e._e(),4===e.form.payee_type?a("div",{staticClass:"payee-type-other-client",staticStyle:{"margin-left":"18px"}},[a("span",[e._v("其它")]),a("el-input",{staticStyle:{display:"inline-block",width:"836px","line-height":"32px",height:"32px","margin-left":"8px"},attrs:{maxlength:"200","show-word-limit":"",placeholder:"请输入(必填)"},model:{value:e.form.payee_remarkstr,callback:function(t){e.$set(e.form,"payee_remarkstr",t)},expression:"form.payee_remarkstr"}})],1):e._e()]):e._e(),a("el-form-item",{staticClass:"one-item changeerror",staticStyle:{"margin-top":"10px"},attrs:{label:"ROI要求",prop:"payee_ROI_type"}},[a("el-radio-group",{staticClass:"nocheckbox",staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_ROI_type,callback:function(t){e.$set(e.form,"payee_ROI_type",t)},expression:"form.payee_ROI_type"}},[a("label",[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1},nativeOn:{click:function(t){return t.preventDefault(),e.tabsROIChange(1)}}},[e._v("不保量")])],1),a("label",[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:2},nativeOn:{click:function(t){return t.preventDefault(),e.tabsROIChange(2)}}},[e._v("保量 "),a("div",{staticStyle:{"margin-left":"3px",display:"inline-block",width:"144px",border:"1px solid rgba(164, 178, 194, 0.5)","border-radius":"2px"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.nochange()}}},[a("el-input",{staticClass:"paperview-input-text",staticStyle:{"text-align":"right"},attrs:{maxlength:"8",placeholder:"",disabled:!(2===e.form.payee_ROI_type)},on:{input:function(t){return e.getfixIntPositiveNumber(t,"payee_ROI_request_fw")},blur:function(t){return e.blurIsZoreNumber(t,"payee_ROI_request_fw")}},model:{value:e.form.payee_ROI_request_fw,callback:function(t){e.$set(e.form,"payee_ROI_request_fw",t)},expression:"form.payee_ROI_request_fw"}}),e._v(":"),a("el-input",{staticClass:"paperview-input-text",attrs:{maxlength:"8",disabled:!(2===e.form.payee_ROI_type),placeholder:""},on:{input:function(t){return e.getfixIntPositiveNumber(t,"payee_ROI_request_xs")},blur:function(t){return e.blurIsZoreNumber(t,"payee_ROI_request_xs")}},model:{value:e.form.payee_ROI_request_xs,callback:function(t){e.$set(e.form,"payee_ROI_request_xs",t)},expression:"form.payee_ROI_request_xs"}})],1),a("div",{staticStyle:{display:"inline-block","line-height":"30px",height:"30px !important","font-family":"PingFangSC-Regular","font-size":"12px",color:"#999999","padding-left":"10px",cursor:"default !important"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.nochange()}}},[e._v(" 服务费 : 保量销售额 ")])])],1)])],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"执行要求",prop:"payee_execute_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_execute_type,callback:function(t){e.$set(e.form,"payee_execute_type","string"===typeof t?t.trim():t)},expression:"form.payee_execute_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("先执行后收款")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:2}},[e._v("先收款后执行")])],1)],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"收款要求",prop:"payee_request_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_request_type,callback:function(t){e.$set(e.form,"payee_request_type",t)},expression:"form.payee_request_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("分期收款")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:2}},[e._v("一次性收款")])],1)],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"票款要求",prop:"payee_request_card_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_request_card_type,callback:function(t){e.$set(e.form,"payee_request_card_type",t)},expression:"form.payee_request_card_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("先票后款")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:2}},[e._v("先款后票")])],1)],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"开票要求",prop:"payee_request_opencard_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_request_opencard_type,callback:function(t){e.$set(e.form,"payee_request_opencard_type",t)},expression:"form.payee_request_opencard_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("专票"),a("el-input",{staticStyle:{"margin-left":"8px",width:"136px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入税率",disabled:!(1===e.form.payee_request_opencard_type)},on:{input:function(t){return e.getfixIntPositiveNumber(t,"payee_request_opencard_shuilv")}},model:{value:e.form.payee_request_opencard_shuilv,callback:function(t){e.$set(e.form,"payee_request_opencard_shuilv",t)},expression:"form.payee_request_opencard_shuilv"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px",width:"250px"},attrs:{label:2}},[e._v("普票"),a("el-input",{staticStyle:{"margin-left":"8px",width:"136px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入税率",disabled:!(2===e.form.payee_request_opencard_type)},on:{input:function(t){return e.getfixIntPositiveNumber(t,"payee_request_opencard_default_shuilv")}},model:{value:e.form.payee_request_opencard_default_shuilv,callback:function(t){e.$set(e.form,"payee_request_opencard_default_shuilv",t)},expression:"form.payee_request_opencard_default_shuilv"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:"3"}},[e._v("不开票")])],1)],1),1===e.form.contract_status?a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"收款方式",prop:"payee_paymoney_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_paymoney_type,callback:function(t){e.$set(e.form,"payee_paymoney_type",t)},expression:"form.payee_paymoney_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("对公账户转账")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px",width:"250px"},attrs:{label:2}},[e._v("支付宝转账")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:3}},[e._v("V任务下单"),a("el-input",{staticStyle:{"margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入V任务链接",disabled:!(3===e.form.payee_paymoney_type)},model:{value:e.form.payee_paymoney_type_link,callback:function(t){e.$set(e.form,"payee_paymoney_type_link",t)},expression:"form.payee_paymoney_type_link"}})],1)],1)],1):e._e()],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"保证金"}}),a("el-form-item",{staticClass:"sub-item",attrs:{label:"是否有保证金",prop:"cashdeposit_need_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.cashdeposit_need_type,callback:function(t){e.$set(e.form,"cashdeposit_need_type",t)},expression:"form.cashdeposit_need_type"}},e._l(e.baozhengjinrecord,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1===e.form.cashdeposit_need_type?a("el-form-item",{staticClass:"sub-item",attrs:{label:"支付日期",prop:"cashdeposit_need_date"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"选择日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cashdeposit_need_date,callback:function(t){e.$set(e.form,"cashdeposit_need_date",t)},expression:"form.cashdeposit_need_date"}})],1):e._e(),1===e.form.cashdeposit_need_type?a("el-form-item",{staticClass:"sub-item append",attrs:{label:"保证金金额",prop:"cashdeposit_need_money"}},[a("el-input",{staticStyle:{width:"252px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入保证金金额"},on:{input:function(t){return e.getfixPositiveNumber(t,"cashdeposit_need_money")},blur:function(t){return e.blurPositiveNumber(t,"cashdeposit_need_money")}},model:{value:e.form.cashdeposit_need_money,callback:function(t){e.$set(e.form,"cashdeposit_need_money",t)},expression:"form.cashdeposit_need_money"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),1===e.form.cashdeposit_need_type?a("el-form-item",{staticClass:"sub-item append",staticStyle:{"margin-right":"0px"},attrs:{label:"直播结束后退还日期",prop:"cashdeposit_need_day"}},[a("el-input",{staticStyle:{width:"252px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入直播结束后退还日期"},on:{input:function(t){return e.getfixPositiveNumber(t,"cashdeposit_need_day")},blur:function(t){return e.blurPositiveNumber(t,"cashdeposit_need_day")}},model:{value:e.form.cashdeposit_need_day,callback:function(t){e.$set(e.form,"cashdeposit_need_day",t)},expression:"form.cashdeposit_need_day"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("工作日")])])],1):e._e()],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"其它信息"}}),a("el-form-item",{staticClass:"sub-item",attrs:{label:"盖章份数",prop:"other_stamp_count"}},[a("el-input",{staticStyle:{width:"252px","line-height":"30px",height:"30px !important"},attrs:{maxlength:"8",placeholder:"请输入盖章份数"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"other_stamp_count")}},model:{value:e.form.other_stamp_count,callback:function(t){e.$set(e.form,"other_stamp_count",t)},expression:"form.other_stamp_count"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"印章名称",prop:"other_stamp_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择印章名称","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.other_stamp_type,callback:function(t){e.$set(e.form,"other_stamp_type",t)},expression:"form.other_stamp_type"}},e._l(e.yinzhengrecord,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"用印时间",prop:"other_stamp_time"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"选择日期",format:"yyyy.MM.dd","value-format":"yyyy.MM.dd"},model:{value:e.form.other_stamp_time,callback:function(t){e.$set(e.form,"other_stamp_time",t)},expression:"form.other_stamp_time"}})],1),a("el-form-item",{staticClass:"sub-item",staticStyle:{"margin-right":"0px"},attrs:{label:"是否邮寄",prop:"other_stamp_send_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择是否邮寄","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.other_stamp_send_type,callback:function(t){e.$set(e.form,"other_stamp_send_type",t)},expression:"form.other_stamp_send_type"}},e._l(e.baozhengjinrecord,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1===e.form.other_stamp_send_type?a("el-form-item",{staticClass:"sub-item",staticStyle:{width:"600px"},attrs:{label:"邮寄信息",prop:"other_stamp_send_address"}},[a("el-input",{staticStyle:{width:"524px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"示例：省+市+区+详细地址，姓名（电话）"},model:{value:e.form.other_stamp_send_address,callback:function(t){e.$set(e.form,"other_stamp_send_address",t)},expression:"form.other_stamp_send_address"}})],1):e._e(),1!=e.project_type&&1===e.form.contract_status?[a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"70px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("甲方应于本合同签订后")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"live_day_pre")},blur:function(t){return e.blurPositiveNumber(t,"live_day_pre")}},model:{value:e.form.live_day_pre,callback:function(t){e.$set(e.form,"live_day_pre",t)},expression:"form.live_day_pre"}}),e._v("日内、直播开播前一次性全额支付给乙方，直播结束后"),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"live_day_later")},blur:function(t){return e.blurPositiveNumber(t,"live_day_later")}},model:{value:e.form.live_day_later,callback:function(t){e.$set(e.form,"live_day_later",t)},expression:"form.live_day_later"}}),e._v("日内乙方根据实际应收款向甲方提供合法有效的且符合约定的增值税专用发票。 ")],1)],1),a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"70px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("如未达成保量销售额，甲方可以选择要求乙方进行补播至保量目标或者要求乙方就未达成部分按比例退还基础服务费【即乙方退还服务费=未达成保量销售额部分÷保量销售额×基础服务费】，甲方选择退款的，乙方应于甲方提出退款申请后")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"refund_day")},blur:function(t){return e.blurPositiveNumber(t,"refund_day")}},model:{value:e.form.refund_day,callback:function(t){e.$set(e.form,"refund_day",t)},expression:"form.refund_day"}}),e._v("日内完成退款。 ")],1)],1),e.form.payee_yongjinlv_three>0&&3===e.form.payee_type||e.form.payee_yongjinlv_one>0&&2===e.form.payee_type?a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"40px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("如因后台设置或其他原因导致未能通过平台系统完成佣金结算的，甲方应在直播结束后")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"live_line_day_later")},blur:function(t){return e.blurPositiveNumber(t,"live_line_day_later")}},model:{value:e.form.live_line_day_later,callback:function(t){e.$set(e.form,"live_line_day_later",t)},expression:"form.live_line_day_later"}}),e._v("日内完成线下结算。 ")],1)],1):e._e(),a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"40px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("直播开始前至少")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"live_start_day_pre")},blur:function(t){return e.blurPositiveNumber(t,"live_start_day_pre")}},model:{value:e.form.live_start_day_pre,callback:function(t){e.$set(e.form,"live_start_day_pre",t)},expression:"form.live_start_day_pre"}}),e._v("日向乙方提供发布物料及必要信息，做好直播的前期准备工作，提前告知乙方直播时间，做好直播间界面及直播环节设置等各种准备。 ")],1)],1),a("div",{staticClass:"elbuttonnone",staticStyle:{width:"100%",height:"30px","line-height":"30px","margin-top":"0px","font-size":"14px","margin-left":"-6px"}},[a("el-checkbox",{staticStyle:{width:"100%",display:"block"},model:{value:e.form.contract_xieyi_one_type,callback:function(t){e.$set(e.form,"contract_xieyi_one_type",t)},expression:"form.contract_xieyi_one_type"}},[e._v("大主播合作条款"),a("el-popover",{attrs:{placement:"top-start",title:"",width:"500",trigger:"hover",content:"若甲方未能提供与双方约定一致的优惠机制（包括但不限于商品及赠品的种类、数量、库存、发货周期等），\n                甲方应按双方约定的优惠机制向下单客户三倍支付差价或三倍补发不一致部分商品，并每次赔偿乙方人民币拾万元整，\n                若该金额不足以赔偿因此给乙方带来的一切费用和损失，包括但不限于因甲方怠于履行上述承诺导致客户向乙方的追偿、\n                乙方人工成本、给粉丝的红包福利等及乙方用于挽回红人形象的经济支出等，甲方应当承担。"}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[a("tg-icon",{staticStyle:{"font-size":"16px",color:"#a4b2c2"},attrs:{name:"ico-icon_explain"}})],1)],1)],1)],1),a("div",{staticClass:"trems",staticStyle:{"min-height":"130px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"17px",display:"inline-block",float:"left"},model:{value:e.form.contract_xieyi_two_type,callback:function(t){e.$set(e.form,"contract_xieyi_two_type",t)},expression:"form.contract_xieyi_two_type"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("保价条款：甲方承诺推广标的销售价格在直播当日及直播结束前")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:"",disabled:!e.form.contract_xieyi_two_type},on:{input:function(t){return e.getfixPositiveNumber(t,"supportValue_one")},blur:function(t){return e.blurPositiveNumber(t,"supportValue_one")}},model:{value:e.form.supportValue_one,callback:function(t){e.$set(e.form,"supportValue_one",t)},expression:"form.supportValue_one"}}),e._v("个自然日、直播后"),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:"",disabled:!e.form.contract_xieyi_two_type},on:{input:function(t){return e.getfixPositiveNumber(t,"supportValue_two")},blur:function(t){return e.blurPositiveNumber(t,"supportValue_two")}},model:{value:e.form.supportValue_two,callback:function(t){e.$set(e.form,"supportValue_two",t)},expression:"form.supportValue_two"}}),e._v("个自然日内（共计"),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:"",disabled:!e.form.contract_xieyi_two_type},on:{input:function(t){return e.getfixPositiveNumber(t,"supportValue_all")},blur:function(t){return e.blurPositiveNumber(t,"supportValue_all")}},model:{value:e.form.supportValue_all,callback:function(t){e.$set(e.form,"supportValue_all",t)},expression:"form.supportValue_all"}}),e._v("个自然日）为 "),a("el-checkbox",{staticStyle:{"margin-right":"0px !important"},attrs:{disabled:!e.form.contract_xieyi_two_type},model:{value:e.form.contract_xieyi_pintai_one_type,callback:function(t){e.$set(e.form,"contract_xieyi_pintai_one_type",t)},expression:"form.contract_xieyi_pintai_one_type"}},[e._v("所有网络平台")]),a("el-checkbox",{staticStyle:{margin:"0px 10px !important"},attrs:{disabled:!e.form.contract_xieyi_two_type},model:{value:e.form.contract_xieyi_pintai_two_type,callback:function(t){e.$set(e.form,"contract_xieyi_pintai_two_type",t)},expression:"form.contract_xieyi_pintai_two_type"}},[e._v("所有线上线下平台")]),a("el-checkbox",{staticClass:"nocheckbox",staticStyle:{margin:"0px !important"},attrs:{disabled:!e.form.contract_xieyi_two_type},model:{value:e.form.contract_xieyi_pintai_three_type,callback:function(t){e.$set(e.form,"contract_xieyi_pintai_three_type",t)},expression:"form.contract_xieyi_pintai_three_type"}},[a("el-input",{staticClass:"paperview-input-line-text nocenter",staticStyle:{width:"300px"},attrs:{placeholder:"",disabled:!(e.form.contract_xieyi_two_type&&e.form.contract_xieyi_pintai_three_type)},model:{value:e.form.supportValue_pingtai,callback:function(t){e.$set(e.form,"supportValue_pingtai",t)},expression:"form.supportValue_pingtai"}})],1),e._v(" 最低销售价格，否则甲方无条件向消费者退还"),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:"",disabled:!e.form.contract_xieyi_two_type},on:{input:function(t){return e.getfixPositiveNumber(t,"supportValue_three")},blur:function(t){return e.blurPositiveNumber(t,"supportValue_three")}},model:{value:e.form.supportValue_three,callback:function(t){e.$set(e.form,"supportValue_three",t)},expression:"form.supportValue_three"}}),e._v("倍差价；向乙方赔偿违约金人民币"),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:"",disabled:!e.form.contract_xieyi_two_type},model:{value:e.form.supportValue_four,callback:function(t){e.$set(e.form,"supportValue_four",t)},expression:"form.supportValue_four"}}),e._v("万元并承担由于退还差价发生的一切费用和损失，包括但不限于乙方为此发生的一切人工成本、 向消费者或合作主播支付的额外补偿（包括但不限于红包和其它粉丝福利）。 ")],1)],1),a("div",{staticClass:"trems",staticStyle:{"min-height":"100px"}},[a("el-checkbox",{staticStyle:{"margin-top":"8px",width:"17px",display:"inline-block",float:"left"},model:{value:e.form.contract_xieyi_three_type,callback:function(t){e.$set(e.form,"contract_xieyi_three_type",t)},expression:"form.contract_xieyi_three_type"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("保质期约定：甲方承诺推广标的剩余有效期/保质期（如有）不得低于有效期/保质期总和的【三分之二】， 否则将视为“临期商品”。如甲方销售临期商品，应无条件向消费者按购买金额的")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:"",disabled:!e.form.contract_xieyi_three_type},on:{input:function(t){return e.getfixPositiveNumber(t,"expiration_date_one")},blur:function(t){return e.blurPositiveNumber(t,"expiration_date_one")}},model:{value:e.form.expiration_date_one,callback:function(t){e.$set(e.form,"expiration_date_one",t)},expression:"form.expiration_date_one"}}),e._v("倍进行赔偿，并向乙方赔偿违约金人民币"),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:"",disabled:!e.form.contract_xieyi_three_type},model:{value:e.form.expiration_date_two,callback:function(t){e.$set(e.form,"expiration_date_two",t)},expression:"form.expiration_date_two"}}),e._v("万元，同时乙方有权要求甲方在5个工作日内，向消费者、乙方出具、公开官方致歉函。 ")],1)],1),a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"70px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("如甲方销售过期、假冒伪劣商品，应向消费者按购买金额的十倍进行赔偿；并向乙方赔偿违约金人民币")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},model:{value:e.form.need_pay_money,callback:function(t){e.$set(e.form,"need_pay_money",t)},expression:"form.need_pay_money"}}),e._v("万元，同时在5个工作日内，向消费者、乙方出具、公开官方致歉函。 ")],1)],1),a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"40px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("如甲方选择取消活动，应当在直播脚本确定前")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},on:{input:function(t){return e.getfixPositiveNumber(t,"need_pre_day")},blur:function(t){return e.blurPositiveNumber(t,"need_pre_day")}},model:{value:e.form.need_pre_day,callback:function(t){e.$set(e.form,"need_pre_day",t)},expression:"form.need_pre_day"}}),e._v("日提前通知乙方，否则甲方已支付的费用不退回。 ")],1)],1),a("div",{staticClass:"trems",staticStyle:{"min-height":"40px","margin-left":"0px"}},[a("el-checkbox",{staticClass:"not-allowed",staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("因本协议引起的或与本协议有关的任何争议，双方可通过友好协商解决，协商不成的，任何一方可向")]),a("el-checkbox",{staticStyle:{"margin-right":"0px !important"},model:{value:e.form.contract_xieyi_yifang_type,callback:function(t){e.$set(e.form,"contract_xieyi_yifang_type",t)},expression:"form.contract_xieyi_yifang_type"}},[e._v("乙方")]),a("el-checkbox",{staticStyle:{margin:"0px 10px !important"},model:{value:e.form.contract_xieyi_yuangao_type,callback:function(t){e.$set(e.form,"contract_xieyi_yuangao_type",t)},expression:"form.contract_xieyi_yuangao_type"}},[e._v("原告")]),e._v("住所地人民法院诉讼解决。 ")],1)],1)]:e._e(),a("div",{staticClass:"line-box"},[a("el-form-item",{attrs:{label:1===e.form.contract_status?"附件":"合同及附件",prop:"filelisturl"}},[a("div",[e.filelisturl.length<10?a("el-upload",{staticClass:"upload-btn-wrap",attrs:{action:"","show-file-list":!1,multiple:!1,"http-request":e.uploadAttachmentFile,accept:".doc,.docx,.pdf,.jpg,.jpeg,.png,.xlsx"}},[a("tg-button",{attrs:{icon:"ico-btn-upload"}},[e._v(e._s(1===e.form.contract_status?"上传文件":"合同文本及附件"))])],1):a("tg-button",{staticStyle:{"background-color":"transparent"},attrs:{icon:"ico-btn-upload",disabled:""}},[e._v(e._s(1===e.form.contract_status?"上传文件":"合同文本及附件"))]),1!=e.project_type&&1===e.form.contract_status?a("div",{staticClass:"file-tips"},[e._v(" 合同文本自动生成，无需上传；限docx .doc .pdf .jpg .png .xlsx格式，最多上传10份文件，每份不超过20M。 ")]):a("div",{staticClass:"file-tips"},[e._v(" 限docx .doc .pdf .jpg .png .xlsx格式，最多上传10份文件，每份不超过20M。 ")])],1)])],1),a("div",{staticClass:"file-list-box"},[a("upload-file-list",{staticStyle:{"margin-bottom":"14px"},attrs:{three:""},model:{value:e.filelisturl,callback:function(t){e.filelisturl=t},expression:"filelisturl"}})],1),a("el-form-item",{staticClass:"remark-item",attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:"4",maxlength:"100","show-word-limit":"",placeholder:"请输入"},model:{value:e.form.other_remark,callback:function(t){e.$set(e.form,"other_remark",t)},expression:"form.other_remark"}})],1)]],2)],1)]),a("tg-mask-loading",{attrs:{visible:e.saveLoading,content:"  正在提交数据，请稍候..."}})],1):e._e()},i=[],r=(a(21703),a(26699),a(97434)),n=a(86863),l=a(1763),p=a(64236),s=a(83005),_=a(48606),c=a(97484),u=a(29625),d=a(84731),m=a(74750),y=a(44928),h=a(61282),f=(0,r.defineComponent)({name:"TemplateContract",props:{type:{type:String,default:"add"}},components:{},data(){return{checkList:[],checked2:!0}},setup(e,t){const a=(0,r.ref)(null),o=(0,r.ref)(!1),i=(0,r.ref)(!1),c=(0,r.ref)(void 0),h=(0,r.ref)(void 0),f=(0,m.LP)(),v=(0,r.ref)(!1),g=t.root.$store.getters["user/getUserInfo"],x=g.username,b=g.phone,k=(0,r.ref)({live_start_day_pre:void 0,live_line_day_later:void 0,refund_day:void 0,live_day_later:void 0,live_day_pre:void 0,contract_xieyi_yuangao_type:!1,contract_xieyi_yifang_type:!1,need_pre_day:void 0,need_pay_money:void 0,expiration_date_two:void 0,expiration_date_one:void 0,contract_xieyi_pintai_one_type:void 0,contract_xieyi_pintai_two_type:void 0,contract_xieyi_pintai_three_type:void 0,supportValue_all:void 0,supportValue_one:void 0,supportValue_two:void 0,supportValue_three:void 0,supportValue_four:void 0,supportValue_pingtai:void 0,contract_xieyi_three_type:!0,contract_xieyi_two_type:!0,contract_xieyi_one_type:!0,filelisturl:void 0,other_remark:void 0,other_stamp_send_address:void 0,other_stamp_send_type:void 0,other_stamp_time:void 0,other_stamp_type:void 0,other_stamp_count:void 0,cashdeposit_need_day:void 0,cashdeposit_need_money:void 0,cashdeposit_need_date:void 0,cashdeposit_need_type:0,payee_paymoney_type_link:void 0,payee_paymoney_type:void 0,payee_request_opencard_default_shuilv:void 0,payee_request_opencard_shuilv:void 0,payee_request_opencard_type:void 0,payee_request_card_type:void 0,payee_request_type:void 0,payee_execute_type:void 0,payee_ROI_request_fw:void 0,payee_ROI_request_xs:void 0,payee_ROI_request:void 0,payee_ROI_type:void 0,payee_remarkstr:void 0,payee_yongjinlv_four:void 0,payee_yongjinlv_three:void 0,payee_yongjinlv_two:void 0,payee_yongjinlv_one:void 0,payee_money_two:void 0,payee_money:void 0,payee_type:void 0,cooperation_zhubo_real_last_time:void 0,cooperation_contract_long_type:void 0,cooperation_zhubo_real_end_time:void 0,cooperation_zhubo_real_start_time:void 0,cooperation_zhubo_real_time:void 0,cooperation_link_contract_ID:void 0,cooperation_contract_type:void 0,cooperation_work_other:void 0,cooperation_work_video_time:void 0,cooperation_work_video:void 0,cooperation_work_day:void 0,cooperation_work_platform:void 0,cooperation_gather_date:void 0,cooperation_work_time:void 0,cooperation_work_name:void 0,cooperation_shop_name:void 0,cooperation_link_count:void 0,cooperation_zhubo_name:void 0,own_tel:b,owncontracttype:void 0,own_name:x,contract_status:1}),w=(0,r.ref)({cooperation_gather_date:[{required:!0,message:"请输入直播日期（暂定）",trigger:["blur","change"]}],cooperation_work_name:[{required:!0,message:"请输入产品服务/服务名称",trigger:["blur","change"]}],cooperation_shop_name:[{required:!0,message:"请输入店铺名称",trigger:["blur","change"]}],cooperation_link_count:[{required:!0,message:"请输入链接数量",trigger:["blur","change"]}],cooperation_zhubo_name:[{required:!0,message:"请输入主播名称",trigger:["blur","change"]}],cooperation_work_platform:[{required:!0,message:"请选择直播平台",trigger:"change"}],filelisturl:[{required:!0,message:"请上传合同文本及附件",trigger:["blur","change"]}],other_stamp_send_address:[{required:!0,message:"请输入邮寄信息",trigger:["blur","change"]}],other_stamp_send_type:[{required:!0,message:"请选择是否邮寄",trigger:"change"}],other_stamp_time:[{required:!0,message:"请选择用印时间",trigger:"change"}],other_stamp_type:[{required:!0,message:"请选择印章名称",trigger:"change"}],other_stamp_count:[{required:!0,message:"请输入盖章份数",trigger:["blur","change"]}],payee_paymoney_type:[{required:!0,message:"请选择收款方式",trigger:"change"},{validator:(e,t,a)=>{3===k.value.payee_paymoney_type?k.value.payee_paymoney_type_link?a():a(new Error("请输入V任务链接")):a()},trigger:["blur"]}],payee_request_opencard_type:[{required:!0,message:"请选择开票要求",trigger:"change"},{validator:(e,t,a)=>{1===k.value.payee_request_opencard_type?k.value.payee_request_opencard_shuilv?a():a(new Error("请输入专票税率")):2===k.value.payee_request_opencard_type?k.value.payee_request_opencard_default_shuilv?a():a(new Error("请输入普票税率")):a()},trigger:["blur"]}],payee_request_card_type:[{required:!0,message:"请选择票款要求",trigger:"change"}],payee_request_type:[{required:!0,message:"请选择收款要求",trigger:"change"}],payee_execute_type:[{required:!0,message:"请选择执行要求",trigger:"change"}],payee_ROI_type:[{required:!0,message:"请选择ROI要求",trigger:"change"}],payee_type:[{required:!0,message:"请选择收费类型",trigger:["blur","change"]},{validator:(e,t,a)=>{1===t?k.value.payee_money?a():a(new Error("请输入固定服务费")):2===t?k.value.payee_money_two?a():a(new Error("请输入服务费、主播佣金")):3===t?a():4===t&&(k.value.payee_remarkstr?a():a(new Error("请输入其它")))},trigger:["blur"]}],cooperation_zhubo_real_last_time:[{required:!0,message:"请选择最后一期款项收款时间",trigger:"change"}],cooperation_zhubo_real_start_time:[{required:!0,message:"请选择合同有效期",trigger:"change"},{validator:(e,t,a)=>{k.value.cooperation_contract_long_type||k.value.cooperation_zhubo_real_end_time?a():a(new Error("请选择合同有效期"))},trigger:["blur"]}],cooperation_link_contract_ID:[{required:!0,message:"请输入关联主合同编号",trigger:["blur","change"]}],gonyingshang_name:[{required:!0,message:"请输入供应商名称",trigger:["blur","change"]}],own_name:[{required:!0,message:"请输入联系人花名",trigger:["blur","change"]}],own_tel:[{required:!0,message:"请输入联系人电话",trigger:["blur","change"]}],business_types:[{required:!0,message:"请选择签约主体",trigger:"change"}],cooperation_contract_type:[{required:!0,message:"请选择签约类型",trigger:"change"}],owncontracttype:[{required:!0,message:"请选择签约主体",trigger:"change"}],priority:[{required:!0,message:"请输入显示顺序",trigger:["blur","change"]}],status:[{required:!0,message:"请选择模板状态",trigger:"change"}],proceeds_plan:[]}),S=(0,r.inject)("project")??(0,r.ref)(),C=(0,y.t)(),q=C.currentRoute.params.id;let j=S.value?.business_type||void 0;const $=(0,r.ref)(!0),I=(0,r.ref)(void 0),R=[{required:!0,message:"请选择ROI要求",trigger:"change"},{validator:(e,t,a)=>{2===k.value.payee_ROI_type?k.value.payee_ROI_request_fw?k.value.payee_ROI_request_xs?a():a(new Error("请输入保量销售额")):a(new Error("请输入服务费")):a()},trigger:["blur"]}],N=[{required:!1,message:"请选择ROI要求",trigger:"change"},{validator:(e,t,a)=>{2===k.value.payee_ROI_type?k.value.payee_ROI_request_fw?k.value.payee_ROI_request_xs?a():a(new Error("请输入保量销售额")):a(new Error("请输入服务费")):a()},trigger:["blur"]}];(0,r.watch)((()=>k),(e=>{1===e.value.contract_status?(w.value.payee_ROI_type=R,w.value.filelisturl=[{required:!1,message:"请上传合同文本及附件",trigger:["blur","change"]}]):(w.value.payee_ROI_type=N,w.value.filelisturl=[{required:!0,message:"请上传合同文本及附件",trigger:["blur","change"]}]);const t=e.value;t.cooperation_zhubo_real_start_time&&I.value&&t.owncontracttype?$.value=!1:$.value=!0,t.cooperation_contract_long_type&&(t.cooperation_zhubo_real_end_time=""),(1===t.payee_type&&t.payee_money||2===t.payee_type&&t.payee_money_two||3===t.payee_type||4===t.payee_type&&t.payee_remarkstr)&&setTimeout((()=>{a.value?.clearValidate("payee_type")}),10)}),{deep:!0}),(0,r.watch)((()=>I),(()=>{const e=k.value;e.cooperation_zhubo_real_start_time&&I.value&&e.owncontracttype?$.value=!1:$.value=!0}),{deep:!0}),(0,r.watch)((()=>k.value.contract_status),(()=>{G()}),{deep:!0}),(0,r.watch)((()=>k.value.contract_xieyi_yifang_type),(e=>{!0===e&&(k.value.contract_xieyi_yuangao_type=!1)}),{deep:!0}),(0,r.watch)((()=>k.value.contract_xieyi_yuangao_type),(e=>{!0===e&&(k.value.contract_xieyi_yifang_type=!1)}),{deep:!0}),(0,r.watch)((()=>k.value.contract_xieyi_pintai_one_type),(e=>{!0===e&&(k.value.contract_xieyi_pintai_two_type=!1,k.value.contract_xieyi_pintai_three_type=!1)}),{deep:!0}),(0,r.watch)((()=>k.value.contract_xieyi_pintai_two_type),(e=>{!0===e&&(k.value.contract_xieyi_pintai_one_type=!1,k.value.contract_xieyi_pintai_three_type=!1)}),{deep:!0}),(0,r.watch)((()=>k.value.contract_xieyi_pintai_three_type),(e=>{!0===e&&(k.value.contract_xieyi_pintai_two_type=!1,k.value.contract_xieyi_pintai_one_type=!1)}),{deep:!0}),(0,r.watch)((()=>S),(e=>{j=e.value?.business_type||void 0}),{deep:!0});const z=(0,r.ref)([]),O=()=>{console.log("--")},P=()=>{t.root.$router.push({name:l.Ou.company})};let V;const M=()=>{V=_.Loading.service({lock:!0,text:"加载中……",background:"rgba(0, 0, 0, 0.7)"})},A=()=>{V.close()},D=(0,r.ref)([]),B=(0,r.ref)([]),L=e=>{const t=e;I.value=t},E=async e=>{const{data:t}=await(0,n.cQ)({partner_type:1,verify_status:1,partner_name:e});B.value=t.success?t.data:[]},F=[{value:1,label:"构美（浙江）信息科技有限公司"},{value:2,label:"杭州煜丰电子商务有限公司"},{value:3,label:"构美（浙江）信息科技有限公司上海分公司"}],T=[{value:1,label:"抖音"},{value:2,label:"淘宝"},{value:3,label:"快手"},{value:4,label:"小红书"}],U=[{value:1,label:"单次合作"},{value:2,label:"框架合同"},{value:3,label:"长期合作"},{value:4,label:"补充协议"},{value:5,label:"从合同"},{value:6,label:"解除协议"}],Z=[{value:1,label:"公章"},{value:2,label:"合同专用章"}],J=(0,r.ref)(u.kA.live),Y=(0,d.f)();Y.isCommonBusinessDetail||Y.isCommonBusinessCustomerContractDetail||Y.isCommonBusinessSupplierContractDetail?J.value=u.kA.common_business:Y.isLiveDetail?(J.value=u.kA.live,k.value.contract_status=0):Y.isCoopDetail&&(J.value=u.kA.marketing);const K={headers:{Authorization:(0,m.LP)()??""}},Q=e=>{fetch(e,K).then((async a=>{const o=a.clone();try{const e=await o.json();t.root.$message.error(e.message)}catch{if(200===a.status){const t=await a.blob(),o=new URL(e),i=decodeURIComponent(o.pathname.split("/").pop()??"");(0,p.uA)(t,i)}else t.root.$message.error("下载失败")}}))},W=(0,r.ref)(void 0),X=async()=>{setTimeout((()=>{new Promise((e=>a.value?.validate((t=>e(t)))))}),10)},G=()=>{setTimeout((()=>{a.value?.clearValidate()}),10)},H=()=>{setTimeout((()=>{a.value?.clearValidate("filelisturl")}),10)},ee=async e=>{const r=k.value;if(r.cashdeposit_need_type&&(!r.cashdeposit_need_date||!r.cashdeposit_need_money||!r.cashdeposit_need_day))return t.root.$message.warning("请完善保证金信息"),!1;if(1===r.contract_status){if(!r.cooperation_work_time&&!r.cooperation_work_day&&!r.cooperation_work_video_time&&!r.cooperation_work_other)return t.root.$message.warning("讲解时长、平台信息流授权、种草视频时长、其它权益4选1必填。"),!1;if(r.contract_xieyi_two_type){if(!r.supportValue_one||!r.supportValue_two||!r.supportValue_all||!r.supportValue_three||!r.supportValue_four||r.contract_xieyi_pintai_three_type&&!r.supportValue_pingtai)return t.root.$message.warning("请将保价条款填写全"),!1;if(!r.contract_xieyi_pintai_one_type&&!r.contract_xieyi_pintai_two_type&&!r.contract_xieyi_pintai_three_type)return t.root.$message.warning("请将保价条款填写全"),!1}if(r.contract_xieyi_three_type&&(!r.expiration_date_one||!r.expiration_date_two))return t.root.$message.warning("请将保质期约定条款填写全"),!1;if(!r.need_pre_day||!r.need_pay_money||!r.live_day_pre||!r.live_day_later||!r.refund_day||!r.live_start_day_pre)return t.root.$message.warning("请将条款填写全"),!1;if((r.payee_yongjinlv_three>0&&3===r.payee_type||r.payee_yongjinlv_one>0&&2===r.payee_type)&&!r.live_line_day_later)return t.root.$message.warning("请将条款填写全"),!1;if(!1===r.contract_xieyi_yuangao_type&&!1===r.contract_xieyi_yifang_type)return t.root.$message.warning("请将条款填写全"),!1}const n=await new Promise((e=>a.value?.validate((t=>e(t)))));if(!W.value&&!c.value)return 2===J.value?pe():le(),t.root.$message.warning("正在获取合同编码，请稍等重新提交"),!1;if(n){if(!r.cooperation_contract_long_type){const e=new Date(k.value.cooperation_zhubo_real_start_time),a=new Date(k.value.cooperation_zhubo_real_end_time);if(a<e)return t.root.$message.warning("合同有效期结束时间不得小于开始时间"),!1}const a=[{key:"签约主体",value:F[r.owncontracttype-1].label},{key:"联系人花名",value:r.own_name},{key:"电话",value:r.own_tel}];let n=[];1===r.contract_status&&(n=[{key:"直播平台",value:r.cooperation_work_platform?T[r.cooperation_work_platform-1].label:void 0},{key:"主播名称",value:r.cooperation_zhubo_name},{key:"链接数量",value:r.cooperation_link_count},{key:"店铺名称",value:r.cooperation_shop_name},{key:"产品服务/服务名称",value:r.cooperation_work_name},{key:"直播日期",value:r.cooperation_gather_date},{key:"讲解时长",value:r.cooperation_work_time},{key:"授权天数",value:r.cooperation_work_day},{key:"种草视频时长",value:r.cooperation_work_video_time},{key:"其它权益",value:r.cooperation_work_other}]);let l=r.cooperation_zhubo_real_start_time;r.cooperation_contract_long_type?l+="/长期有效":l=l+"/"+r.cooperation_zhubo_real_end_time;const p=[{key:"签约类型",value:U[r.cooperation_contract_type-1].label},{key:"关联主合同",value:r.cooperation_contract_type<4?void 0:r.cooperation_link_contract_ID},{key:"合同有效期",value:l},{key:"最后一期款项付款时间",value:r.cooperation_zhubo_real_last_time}];let _=[{key:"收费类型",value:1===r.payee_type?"固定服务费":2===r.payee_type?"固定服务费+佣金":3===r.payee_type?"纯佣金":"其它"},{key:"固定服务费",value:1===r.payee_type?r.payee_money:2===r.payee_type?r.payee_money_two:void 0},{key:"构美佣金",value:3===r.payee_type?r.payee_yongjinlv_three||0:2===r.payee_type?r.payee_yongjinlv_one||0:void 0},{key:"主播佣金",value:3===r.payee_type?r.payee_yongjinlv_four||0:2===r.payee_type?r.payee_yongjinlv_two||0:void 0},{key:"其它",value:4===r.payee_type?r.payee_remarkstr:void 0},{key:"ROI要求",value:1===r.payee_ROI_type?"不保量":2===r.payee_ROI_type?"保量":""},{key:"ROI要求保量-服务费",value:2===r.payee_ROI_type?r.payee_ROI_request_fw:void 0},{key:"ROI要求保量-保量销售额",value:2===r.payee_ROI_type?r.payee_ROI_request_xs:void 0},{key:"执行要求",value:1===r.payee_execute_type?"先执行后收款":"先收款后执行"},{key:"付款要求",value:1===r.payee_request_type?"分期收款":"一次性收款"},{key:"票款要求",value:1===r.payee_request_card_type?"先票后款":"先款后票"},{key:"开票要求",value:1===r.payee_request_opencard_type?"专票":2===r.payee_request_opencard_type?"普票":"不开票"},{key:"开票税率",value:1===r.payee_request_opencard_type?r.payee_request_opencard_shuilv:2===r.payee_request_opencard_type?r.payee_request_opencard_default_shuilv:void 0}];1===r.contract_status&&(_=_.concat({key:"付款方式",value:1===r.payee_paymoney_type?"对公账户转账":2===r.payee_paymoney_type?"支付宝转账":3===r.payee_paymoney_type?"V任务下单":""},{key:"V任务下单",value:3===r.payee_paymoney_type?r.payee_paymoney_type_link:void 0}));const u=[{key:"是否有保证金",value:1===r.cashdeposit_need_type?1:0},{key:"支付日期",value:1===r.cashdeposit_need_type?r.cashdeposit_need_date:void 0},{key:"保证金金额",value:1===r.cashdeposit_need_type?r.cashdeposit_need_money:void 0},{key:"直播结束后退还日期",value:1===r.cashdeposit_need_type?r.cashdeposit_need_day:void 0}];let d=[{key:"盖章份数",value:r.other_stamp_count},{key:"印章名称",value:Z[r.other_stamp_type-1].label},{key:"用印时间",value:r.other_stamp_time},{key:"是否邮寄",value:1===r.other_stamp_send_type?1:0},{key:"邮寄信息",value:1===r.other_stamp_send_type?r.other_stamp_send_address:void 0}];1===r.contract_status&&(d=d.concat({key:"签订日期",value:r.live_day_pre},{key:"直播结束日期",value:r.live_day_later},{key:"退款日期",value:r.refund_day},{key:"线下结算日期",value:r.payee_yongjinlv_three>0&&3===r.payee_type||r.payee_yongjinlv_one>0&&2===r.payee_type?r.live_line_day_later:void 0},{key:"直播开始前日期",value:r.live_start_day_pre},{key:"大主播合作条款",value:r.contract_xieyi_one_type?1:0},{key:"保价条款",value:r.contract_xieyi_two_type?1:0},{key:"直播前自然日",value:r.contract_xieyi_two_type?r.supportValue_one:void 0},{key:"直播后自然日",value:r.contract_xieyi_two_type?r.supportValue_two:void 0},{key:"共直播自然日",value:r.contract_xieyi_two_type?r.supportValue_all:void 0},{key:"直播选择平台",value:r.contract_xieyi_two_type?r.contract_xieyi_pintai_one_type?"所有网络平台":r.contract_xieyi_pintai_two_type?"所有线上线下平台":r.contract_xieyi_pintai_three_type?r.supportValue_pingtai:void 0:void 0},{key:"退还差价倍数",value:r.contract_xieyi_two_type?r.supportValue_three:void 0},{key:"赔偿违约金",value:r.contract_xieyi_two_type?r.supportValue_four:void 0},{key:"保质期约定",value:r.contract_xieyi_three_type?1:0},{key:"保质期约定赔偿差价倍数",value:r.contract_xieyi_three_type?r.expiration_date_one:void 0},{key:"保质期约定赔偿乙方金额",value:r.contract_xieyi_three_type?r.expiration_date_two:void 0},{key:"第四项甲方赔偿乙方金额",value:r.need_pay_money},{key:"甲方提前通知乙方天数",value:r.need_pre_day},{key:"诉讼方",value:r.contract_xieyi_yifang_type?"乙方":"原告"}));const m={contract_id:W.value,project_id:h.value||q||S.value?.id,contract_uid:c.value,contract_type:Number(r.contract_status),our_info:a,cooperation_duration:p,cooperation_content:n,pay_condition:_,margin:u,others:d,customer_id:I.value,attachment_urls:D.value,remark:r.other_remark,frontend_data:{...r,myproject_type:J.value,mybusiness_type:j,myprojectId:q||S.value?.id}};if(v.value=!0,1===e){const e=3===J.value?"common":2===J.value?"coop":"shop_live",{data:a}=await(0,s.Mi)(m,e);v.value=!1,a.success?(t.root.$message.success(a.message),o.value=!1,i.value=!1,t.emit("added")):t.root.$message.error(a.message)}else if(2===e||3===e){const o={contract_agreement_type:"customer",contract_uid:c.value,dataset:{project_id:h.value||q||S.value?.id,contract_uid:c.value,contract_type:Number(r.contract_status),our_info:a,cooperation_duration:p,cooperation_content:n,pay_condition:_,margin:u,others:d,customer_id:I.value,attachment_urls:D.value,remark:r.other_remark}},{data:i}=await(0,s.Yp)(o);if(v.value=!1,i.success){const t=i.data,a=t.file_url,o=(new Date).getTime();2===e?window.open(a+"?Authorization="+f+"&t="+o):Q(a+"?Authorization="+f+"&t="+o)}else t.root.$message.error(i.message)}else v.value=!1}},te=(0,r.ref)([]),ae=e=>{k.value.cooperation_contract_type=e},oe=e=>{k.value.payee_type=e},ie=e=>{k.value.contract_status=e},re=e=>{k.value.payee_ROI_type===e?0===k.value.contract_status&&(k.value.payee_ROI_type=void 0):k.value.payee_ROI_type=e},ne=()=>{},le=async()=>{Promise.resolve().then((()=>(0,n.LK)({business_type:j}))).then((e=>{e.data.success?c.value=e.data.data:t.root.$message.error(e.data.data)})).catch((()=>{t.root.$message.error("合同编号获取失败，稍后重试")}))},pe=async()=>{(0,n.XZ)().then((e=>{e.data.success?c.value=e.data.data:t.root.$message.error(e.data.data)})).catch((()=>{t.root.$message.error("合同编号获取失败，稍后重试")}))};return{nochange:ne,getContractNumber:le,getMarketContractNumber:pe,clearValidateupload:H,clearValidate:G,username:x,phone:b,refresh:X,saveLoading:v,myprojectId:h,pingtaiRecords:T,no_upload_click:o,visible:i,tabsROIChange:re,projectId:q,tabscontract_statusChange:ie,tabsshoufeiChange:oe,tabsChange:ae,contract_id:W,downclick:Q,mytoken:f,contract_uid:c,project_type:J,onSaveBtnClick:ee,formRef:a,allSupplierName:B,getAllSupplierName:E,onSupplierIdChange:L,filelisturl:D,startLoading:M,closeLoading:A,ownInfoRecords:F,qianyuerecord:U,baozhengjinrecord:[{value:1,label:"是"},{value:0,label:"否"}],yinzhengrecord:Z,gotoAddCompany:P,frame_contract_uid:I,onGYSNameChange:O,contractInfoRecords:z,formRules:w,form:k,iscannotclick:$,project:S,business_type:j,contract_uids:te,userinfo:g}},methods:{getfixIntPositiveNumber(e,t){if("payee_request_opencard_shuilv"===t||"payee_request_opencard_default_shuilv"===t)if(e=e.replace(/[^.\d]+/gu,""),e>=100){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,h.nA)(this.form[t])}else this.form[t]=(0,h.nA)(e);else e=e.replace(/[^\d]+/gu,""),e=(0,h.nA)(e),this.form[t]=(0,h.nA)(e)},getfixPositiveNumber(e,t){if(e=(0,h.nA)(e),e>1e8){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,h.nA)(this.form[t])}else this.form[t]=(0,h.nA)(e)},getfixIsBaiPositiveNumber(e,t){if(e=(0,h.nA)(e),e>100){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,h.nA)(this.form[t])}else{if(this.form[t]=(0,h.nA)(e),("payee_yongjinlv_one"===t&&this.form["payee_yongjinlv_two"]||"payee_yongjinlv_two"===t&&this.form["payee_yongjinlv_one"])&&Number(this.form["payee_yongjinlv_one"])+Number(this.form["payee_yongjinlv_two"])>100){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,h.nA)(this.form[t])}if(("payee_yongjinlv_three"===t&&this.form["payee_yongjinlv_four"]||"payee_yongjinlv_four"===t&&this.form["payee_yongjinlv_three"])&&Number(this.form["payee_yongjinlv_three"])+Number(this.form["payee_yongjinlv_four"])>100){const e=String(this.form[t]).split("");return e.pop(),this.form[t]=e.join(""),void(this.form[t]=(0,h.nA)(this.form[t]))}}},blurIsZoreNumber(e,t){if(0===this.form[t]||"0"===this.form[t])this.form[t]=void 0;else{const e=String(this.form[t]).split("");e.length>0&&"."===e[e.length-1]&&(e.pop(),this.form[t]=e.join("")),e.length>0&&"."===e[0]&&(this.form[t]=void 0)}},blurPositiveNumber(e,t){const a=String(this.form[t]).split("");a.length>0&&"."===a[a.length-1]&&(a.pop(),this.form[t]=a.join("")),a.length>0&&"."===a[0]&&(this.form[t]=void 0)},getContract(e){const t=this.project_type||"";(0,c.Sw)({partner_type:1,contract_status:2,release_status:0,search:e,project_type:t}).then((({data:e})=>{this.contract_uids=e.data.data}))},selectContractUidChange(e){this.form.cooperation_link_contract_ID=e},show(e){if(this.form={live_start_day_pre:void 0,live_line_day_later:void 0,refund_day:void 0,live_day_later:void 0,live_day_pre:void 0,contract_xieyi_yuangao_type:!1,contract_xieyi_yifang_type:!1,need_pre_day:void 0,need_pay_money:void 0,expiration_date_two:void 0,expiration_date_one:void 0,contract_xieyi_pintai_one_type:void 0,contract_xieyi_pintai_two_type:void 0,contract_xieyi_pintai_three_type:void 0,supportValue_all:void 0,supportValue_one:void 0,supportValue_two:void 0,supportValue_three:void 0,supportValue_four:void 0,supportValue_pingtai:void 0,contract_xieyi_three_type:!0,contract_xieyi_two_type:!0,contract_xieyi_one_type:!0,filelisturl:void 0,other_remark:void 0,other_stamp_send_address:void 0,other_stamp_send_type:void 0,other_stamp_time:void 0,other_stamp_type:void 0,other_stamp_count:void 0,cashdeposit_need_day:void 0,cashdeposit_need_money:void 0,cashdeposit_need_date:void 0,cashdeposit_need_type:0,payee_paymoney_type_link:void 0,payee_paymoney_type:void 0,payee_request_opencard_default_shuilv:void 0,payee_request_opencard_shuilv:void 0,payee_request_opencard_type:void 0,payee_request_card_type:void 0,payee_request_type:void 0,payee_execute_type:void 0,payee_ROI_request_fw:void 0,payee_ROI_request_xs:void 0,payee_ROI_request:void 0,payee_ROI_type:void 0,payee_remarkstr:void 0,payee_yongjinlv_four:void 0,payee_yongjinlv_three:void 0,payee_yongjinlv_two:void 0,payee_yongjinlv_one:void 0,payee_money_two:void 0,payee_money:void 0,payee_type:void 0,cooperation_zhubo_real_last_time:void 0,cooperation_contract_long_type:void 0,cooperation_zhubo_real_end_time:void 0,cooperation_zhubo_real_start_time:void 0,cooperation_zhubo_real_time:void 0,cooperation_link_contract_ID:void 0,cooperation_contract_type:void 0,cooperation_work_other:void 0,cooperation_work_video_time:void 0,cooperation_work_video:void 0,cooperation_work_day:void 0,cooperation_work_platform:void 0,cooperation_gather_date:void 0,cooperation_work_time:void 0,cooperation_work_name:void 0,cooperation_shop_name:void 0,cooperation_link_count:void 0,cooperation_zhubo_name:void 0,owncontracttype:void 0,own_tel:this.phone,own_name:this.username,contract_status:1},this.clearValidate(),e){if(this.iscannotclick=!1,e.template_info.frontend_data){const t=JSON.parse(JSON.stringify(e.template_info.frontend_data));for(const e in t)this.form[e]=t[e]}this.contract_id=e.contract_detail.contract_id,this.contract_uid=e.template_info.contract_uid,this.form.contract_status||(this.form.contract_status=0),this.frame_contract_uid=e.template_info.customer_id||e.contract_info.company_id,this.filelisturl=e.template_info.attachment_urls||e.template_info.frontend_data.filelisturl||[],this.myprojectId=e.contract_info.project_id||e.template_info.frontend_data.myprojectId,this.business_type=e.contract_info.business_type||e.template_info.frontend_data.mybusiness_type,e.template_info.frontend_data.myproject_type&&(this.project_type=e.template_info.frontend_data.myproject_type),this.getAllSupplierName(e.contract_info.company_name||"")}else this.filelisturl=[],this.frame_contract_uid=void 0,this.iscannotclick=!0,1===this.project_type&&(this.form.contract_status=0),2===this.project_type?this.getMarketContractNumber():this.getContractNumber();this.no_upload_click=!0,this.visible=!0,this.$nextTick((()=>{}))},backClick(){this.frame_contract_uid||this.form.owncontracttype?this.$confirm("你确定退出当前合同协议编辑吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",iconClass:"warning-icon"}).then((()=>{this.visible=!1})).catch((()=>!1)):this.visible=!1},beforeUpload(e){return e.size>20971520?(this.$message.warning(`${e.name} ${(e.size/1024/1024).toFixed(2)}MB 请限制在20MB以内`),!1):!(!["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword",".sheet"].includes(e.type)&&![".jpg",".jpeg",".png",".pdf",".doc",".docx",".xlsx"].includes((0,p.mD)(e.name)))||(this.$message.warning("文件格式不正确，请使用  pdf / docx / doc / jpg / png / xlsx"),!1)},async uploadAttachmentFile(e){const t=this.beforeUpload(e.file);if(!t)return;const a=new FormData;a.append("file",e.file,e.file.name),a.append("attachment_type","contract_annex"),this.startLoading(),(0,n.w_)(a).then((e=>{if(this.closeLoading(),e.data.success){const t=this.filelisturl||[];t.push(e.data.data.source),this.filelisturl=t,this.form.filelisturl=t,this.clearValidateupload()}else this.$message({type:"warning",message:e.data.message,showClose:!0,duration:2e3})})).catch((()=>{this.closeLoading(),this.$message({type:"warning",message:"上传失败，稍后重试",showClose:!0,duration:2e3})}))}}}),v=f,g=a(1001),x=(0,g.Z)(v,o,i,!1,null,"6910e2e8",null),b=x.exports},37315:function(e,t,a){a.d(t,{Z:function(){return b}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("div",[a("el-dialog",{staticClass:"tg-dialog-classic tg-dialog-vcenter-new contract-form-modal",attrs:{visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1128px",top:"70px"},on:{close:e.backClick},scopedSlots:e._u([{key:"title",fn:function(){return[a("span",[e._v(e._s("add"===e.type?"新增供应商合同":"编辑供应商合同"))])]},proxy:!0},{key:"footer",fn:function(){return[a("tg-button",{attrs:{type:"primary",disabled:e.iscannotclick},on:{click:function(t){return e.onSaveBtnClick(1)}}},[e._v("提交审核")]),1!=e.project_type&&1===e.form.contract_status?a("tg-button",{attrs:{disabled:e.iscannotclick},on:{click:function(t){return e.onSaveBtnClick(2)}}},[e._v("合同预览")]):e._e(),a("tg-button",{on:{click:e.backClick}},[e._v("返回")])]},proxy:!0}],null,!1,3845419432)},[a("div",{staticClass:"dialog-content",staticStyle:{padding:"5px 20px","overflow-y":"auto","overflow-x":"hidden",height:"80vh","min-height":"400px"}},[a("el-form",{attrs:{model:e.form,"label-width":"84px"}},[1!=e.project_type?a("el-form-item",{staticStyle:{display:"inline-block",width:"578px","margin-top":"10px"},attrs:{label:"合同类型：",prop:"radio"}},[a("el-radio-group",{staticStyle:{"line-height":"40px",height:"40px"},attrs:{value:e.form.contract_status},on:{input:e.tabscontract_statusChange}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px",width:"230px"},attrs:{label:1}},[e._v("直播推广服务协议（构美&主播）")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px"},attrs:{label:0}},[e._v("其它合同协议")])],1),a("div",{staticStyle:{display:"block",height:"17px","font-family":"PingFangSC-Regular","font-size":"12px","margin-left":"0px","margin-top":"-15px"},style:{marginLeft:0===e.form.contract_status?"250px":"0px"}},[a("i",{staticClass:"el-icon-warning-outline",staticStyle:{color:"#ffac15",height:"22px","line-height":"22px","font-size":"14px"}}),1===e.form.contract_status?a("span",{staticStyle:{color:"#999999","margin-left":"6px",height:"17px","line-height":"17px"}},[e._v("完成信息填写后自动生成该协议文本")]):e._e(),0===e.form.contract_status?a("span",{staticStyle:{color:"#999999","margin-left":"6px",height:"17px","line-height":"17px"}},[e._v("合同模板请至项目合同协议页面下载")]):e._e()])],1):e._e(),a("el-form-item",{staticClass:"flex-form-item",staticStyle:{"margin-right":"20px","margin-top":"10px","margin-bottom":"12px",width:"916px"},attrs:{label:"供  应  商："}},[a("el-select",{staticStyle:{width:"180px","margin-top":"5px"},attrs:{size:"small",filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"请输入并选择供应商名称","remote-method":e.getAllSupplierName,disabled:void 0!==e.contract_id},on:{change:e.onSupplierIdChange},model:{value:e.frame_contract_uid,callback:function(t){e.frame_contract_uid=t},expression:"frame_contract_uid"}},e._l(e.allSupplierName,(function(t){return a("el-option",{key:t.partner_id,attrs:{label:t.partner_name,value:t.partner_id}},[a("span",[e._v(e._s(t.partner_name))])])})),1),a("div",{staticClass:"elbuttonnone add",staticStyle:{display:"inline-block",height:"17px","font-family":"PingFangSC-Regular","font-size":"12px","margin-left":"12px"}},[a("span",{staticStyle:{color:"#999999"}},[e._v("找不到审核通过的供应商信息？点此处")]),a("el-button",{staticStyle:{color:"#2877ff","line-height":"17px","font-size":"12px","font-weight":"400"},on:{click:e.gotoAddCompany}},[a("span",[e._v("新增")])])],1)],1)],1),a("el-form",{ref:"formRef",staticStyle:{"margin-left":"5px"},attrs:{model:e.form,rules:e.formRules}},[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"我方信息"}}),a("el-form-item",{staticClass:"sub-item",attrs:{label:"签约主体",prop:"owncontracttype"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择签约主体","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.owncontracttype,callback:function(t){e.$set(e.form,"owncontracttype",t)},expression:"form.owncontracttype"}},e._l(e.ownInfoRecords,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"联系人花名",prop:"own_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{placeholder:"请输入联系人花名"},model:{value:e.form.own_name,callback:function(t){e.$set(e.form,"own_name","string"===typeof t?t.trim():t)},expression:"form.own_name"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"电话",prop:"own_tel"}},[a("el-input",{attrs:{type:"tel",rows:"1",maxlength:"11",placeholder:"请输入联系人电话"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"own_tel")}},model:{value:e.form.own_tel,callback:function(t){e.$set(e.form,"own_tel",t)},expression:"form.own_tel"}})],1),1===e.form.contract_status?[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"合作内容"}}),a("el-form-item",{staticClass:"sub-item",attrs:{label:"直播平台",prop:"cooperation_work_platform"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px",display:"inline-block"},attrs:{placeholder:"请选择直播平台","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.cooperation_work_platform,callback:function(t){e.$set(e.form,"cooperation_work_platform",t)},expression:"form.cooperation_work_platform"}},e._l(e.pingtaiRecords,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"直播形式",prop:"cooperation_live_way"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px",display:"inline-block"},attrs:{placeholder:"请选择直播形式","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.cooperation_live_way,callback:function(t){e.$set(e.form,"cooperation_live_way",t)},expression:"form.cooperation_live_way"}},e._l(e.liveWayRecords,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"主播名称",prop:"cooperation_zhubo_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{maxlength:"20",placeholder:"请输入主播名称"},model:{value:e.form.cooperation_zhubo_name,callback:function(t){e.$set(e.form,"cooperation_zhubo_name","string"===typeof t?t.trim():t)},expression:"form.cooperation_zhubo_name"}})],1),a("el-form-item",{staticClass:"sub-item",staticStyle:{"margin-right":"0px"},attrs:{label:"链接数量",prop:"cooperation_link_count"}},[a("el-input",{ref:"autoFocuseRef",attrs:{maxlength:"8",placeholder:"请输入链接数量"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"cooperation_link_count")}},model:{value:e.form.cooperation_link_count,callback:function(t){e.$set(e.form,"cooperation_link_count","string"===typeof t?t.trim():t)},expression:"form.cooperation_link_count"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"店铺名称",prop:"cooperation_shop_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{maxlength:"20",placeholder:"请输入店铺名称"},model:{value:e.form.cooperation_shop_name,callback:function(t){e.$set(e.form,"cooperation_shop_name","string"===typeof t?t.trim():t)},expression:"form.cooperation_shop_name"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"产品服务/服务名称",prop:"cooperation_work_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{maxlength:"20",placeholder:"请输入产品服务/服务名称"},model:{value:e.form.cooperation_work_name,callback:function(t){e.$set(e.form,"cooperation_work_name","string"===typeof t?t.trim():t)},expression:"form.cooperation_work_name"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"直播日期（暂定）",prop:"cooperation_gather_date"}},[a("el-date-picker",{staticStyle:{width:"252px"},attrs:{type:"date",editable:!1,placeholder:"请选择直播日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_gather_date,callback:function(t){e.$set(e.form,"cooperation_gather_date",t)},expression:"form.cooperation_gather_date"}})],1),a("el-form-item",{staticClass:"sub-item append",staticStyle:{"margin-right":"0px"},attrs:{label:"讲解时长",prop:"cooperation_work_time"}},[a("el-input",{attrs:{placeholder:"请输入讲解时长"},on:{input:function(t){return e.getfixPositiveNumber(t,"cooperation_work_time")},blur:function(t){return e.blurPositiveNumber(t,"cooperation_work_time")}},model:{value:e.form.cooperation_work_time,callback:function(t){e.$set(e.form,"cooperation_work_time",t)},expression:"form.cooperation_work_time"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("分钟")])])],1),a("el-form-item",{staticClass:"sub-item append",attrs:{label:"平台信息流授权",prop:"cooperation_work_day"}},[a("el-input",{ref:"autoFocuseRef",attrs:{placeholder:"请输入授权天数"},on:{input:function(t){return e.getfixPositiveNumber(t,"cooperation_work_day")},blur:function(t){return e.blurPositiveNumber(t,"cooperation_work_day")}},model:{value:e.form.cooperation_work_day,callback:function(t){e.$set(e.form,"cooperation_work_day",t)},expression:"form.cooperation_work_day"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("天")])])],1),a("el-form-item",{staticClass:"sub-item append",attrs:{label:"种草视频时长",prop:"cooperation_work_video_time"}},[a("el-input",{attrs:{placeholder:"请输入种草视频时长"},on:{input:function(t){return e.getfixPositiveNumber(t,"cooperation_work_video_time")},blur:function(t){return e.blurPositiveNumber(t,"cooperation_work_video_time")}},model:{value:e.form.cooperation_work_video_time,callback:function(t){e.$set(e.form,"cooperation_work_video_time",t)},expression:"form.cooperation_work_video_time"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("秒")])])],1),a("el-form-item",{staticClass:"sub-item append",attrs:{label:"其它权益"}},[a("el-input",{staticClass:"input-show-limit",attrs:{placeholder:"请输入其它权益",maxlength:"20","show-word-limit":""},model:{value:e.form.cooperation_work_other,callback:function(t){e.$set(e.form,"cooperation_work_other",t)},expression:"form.cooperation_work_other"}})],1)]:e._e(),[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"合同期限"}}),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"签约类型",prop:"cooperation_contract_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},attrs:{value:e.form.cooperation_contract_type,disabled:"add"!==e.type},on:{input:e.tabsChange}},e._l(e.qianyuerecord,(function(t){return a("el-radio",{key:t.value,staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px"},attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),4===e.form.cooperation_contract_type||5===e.form.cooperation_contract_type||6===e.form.cooperation_contract_type?a("el-form-item",{staticClass:"sub-item one-item-sub paytypeselect",class:{five:4===e.form.cooperation_contract_type,six:5===e.form.cooperation_contract_type,seven:6===e.form.cooperation_contract_type},staticStyle:{height:"56px","line-height":"56px"},attrs:{label:"关联主合同：","label-width":"80px",prop:"cooperation_link_contract_ID"}},[a("div",{staticClass:"triangle-css3 transform"}),a("el-select",{staticStyle:{width:"292px","margin-top":"-1px"},attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"请输入合同编码","remote-method":e.getContract,size:"medium"},on:{change:function(t){return e.selectContractUidChange(t)}},model:{value:e.form.cooperation_link_contract_ID,callback:function(t){e.$set(e.form,"cooperation_link_contract_ID",t)},expression:"form.cooperation_link_contract_ID"}},e._l(e.contract_uids,(function(e){return a("el-option",{key:e.contract_id,attrs:{label:e.contract_uid,value:e.contract_uid}})})),1)],1):e._e(),a("el-form-item",{staticClass:"one-item",attrs:{label:"合同有效期",prop:"cooperation_zhubo_real_start_time"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"开始日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_zhubo_real_start_time,callback:function(t){e.$set(e.form,"cooperation_zhubo_real_start_time",t)},expression:"form.cooperation_zhubo_real_start_time"}}),a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{disabled:e.form.cooperation_contract_long_type,type:"date",editable:!1,placeholder:"结束日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_zhubo_real_end_time,callback:function(t){e.$set(e.form,"cooperation_zhubo_real_end_time",t)},expression:"form.cooperation_zhubo_real_end_time"}}),a("el-checkbox",{model:{value:e.form.cooperation_contract_long_type,callback:function(t){e.$set(e.form,"cooperation_contract_long_type",t)},expression:"form.cooperation_contract_long_type"}},[e._v("长期有效")])],1),a("el-form-item",{staticClass:"one-item",staticStyle:{"margin-top":"10px"},attrs:{label:"最后一期款项付款时间",prop:"cooperation_zhubo_real_last_time"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"选择时间",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_zhubo_real_last_time,callback:function(t){e.$set(e.form,"cooperation_zhubo_real_last_time",t)},expression:"form.cooperation_zhubo_real_last_time"}})],1)],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"收付款条件"}}),a("el-form-item",{staticClass:"one-item changeerrortypenew",staticStyle:{"margin-bottom":"0px !important"},attrs:{label:"收费类型",prop:"payee_type"}},[a("el-radio-group",{staticStyle:{"line-height":"32px",height:"32px",display:"block","margin-top":"26px"},model:{value:e.form.payee_type,callback:function(t){e.$set(e.form,"payee_type",t)},expression:"form.payee_type"}},[a("label",[a("el-radio",{staticStyle:{"line-height":"32px",height:"32px !important",width:"280px",top:"-10px"},attrs:{label:1},nativeOn:{click:function(t){return t.preventDefault(),e.tabsshoufeiChange(1)}}},[e._v("固定服务费")])],1),a("label",[a("el-radio",{staticStyle:{"line-height":"32px",height:"32px !important",width:"280px",top:"-10px"},attrs:{label:2},nativeOn:{click:function(t){return t.preventDefault(),e.tabsshoufeiChange(2)}}},[e._v("服务费+佣金")])],1),a("label",[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-top":"10px",width:"250px",top:"-10px"},attrs:{label:3},nativeOn:{click:function(t){return t.preventDefault(),e.tabsshoufeiChange(3)}}},[e._v("纯佣金")])],1)])],1),e.form.payee_type&&4!==e.form.payee_type?a("div",{staticClass:"paytypeselect",class:{one:1===e.form.payee_type,two:2===e.form.payee_type,three:3===e.form.payee_type},staticStyle:{"margin-bottom":"8px"}},[a("div",{staticClass:"triangle-css3 transform"}),1===e.form.payee_type?a("div",{staticStyle:{"margin-left":"18px"}},[a("span",[e._v("固定服务费")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"32px",height:"32px !important"},attrs:{placeholder:"请输入(必填)"},on:{input:function(t){return e.getfixPositiveNumber(t,"payee_money")},blur:function(t){return e.blurPositiveNumber(t,"payee_money")}},model:{value:e.form.payee_money,callback:function(t){e.$set(e.form,"payee_money",t)},expression:"form.payee_money"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),2===e.form.payee_type?a("div",{staticStyle:{"margin-left":"18px"}},[a("span",[e._v("服务费")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"32px",height:"32px !important"},attrs:{placeholder:"请输入(必填)"},on:{input:function(t){return e.getfixPositiveNumber(t,"payee_money_two")},blur:function(t){return e.blurPositiveNumber(t,"payee_money_two")}},model:{value:e.form.payee_money_two,callback:function(t){e.$set(e.form,"payee_money_two",t)},expression:"form.payee_money_two"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])]),a("span",{staticStyle:{"margin-left":"24px"}},[e._v("主播佣金")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入(必填)"},on:{input:function(t){return e.getfixIsBaiPositiveNumber(t,"payee_yongjinlv_two")},blur:function(t){return e.blurIsZoreNumber(t,"payee_yongjinlv_two")}},model:{value:e.form.payee_yongjinlv_two,callback:function(t){e.$set(e.form,"payee_yongjinlv_two",t)},expression:"form.payee_yongjinlv_two"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])]),a("span",{staticStyle:{"margin-left":"24px"}},[e._v("构美佣金")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入(选填)"},on:{input:function(t){return e.getfixIsBaiPositiveNumber(t,"payee_yongjinlv_one")},blur:function(t){return e.blurPositiveNumber(t,"payee_yongjinlv_one")}},model:{value:e.form.payee_yongjinlv_one,callback:function(t){e.$set(e.form,"payee_yongjinlv_one",t)},expression:"form.payee_yongjinlv_one"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1):e._e(),3===e.form.payee_type?a("div",{staticStyle:{"margin-left":"18px"}},[a("span",[e._v("主播佣金")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入(必填)"},on:{input:function(t){return e.getfixIsBaiPositiveNumber(t,"payee_yongjinlv_four")},blur:function(t){return e.blurIsZoreNumber(t,"payee_yongjinlv_four")}},model:{value:e.form.payee_yongjinlv_four,callback:function(t){e.$set(e.form,"payee_yongjinlv_four",t)},expression:"form.payee_yongjinlv_four"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])]),a("span",{staticStyle:{"margin-left":"24px"}},[e._v("构美佣金")]),a("el-input",{staticStyle:{"margin-top":"-8px","margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入(选填)"},on:{input:function(t){return e.getfixIsBaiPositiveNumber(t,"payee_yongjinlv_three")},blur:function(t){return e.blurPositiveNumber(t,"payee_yongjinlv_three")}},model:{value:e.form.payee_yongjinlv_three,callback:function(t){e.$set(e.form,"payee_yongjinlv_three",t)},expression:"form.payee_yongjinlv_three"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1):e._e()]):e._e(),a("div",{staticClass:"payee-type-other",staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[a("el-checkbox",{staticStyle:{display:"block","padding-top":"10px",position:"absolute"},model:{value:e.form.payee_type_other,callback:function(t){e.$set(e.form,"payee_type_other",t)},expression:"form.payee_type_other"}},[e._v("其它 ")]),a("el-input",{staticStyle:{display:"inline-block",width:"636px",top:"0px",left:"55px",position:"absolute"},attrs:{type:"textarea",rows:"2",maxlength:"200","show-word-limit":"",placeholder:"请输入",disabled:!e.form.payee_type_other},model:{value:e.form.payee_remarkstr,callback:function(t){e.$set(e.form,"payee_remarkstr",t)},expression:"form.payee_remarkstr"}})],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"ROI要求",prop:"payee_ROI_type"}},[a("el-radio-group",{staticClass:"nocheckbox",staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_ROI_type,callback:function(t){e.$set(e.form,"payee_ROI_type",t)},expression:"form.payee_ROI_type"}},[a("label",[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1},nativeOn:{click:function(t){return t.preventDefault(),e.tabsROIChange(1)}}},[e._v("不保量")])],1),a("label",[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:2},nativeOn:{click:function(t){return t.preventDefault(),e.tabsROIChange(2)}}},[e._v("保量 "),a("div",{staticStyle:{"margin-left":"3px",display:"inline-block",width:"144px",border:"1px solid rgba(164, 178, 194, 0.5)","border-radius":"2px"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.nochange()}}},[a("el-input",{staticClass:"paperview-input-text",staticStyle:{"text-align":"right"},attrs:{maxlength:"8",placeholder:"",disabled:!(2===e.form.payee_ROI_type)},on:{input:function(t){return e.getfixIntPositiveNumber(t,"payee_ROI_request_fw")},blur:function(t){return e.blurIsZoreNumber(t,"payee_ROI_request_fw")}},model:{value:e.form.payee_ROI_request_fw,callback:function(t){e.$set(e.form,"payee_ROI_request_fw",t)},expression:"form.payee_ROI_request_fw"}}),e._v(":"),a("el-input",{staticClass:"paperview-input-text",attrs:{maxlength:"8",placeholder:"",disabled:!(2===e.form.payee_ROI_type)},on:{input:function(t){return e.getfixIntPositiveNumber(t,"payee_ROI_request_xs")},blur:function(t){return e.blurIsZoreNumber(t,"payee_ROI_request_xs")}},model:{value:e.form.payee_ROI_request_xs,callback:function(t){e.$set(e.form,"payee_ROI_request_xs",t)},expression:"form.payee_ROI_request_xs"}})],1),a("div",{staticStyle:{display:"inline-block","line-height":"30px",height:"30px !important","font-family":"PingFangSC-Regular","font-size":"12px",color:"#999999","padding-left":"10px",cursor:"default !important"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.nochange()}}},[e._v(" 服务费 : 保量销售额 ")])])],1)])],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"执行要求",prop:"payee_execute_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_execute_type,callback:function(t){e.$set(e.form,"payee_execute_type",t)},expression:"form.payee_execute_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("先执行后付款")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:2}},[e._v("先付款后执行")])],1)],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"付款要求",prop:"payee_request_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_request_type,callback:function(t){e.$set(e.form,"payee_request_type",t)},expression:"form.payee_request_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("分期付款")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:2}},[e._v("一次性付款")])],1)],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"票款要求",prop:"payee_request_card_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_request_card_type,callback:function(t){e.$set(e.form,"payee_request_card_type",t)},expression:"form.payee_request_card_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("先票后款")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:2}},[e._v("先款后票")])],1)],1),a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"开票要求",prop:"payee_request_opencard_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_request_opencard_type,callback:function(t){e.$set(e.form,"payee_request_opencard_type",t)},expression:"form.payee_request_opencard_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"250px"},attrs:{label:1}},[e._v("专票"),a("el-input",{staticStyle:{"margin-left":"8px",width:"136px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入税率",disabled:!(1===e.form.payee_request_opencard_type)},on:{input:function(t){return e.getfixIntPositiveNumber(t,"payee_request_opencard_shuilv")}},model:{value:e.form.payee_request_opencard_shuilv,callback:function(t){e.$set(e.form,"payee_request_opencard_shuilv",t)},expression:"form.payee_request_opencard_shuilv"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px",width:"250px"},attrs:{label:2}},[e._v("普票"),a("el-input",{staticStyle:{"margin-left":"8px",width:"136px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入税率",disabled:!(2===e.form.payee_request_opencard_type)},on:{input:function(t){return e.getfixIntPositiveNumber(t,"payee_request_opencard_default_shuilv")}},model:{value:e.form.payee_request_opencard_default_shuilv,callback:function(t){e.$set(e.form,"payee_request_opencard_default_shuilv",t)},expression:"form.payee_request_opencard_default_shuilv"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:3}},[e._v("不开票")])],1)],1),1===e.form.contract_status?a("el-form-item",{staticClass:"one-item changeerror",attrs:{label:"付款方式",prop:"payee_paymoney_type"}},[a("el-radio-group",{staticStyle:{"line-height":"30px",height:"30px !important",display:"block"},model:{value:e.form.payee_paymoney_type,callback:function(t){e.$set(e.form,"payee_paymoney_type",t)},expression:"form.payee_paymoney_type"}},[a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px",width:"160px"},attrs:{label:1}},[e._v("对公账户转账")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px",width:"170px"},attrs:{label:2}},[e._v("支付宝转账")]),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important",width:"330px"},attrs:{label:3}},[e._v("V任务下单"),a("el-input",{staticStyle:{"margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入V任务链接",disabled:!(3===e.form.payee_paymoney_type)},model:{value:e.form.payee_paymoney_type_link,callback:function(t){e.$set(e.form,"payee_paymoney_type_link",t)},expression:"form.payee_paymoney_type_link"}})],1),a("el-radio",{staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"0px"},attrs:{label:4}},[e._v("其它"),a("el-input",{staticStyle:{"margin-left":"8px",width:"154px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入其它",disabled:!(4===e.form.payee_paymoney_type)},model:{value:e.form.payee_paymoney_type_other,callback:function(t){e.$set(e.form,"payee_paymoney_type_other",t)},expression:"form.payee_paymoney_type_other"}})],1)],1)],1):e._e()],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"保证金"}}),a("el-form-item",{staticClass:"sub-item",attrs:{label:"是否有保证金",prop:"cashdeposit_need_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.cashdeposit_need_type,callback:function(t){e.$set(e.form,"cashdeposit_need_type",t)},expression:"form.cashdeposit_need_type"}},e._l(e.baozhengjinrecord,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1===e.form.cashdeposit_need_type?a("el-form-item",{staticClass:"sub-item",attrs:{label:"支付日期",prop:"cashdeposit_need_date"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"选择日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cashdeposit_need_date,callback:function(t){e.$set(e.form,"cashdeposit_need_date",t)},expression:"form.cashdeposit_need_date"}})],1):e._e(),1===e.form.cashdeposit_need_type?a("el-form-item",{staticClass:"sub-item append",attrs:{label:"保证金金额",prop:"cashdeposit_need_money"}},[a("el-input",{staticStyle:{width:"252px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入保证金金额"},on:{input:function(t){return e.getfixPositiveNumber(t,"cashdeposit_need_money")},blur:function(t){return e.blurPositiveNumber(t,"cashdeposit_need_money")}},model:{value:e.form.cashdeposit_need_money,callback:function(t){e.$set(e.form,"cashdeposit_need_money",t)},expression:"form.cashdeposit_need_money"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),1===e.form.cashdeposit_need_type?a("el-form-item",{staticClass:"sub-item append",staticStyle:{"margin-right":"0px"},attrs:{label:"直播结束后退还日期",prop:"cashdeposit_need_day"}},[a("el-input",{staticStyle:{width:"252px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"请输入直播结束后退还日期"},on:{input:function(t){return e.getfixPositiveNumber(t,"cashdeposit_need_day")},blur:function(t){return e.blurPositiveNumber(t,"cashdeposit_need_day")}},model:{value:e.form.cashdeposit_need_day,callback:function(t){e.$set(e.form,"cashdeposit_need_day",t)},expression:"form.cashdeposit_need_day"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("工作日")])])],1):e._e()],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"其它信息"}}),a("el-form-item",{staticClass:"sub-item",attrs:{label:"盖章份数",prop:"other_stamp_count"}},[a("el-input",{staticStyle:{width:"252px","line-height":"30px",height:"30px !important"},attrs:{maxlength:"8",placeholder:"请输入盖章份数"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"other_stamp_count")}},model:{value:e.form.other_stamp_count,callback:function(t){e.$set(e.form,"other_stamp_count",t)},expression:"form.other_stamp_count"}})],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"印章名称",prop:"other_stamp_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择印章名称","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.other_stamp_type,callback:function(t){e.$set(e.form,"other_stamp_type",t)},expression:"form.other_stamp_type"}},e._l(e.yinzhengrecord,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sub-item",attrs:{label:"用印时间",prop:"other_stamp_time"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"选择日期",format:"yyyy.MM.dd","value-format":"yyyy.MM.dd"},model:{value:e.form.other_stamp_time,callback:function(t){e.$set(e.form,"other_stamp_time",t)},expression:"form.other_stamp_time"}})],1),a("el-form-item",{staticClass:"sub-item",staticStyle:{"margin-right":"0px"},attrs:{label:"是否邮寄",prop:"other_stamp_send_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择是否邮寄","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.other_stamp_send_type,callback:function(t){e.$set(e.form,"other_stamp_send_type",t)},expression:"form.other_stamp_send_type"}},e._l(e.baozhengjinrecord,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1===e.form.other_stamp_send_type?a("el-form-item",{staticClass:"sub-item",staticStyle:{width:"600px"},attrs:{label:"邮寄信息",prop:"other_stamp_send_address"}},[a("el-input",{staticStyle:{width:"524px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"示例：省+市+区+详细地址，姓名（电话）"},model:{value:e.form.other_stamp_send_address,callback:function(t){e.$set(e.form,"other_stamp_send_address",t)},expression:"form.other_stamp_send_address"}})],1):e._e(),1!=e.project_type&&1===e.form.contract_status?[a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"70px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("甲方应于本合同签订后")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"live_day_pre")},blur:function(t){return e.blurPositiveNumber(t,"live_day_pre")}},model:{value:e.form.live_day_pre,callback:function(t){e.$set(e.form,"live_day_pre",t)},expression:"form.live_day_pre"}}),e._v("日内、直播开播前一次性全额支付给乙方，直播结束后"),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"live_day_later")},blur:function(t){return e.blurPositiveNumber(t,"live_day_later")}},model:{value:e.form.live_day_later,callback:function(t){e.$set(e.form,"live_day_later",t)},expression:"form.live_day_later"}}),e._v("日内乙方根据实际应收款向甲方提供合法有效的且符合约定的增值税专用发票。 ")],1)],1),a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"70px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("如未达成保量销售额，甲方可以选择要求乙方进行补播至保量目标或者要求乙方就未达成部分按比例退还基础服务费【即乙方退还服务费=未达成保量销售额部分÷保量销售额×基础服务费】，甲方选择退款的，乙方应于甲方提出退款申请后")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"refund_day")},blur:function(t){return e.blurPositiveNumber(t,"refund_day")}},model:{value:e.form.refund_day,callback:function(t){e.$set(e.form,"refund_day",t)},expression:"form.refund_day"}}),e._v("日内完成退款。 ")],1)],1),e.form.payee_yongjinlv_three>0&&3===e.form.payee_type||e.form.payee_yongjinlv_one>0&&2===e.form.payee_type?a("div",{staticClass:"not-allowed",staticStyle:{"min-height":"40px"}},[a("el-checkbox",{staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("如因后台设置或其他原因导致未能通过平台系统完成佣金结算的，甲方应在直播结束后")]),a("el-input",{staticClass:"paperview-input-line-text",staticStyle:{width:"110px"},attrs:{placeholder:""},on:{input:function(t){return e.getfixPositiveNumber(t,"live_line_day_later")},blur:function(t){return e.blurPositiveNumber(t,"live_line_day_later")}},model:{value:e.form.live_line_day_later,callback:function(t){e.$set(e.form,"live_line_day_later",t)},expression:"form.live_line_day_later"}}),e._v("日内完成线下结算。 ")],1)],1):e._e(),a("div",{staticClass:"trems",staticStyle:{"min-height":"40px","margin-left":"0px"}},[a("el-checkbox",{staticClass:"not-allowed",staticStyle:{"margin-top":"9px",width:"18px",display:"inline-block",float:"left"},attrs:{disabled:""},model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}}),a("div",{staticClass:"tremsline"},[a("span",{staticStyle:{"padding-left":"10px"}},[e._v("因本协议引起的或与本协议有关的任何争议，双方可通过友好协商解决，协商不成的，任何一方可向")]),a("el-checkbox",{staticStyle:{"margin-right":"0px !important"},model:{value:e.form.contract_xieyi_yifang_type,callback:function(t){e.$set(e.form,"contract_xieyi_yifang_type",t)},expression:"form.contract_xieyi_yifang_type"}},[e._v("甲方")]),a("el-checkbox",{staticStyle:{margin:"0px 10px !important"},model:{value:e.form.contract_xieyi_yuangao_type,callback:function(t){e.$set(e.form,"contract_xieyi_yuangao_type",t)},expression:"form.contract_xieyi_yuangao_type"}},[e._v("原告")]),e._v("住所地人民法院诉讼解决。 ")],1)],1)]:e._e(),a("div",{staticClass:"line-box"},[a("el-form-item",{attrs:{label:1===e.form.contract_status?"附件":"合同及附件",prop:"filelisturl"}},[a("div",[e.filelisturl.length<10?a("el-upload",{staticClass:"upload-btn-wrap",attrs:{action:"","show-file-list":!1,multiple:!1,"http-request":e.uploadAttachmentFile,accept:".doc,.docx,.pdf,.jpg,.jpeg,.png,.xlsx"}},[a("tg-button",{attrs:{icon:"ico-btn-upload"}},[e._v(e._s(1===e.form.contract_status?"上传文件":"合同文本及附件"))])],1):a("tg-button",{staticStyle:{"background-color":"transparent"},attrs:{icon:"ico-btn-upload",disabled:""}},[e._v(e._s(1===e.form.contract_status?"上传文件":"合同文本及附件"))]),1!=e.project_type&&1===e.form.contract_status?a("div",{staticClass:"file-tips"},[e._v(" 合同文本自动生成，无需上传；限docx .doc .pdf .jpg .png .xlsx格式，最多上传10份文件，每份不超过20M。 ")]):a("div",{staticClass:"file-tips"},[e._v(" 限docx .doc .pdf .jpg .png .xlsx格式，最多上传10份文件，每份不超过20M。 ")])],1)])],1),a("div",{staticClass:"file-list-box"},[a("upload-file-list",{staticStyle:{"margin-bottom":"14px"},model:{value:e.filelisturl,callback:function(t){e.filelisturl=t},expression:"filelisturl"}})],1),a("el-form-item",{staticClass:"remark-item",attrs:{prop:"other_remark",label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:"4",maxlength:"100","show-word-limit":"",placeholder:"请输入"},model:{value:e.form.other_remark,callback:function(t){e.$set(e.form,"other_remark",t)},expression:"form.other_remark"}})],1)]],2)],1)]),a("tg-mask-loading",{attrs:{visible:e.saveLoading,content:"  正在提交数据，请稍候..."}})],1):e._e()},i=[],r=(a(21703),a(26699),a(97434)),n=a(86863),l=a(1763),p=a(64236),s=a(83005),_=a(48606),c=a(97484),u=a(29625),d=a(84731),m=a(74750),y=a(44928),h=a(61282),f=(0,r.defineComponent)({name:"TemplateContract",props:{type:{type:String,default:"add"}},components:{},setup(e,t){const a=(0,r.ref)(null),o=(0,m.LP)(),i=(0,r.ref)(!1),c=(0,r.ref)(!1),h=(0,r.ref)(void 0),f=(0,r.ref)(void 0),v=(0,y.t)(),g=v.currentRoute.params.id,x=(0,r.ref)(void 0),b=(0,r.ref)(!1),k=t.root.$store.getters["user/getUserInfo"],w=k.username,S=k.phone,C=(0,r.ref)({cooperation_live_way:void 0,payee_remarkstr:void 0,live_start_day_pre:void 0,live_line_day_later:void 0,refund_day:void 0,live_day_later:void 0,live_day_pre:void 0,contract_xieyi_yuangao_type:!1,contract_xieyi_yifang_type:!1,filelisturl:void 0,other_remark:void 0,other_stamp_send_address:void 0,other_stamp_send_type:void 0,other_stamp_time:void 0,other_stamp_type:void 0,other_stamp_count:void 0,cashdeposit_need_day:void 0,cashdeposit_need_money:void 0,cashdeposit_need_date:void 0,cashdeposit_need_type:0,payee_paymoney_type_other:void 0,payee_paymoney_type_link:void 0,payee_paymoney_type:void 0,payee_request_opencard_default_shuilv:void 0,payee_request_opencard_shuilv:void 0,payee_request_opencard_type:void 0,payee_request_card_type:void 0,payee_request_type:void 0,payee_execute_type:void 0,payee_ROI_request_fw:void 0,payee_ROI_request_xs:void 0,payee_ROI_request:void 0,payee_ROI_type:void 0,payee_other:void 0,payee_yongjinlv_four:void 0,payee_yongjinlv_three:void 0,payee_yongjinlv_two:void 0,payee_yongjinlv_one:void 0,payee_money_two:void 0,payee_money:void 0,payee_type:void 0,payee_type_other:void 0,cooperation_zhubo_real_last_time:void 0,cooperation_contract_long_type:void 0,cooperation_zhubo_real_end_time:void 0,cooperation_zhubo_real_start_time:void 0,cooperation_zhubo_real_time:void 0,cooperation_link_contract_ID:void 0,cooperation_contract_type:void 0,cooperation_work_other:void 0,cooperation_work_video_time:void 0,cooperation_work_video:void 0,cooperation_work_day:void 0,cooperation_work_platform:void 0,cooperation_gather_date:void 0,cooperation_work_time:void 0,cooperation_work_name:void 0,cooperation_shop_name:void 0,cooperation_link_count:void 0,cooperation_zhubo_name:void 0,own_tel:S,owncontracttype:void 0,own_name:w,contract_status:1}),q=(0,r.ref)({cooperation_gather_date:[{required:!0,message:"请输入直播日期（暂定）",trigger:"blur"}],cooperation_work_name:[{required:!0,message:"请输入产品服务/服务名称",trigger:"blur"}],cooperation_shop_name:[{required:!0,message:"请输入店铺名称",trigger:["blur","change"]}],cooperation_link_count:[{required:!0,message:"请输入链接数量",trigger:["blur","change"]}],cooperation_zhubo_name:[{required:!0,message:"请输入主播名称",trigger:["blur","change"]}],cooperation_live_way:[{required:!0,message:"请选择直播形式",trigger:"change"}],cooperation_work_platform:[{required:!0,message:"请选择直播平台",trigger:"change"}],filelisturl:[{required:!0,message:"请上传合同文本及附件",trigger:["blur","change"]}],other_stamp_send_address:[{required:!0,message:"请输入邮寄信息",trigger:["blur","change"]}],other_stamp_send_type:[{required:!0,message:"请选择是否邮寄",trigger:"change"}],other_stamp_time:[{required:!0,message:"请选择用印时间",trigger:"change"}],other_stamp_type:[{required:!0,message:"请选择印章名称",trigger:"change"}],other_stamp_count:[{required:!0,message:"请输入盖章份数",trigger:["blur","change"]}],payee_paymoney_type:[{required:!0,message:"请选择付款方式",trigger:"change"},{validator:(e,t,a)=>{3===C.value.payee_paymoney_type?C.value.payee_paymoney_type_link?a():a(new Error("请输入V任务链接")):4===C.value.payee_paymoney_type?C.value.payee_paymoney_type_other?a():a(new Error("请输入其它")):a()},trigger:["blur"]}],payee_request_opencard_type:[{required:!0,message:"请选择开票要求",trigger:"change"},{validator:(e,t,a)=>{1===C.value.payee_request_opencard_type?C.value.payee_request_opencard_shuilv?a():a(new Error("请输入专票税率")):2===C.value.payee_request_opencard_type?C.value.payee_request_opencard_default_shuilv?a():a(new Error("请输入普票税率")):a()},trigger:["blur"]}],payee_request_card_type:[{required:!0,message:"请选择票款要求",trigger:"change"}],payee_request_type:[{required:!0,message:"请选择付款要求",trigger:"change"}],payee_execute_type:[{required:!0,message:"请选择执行要求",trigger:"change"}],payee_ROI_type:[{required:!0,message:"请选择ROI要求",trigger:"change"}],payee_type:[{required:!0,message:"请选择收费类型",trigger:["blur","change"]},{validator:(e,t,a)=>{!0!==C.value.payee_type_other||C.value.payee_remarkstr?1===t?C.value.payee_money?a():a(new Error("请输入固定服务费")):2===t?C.value.payee_money_two&&C.value.payee_yongjinlv_two?a():a(new Error("请输入服务费、主播佣金")):3===t?C.value.payee_yongjinlv_four?a():a(new Error("请输入主播佣金")):a():a(new Error("请输入其它"))},trigger:["blur"]}],cooperation_zhubo_real_last_time:[{required:!0,message:"请选择最后一期款项付款时间",trigger:"change"}],cooperation_zhubo_real_start_time:[{required:!0,message:"请选择合同有效期",trigger:"change"},{validator:(e,t,a)=>{C.value.cooperation_contract_long_type||C.value.cooperation_zhubo_real_end_time?a():a(new Error("请选择合同有效期"))},trigger:["blur"]}],cooperation_link_contract_ID:[{required:!0,message:"请输入关联主合同编号",trigger:["blur","change"]}],gonyingshang_name:[{required:!0,message:"请选择供应商名称",trigger:["blur","change"]}],own_name:[{required:!0,message:"请输入联系人花名",trigger:["blur","change"]}],own_tel:[{required:!0,message:"请输入联系人电话",trigger:["blur","change"]}],business_types:[{required:!0,message:"请选择签约主体",trigger:"change"}],cooperation_contract_type:[{required:!0,message:"请选择签约类型",trigger:"change"}],owncontracttype:[{required:!0,message:"请选择签约主体",trigger:"change"}],priority:[{required:!0,message:"请输入显示顺序",trigger:["blur","change"]}],status:[{required:!0,message:"请选择模板状态",trigger:"change"}],proceeds_plan:[]}),j=(0,r.inject)("project");let $=j.value?.business_type||void 0;const I=(0,r.ref)(!0),R=(0,r.ref)(void 0),N=[{required:!0,message:"请选择ROI要求",trigger:"change"},{validator:(e,t,a)=>{2===C.value.payee_ROI_type?C.value.payee_ROI_request_fw?C.value.payee_ROI_request_xs?a():a(new Error("请输入保量销售额")):a(new Error("请输入服务费")):a()},trigger:["blur"]}],z=[{required:!1,message:"请选择ROI要求",trigger:"change"},{validator:(e,t,a)=>{2===C.value.payee_ROI_type?C.value.payee_ROI_request_fw?C.value.payee_ROI_request_xs?a():a(new Error("请输入保量销售额")):a(new Error("请输入服务费")):a()},trigger:["blur"]}];(0,r.watch)((()=>C),(e=>{1===e.value.contract_status?(q.value.payee_ROI_type=N,q.value.filelisturl=[{required:!1,message:"请上传合同文本及附件",trigger:["blur","change"]}]):(q.value.payee_ROI_type=z,q.value.filelisturl=[{required:!0,message:"请上传合同文本及附件",trigger:["blur","change"]}]);const t=e.value;t.cooperation_zhubo_real_start_time&&R.value&&t.owncontracttype?I.value=!1:I.value=!0,t.cooperation_contract_long_type&&(t.cooperation_zhubo_real_end_time=""),t.payee_type_other?void 0===t.payee_type&&(t.payee_type=4):4===t.payee_type&&(t.payee_type=void 0),(1===t.payee_type&&t.payee_money||2===t.payee_type&&t.payee_money_two&&t.payee_yongjinlv_two||3===t.payee_type&&t.payee_yongjinlv_four||t.payee_type_other&&t.payee_remarkstr)&&setTimeout((()=>{a.value?.clearValidate("payee_type")}),10)}),{deep:!0}),(0,r.watch)((()=>C.value.contract_xieyi_yifang_type),(e=>{!0===e&&(C.value.contract_xieyi_yuangao_type=!1)}),{deep:!0}),(0,r.watch)((()=>C.value.contract_xieyi_yuangao_type),(e=>{!0===e&&(C.value.contract_xieyi_yifang_type=!1)}),{deep:!0}),(0,r.watch)((()=>R),(()=>{const e=C.value;e.cooperation_zhubo_real_start_time&&R.value&&e.owncontracttype?I.value=!1:I.value=!0}),{deep:!0}),(0,r.watch)((()=>j),(e=>{$=e.value?.business_type||void 0}),{deep:!0}),(0,r.watch)((()=>C.value.contract_status),(()=>{G()}),{deep:!0});const O=(0,r.ref)([]),P=()=>{t.root.$router.push({name:l.bv.manage})};let V;const M=()=>{V=_.Loading.service({lock:!0,text:"加载中……",background:"rgba(0, 0, 0, 0.7)"})},A=()=>{V.close()},D=(0,r.ref)([]),B=(0,r.ref)([]),L=e=>{const t=e;R.value=t},E=async e=>{const{data:t}=await(0,n.cQ)({partner_type:2,verify_status:1,partner_name:e});B.value=t.success?t.data:[]},F=[{value:1,label:"构美（浙江）信息科技有限公司"},{value:2,label:"杭州煜丰电子商务有限公司"},{value:3,label:"构美（浙江）信息科技有限公司上海分公司"}],T=[{value:1,label:"抖音"},{value:2,label:"淘宝"},{value:3,label:"快手"},{value:4,label:"小红书"}],U=[{value:1,label:"混场"},{value:2,label:"专场"}],Z=[{value:1,label:"单次合作"},{value:2,label:"框架合同"},{value:3,label:"长期合作"},{value:4,label:"补充协议"},{value:5,label:"从合同"},{value:6,label:"解除协议"}],J=[{value:1,label:"公章"},{value:2,label:"合同专用章"}],Y=(0,r.ref)(u.kA.live),K=(0,d.f)();K.isCommonBusinessDetail||K.isCommonBusinessCustomerContractDetail||K.isCommonBusinessSupplierContractDetail?Y.value=u.kA.common_business:K.isLiveDetail?(Y.value=u.kA.live,C.value.contract_status=0):K.isCoopDetail&&(Y.value=u.kA.marketing);const Q={headers:{Authorization:(0,m.LP)()??""}},W=e=>{fetch(e,Q).then((async a=>{const o=a.clone();try{const e=await o.json();t.root.$message.error(e.message)}catch{if(200===a.status){const t=await a.blob(),o=new URL(e),i=decodeURIComponent(o.pathname.split("/").pop()??"");(0,p.uA)(t,i)}else t.root.$message.error("下载失败")}}))},X=async()=>{setTimeout((()=>{new Promise((e=>a.value?.validate((t=>e(t)))))}),10)},G=()=>{setTimeout((()=>{a.value?.clearValidate()}),10)},H=()=>{setTimeout((()=>{a.value?.clearValidate("filelisturl")}),10)},ee=async e=>{const r=C.value;if(1===r.contract_status){if(!r.cooperation_work_time&&!r.cooperation_work_day&&!r.cooperation_work_video_time&&!r.cooperation_work_other)return t.root.$message.warning("讲解时长、平台信息流授权、种草视频时长、其它权益4选1必填。"),!1;if(!r.live_day_pre||!r.live_day_later||!r.refund_day)return t.root.$message.warning("请将条款填写全"),!1;if((r.payee_yongjinlv_three>0&&3===r.payee_type||r.payee_yongjinlv_one>0&&2===r.payee_type)&&!r.live_line_day_later)return t.root.$message.warning("请将条款填写全"),!1;if(!1===r.contract_xieyi_yuangao_type&&!1===r.contract_xieyi_yifang_type)return t.root.$message.warning("请将条款填写全"),!1}if(C.value.cashdeposit_need_type&&(!C.value.cashdeposit_need_date||!C.value.cashdeposit_need_money||!C.value.cashdeposit_need_day))return t.root.$message.warning("请完善保证金信息"),!1;const n=await new Promise((e=>a.value?.validate((t=>e(t)))));if(!f.value&&!h.value)return 2===Y.value?pe():le(),t.root.$message.warning("正在获取合同编码，请稍等重新提交"),!1;if(n){if(!r.cooperation_contract_long_type){const e=new Date(C.value.cooperation_zhubo_real_start_time),a=new Date(C.value.cooperation_zhubo_real_end_time);if(a<e)return t.root.$message.warning("合同有效期结束时间不得小于开始时间"),!1}const a=[{key:"签约主体",value:F[r.owncontracttype-1].label},{key:"联系人花名",value:r.own_name},{key:"电话",value:r.own_tel}];let n=[];1===r.contract_status&&(n=[{key:"直播平台",value:r.cooperation_work_platform?T[r.cooperation_work_platform-1].label:void 0},{key:"直播形式",value:r.cooperation_live_way?U[r.cooperation_live_way-1].label:void 0},{key:"主播名称",value:r.cooperation_zhubo_name},{key:"链接数量",value:r.cooperation_link_count},{key:"店铺名称",value:r.cooperation_shop_name},{key:"产品服务/服务名称",value:r.cooperation_work_name},{key:"直播日期",value:r.cooperation_gather_date},{key:"讲解时长",value:r.cooperation_work_time},{key:"授权天数",value:r.cooperation_work_day},{key:"种草视频时长",value:r.cooperation_work_video_time},{key:"其它权益",value:r.cooperation_work_other}]);let l=r.cooperation_zhubo_real_start_time;r.cooperation_contract_long_type?l+="/长期有效":l=l+"/"+r.cooperation_zhubo_real_end_time;const p=[{key:"签约类型",value:Z[r.cooperation_contract_type-1].label},{key:"关联主合同",value:r.cooperation_contract_type<4?void 0:r.cooperation_link_contract_ID},{key:"合同有效期",value:l},{key:"最后一期款项付款时间",value:r.cooperation_zhubo_real_last_time}];let _=[{key:"收费类型",value:1===r.payee_type?"固定服务费":2===r.payee_type?"固定服务费+佣金":3===r.payee_type?"纯佣金":""},{key:"收费类型-其它",value:r.payee_type_other?1:0},{key:"固定服务费",value:1===r.payee_type?r.payee_money:2===r.payee_type?r.payee_money_two:void 0},{key:"构美佣金",value:3===r.payee_type?r.payee_yongjinlv_three||0:2===r.payee_type?r.payee_yongjinlv_one||0:void 0},{key:"主播佣金",value:3===r.payee_type?r.payee_yongjinlv_four:2===r.payee_type?r.payee_yongjinlv_two:void 0},{key:"其它",value:r.payee_type_other?r.payee_remarkstr:void 0},{key:"ROI要求",value:1===r.payee_ROI_type?"不保量":2===r.payee_ROI_type?"保量":""},{key:"ROI要求保量-服务费",value:2===r.payee_ROI_type?r.payee_ROI_request_fw:void 0},{key:"ROI要求保量-保量销售额",value:2===r.payee_ROI_type?r.payee_ROI_request_xs:void 0},{key:"执行要求",value:1===r.payee_execute_type?"先执行后付款":"先付款后执行"},{key:"付款要求",value:1===r.payee_request_type?"分期付款":"一次性付款"},{key:"票款要求",value:1===r.payee_request_card_type?"先票后款":"先款后票"},{key:"开票要求",value:1===r.payee_request_opencard_type?"专票":2===r.payee_request_opencard_type?"普票":"不开票"},{key:"开票税率",value:1===r.payee_request_opencard_type?r.payee_request_opencard_shuilv:2===r.payee_request_opencard_type?r.payee_request_opencard_default_shuilv:void 0}];1===r.contract_status&&(_=_.concat({key:"付款方式",value:1===r.payee_paymoney_type?"对公账户转账":2===r.payee_paymoney_type?"支付宝转账":3===r.payee_paymoney_type?"V任务下单":"其它"},{key:"V任务下单",value:3===r.payee_paymoney_type?r.payee_paymoney_type_link:void 0},{key:"付款方式-其它",value:4===r.payee_paymoney_type?r.payee_paymoney_type_other:void 0}));const u=[{key:"是否有保证金",value:1===r.cashdeposit_need_type?1:0},{key:"支付日期",value:1===r.cashdeposit_need_type?r.cashdeposit_need_date:void 0},{key:"保证金金额",value:1===r.cashdeposit_need_type?r.cashdeposit_need_money:void 0},{key:"直播结束后退还日期",value:1===r.cashdeposit_need_type?r.cashdeposit_need_day:void 0}];let d=[{key:"盖章份数",value:r.other_stamp_count},{key:"印章名称",value:J[r.other_stamp_type-1].label},{key:"用印时间",value:r.other_stamp_time},{key:"是否邮寄",value:1===r.other_stamp_send_type?1:0},{key:"邮寄信息",value:1===r.other_stamp_send_type?r.other_stamp_send_address:void 0}];1===r.contract_status&&(d=d.concat({key:"签订日期",value:r.live_day_pre},{key:"直播结束日期",value:r.live_day_later},{key:"退款日期",value:r.refund_day},{key:"线下结算日期",value:r.payee_yongjinlv_three>0&&3===r.payee_type||r.payee_yongjinlv_one>0&&2===r.payee_type?r.live_line_day_later:void 0},{key:"诉讼方",value:r.contract_xieyi_yifang_type?"甲方":"原告"}));const m={contract_id:f.value,project_id:x.value||g||j.value?.id,contract_uid:h.value,contract_type:Number(r.contract_status),our_info:a,cooperation_duration:p,cooperation_content:n,pay_condition:_,margin:u,others:d,supplier_id:R.value,attachment_urls:D.value,remark:r.other_remark,frontend_data:{...r,myproject_type:Y.value,mybusiness_type:$,myprojectId:g||j.value?.id}};if(b.value=!0,1===e){const e=3===Y.value?"common":2===Y.value?"coop":"shop_live",{data:a}=await(0,s.Mi)(m,e);b.value=!1,a.success?(t.root.$message.success(a.message),i.value=!1,c.value=!1,t.emit("added")):t.root.$message.error(a.message)}else if(2===e||3===e){const i={contract_agreement_type:"supplier",contract_uid:h.value,dataset:{project_id:x.value||g||j.value?.id,contract_uid:h.value,contract_type:Number(r.contract_status),our_info:a,cooperation_duration:p,cooperation_content:n,pay_condition:_,margin:u,others:d,supplier_id:R.value,attachment_urls:D.value,remark:r.other_remark}},{data:l}=await(0,s.Yp)(i);if(b.value=!1,l.success){const t=l.data,a=t.file_url,i=(new Date).getTime();2===e?window.open(a+"?Authorization="+o+"&t="+i):W(a+"?Authorization="+o+"&t="+i)}else t.root.$message.error(l.message)}else b.value=!1}},te=(0,r.ref)([]),ae=e=>{C.value.cooperation_contract_type=e},oe=e=>{C.value.payee_type===e?!0===C.value.payee_type_other?C.value.payee_type=4:C.value.payee_type=void 0:C.value.payee_type=e},ie=e=>{C.value.contract_status=e},re=e=>{C.value.payee_ROI_type===e?0===C.value.contract_status&&(C.value.payee_ROI_type=void 0):C.value.payee_ROI_type=e},ne=()=>{},le=async()=>{Promise.resolve().then((()=>(0,n.LK)({business_type:$}))).then((e=>{e.data.success?h.value=e.data.data:t.root.$message.error(e.data.message)})).catch((()=>{t.root.$message.error("合同编号获取失败，稍后重试")}))},pe=async()=>{(0,n.XZ)().then((e=>{e.data.success?h.value=e.data.data:t.root.$message.error(e.data.message)})).catch((()=>{t.root.$message.error("合同编号获取失败，稍后重试")}))};return{nochange:ne,checked2:!0,getContractNumber:le,getMarketContractNumber:pe,clearValidate:G,clearValidateupload:H,username:w,phone:S,refresh:X,saveLoading:b,myprojectId:x,no_upload_click:i,visible:c,projectId:g,contract_id:f,tabscontract_statusChange:ie,tabsshoufeiChange:oe,tabsROIChange:re,tabsChange:ae,downclick:W,mytoken:o,contract_uid:h,project_type:Y,pingtaiRecords:T,liveWayRecords:U,onSaveBtnClick:ee,formRef:a,allSupplierName:B,getAllSupplierName:E,onSupplierIdChange:L,filelisturl:D,startLoading:M,closeLoading:A,ownInfoRecords:F,qianyuerecord:Z,baozhengjinrecord:[{value:1,label:"是"},{value:0,label:"否"}],yinzhengrecord:J,gotoAddCompany:P,frame_contract_uid:R,contractInfoRecords:O,formRules:q,form:C,iscannotclick:I,project:j,business_type:$,contract_uids:te}},methods:{getfixIntPositiveNumber(e,t){if("payee_request_opencard_shuilv"===t||"payee_request_opencard_default_shuilv"===t)if(e=e.replace(/[^.\d]+/gu,""),e>=100){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,h.nA)(this.form[t])}else this.form[t]=(0,h.nA)(e);else e=e.replace(/[^\d]+/gu,""),e=(0,h.nA)(e),this.form[t]=(0,h.nA)(e)},getfixPositiveNumber(e,t){if(e=(0,h.nA)(e),e>1e8){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,h.nA)(this.form[t])}else this.form[t]=(0,h.nA)(e)},getfixIsBaiPositiveNumber(e,t){if(e=(0,h.nA)(e),e>100){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,h.nA)(this.form[t])}else{if(this.form[t]=(0,h.nA)(e),("payee_yongjinlv_one"===t&&this.form["payee_yongjinlv_two"]||"payee_yongjinlv_two"===t&&this.form["payee_yongjinlv_one"])&&Number(this.form["payee_yongjinlv_one"])+Number(this.form["payee_yongjinlv_two"])>100){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,h.nA)(this.form[t])}if(("payee_yongjinlv_three"===t&&this.form["payee_yongjinlv_four"]||"payee_yongjinlv_four"===t&&this.form["payee_yongjinlv_three"])&&Number(this.form["payee_yongjinlv_three"])+Number(this.form["payee_yongjinlv_four"])>100){const e=String(this.form[t]).split("");return e.pop(),this.form[t]=e.join(""),void(this.form[t]=(0,h.nA)(this.form[t]))}}},blurIsZoreNumber(e,t){const a=String(this.form[t]).split("");a.length>0&&"."===a[a.length-1]&&(a.pop(),this.form[t]=a.join("")),a.length>0&&"."===a[0]&&(this.form[t]=void 0)},blurPositiveNumber(e,t){const a=String(this.form[t]).split("");a.length>0&&"."===a[a.length-1]&&(a.pop(),this.form[t]=a.join("")),a.length>0&&"."===a[0]&&(this.form[t]=void 0)},getContract(e){const t=this.project_type||"";(0,c.Sw)({partner_type:2,contract_status:2,release_status:0,search:e,project_type:t}).then((({data:e})=>{this.contract_uids=e.data.data}))},selectContractUidChange(e){this.form.cooperation_link_contract_ID=e},show(e){if(this.form={cooperation_live_way:void 0,payee_remarkstr:void 0,live_start_day_pre:void 0,live_line_day_later:void 0,refund_day:void 0,live_day_later:void 0,live_day_pre:void 0,contract_xieyi_yuangao_type:!1,contract_xieyi_yifang_type:!1,payee_money_two:void 0,payee_yongjinlv_two:void 0,filelisturl:void 0,other_remark:void 0,other_stamp_send_address:void 0,other_stamp_send_type:void 0,other_stamp_time:void 0,other_stamp_type:void 0,other_stamp_count:void 0,cashdeposit_need_day:void 0,cashdeposit_need_money:void 0,cashdeposit_need_date:void 0,cashdeposit_need_type:0,payee_paymoney_type_other:void 0,payee_paymoney_type_link:void 0,payee_paymoney_type:void 0,payee_request_opencard_default_shuilv:void 0,payee_request_opencard_shuilv:void 0,payee_request_opencard_type:void 0,payee_request_card_type:void 0,payee_request_type:void 0,payee_execute_type:void 0,payee_ROI_request_fw:void 0,payee_ROI_request_xs:void 0,payee_ROI_request:void 0,payee_ROI_type:void 0,payee_other:void 0,payee_yongjinlv:void 0,payee_money:void 0,payee_type:void 0,payee_type_other:void 0,cooperation_zhubo_real_last_time:void 0,cooperation_contract_long_type:void 0,cooperation_zhubo_real_end_time:void 0,cooperation_zhubo_real_start_time:void 0,cooperation_zhubo_real_time:void 0,cooperation_link_contract_ID:void 0,cooperation_contract_type:void 0,cooperation_work_other:void 0,cooperation_work_video_time:void 0,cooperation_work_video:void 0,cooperation_work_day:void 0,cooperation_work_platform:void 0,cooperation_gather_date:void 0,cooperation_work_time:void 0,cooperation_work_name:void 0,cooperation_shop_name:void 0,cooperation_link_count:void 0,cooperation_zhubo_name:void 0,owncontracttype:void 0,own_tel:this.phone,own_name:this.username,contract_status:1},this.clearValidate(),e){if(this.iscannotclick=!1,e.template_info.frontend_data){const t=JSON.parse(JSON.stringify(e.template_info.frontend_data));for(const e in t)this.form[e]=t[e]}this.contract_id=e.contract_detail.contract_id,this.contract_uid=e.template_info.contract_uid,this.form.contract_status||(this.form.contract_status=0),this.frame_contract_uid=e.template_info.supplier_id||e.contract_info.company_id,this.filelisturl=e.template_info.attachment_urls||e.template_info.frontend_data.filelisturl||[],this.myprojectId=e.contract_info.project_id||e.template_info.frontend_data.myprojectId,this.business_type=e.contract_info.business_type||e.template_info.frontend_data.mybusiness_type,e.template_info.frontend_data.myproject_type&&(this.project_type=e.template_info.frontend_data.myproject_type),this.getAllSupplierName(e.contract_info.company_name||"")}else this.filelisturl=[],this.frame_contract_uid=void 0,this.iscannotclick=!0,1===this.project_type&&(this.form.contract_status=0),2===this.project_type?this.getMarketContractNumber():this.getContractNumber();this.no_upload_click=!0,this.visible=!0,this.$nextTick((()=>{}))},backClick(){this.frame_contract_uid||this.form.owncontracttype?this.$confirm("你确定退出当前合同协议编辑吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",iconClass:"warning-icon"}).then((()=>{this.visible=!1})).catch((()=>!1)):this.visible=!1},beforeUpload(e){return e.size>20971520?(this.$message.warning(`${e.name} ${(e.size/1024/1024).toFixed(2)}MB 请限制在20MB以内`),!1):!(!["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword",".sheet"].includes(e.type)&&![".jpg",".jpeg",".png",".pdf",".doc",".docx",".xlsx"].includes((0,p.mD)(e.name)))||(this.$message.warning("文件格式不正确，请使用  pdf / docx / doc / jpg / png / xlsx"),!1)},async uploadAttachmentFile(e){const t=this.beforeUpload(e.file);if(!t)return;const a=new FormData;a.append("file",e.file,e.file.name),a.append("attachment_type","contract_annex"),this.startLoading(),(0,n.w_)(a).then((e=>{if(this.closeLoading(),e.data.success){const t=this.filelisturl||[];t.push(e.data.data.source),this.filelisturl=t,this.form.filelisturl=t,this.clearValidateupload()}else this.$message({type:"warning",message:e.data.message,showClose:!0,duration:2e3})})).catch((()=>{this.closeLoading(),this.$message({type:"error",message:"上传失败，稍后重试",showClose:!0,duration:2e3})}))}}}),v=f,g=a(1001),x=(0,g.Z)(v,o,i,!1,null,"1444d535",null),b=x.exports},25711:function(e,t,a){a.d(t,{Y:function(){return n}});var o=a(97434);const i=!0,r=i?3e5:3e4,n=(e=r)=>{const t=(0,o.ref)(new Map([])),a=a=>{const o=t.value.get(a);return void 0===o?void 0:o.timestamp+e>Date.now()?o.record:void 0},i=(e,a)=>{const o={key:e,record:a,timestamp:Date.now()};t.value.set(e,o)},n=e=>t.value.delete(e),l=()=>{t.value.clear()};return{getCache:a,setCache:i,removeCache:n,clearCache:l}}}}]);
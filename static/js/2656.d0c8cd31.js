"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[2656],{92656:function(t,a,e){e.d(a,{Z:function(){return y}});var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-dialog",{staticClass:"customer-dialog loan-detail-dialog el-dialog-center-rewrite",attrs:{isAppendToBody:!0,visible:t.visible,width:"900px",isfooter:!0,"close-on-click-modal":!1,title:"付款详情"},on:{close:t.emitClose}},[[e("div",{staticClass:"container-max"},[e("div",{staticClass:"main"},[e("div",{staticClass:"main-middle"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"from-middle-first"},[e("span",{staticClass:"color-9"},[t._v("付款编号：")]),e("span",[t._v(t._s(t.detailroval.uid))])])]),e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("项目编码：")]),e("span",[t._v(" "+t._s(t.detailroval.project_uid)+" ")])])]),e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("项目名称：")]),e("span",[t._v(" "+t._s(t.detailroval.project_name)+" ")])])])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("业务类型：")]),e("span",[t._v(" "+t._s(1===t.detailroval.business_type?"营销业务":2===t.detailroval.business_type?"淘宝店播":3===t.detailroval.business_type?"抖音店播":4===t.detailroval.business_type?"基地业务":"S2B2C")+" ")])])]),e("el-col",{attrs:{span:16}},[e("div",[e("span",{staticClass:"color-9"},[t._v("供应商：")]),e("span",[t._v(" "+t._s(t.fillEmptyStr(t.detailroval.cost_company_name))+" ")]),1===t.detailroval.business_type?e("span",[t._v("(KOL："+t._s(t.detailroval.kol_name)+")")]):t._e()])])],1),e("div",{staticClass:"linediv"}),[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("付款类型：")]),1===t.detailroval.pay_type?e("span",[t._v("成本")]):2===t.detailroval.pay_type?e("span",[t._v("退款")]):t._e()])]),e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("付款金额：")]),e("span",[t._v(" "+t._s(t.getnomalAmount(t.detailroval.pay_amount))+" ")])])]),e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("打款方式：")]),1===t.detailroval.pay_way?e("span",[t._v("银行卡")]):2===t.detailroval.pay_way?e("span",[t._v("v任务")]):3===t.detailroval.pay_way?e("span",[t._v("对公银行")]):4===t.detailroval.pay_way?e("span",[t._v("支付宝")]):e("span",[t._v("--")])])])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("付款凭证：")]),t.detailroval.pay_certificate_pic?e("span",{staticStyle:{color:"#2877ff",cursor:"pointer"},on:{click:function(a){return t.checkoutPaymentBtn(t.detailroval.pay_certificate_pic)}}},[t._v(" 查看 ")]):e("span",[t._v("--")])])]),e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("发票信息：")]),0===t.detailroval.is_invoice?e("span",[t._v("未开票")]):t.detailroval.invoice_info.length>=1?e("span",{staticStyle:{color:"#2877ff",cursor:"pointer"},on:{click:function(a){return t.openinvoicefinance(t.detailroval.invoice_info)}}},[t._v(" 查看 ")]):e("span",[t._v("--")])])])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:22}},[e("div",[e("span",{staticClass:"color-9"},[t._v("付款事由：")]),e("span",[t._v(t._s(t.fillEmptyStr(t.detailroval.pay_reason)))])])])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:22}},[e("div",[e("span",{staticClass:"color-9"},[t._v("关联单据：")]),e("div",[2===t.detailroval.pay_type?[t._v(" 原单号 ("),e("span",{on:{click:function(a){return t.checkoutPaymentApprovalBtn(t.detailroval)}}},[t._v(t._s(t.detailroval.achievement_uid))]),t._v(" ) ")]:[t._v(" 合同 ("),t.detailroval.contract_uid?e("span",{staticStyle:{color:"#2877ff",cursor:"pointer"},on:{click:function(a){return t.checkoutPaymentcontractBtn(t.detailroval.contract_id,t.detailroval.contract_type)}}},[t._v(t._s(t.detailroval.contract_uid))]):e("span",[t._v("--")]),t._v(")      "),[t._v("用款 ("),t.detailroval.approval_uid?e("span",{on:{click:function(a){return t.checkoutPaymentApprovalBtn(t.detailroval)}}},[t._v(" "+t._s(t.detailroval.approval_uid)+" ")]):e("span",[t._v("--")]),t._v(") ")],t._v("     "),[t._v("垫款 ("),t.detailroval.borrowing_uid?e("span",{on:{click:function(a){return t.checkoutPaymentImprestBtn(t.detailroval)}}},[t._v(t._s(t.detailroval.borrowing_uid))]):e("span",[t._v("--")]),t._v(") ")],t._v("     "),"{}"!==JSON.stringify(t.detailroval.associate_cost?t.detailroval.associate_cost:{})?[t._v("付款 ("),e("el-popover",{attrs:{trigger:"hover","popper-class":"pop-receivable-1",placement:"bottom-end"}},[e("div",{staticClass:"pop-receivable-header",staticStyle:{"font-weight":"400","margin-bottom":"10px"}},[t._v(" 操作人："+t._s(t.detailroval.associate_cost?t.detailroval.associate_cost.operator_username:"")+" "),e("span",[t._v("（"+t._s(t.detailroval.associate_cost?t.detailroval.associate_cost.operator_date:"")+"）")])]),e("el-table",{attrs:{stripe:"",data:t.detailroval.associate_cost?t.detailroval.associate_cost.costs:[],"header-cell-style":{height:"40px !important",padding:"0px !important",fontSize:"14px",fontWeight:"400 !important",fontFamily:"Helvetica !important",color:"#3c5269",border:"none"},"cell-style":{border:"none",height:"40px !important",padding:"0px !important"}}},[e("el-table-column",{staticStyle:{"font-weight":"400"},attrs:{label:"付款ID",width:"104"},scopedSlots:t._u([{key:"default",fn:function(a){return e("span",{staticStyle:{"font-weight":"400 !important",color:"#3c5269","line-height":"40px","font-size":"14px"}},[t._v(" "+t._s(a.row.id)+" ")])}}],null,!1,2315905109)},[e("span",{staticStyle:{"font-weight":"400 !important",color:"#6a7b92","line-height":"40px","font-size":"14px"},attrs:{slot:"header"},slot:"header"},[t._v(" 付款ID ")])]),e("el-table-column",{attrs:{align:"right",label:"金额",width:"128"},scopedSlots:t._u([{key:"default",fn:function(a){return e("span",{staticStyle:{"font-weight":"400 !important",color:"#3c5269","line-height":"40px","font-size":"14px"}},[t._v(" "+t._s(t.gettwonomalAmount(a.row.amount))+" ")])}}],null,!1,3499400834)},[e("span",{staticStyle:{"font-weight":"400 !important",color:"#6a7b92","line-height":"40px","font-size":"14px"},attrs:{slot:"header"},slot:"header"},[t._v(" 金额 ")])])],1),e("span",{staticClass:"overview",staticStyle:{color:"#2877ff",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[t._v("预览")])],1),t._v(") ")]:t._e()]],2)])])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:23}},[e("div",[e("span",{staticClass:"color-9"},[t._v("付款账号：")]),e("span",[t._v(" "+t._s(t.fillEmptyStr(t.detailroval.bank_account))+"     "+t._s(t.fillEmptyStr(t.detailroval.bank_name))+"     "+t._s(t.fillEmptyStr(t.detailroval.bank_no)))])])])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:23}},[e("div",[e("span",{staticClass:"color-9"},[t._v("收款账号：")]),2===t.detailroval.pay_way?e("span",[t._v(t._s(t.fillEmptyStr(t.detailroval.pay_way_detail.wangwang_name))+"     "+t._s(t.fillEmptyStr(t.detailroval.pay_way_detail.v_task_id))+" ")]):3===t.detailroval.pay_way?e("span",[t._v(" "+t._s(t.fillEmptyStr(t.detailroval.pay_way_detail.company_name))+"     "+t._s(t.fillEmptyStr(t.detailroval.pay_way_detail.bank_of_deposit))+"     "+t._s(t.fillEmptyStr(t.detailroval.pay_way_detail.bank_card_number)))]):e("span",[t._v(" "+t._s(t.fillEmptyStr(t.detailroval.pay_way_detail.name))+"     "+t._s(t.fillEmptyStr(t.detailroval.pay_way_detail.account)))])])])],1),2===t.detailroval.pay_way&&1===t.detailroval.business_type&&t.detailroval.pay_way_detail[0].v_task_url?e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:23}},[e("div",[e("span",{staticClass:"color-9"},[t._v("V任务链接：")]),e("a",{attrs:{target:"_blank",href:t.detailroval.pay_way_detail[0].v_task_url}},[t._v(" "+t._s(t.detailroval.pay_way_detail[0].v_task_url)+" ")])])])],1):t._e(),2===t.detailroval.pay_way&&1===t.detailroval.business_type&&t.detailroval.pay_way_detail[0].item_url?e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:23}},[e("div",[e("span",{staticClass:"color-9"},[t._v("产品链接：")]),e("a",{attrs:{target:"_blank",href:t.detailroval.pay_way_detail[0].item_url}},[t._v(" "+t._s(t.detailroval.pay_way_detail[0].item_url)+" ")])])])],1):t._e(),e("div",{staticClass:"linediv"}),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("核销状态：")]),1===t.detailroval.business_type&&8===t.detailroval.new_cost_type||2===t.detailroval.business_type&&0===t.detailroval.is_split||3===t.detailroval.business_type&&0===t.detailroval.is_split?e("span",[t._v(" -- ")]):[2===t.detailroval.write_off_status?e("span",{staticClass:"write-on"},[t._v("已核销")]):1===t.detailroval.write_off_status?e("span",{staticClass:"write-off"},[t._v("部分核销")]):e("span",{staticClass:"write-off"},[t._v("未核销")])]],2)])],1),t.detailroval.write_off_infos.length>0?e("el-row",{staticStyle:{"margin-bottom":"20px !important"},attrs:{gutter:20}},[e("el-col",{staticStyle:{"background-color":"#ffffff",width:"30px"}},[e("div",[e("span",{staticStyle:{color:"#ffffff"}},[t._v("jjj")])])]),e("el-col",{attrs:{span:22}},[e("div",[e("el-table",{style:{height:t.detailroval.write_off_infos.length<1?"100px":""},attrs:{data:t.detailroval.write_off_infos,border:"","empty-text":"暂无收款记录"}},[e("el-table-column",{attrs:{prop:"settlement_uid",label:"结算单号","min-width":"100",align:"center"}}),e("el-table-column",{attrs:{prop:"payable_uid",label:"应付单号","min-width":"100",align:"center"}}),e("el-table-column",{attrs:{prop:"write_off_amount",label:"核销金额 (元)","min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return e("span",{},[t._v(" "+t._s(t.gettwonomalAmount(a.row.write_off_amount))+" ")])}}],null,!1,2564872674)}),e("el-table-column",{attrs:{prop:"write_off_user",label:"核销人","min-width":"60",align:"center"}}),e("el-table-column",{attrs:{prop:"write_off_time",label:"核销时间","min-width":"60",align:"center"}})],1)],1)])],1):t.detailroval.refund_write_off_infos.length>0?e("el-row",{staticStyle:{"margin-bottom":"20px !important"},attrs:{gutter:20}},[e("el-col",{staticStyle:{"background-color":"#ffffff",width:"30px"},attrs:{span:1}},[e("div",[e("span",{staticStyle:{color:"#ffffff"}},[t._v("jjj")])])]),e("el-col",{attrs:{span:22}},[e("div",[e("el-table",{style:{height:t.detailroval.refund_write_off_infos.length<1?"100px":""},attrs:{data:t.detailroval.refund_write_off_infos,border:"","empty-text":"暂无收款记录"}},[e("el-table-column",{attrs:{prop:"settlement_uid",label:"结算单号","min-width":"80"}}),e("el-table-column",{attrs:{prop:"receivable_uid",label:"应收单号","min-width":"80"}}),e("el-table-column",{attrs:{label:"核销金额 (元)","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(a){return e("span",{},[t._v(" "+t._s(t.gettwonomalAmount(a.row.write_off_amount))+" ")])}}])}),e("el-table-column",{attrs:{prop:"write_off_user",label:"核销人","min-width":"80"}}),e("el-table-column",{attrs:{prop:"write_off_time",label:"核销时间","min-width":"80"}})],1)],1)])],1):t._e(),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:22}},[e("div",[e("span",{staticClass:"color-9"},[t._v("备注：")]),e("span",[t._v(t._s(t.fillEmptyStr(t.detailroval.note)))])])])],1),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v("录入人：")]),e("span",[t._v(" "+t._s(t.fillEmptyStr(t.detailroval.add_by_username))+"   "+t._s(t.fillEmptyStr(t.detailroval.gmt_create.split(" ")[0].replace(/-/g,".")))+" ")])])]),e("el-col",{attrs:{span:8}},[e("div",[e("span",{staticClass:"color-9"},[t._v(" 确认人：")]),e("span",[t._v(" "+t._s(t.fillEmptyStr(t.detailroval.confirm_by_name))+"   "+t._s(t.fillEmptyStr(t.detailroval.pay_date.split(" ")[0].replace(/-/g,".")))+" ")])])])],1)]],2)])])]],2),e("Invoicelist",{ref:"invoicelistRef"}),e("finance-invoice-detail-dialog",{attrs:{visible:t.financeInvoiceDetailVisible,list:t.invoiceList},on:{closeFinanceInvoiceDetailAction:t.closeFinanceInvoiceDetailAction}})],1)},i=[],o=e(97434),s=e(85937),n=e.n(s),r=e(61282),c=e(64519),p=e(74750),_=e(91538),v=e(86611),d=(0,o.defineComponent)({name:"PaymentLoanDetailModal",props:{visible:{type:Boolean,required:!0},detailroval:{type:Object}},components:{Invoicelist:_.Z,FinanceInvoiceDetailDialog:v.Z},mounted(){},setup(t,a){const e=(0,o.ref)(void 0),l=()=>a.emit("dialog:closerow"),i=t=>{t&&m(t)},s=(t,a)=>{b(t,a)},_=t=>{},v=t=>{g(t)},d=t=>{},u=t=>`￥${(0,r.SJ)(new(n())(t))}`,f=t=>`${(0,r.SJ)(new(n())(t))}`,m=t=>{const a=t.split(",");1===a.length?c.Z.showDetail(a[0]+"?Authorization="+(0,p.LP)()):e.value.show({title:"打款凭证",list:a.map((t=>t+"?Authorization="+(0,p.LP)())),type:1})},y=(0,o.ref)(void 0),w=(0,o.ref)(!1),g=t=>{y.value=t,w.value=!0},h=()=>{w.value=!1},b=(t,a)=>{t&&(1===a||2===a?window.open("/legal/contract/customer/"+t):5===a?window.open("/legal/contract/customerTemplate/"+t):6===a?window.open("/legal/contract/supplierTemplate/"+t):7===a?window.open("/legal/contract/anchorTemplate/"+t):window.open("/legal/contract/supplier/"+t))};return{getnomalAmount:u,gettwonomalAmount:f,checkoutPaymentImprestBtn:d,checkoutPaymentApprovalBtn:_,checkoutPaymentcontractBtn:s,emitClose:l,openinvoicefinance:v,checkoutPaymentBtn:i,fillEmptyStr:r.Vw,closeFinanceInvoiceDetailAction:h,invoiceList:y,financeInvoiceDetailVisible:w,invoicelistRef:e}},methods:{receiveType(t){return 1===t?"V任务":2===t?"支付宝":3===t?"对公银行":4===t?"阿里妈妈":5===t?"巨量百应":"--"}}}),u=d,f=e(1001),m=(0,f.Z)(u,l,i,!1,null,"3b6e92a7",null),y=m.exports},86611:function(t,a,e){e.d(a,{Z:function(){return v}});var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"invoice-detail-dialog"},[e("el-dialog",{staticClass:"tg-dialog-classic",attrs:{visible:t.visible,width:"550px",center:!0,"close-on-click-modal":!1,"destroy-on-close":!0},on:{close:t.closeAction},scopedSlots:t._u([{key:"title",fn:function(){return[t._v(t._s(t.title))]},proxy:!0}])},[e("div",{staticClass:"dialog-height-scroll"},t._l(t.list,(function(a,l){return e("div",{key:l,staticClass:"list"},[e("h3",{staticClass:"list-item-title"},[t._v("凭证"+t._s(l+1))]),e("div",{staticClass:"list-item"},[e("img",{staticClass:"list-item-img",attrs:{src:a.pic_url+"?Authorization="+t.getToken(),alt:""},on:{click:function(e){t.checkoutPaymentBtn(a.pic_url+"?Authorization="+t.getToken())}}}),e("div",{staticClass:"list-item-detail"},[e("p",[e("span",{staticClass:"label"},[t._v("发票号码：")]),e("span",[t._v(t._s(t._f("emptyData")(a.invoice_num)))])]),e("p",[e("span",{staticClass:"label"},[t._v("开票时间：")]),e("span",[t._v(t._s(t._f("emptyData")(a.invoice_date.replace(/-/g,"."))))])]),e("p",[e("span",{staticClass:"label"},[t._v("开票金额：")]),e("span",[t._v(t._s(t.numberMoneyFormat(a.amount,2)))])]),e("div",{staticStyle:{display:"flex"}},[e("span",{staticClass:"label"},[t._v("开票公司：")]),e("p",{staticClass:"line-clamp-1",staticStyle:{width:"210px"}},[t._v(" "+t._s(t._f("emptyData")(a.institution))+" ")])])])])])})),0)])],1)},i=[],o=e(24643),s=e(74750),n=e(64519),r={name:"FinanceCertificate",props:{title:{type:String,default:"发票详情"},list:{type:Array,default:()=>[]},visible:{type:Boolean,default:!1}},filters:{emptyData(t){return""===t||void 0===t||null===t?"--":t}},methods:{getToken:s.LP,numberMoneyFormat:o.rH,checkoutPaymentBtn(t){n.Z.showDetail(t)},closeAction(){this.$emit("closeFinanceInvoiceDetailAction")}}},c=r,p=e(1001),_=(0,p.Z)(c,l,i,!1,null,"02371747",null),v=_.exports}}]);
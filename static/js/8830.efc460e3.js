(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[8830],{44744:function(e,t,a){"use strict";a.d(t,{Z:function(){return _}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{height:"314px",width:"100%"}},[e.date.length>0?a("base-echarts",{staticStyle:{width:"680px",height:"314px"},attrs:{options:e.baseOptions}}):a("Empty")],1)},o=[],r=a(32200),l=a(99197),n=a(8136),s=a(45781);const{tranNumber:d}=s.Z,c=(e,t,a="")=>{if(void 0===e||null===e||""===e||"--"===e)return"--";const i=Math.abs(e-0);return isNaN(i)?e+a:0===t?i+a:i.toFixed(t)+a};var p={name:"index",components:{BaseEcharts:r.Z,Empty:l.Z},props:{loading:{type:Boolean,default:!0},date:{type:Array,default:()=>[]},list:{type:Array,default:()=>[]},legend:{type:Boolean,default:()=>!0},color:{type:Array},percentage:{type:Boolean},unit:{type:String,default:"%"}},data(){return{baseOptions:{grid:{top:30,left:10,right:30,bottom:40,containLabel:!0},tooltip:{trigger:"axis",backgroundColor:"#fff",padding:0,formatter:e=>{let t="";for(let i=0;i<3;i++){t+='<div style="display: flex; line-height: 24px;padding: 0 10px;color: #606974;font-size: 12px;font-weight: normal">',t+='<div style="display: flex;align-items: center;margin-right: 10px; flex: 1;">';const a=e[i].seriesName;let o=e[i].value>0?"ico-icon_tongyong_shangsheng_16_red":"ico-icon_tongyong_xiajiang_16_green";if(o=`<svg  aria-hidden="true" class="icon ${o}" style="color: rgb(196, 203, 210);"><use xlink:href="#${o}"></use></svg>`,"品牌销售额"===a||"大盘销售额"===a){const r=e.find((e=>e.seriesName===a+"_data"));t+=`${e[i].marker}<span>${(0,n.bI)(e[i].seriesName,15)}：</span>`,t+=`<span style="padding-left: 5px; font-weight: 600">${c(r?.value,i)} `,null!==r?.value&&void 0!==r?.value&&"--"!==r.value&&(t+=`(${o}${c(e[i].value,0,"%")})`),t+="</span>\n                  </div>"}else if("品牌对比涨幅"===e[i].seriesName){t+=`<span style="padding-left: 16px">${e[i].seriesName}：</span>`,void 0!==e[i].value&&null!==e[i].value&&"--"!==e[i].value?t+=`<span style="padding-left: 5px; font-weight: 600">${o}${c(d(e[i].value),0,"%")}</span>`:t+='<span style="padding-left: 5px; font-weight: 600">--</span>',t+="</div>",t+="</div>";break}t+="</div>"}const a=`<div style="padding-bottom: 10px">\n              <p style="padding:10px;">\n                <span>${e[0].name}</span>\n                <span style="float:right;"></span>\n              </p>\n              ${t}\n            </div>`;return a},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:this.legend,bottom:0,data:["品牌销售额","大盘销售额"]},xAxis:{type:"category",data:[],axisLine:{lineStyle:{color:"rgba(52,63,76,0.30)"},onZero:!1},axisTick:{lineStyle:{opacity:0}},axisLabel:{color:"#606974",fontSize:11},splitLine:{show:!1}},color:this.color?this.color:n.nA,yAxis:[{type:"value",name:"销售额涨幅%",nameLocation:"end",nameTextStyle:{color:"#606974",fontSize:12},splitLine:{show:!0,lineStyle:{color:["#eee"],type:"dashed"}},axisTick:{lineStyle:{opacity:0}},axisLabel:{color:"#606974",formatter:(...e)=>{const t=d(...e);return!0===this.percentage?`${t}%`:t}},axisLine:{lineStyle:{type:"solid",color:"rgba(52,63,76,0.30)",width:"1"}}},{type:"value",show:!1,nameLocation:"end",nameTextStyle:{color:"#606974",fontSize:12},splitLine:{show:!0,lineStyle:{color:["#eee"],type:"dashed"}},axisTick:{lineStyle:{opacity:0}},axisLabel:{color:"#606974",formatter:(...e)=>{const t=d(...e);return!0===this.percentage?`${t}%`:t}},axisLine:{lineStyle:{type:"solid",color:"rgba(52,63,76,0.30)",width:"1"}}}],series:[]}}},created(){this.init()},watch:{date:{handler(){this.init()},deep:!0},list:{handler(){this.init()},deep:!0}},methods:{init(){const e=JSON.parse(JSON.stringify(this.list));this.baseOptions.xAxis.data=this.date,this.baseOptions.series=e,this.baseOptions={...this.baseOptions}}}},u=p,m=a(1001),h=(0,m.Z)(u,i,o,!1,null,"2d1bd874",null),_=h.exports},32200:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chart",staticClass:"chart"})},o=[],r=a(4096),l={props:{options:{type:Object,default:()=>({})},currentIndex:{type:Number,default:-1}},watch:{options:{handler(e){this.updateOptions(e)},deep:!0},currentIndex:{handler:function(e){-1!==e&&this.upAxisPointer()},deep:!0}},mounted(){const{resize:e,...t}=this.$listeners,a=this.$refs.chart;this.chart=r.init(a),Object.keys(t).forEach((e=>{this.chart.on(e,((...t)=>this.$emit(e,this.chart,...t)))})),this.updateOptions(this.options),window.addEventListener("resize",this.resize),this.chart.on("click",this.clickFunc)},destroyed(){window.removeEventListener("resize",this.resize),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{resize(...e){this.chart.resize(),this.$emit("resize",[this.chart,...e])},updateOptions(e){null!==e&&void 0!==e&&this.chart.setOption(e,!0)},clickFunc(e){this.$emit("selectClick",e)},upAxisPointer(){let e={currentIndex:this.currentIndex},t=this.options.series[3].data.length;e.currentIndex>0&&this.chart.dispatchAction({type:"downplay",seriesIndex:3,dataIndex:e.currentIndex-1}),e.currentIndex=e.currentIndex%t,this.chart.dispatchAction({type:"highlight",seriesIndex:3,dataIndex:e.currentIndex}),this.chart.dispatchAction({type:"showTip",seriesIndex:3,dataIndex:e.currentIndex})}}},n=l,s=a(1001),d=(0,s.Z)(n,i,o,!1,null,"67d5f011",null),c=d.exports},99197:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"empty-chart",staticStyle:{"margin-top":"20px"}},[a("empty-common",{attrs:{"detial-text":"暂无数据","img-height":100,"img-width":150}})],1)},o=[],r=a(1001),l={},n=(0,r.Z)(l,i,o,!1,null,"1c4271b8",null),s=n.exports},15899:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"32px 32px 0 32px",height:"80px","text-align":"center"}},[a("div",{staticStyle:{width:"100%",height:"28px",display:"flex"}},[a("div",{staticStyle:{"min-width":"80px",background:"#00b8f0","padding-left":"24px",color:"#ffffff","border-radius":"4px 0 0 4px","line-height":"28px","text-align":"left"},style:{width:(e.obj.people_num_ratio||0)+"%"}},[e._v(" "+e._s(null===e.obj.people_num_ratio||void 0===e.obj.people_num_ratio?"--":(e.obj.people_num_ratio||0)+"%")+" ")]),a("div",{staticStyle:{flex:"1","min-width":"80px",background:"#2877ff","text-align":"right","padding-right":"24px",color:"#ffffff","border-radius":"0 4px 4px 0","line-height":"28px"}},[e._v(" "+e._s(null===e.obj.second_people_num_ratio||void 0===e.obj.second_people_num_ratio?"--":(e.obj.second_people_num_ratio||0)+"%")+" ")])]),a("div",{staticStyle:{"margin-top":"8px",display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"font-weight":"400","font-size":"14px",color:"#ffffff","text-align":"left","min-width":"150px","border-bottom-left-radius":"100px","border-top-left-radius":"100px",width:"200px"}},[a("div",{staticStyle:{"font-weight":"400","font-size":"14px",color:"#19232d","line-height":"20px",display:"flex","justify-content":"flex-start"}},[a("span",[e._v(e._s(e.obj.one_lable))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"500",trigger:"hover",content:e.obj.issuccess?e.onesuccessdetailstr:e.onefaildetailstr}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[a("tg-icon",{staticStyle:{"font-size":"16px",color:"#a4b2c2"},attrs:{name:"ico-icon_explain"}})],1)],1)],1),a("div",{staticStyle:{"font-weight":"500","font-size":"14px",color:"#19232d","line-height":"20px"}},[e._v(" "+e._s(null===e.obj.people_num||void 0===e.obj.people_num?"--":e.formatAmount(Number(e.obj.people_num||0).toFixed(0),"None",!0))+" ")])]),a("div",{staticStyle:{"font-weight":"500","font-size":"14px",color:"#ffffff","text-align":"right","min-width":"150px","border-bottom-left-radius":"100px","border-top-left-radius":"100px",flex:"1",width:"200px"}},[a("div",{staticStyle:{"font-weight":"500","font-size":"14px",color:"#19232d","line-height":"20px",display:"flex","justify-content":"flex-end"}},[a("span",[e._v(e._s(e.obj.two_lable))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"500",trigger:"hover",content:e.obj.issuccess?e.twosuccessdetailstr:e.twofaildetailstr}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[a("tg-icon",{staticStyle:{"font-size":"16px",color:"#a4b2c2"},attrs:{name:"ico-icon_explain"}})],1)],1)],1),a("div",{staticStyle:{"font-weight":"400","font-size":"14px",color:"#19232d","line-height":"20px"}},[e._v(" "+e._s(null===e.obj.second_people_num||void 0===e.obj.second_people_num?"--":e.formatAmount(Number(e.obj.second_people_num||0).toFixed(0),"None",!0))+" ")])])])])},o=[],r=a(61282),l={name:"line",props:{obj:{required:!1,type:Object,default:()=>({})}},data(){return{formatAmount:r.dN}},computed:{onesuccessdetailstr(){return"首购人数"===this.obj.one_lable?"在本场直播前的历史时间内没有购买过店铺的商品且在本场直播间的直播过程中购买店铺商品的用户":"有互动人数"===this.obj.one_lable?"在本场直播间有做过“点赞/评论/分享”行为且在本场直播间的直播过程中支付成功的用户":"粉丝人数"===this.obj.one_lable?"在本场直播间的直播过程中支付成功的用户中的粉丝用户，粉丝取的是：在本场直播结束的时间点正在关注抖音/抖音极速版/抖音火山版3端账号的用户，包含本场直播新增的粉丝。":""},twosuccessdetailstr(){return"复购人数"===this.obj.two_lable?"在本场直播前的历史时间内购买过店铺的商品且在本场直播间的直播过程中购买店铺商品的用户":"无互动人数"===this.obj.two_lable?"在本场直播间没有做过“点赞/评论/分享”行为且在本场直播间购买商品的用户，包含退款":"非粉丝人数"===this.obj.two_lable?"在本场直播间的直播过程中支付成功的用户中的非粉丝用户，非粉丝取的是：在本场直播结束的时间点没有关注抖音/抖音极速版/抖音火山版3端账号的用户":""},onefaildetailstr(){return"观看40s+人数"===this.obj.one_lable?"在本场直播间的直播过程中没有支付成功的用户中的观看直播时长大于等于40s 的用户":"有互动人数"===this.obj.one_lable?"在本场直播间有做过“点赞/评论/分享”行为且在本场直播间的直播过程中没有支付成功的用户":"粉丝人数"===this.obj.one_lable?"在本场直播间的直播过程中没有支付成功的用户中的粉丝用户，粉丝取的是：在本场直播结束的时间点正在关注抖音/抖音极速版/抖音火山版3端账号的用户，包含本场直播新增的粉丝。":""},twofaildetailstr(){return"无效观看人数"===this.obj.two_lable?"在本场直播间的直播过程中没有支付成功的用户中的观看直播时长小于40s的用户":"无互动人数"===this.obj.two_lable?"在本场直播间没有做过“点赞/评论/分享”行为且在本场直播间的直播过程中没有支付成功的用户":"非粉丝人数"===this.obj.two_lable?"在本场直播间的直播过程中没有支付成功的用户中的非粉丝用户，非粉丝取的是：在本场直播结束的时间点没有关注抖音/抖音极速版/抖音火山版3端账号的用户":""}},created(){}},n=l,s=a(1001),d=(0,s.Z)(n,i,o,!1,null,"4230346a",null),c=d.exports},78003:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-main"},[a("tg-card",{attrs:{padding:[18,18,18]}},[a("el-form",{ref:"formRef",staticStyle:{height:"32px"},attrs:{inline:!0,"label-width":"60px",size:"small","label-position":"left"}},[a("el-form-item",{attrs:{label:"商品信息"}},[a("el-input",{staticStyle:{width:"204px"},attrs:{placeholder:"请输入商品名称或商品编码"},model:{value:e.searchProjectName,callback:function(t){e.searchProjectName="string"===typeof t?t.trim():t},expression:"searchProjectName"}})],1),a("el-form-item",{staticStyle:{"margin-left":"14px"},attrs:{label:"二级类目"}},[a("el-select",{staticStyle:{width:"144px"},attrs:{placeholder:"请选择类目",filterable:""},on:{change:e.onSelectCatIdChange},model:{value:e.select_cat_id,callback:function(t){e.select_cat_id=t},expression:"select_cat_id"}},[a("el-option",{attrs:{label:"全部",value:void 0}}),e._l(e.categoryList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],2)],1),a("el-form-item",{staticStyle:{"margin-left":"14px"},attrs:{label:"三级类目"}},[a("el-select",{staticStyle:{width:"144px"},attrs:{placeholder:"请选择类目",filterable:""},model:{value:e.third_tiange_cat_id,callback:function(t){e.third_tiange_cat_id=t},expression:"third_tiange_cat_id"}},[a("el-option",{attrs:{label:"全部",value:void 0}}),e._l(e.categoryList2,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],2)],1),a("el-form-item",{staticStyle:{"margin-left":"14px"}},[a("tg-button",{attrs:{type:"primary"},on:{click:e.searchInfo}},[e._v("查询")]),a("tg-button",{staticClass:"mgl-12",on:{click:e.onQueryResetClick}},[e._v("重置")])],1)],1)],1),a("div",{staticStyle:{"background-color":"rgb(246, 246, 246)",height:"10px"}}),a("tg-card",e._b({staticClass:"flex-auto live-display-content",attrs:{padding:[18,18,0,18]},on:{"rect:update":e.onRectUpdate}},"tg-card",e.cardProps,!1),[a("tg-table",{directives:[{name:"loading",rawName:"v-loading",value:e.saleInfoLoading,expression:"saleInfoLoading"}],attrs:{stripe:"",border:"",data:e.saleInfoData,"default-sort":{prop:"sale_count",order:"descending"},height:"100%","header-cell-style":{background:"#ffffff",height:"36px !important",color:"#19232d",fontSize:"12px",padding:0,fontWeight:"bold",borderBottom:"1px solid #EAEEF0"}},on:{"sort-change":e.tableSort}},[e._l(e.infoColumn,(function(t,i){return a("el-table-column",e._b({key:i},"el-table-column",t,!1))})),a("template",{slot:"empty"},[a("empty-common",{attrs:{"detial-text":"暂无数据"}})],1)],2),a("div",{staticClass:"block flex-none",staticStyle:{margin:"0 0 10px 0"}},[e.infoTotal>0?a("el-pagination",{staticClass:"mgt-12",attrs:{"current-page":e.saleInfo.page_num,"page-size":e.saleInfo.num,total:e.infoTotal,layout:"total, prev, pager, next, jumper"},on:{"current-change":e.onCurrentChange}}):e._e()],1)],1)],1)},o=[],r=a(97434),l=a(55917),n=a(20809),s=(0,r.defineComponent)({props:{kol_id:{type:Object,default:()=>{}}},setup(e,t){const a=(0,r.ref)(""),{tableHeightLogic:i,onTopCardRectUpdate:o}=(0,n.Z)(),s=(0,r.ref)({}),d=(0,r.computed)((()=>({...s.value,is_from_project:"true"===String(s.is_from_project),...e.kol_id?{first_cat_id:p.value,second_cat_id:u.value}:{second_tiange_cat_id:p.value,third_tiange_cat_id:u.value}}))),c=t=>{p.value=t.second_tiange_cat_id,s.value=t,y({level:e.kol_id?void 0:1,category_id:void 0,...d.value}),p.value&&S(),u.value=t.third_tiange_cat_id,j()},p=(0,r.ref)(void 0),u=(0,r.ref)(void 0),m=(0,r.ref)({num:5,page_num:1,sort:""}),{saleData:h,getData:_,loading:g,total:f,hotGoodsColumn:v,category_2:x,category_3:b,getCategory_2:y,getCategory_3:w}=e.kol_id?(0,l.$d)(t):(0,l.CB)(t),F=e=>{const{prop:t,order:a}=e;m.value.sort=null===a?"sale_count_desc":"ascending"===a?t:t+"_desc",j()},j=()=>{_({...d.value,...m.value,title:a.value})},C=e=>{m.value.page_num=e,j()},S=()=>{u.value=void 0,w({start_date:d.value.start_date,end_date:d.value.end_date,project_id:d.value.project_id,level:2,kol_id:e.kol_id||void 0,category_id:p.value})},D=()=>{a.value="",u.value=void 0,p.value=void 0,m.value.page_num=1,j()};return{onTopCardRectUpdate:o,...i,onCurrentChange:C,onQueryResetClick:D,searchInfo:j,saleInfo:m,projectAndDate:d,tableSort:F,saleInfoData:h,getSaleInfo:_,saleInfoLoading:g,infoTotal:f,infoColumn:v,select_cat_id:p,categoryList:x,searchProjectName:a,categoryList2:b,onSelectCatIdChange:S,third_tiange_cat_id:u,show:c}}}),d=s,c=a(1001),p=(0,c.Z)(d,i,o,!1,null,"8136f8e4",null),u=p.exports},57048:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[0===e.performanceId?a("div",{staticStyle:{"margin-top":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{height:"390px",width:"100%","padding-top":"0px",border:"1px solid #d1d8e0","border-radius":"4px",padding:"0"}},[a("div",{staticClass:"echartTitle",staticStyle:{"padding-top":"18px","padding-left":"18px"}},[e._v("增粉趋势")]),e.baseProjectOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"320px"}},[a("BaseEcharts",{attrs:{options:e.baseProjectOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{"padding-top":"100px",height:"320px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]):e._e(),a("div",{staticStyle:{height:"531px","margin-top":"24px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("div",{staticStyle:{margin:"32px auto",width:"968px",height:"56px","border-radius":"10px",display:"flex",background:"#ff8c00"}},[a("div",{staticStyle:{width:"0px",background:"#2877ff","font-weight":"400","font-size":"18px",color:"#ffffff","padding-left":"70px","text-align":"left","min-width":"250px","border-bottom-left-radius":"10px","border-top-left-radius":"10px"},style:{width:e.getWidthperent(e.detail_obj.purchase_people_num,e.detail_obj.not_purchase_people_num)}},[a("div",{staticStyle:{"line-height":"56px"}},[e._v(" 成交人数："+e._s(null===e.detail_obj.purchase_people_num||void 0===e.detail_obj.purchase_people_num?"--":e.formatAmount(Number(e.detail_obj.purchase_people_num||0).toFixed(0),"None",!0))+" ")])]),a("div",{staticStyle:{flex:"1","font-weight":"400","font-size":"18px",color:"#ffffff","padding-right":"70px","text-align":"right","min-width":"250px","border-bottom-right-radius":"10px","border-top-right-radius":"10px"}},[a("div",{staticStyle:{"line-height":"56px"}},[e._v(" 未成交人数："+e._s(null===e.detail_obj.not_purchase_people_num||void 0===e.detail_obj.not_purchase_people_num?"--":e.formatAmount(Number(e.detail_obj.not_purchase_people_num||0).toFixed(0),"None",!0))+" ")])])]),a("div",{staticStyle:{margin:"32px auto",width:"968px",display:"flex","justify-content":"space-between","padding-top":"0px"}},[a("div",{staticStyle:{width:"520px",height:"376px",background:"#fafafa",border:"1px solid #d1d8e0"}},[a("div",{staticStyle:{height:"20px",width:"20px","background-color":"#fafafa","z-index":"1","border-left":"1px solid #d1d8e0","border-top":"1px solid #d1d8e0",transform:"rotate(45deg)","margin-left":"150px","margin-top":"-11px"}}),a("line-div",{attrs:{obj:{people_num_ratio:e.detail_obj.first_purchase_people_num_ratio,people_num:e.detail_obj.first_purchase_people_num,one_lable:"首购人数",two_lable:"复购人数",second_people_num_ratio:e.detail_obj.second_purchase_people_num_ratio,second_people_num:e.detail_obj.second_purchase_people_num,issuccess:!0}}}),a("line-div",{attrs:{obj:{people_num_ratio:e.detail_obj.purchase_interact_num_ratio,people_num:e.detail_obj.purchase_interact_num,one_lable:"有互动人数",two_lable:"无互动人数",second_people_num_ratio:e.detail_obj.purchase_not_interact_num_ratio,second_people_num:e.detail_obj.purchase_not_interact_num,issuccess:!0}}}),a("line-div",{attrs:{obj:{people_num_ratio:e.detail_obj.purchase_fans_num_ratio,people_num:e.detail_obj.purchase_fans_num,one_lable:"粉丝人数",two_lable:"非粉丝人数",second_people_num_ratio:e.detail_obj.purchase_not_fans_num_ratio,second_people_num:e.detail_obj.purchase_not_fans_num,issuccess:!0}}})],1),a("div",{staticStyle:{"margin-left":"24px",width:"520px",height:"376px",background:"#fafafa",border:"1px solid #d1d8e0"}},[a("div",{staticStyle:{height:"20px",width:"20px","background-color":"#fafafa","z-index":"1","border-left":"1px solid #d1d8e0","border-top":"1px solid #d1d8e0",transform:"rotate(45deg)","margin-left":"350px","margin-top":"-11px"}}),a("line-div",{attrs:{obj:{people_num_ratio:e.detail_obj.watch_time_40_seconds_more_ratio,people_num:e.detail_obj.watch_time_40_seconds_more,one_lable:"观看40s+人数",two_lable:"无效观看人数",second_people_num_ratio:e.detail_obj.invalid_watch_people_num_ratio,second_people_num:e.detail_obj.invalid_watch_people_num,issuccess:!1}}}),a("line-div",{attrs:{obj:{people_num_ratio:e.detail_obj.interact_people_num_ratio,people_num:e.detail_obj.interact_people_num,one_lable:"有互动人数",two_lable:"无互动人数",second_people_num_ratio:e.detail_obj.not_interact_people_num_ratio,second_people_num:e.detail_obj.not_interact_people_num,issuccess:!1}}}),a("line-div",{attrs:{obj:{people_num_ratio:e.detail_obj.not_purchase_fans_num_ratio,people_num:e.detail_obj.not_purchase_fans_num,one_lable:"粉丝人数",two_lable:"非粉丝人数",second_people_num_ratio:e.detail_obj.not_purchase_not_fans_num_ratio,second_people_num:e.detail_obj.not_purchase_not_fans_num,issuccess:!1}}})],1)])]),a("div",{staticStyle:{height:"460px","margin-top":"24px",display:"flex"}},[a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"echartTitle"},[e._v("年龄分布")]),e.pieOption.series[0].data.length>0?a("div",{staticStyle:{width:"400px",height:"420px",margin:"48px auto"}},[a("BaseEcharts",{staticStyle:{width:"390px",height:"340px"},attrs:{options:e.pieOption}})],1):a("div",{staticStyle:{width:"400px",height:"320px",margin:"48px auto"}},[a("empty-common",{staticStyle:{"margin-top":"150px"},attrs:{imgWidth:200,imgHeight:100,"detial-text":"暂无数据~"}})],1)]),a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"echartTitle"},[e._v("常驻省份")]),a("div",{staticClass:"progress-main"},[0!==e.area_list.length?a("div",{staticClass:"row"},[a("span",{staticClass:"label"}),a("div",{staticClass:"price-progress"}),a("span",{staticClass:"unit"},[e._v("占比")])]):e._e(),e._l(e.area_list,(function(t,i){return a("div",{key:t.distribute_type,staticClass:"row"},[a("span",{staticClass:"label"},[a("span",{staticStyle:{"margin-right":"10px"},style:{color:i<3?e.getColor(i):"#6A7B92"}},[e._v(e._s(i+1))]),e._v(" "+e._s(t.distribute_index))]),a("el-popover",{staticClass:"price-progress",staticStyle:{flex:"1"},attrs:{title:t.distribute_index,trigger:"hover"}},[a("p",[a("span",{staticStyle:{display:"inline-block",width:"10px",height:"10px","border-radius":"10px","margin-right":"8px"},style:{background:e.getColor(i)}}),e._v(e._s(t.value)+" ")]),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("el-progress",{staticClass:"price-progress",attrs:{color:e.getColor(i),"show-text":!1,percentage:t.value/(e.area_list[0].value||1)*100}})],1)]),a("span",{staticClass:"unit"},[e._v(e._s(t.ratio)+"%")])],1)})),0===e.area_list.length?a("div",{staticStyle:{width:"400px",height:"320px",margin:"48px auto"}},[a("empty-common",{staticStyle:{"margin-top":"150px"},attrs:{imgWidth:200,imgHeight:100,"detial-text":"暂无数据~"}})],1):e._e()],2)])])])},o=[],r=a(97434),l=a(61282),n=a(92410),s=a(32635),d=a(15899),c=a(32200),p=a(85937),u=a.n(p),m=a(7427),h=a(6933),_=a.n(h),g=a(60492),f=(0,r.defineComponent)({name:"performanceCrowdIndex",props:{performanceId:{type:Number,default:0},projectData:{type:Object,default:()=>({})}},components:{sunburst:s.Z,lineDiv:d.Z,BaseEcharts:c.Z},setup(e,t){const a=(0,r.inject)("searchParams")||(0,r.ref)({}),i=(0,r.ref)(""),o=(0,r.ref)({}),s=(0,r.ref)([]),d=(0,r.ref)([]),c=(0,r.ref)(!1),p=(0,r.ref)(["周一","周二","周三","周四","周五","周六","周日"]),h=(0,r.ref)([]),f=(0,r.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"red"}},formatter(e){let t,i,o,r="";if("week"===a.value.date_type){const t=p.value.findIndex((t=>t===e[0].axisValue)),a=String(h.value[t]).replaceAll("-",".")||"";r=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue} (${a})</div>`}else if("month"===a.value.date_type){const t=_()(a.value.start_date).format("MM"),i=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;r=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t}月${i}</div>`}else"date"===a.value.date_type&&(r=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue}</div>`);for(let a=0;a<e.length;a++)i=e[a].color,t=e[a].seriesName,o=e[a].data,r+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+t+'：<div style="color: #19232D;font-weight: 400;">  '+(0,l.dN)(Number(o||0).toFixed(0),"None",!0)+"</div></div>";return r},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:78,right:38,bottom:24,containLabel:!1},xAxis:{type:"category",data:p.value,axisPointer:{type:"line",label:{show:!1},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},boundaryGap:!1,axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"人数",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1,type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,52,12,6]},axisLabel:{padding:[0,12,12,6],formatter(e){return v.value===g.r.wan&&e?parseInt(e,10)/1e4:e}}}],series:[]}),v=(0,r.ref)(""),x=()=>{if(0===e.performanceId){const i=_()(a.value.start_date),o="week"===a.value.date_type?"w":"M";if(c.value=!0,"month"===a.value.date_type){const e=(0,r.ref)([]),t=i.endOf(o).format("DD");for(let a=1;a<=Number(t);a++)e.value.push(a+"日");f.value.xAxis.data=e,p.value=e}else"week"===a.value.date_type&&(f.value.xAxis.data=["周一","周二","周三","周四","周五","周六","周日"],p.value=["周一","周二","周三","周四","周五","周六","周日"]);c.value=!0,(0,n.ZE)({is_from_project:0===e.performanceId?a.value.is_from_project||!1:e.projectData.from_project||!1,statistics_cycle:0===e.performanceId&&"date"===a.value.date_type?1:void 0,start_date:0===e.performanceId?a.value.start_date:void 0,end_date:0===e.performanceId?a.value.end_date:void 0,project_id:0===e.performanceId?a.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{if(c.value=!1,e.success){v.value="",(e.data.incr_fans||[]).forEach((e=>{const t=e||0,a=Number(t)>1e4;a&&(v.value="万")})),""===v.value&&(e.data.incr_fans_club||[]).forEach((e=>{const t=e||0,a=Number(t)>1e4;a&&(v.value="万")}));const t=[{name:"增粉人数",type:"line",smooth:!0,showSymbol:!1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(e.data.incr_fans||[]).map((e=>e||0))},{name:"加团人数",type:"line",smooth:!0,showSymbol:!1,itemStyle:{color:"#2877FF"},lineStyle:{width:3,shadowColor:"#2877FF3d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(e.data.incr_fans_club||[]).map((e=>e||0))}];f.value.yAxis[0].name="人数"+(v.value?"："+v.value:""),f.value.series=e.data.is_show?t:[],h.value=e.data.dates||[],"date"===a.value.date_type&&(f.value.xAxis.data=e.data.dates||[])}else f.value.series=[],t.root.$message.error(e.message||"数据获取失败")}))}c.value=!0,(0,n.WX)({is_from_project:0===e.performanceId?a.value.is_from_project||!1:e.projectData.from_project||!1,start_date:0===e.performanceId?a.value.start_date:void 0,end_date:0===e.performanceId?a.value.end_date:void 0,project_id:0===e.performanceId?a.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{c.value=!1,e.success?o.value=e.data:(o.value={},t.root.$message.error(e.message||"数据获取失败"))})),(0,n.bS)({is_from_project:0===e.performanceId?a.value.is_from_project||!1:e.projectData.from_project||!1,start_date:0===e.performanceId?a.value.start_date:void 0,end_date:0===e.performanceId?a.value.end_date:void 0,project_id:0===e.performanceId?a.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{c.value=!1,e.success?(s.value=e.data.age_dis||[],w.value.series[0].data=(e.data.age_dis||[]).map(((e,t)=>({name:e.distribute_index,itemStyle:{color:m.DS[t]},value:e.value}))),d.value=e.data.province_dis||[]):(s.value=[],d.value=[],t.root.$message.error(e.message||"数据获取失败"))}))};(0,r.watch)((()=>[a.value,e.performanceId]),(()=>{i.value="",o.value={},x()}));const b=(e,t)=>{if(!t&&!e)return"0%";if(!t)return"100%";const a=e+t;return 100*e/a+"%"};x();const y=(0,r.ref)([]),w=(0,r.ref)({tooltip:{trigger:"item",formatter(e){const t=e.data,a=t.name;let i=0;if(y.value.forEach((e=>{const t=e.value||0;i+=t})),!a||!i)return;const o=new(u())(t.value||0).mul(new(u())(1e4)).div(new(u())(i)).toFixed(2),r=`\n            <div style="font-size: 12px; line-height: 16px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">${a}：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,l.dN)(t.value,"None")}</span>\n            </div>\n            <div style="font-size: 12px; line-height: 16px; margin-top: 12px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">占比：</span><span style="font-weight: 400; color: #19232D;">${o||0}%</span>\n            </div>\n            `;return`\n            <div style="margin: 8px; text-align: left;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${a||"--"}</div>\n              <div style="margin-top: 18px;">\n                ${r}\n              </div>\n            </div>\n          `}},legend:{show:!0,type:"scroll",itemGap:20,itemWidth:20,bottom:6,left:10,right:10},series:[{name:"",type:"pie",selectedMode:"single",radius:["53","55%"],center:["50%","38%"],label:{show:!0,alignTo:"edge",formatter:"{bili|{d}%}\n {name|{b}} ",minMargin:5,edgeDistance:10,lineHeight:20,rich:{name:{fontSize:10,color:"#999"},bili:{fontSize:14,color:"#19232d"}}},labelLine:{length:15,length2:0,maxSurfaceAngle:80},labelLayout:function(e){const t=e.labelRect.x<200,a=e.labelLinePoints;return a[2][0]=t?e.labelRect.x:e.labelRect.x+e.labelRect.width,{labelLinePoints:a}},data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),F=e=>0===e?"#FF6B6B":1===e?"#FF9B56":2===e?"#FFCB49":"#60D6FF";return{getColor:F,baseProjectOptions:f,daytrendLoading:c,age_list:s,area_list:d,piearr:y,pieOption:w,getWidthperent:b,detail_obj:o,project_name:i,formatAmount:l.dN}}}),v=f,x=a(1001),b=(0,x.Z)(v,i,o,!1,null,"23819753",null),y=b.exports},2885:function(e,t,a){"use strict";a.d(t,{Z:function(){return v}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"min-height":"500px"}},[a("div",{staticStyle:{height:"464px","margin-top":"24px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"32px","padding-top":"24px"}},[e._v("流量构成")]),a("div",{staticStyle:{display:"flex",height:"340px","justify-content":"center"}},[a("div",{staticStyle:{width:"490px","margin-top":"10px"}},[e.osunBurstData&&e.osunBurstData.length>0?a("div",{staticStyle:{width:"560px",height:"440px",margin:"auto",display:"flex","flex-direction":"column"}},[a("div",{staticStyle:{"padding-left":"50px",width:"426px",height:"320px",position:"relative"}},[a("sunburst",{staticStyle:{width:"320px",height:"320px",position:"absolute"},attrs:{itemName:"直播间观看次数",loading:e.sunBurstLoading,series:{data:e.osunBurstData,children:e.osunBurstChildrenData}},on:{selectParamClick:e.selectClick}}),a("div",{staticStyle:{background:"transparent",width:"88px",height:"88px","border-radius":"100px",position:"absolute",cursor:"pointer","margin-top":"106px","margin-left":"106px","z-index":"3"},on:{click:e.onClickAllColor}})],1)]):a("div",{staticStyle:{width:"320px",height:"320px",margin:"auto","padding-top":"120px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.sunBurstDetailLoading,expression:"sunBurstDetailLoading"}],staticStyle:{"margin-left":"-108px",width:"640px",height:"100%",display:"flex"}},[e._m(0),a("div",{staticClass:"sundetail"},[a("div",{staticClass:"echartTitle",staticStyle:{"font-weight":"400",margin:"24px 0 12px 0",width:"400px"}},[a("span",{staticStyle:{display:"inline-block"}},[e._v(" 流量来源："+e._s(e.select_flow_name||"--")+" ")]),a("span",{staticStyle:{display:"inline-block","margin-left":"48px"}},[e._v(" 直播间观看次数："+e._s(e.sunBurstDetail||e.watch_cnt?e.formatAmount(Number(e.sunBurstDetail?e.sunBurstDetail.watch_cnt:e.watch_cnt).toFixed(0),"None",!0):"--")+" ")])]),e.sunBurstDetail&&null!==e.sunBurstDetail.watch_cnt?a("div",[a("div",{staticClass:"detailspan",staticStyle:{"margin-bottom":"4px"}},[e._v("流量承接分析")]),a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"0px","margin-bottom":"12px",width:"440px"}},[a("span",{staticClass:"detailtitle"},[e._v(" 平均观看时长： "+e._s(e.getSecondsabe(e.sunBurstDetail.avg_watch_duration,0,"秒"))+" ")]),a("span",{staticClass:"detailtitle",staticStyle:{"margin-left":"18px"}},[e._v(" 观看互动率："+e._s(e.getSecondsabe(e.sunBurstDetail.watch_interact_ratio,2,"%"))+" ")])]),a("div",{staticClass:"detailspan",staticStyle:{"margin-bottom":"4px"}},[e._v("流量转化分析")]),a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"0px","margin-bottom":"12px",width:"440px"}},[a("span",{staticClass:"detailtitle"},[e._v(" 成交金额：¥ "+e._s(e.formatAmount((e.sunBurstDetail.pay_amt||0)/100,"None"))+" ")]),a("span",{staticClass:"detailtitle",staticStyle:{"margin-left":"18px"}},[e._v(" 客单价：¥ "+e._s(e.formatAmount((e.sunBurstDetail.cnt_unit_amt||0)/100,"None"))+" ")])]),a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"0px","margin-bottom":"12px",width:"440px"}},[a("span",{staticClass:"detailtitle"},[e._v(" 成交次数："+e._s(e.formatAmount(Number(e.sunBurstDetail.pay_cnt||0).toFixed(0),"None",!0))+" ")]),a("span",{staticClass:"detailtitle",staticStyle:{"margin-left":"18px"}},[e._v(" 观看-成交转化率："+e._s(e.sunBurstDetail.watch_pay_ratio)+"% ")])])]):a("div",{staticStyle:{"margin-top":"18px"}},[a("div",{staticStyle:{"margin-right":"50px","margin-top":"60px"}},[a("empty-common",{staticStyle:{width:"260px",margin:"auto"},attrs:{imgWidth:200,imgHeight:100}})],1)])])])]),e.selectosunBurstData&&e.selectosunBurstData.length>0?a("div",{staticClass:"el-props"},[a("div",{staticStyle:{width:"100%","text-align":"left",display:"flex","justify-content":"flex-start","flex-wrap":"wrap"}},e._l(e.selectosunBurstData,(function(t){return a("div",{key:t.name,staticStyle:{"margin-left":"6px","margin-bottom":"6px",display:"inline-block"}},[a("div",{staticStyle:{display:"inline-block",width:"80px",height:"14px","line-height":"14px","padding-right":"6px"},style:{width:e.selectosunBurstData.length>6?"80px":1===e.selectosunBurstData.length?"180px":"120px"}},[a("div",{staticStyle:{display:"inline-block",width:"12px",height:"12px","margin-top":"1px","border-radius":"2px"},style:{background:t.itemStyle.color}}),a("tg-textPopover",{staticStyle:{"margin-left":"6px",color:"#343f4c","font-size":"12px",width:"56px",display:"inline-block"},style:{width:e.selectosunBurstData.length>6?"56px":1===e.selectosunBurstData.length?"150px":"90px"},attrs:{text:t.name,maxWidth:e.selectosunBurstData.length>6?56:1===e.selectosunBurstData.length?150:90}})],1)])})),0)]):e._e()]),0===e.performanceId?a("div",{staticStyle:{"margin-top":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{height:"320px",width:"100%","padding-top":"0px"}},[e.baseProjectOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"320px",border:"1px solid #d1d8e0","border-radius":"4px",padding:"8px 12px 18px 6px"}},[a("BaseEcharts",{attrs:{options:e.baseProjectOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{"padding-top":"100px",height:"320px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]):e._e(),0===e.performanceId?a("div",[a("div",{staticClass:"echartTitle",staticStyle:{"margin-top":"24px","margin-bottom":"12px"}},[e._v("短视频引流")]),a("tg-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{stripe:"","tooltip-effect":e.light,border:"",data:e.tableData},scopedSlots:e._u([{key:"empty",fn:function(){return[a("empty-common",{staticStyle:{"margin-top":"20px"},attrs:{imgWidth:200,imgHeight:100,"detial-text":"暂无数据"}})]},proxy:!0}],null,!1,219997748)},e._l(e.prechargeColumn,(function(t,i){return a("el-table-column",e._b({key:i},"el-table-column",t,!1))})),1),a("div",{staticClass:"pagination",staticStyle:{padding:"8px 18px"}},[a("el-pagination",{staticClass:"flex-none",attrs:{"current-page":e.paginationData.page_num,"page-size":e.paginationData.num,"page-sizes":[10,20],total:e.paginationData.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"size-change":e.handlePageSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"toptrianglediv"}),a("div",{staticClass:"bottomtrianglediv"})])}],r=a(97434),l=a(61282),n=a(32635),s=a(7427),d=a(92410),c=a(6933),p=a.n(c),u=a(60492),m=a(32200),h=(0,r.defineComponent)({name:"performanceFlowIndex",props:{performanceId:{type:Number,default:0},projectData:{type:Object,default:()=>({})}},components:{sunburst:n.Z,BaseEcharts:m.Z},setup(e,t){const a=(0,r.inject)("searchParams")||(0,r.ref)({}),i=(0,r.ref)([]),o=(0,r.ref)(!1),n=(0,r.ref)(!1),c=(0,r.ref)(void 0),m=[{label:"短视频",property:"title",align:"left",minWidth:140,className:"project-income-head",showOverflowTooltip:!0},{label:"投稿时间",property:"publish_time",align:"center",minWidth:130,sortable:!0},{label:"短视频直播入口曝光次数",property:"exposure_times",align:"right",minWidth:150,className:"text-right",sortable:!0},{label:"短视频引流直播间次数",property:"product_click_times",align:"right",minWidth:150,className:"text-right",sortable:!0},{label:"短视频直播入口点击率(次数)",property:"exposure_click_times_rate",align:"right",className:"text-right",minWidth:180,sortable:!0,formatter:e=>void 0!==e.exposure_click_times_rate&&null!==e.exposure_click_times_rate?`${e.exposure_click_times_rate}%`:""},{label:"操作",minWidth:60,align:"center",formatter:e=>(0,r.h)("a",{on:{click:()=>{window.open(e.url||"")}}},["查看"])}],h=(0,r.ref)([]),_=(0,r.ref)({total:0,page_num:1,num:10}),g=e=>{_.value.page_num=e,E()},f=e=>{_.value.num=e,_.value.page_num=1,E()},v=(0,r.ref)(void 0),x=(0,r.ref)([]),b=(0,r.ref)([]),y=(0,r.ref)(void 0),w=(0,r.ref)(void 0),F=(0,r.ref)(""),j=(0,r.ref)(""),C=(0,r.ref)(!1),S=(0,r.ref)(["周一","周二","周三","周四","周五","周六","周日"]),D=(0,r.ref)([]),A=(0,r.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"red"}},formatter(e){let t,i,o,r="";if("week"===a.value.date_type){const t=S.value.findIndex((t=>t===e[0].axisValue)),a=String(D.value[t]).replaceAll("-",".")||"";r=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue} (${a})</div>`}else if("month"===a.value.date_type){const t=p()(a.value.start_date).format("MM"),i=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;r=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t}月${i}</div>`}else"date"===a.value.date_type&&(r=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue}</div>`);for(let a=0;a<e.length;a++)i=e[a].color,t=e[a].seriesName,o=e[a].data,r+=0!==a?'<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+t+'：<div style="color: #19232D;font-weight: 400;"> '+(0,l.dN)(Number(o||0),"None")+"</div></div>":'<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+t+'：<div style="color: #19232D;font-weight: 400;">  '+(0,l.dN)(Number(o||0).toFixed(0),"None",!0)+"</div></div>";return r},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:78,right:68,bottom:24,containLabel:!1},xAxis:{type:"category",data:S.value,axisPointer:{type:"line",label:{show:!1},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},boundaryGap:!1,axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"总观看人数",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1,type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,30,12,6]},axisLabel:{padding:[0,12,12,6],formatter(e){return k.value===u.r.wan&&e?parseInt(e,10)/1e4:e}}},{type:"value",position:"right",axisPointer:{show:!1},splitLine:{show:!1},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{padding:[0,6,12,12],formatter(e){return B.value===u.r.wan&&e?parseInt(e,10)/1e4:e}}}],series:[]}),k=(0,r.ref)(""),B=(0,r.ref)(""),N=()=>{const l=p()(a.value.start_date),n="week"===a.value.date_type?"w":"M";if(C.value=!0,"month"===a.value.date_type){const e=(0,r.ref)([]),t=l.endOf(n).format("DD");for(let a=1;a<=Number(t);a++)e.value.push(a+"日");A.value.xAxis.data=e,S.value=e}else"week"===a.value.date_type&&(A.value.xAxis.data=["周一","周二","周三","周四","周五","周六","周日"],S.value=["周一","周二","周三","周四","周五","周六","周日"]);C.value=!0,0===e.performanceId&&((0,d.QA)({is_from_project:0===e.performanceId?a.value.is_from_project||!1:e.projectData.from_project||!1,statistics_cycle:0===e.performanceId&&"date"===a.value.date_type?1:void 0,start_date:0===e.performanceId?a.value.start_date:void 0,end_date:0===e.performanceId?a.value.end_date:void 0,project_id:0===e.performanceId?a.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{if(C.value=!1,e.success){k.value="",B.value="",(e.data.watch_ucnt||[]).forEach((e=>{const t=e||0,a=Number(t)>1e4;a&&(k.value="万")})),(e.data.natural_flow||[]).forEach((e=>{const t=e||0,a=Number(t)>1e4;a&&(B.value="万")})),""===B.value&&(e.data.at_flow||[]).forEach((e=>{const t=e||0,a=Number(t)>1e4;a&&(B.value="万")}));const t=[{name:"总观看人数",type:"line",smooth:!0,showSymbol:!1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(e.data.watch_ucnt||[]).map((e=>e||0))},{name:"付费流量",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#2877FF"},lineStyle:{width:3,shadowColor:"#2877FF3d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(e.data.at_flow||[]).map((e=>e||0))},{name:"自然流量",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(e.data.natural_flow||[]).map((e=>e||0))}];A.value.yAxis[0].name="总观看人数"+(k.value?"："+k.value:""),A.value.yAxis[1].name="单位"+(B.value?"："+k.value:""),A.value.series=e.data.is_show?t:[],D.value=e.data.dates||[],"date"===a.value.date_type&&(A.value.xAxis.data=e.data.dates||[])}else A.value.series=[],t.root.$message.error(e.message||"数据获取失败")})),E()),o.value=!0,j.value="",(0,d.lu)({is_from_project:0===e.performanceId?a.value.is_from_project||!1:e.projectData.from_project||!1,start_date:0===e.performanceId?a.value.start_date:void 0,end_date:0===e.performanceId?a.value.end_date:void 0,project_id:0===e.performanceId?a.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{o.value=!1,e.success?(v.value=e.data,i.value=[],b.value=[],x.value=(v.value||[]).filter((e=>(e.source_data||[]).find((e=>(e.value||0)>0)))).map(((e,t)=>{0===t&&(w.value=e.flow_type,F.value=e.flow_type_name,W.value=e.flow_type_name,j.value=e.sum_flow,I());const a=(0,r.ref)([]);return(e.source_data||[]).map(((i,o)=>{(i.value||0)>0&&a.value.push({name:i.source_name,itemStyle:{color:s.YJ[t]?.children[o]},key:i.source_key,value:i.value,superName:e.flow_type_name})})),{name:e.flow_type_name,itemStyle:{color:s.YJ[t]?.color},key:e.flow_type,value:e.sum_flow,children:a.value}})),(v.value||[]).filter((e=>(e.source_data||[]).find((e=>(e.value||0)>0)))).map(((e,t)=>{(e.source_data||[]).map(((a,i)=>{(a.value||0)>0&&b.value.push({name:a.source_name,itemStyle:{color:s.YJ[t]?.children[i]},key:a.source_key,value:a.value,superName:e.flow_type_name})}))})),i.value=x.value):(v.value=[],x.value=[],b.value=[],c.value=void 0,t.root.$message.error(e.message||"数据获取失败"))}))},E=()=>{(0,d.CT)({is_from_project:0===e.performanceId?a.value.is_from_project||!1:e.projectData.from_project||!1,num:_.value.num,page_num:_.value.page_num,start_date:0===e.performanceId?a.value.start_date:void 0,end_date:0===e.performanceId?a.value.end_date:void 0,project_id:0===e.performanceId?a.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{o.value=!1,e.success?(h.value=e.data.data||[],_.value.total=e.data.total):(h.value=[],t.root.$message.error(e.message||"数据获取失败"))}))},I=()=>{n.value=!0,(0,d.g1)({is_from_project:0===e.performanceId?a.value.is_from_project||!1:e.projectData.from_project||!1,start_date:0===e.performanceId?a.value.start_date:void 0,end_date:0===e.performanceId?a.value.end_date:void 0,project_id:0===e.performanceId?a.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId,flow_source:y.value,flow_type:w.value}).then((({data:e})=>{n.value=!1,e.success?c.value="{}"===JSON.stringify(e.data)?void 0:e.data:(c.value=void 0,t.root.$message.error(e.message||"数据获取失败"))}))};(0,r.watch)((()=>[e.performanceId,a.value]),(()=>{F.value="",j.value="",i.value=[],x.value=[],b.value=[],c.value=void 0,N()}));const W=(0,r.ref)(""),$=e=>{j.value=e.data.value||"",F.value=e.data.name,W.value=e.data.name,i.value=[],e.data.children?(i.value=e.data.children||[],y.value=void 0,w.value=e.data.key,I()):(y.value=e.data.key,w.value=void 0,W.value=e.data.superName||"",i.value=[e.data],I())},z=(e,t,a)=>"string"===typeof e?e:(0,l.dN)(Number(e||0).toFixed(t),"None",0===t)+a,L=()=>{i.value=x.value};return N(),{baseProjectOptions:A,daytrendLoading:C,onClickAllColor:L,getSecondsabe:z,select_flow_type_name:W,watch_cnt:j,flow_type:w,selectClick:$,sunBurstData:v,osunBurstData:x,sunBurstLoading:o,sunBurstDetail:c,sunBurstDetailLoading:n,select_flow_name:F,formatAmount:l.dN,osunBurstChildrenData:b,selectosunBurstData:i,prechargeColumn:m,tableData:h,handleCurrentChange:g,handlePageSizeChange:f,paginationData:_}}}),_=h,g=a(1001),f=(0,g.Z)(_,i,o,!1,null,"21f7b062",null),v=f.exports},99752:function(e,t,a){"use strict";a.d(t,{Z:function(){return _}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loudouLoading,expression:"loudouLoading"}],staticStyle:{"margin-top":"24px",height:"628px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loudouLoading,expression:"loudouLoading"}],staticStyle:{margin:"0 auto","margin-top":"48px",height:"50px",display:"flex","justify-content":"flex-start",color:"#6a7b92",width:"1100px"}},[a("div",{staticStyle:{"min-width":"120px","padding-right":"66px"}},[a("div",[e._v("投放消耗")]),a("div",{staticStyle:{color:"#19232d","line-height":"32px","font-size":"18px"}},[e._v(" "+e._s(null===e.projectDetail.cost||void 0===e.projectDetail.cost?"--":e.formatAmount(Number(e.projectDetail.cost/100)))+" ")])]),a("div",{staticStyle:{"min-width":"140px","padding-right":"66px"}},[a("div",[e._v("广告成交金额")]),a("div",{staticStyle:{color:"#19232d","line-height":"32px","font-size":"18px"}},[e._v(" "+e._s(null===e.projectDetail.ad_gmv||void 0===e.projectDetail.ad_gmv?"--":e.formatAmount(Number(e.projectDetail.ad_gmv/100)))+" ")])]),a("div",{staticStyle:{"min-width":"120px","padding-right":"66px"}},[a("span",[e._v("广告ROI")]),a("div",{staticStyle:{color:"#19232d","line-height":"32px","font-size":"18px"}},[e._v(" "+e._s(null===e.projectDetail.ad_roi||void 0===e.projectDetail.ad_roi?"--":e.formatAmount(Number(e.projectDetail.ad_roi/100),"None"))+" ")])]),a("div",{staticStyle:{"min-width":"120px","padding-right":"66px"}},[a("div",[e._v("整体ROI")]),a("div",{staticStyle:{color:"#19232d","line-height":"32px","font-size":"18px"}},[e._v(" "+e._s(null===e.projectDetail.roi||void 0===e.projectDetail.roi?"--":e.formatAmount(Number(e.projectDetail.roi/100),"None"))+" ")])])]),e._m(0),a("div",{staticClass:"loudoudiv"},[a("div",{staticStyle:{width:"520px"}},[a("line-div",{attrs:{obj:{people_num_ratio:e.detail_obj.ad_exposure_ratio,people_num:e.detail_obj.ad_exposure,one_lable:"直播间曝光次数：",second_people_num_ratio:e.detail_obj.nature_exposure_ratio,second_people_num:e.detail_obj.nature_exposure}}}),a("line-div",{staticStyle:{"padding-top":"12px"},attrs:{obj:{people_num_ratio:e.detail_obj.ad_watch_ratio,people_num:e.detail_obj.ad_watch,one_lable:"直播间观看次数：",second_people_num_ratio:e.detail_obj.nature_watch_ratio,second_people_num:e.detail_obj.nature_watch}}}),a("line-div",{staticStyle:{"padding-top":"24px"},attrs:{obj:{people_num_ratio:e.detail_obj.ad_click_ratio,people_num:e.detail_obj.ad_click,one_lable:"商品点击次数：",second_people_num_ratio:e.detail_obj.nature_click_ratio,second_people_num:e.detail_obj.nature_click}}}),a("line-div",{staticStyle:{"padding-top":"36px"},attrs:{obj:{people_num_ratio:e.detail_obj.ad_order_ratio,people_num:e.detail_obj.ad_order,one_lable:"创建订单：",second_people_num_ratio:e.detail_obj.nature_order_ratio,second_people_num:e.detail_obj.nature_order}}}),a("line-div",{staticStyle:{"padding-top":"48px"},attrs:{obj:{people_num_ratio:e.detail_obj.ad_pay_ratio,people_num:e.detail_obj.ad_pay,one_lable:"成交：",second_people_num_ratio:e.detail_obj.nature_pay_ratio,second_people_num:e.detail_obj.nature_pay}}})],1),a("div",{staticStyle:{width:"230px",height:"100%","margin-left":"-14px"}},[a("div",{staticClass:"titlediv",staticStyle:{"padding-right":"18px","margin-top":"173px",height:"20px","line-height":"20px","margin-bottom":"0px","font-size":"14px"}},[e._v(" "+e._s(null===e.detail_obj.ad_watch_click_ratio||void 0===e.detail_obj.ad_watch_click_ratio?"--":e.detail_obj.ad_watch_click_ratio+"%")+" ")]),a("div",{staticClass:"titlediv",staticStyle:{"margin-top":"75px",height:"20px","line-height":"20px","margin-bottom":"0px","text-align":"left","font-size":"14px"}},[a("div",{staticStyle:{display:"inline-block",width:"90px","padding-right":"26px","text-align":"center"}},[e._v(" "+e._s(null===e.detail_obj.ad_watch_pay_ratio||void 0===e.detail_obj.ad_watch_pay_ratio?"--":e.detail_obj.ad_watch_pay_ratio+"%")+" ")]),a("div",{staticStyle:{display:"inline-block",width:"74px","text-align":"center","margin-left":"-35px"}},[e._v(" "+e._s(null===e.detail_obj.ad_click_order_ratio||void 0===e.detail_obj.ad_click_order_ratio?"--":e.detail_obj.ad_click_order_ratio+"%")+" ")])]),a("div",{staticClass:"titlediv",staticStyle:{"padding-right":"18px","margin-top":"75px",height:"20px","line-height":"20px","margin-bottom":"0px","font-size":"14px"}},[e._v(" "+e._s(null===e.detail_obj.ad_order_pay_ratio||void 0===e.detail_obj.ad_order_pay_ratio?"--":e.detail_obj.ad_order_pay_ratio+"%")+" ")])]),e._m(1),a("div",{staticStyle:{width:"225px",height:"100%"}},[a("div",{staticClass:"titlediv",staticStyle:{"padding-left":"28px","margin-top":"173px",height:"20px","line-height":"20px","margin-bottom":"0px","font-size":"14px"}},[e._v(" "+e._s(null===e.detail_obj.nature_watch_click_ratio||void 0===e.detail_obj.nature_watch_click_ratio?"--":e.detail_obj.nature_watch_click_ratio+"%")+" ")]),a("div",{staticClass:"titlediv",staticStyle:{"margin-top":"75px",height:"20px","line-height":"20px","margin-bottom":"0px","text-align":"right","padding-left":"10px","font-size":"14px"}},[a("div",{staticStyle:{display:"inline-block",width:"60px","text-align":"center","margin-right":"-23px"}},[e._v(" "+e._s(null===e.detail_obj.nature_click_order_ratio||void 0===e.detail_obj.nature_click_order_ratio?"--":e.detail_obj.nature_click_order_ratio+"%")+" ")]),a("div",{staticStyle:{display:"inline-block",width:"80px","padding-left":"20px","text-align":"center"}},[e._v(" "+e._s(null===e.detail_obj.nature_watch_pay_ratio||void 0===e.detail_obj.nature_watch_pay_ratio?"--":e.detail_obj.nature_watch_pay_ratio+"%")+" ")])]),a("div",{staticClass:"titlediv",staticStyle:{"padding-left":"28px","margin-top":"75px",height:"20px","line-height":"20px","margin-bottom":"0px","font-size":"14px"}},[e._v(" "+e._s(null===e.detail_obj.nature_order_pay_ratio||void 0===e.detail_obj.nature_order_pay_ratio?"--":e.detail_obj.nature_order_pay_ratio+"%")+" ")])])])])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"flex","justify-content":"flex-end",width:"1100px",margin:"0 auto"}},[a("div",{staticStyle:{margin:"3px 12px 3px 24px",width:"12px",height:"12px",background:"#0285ff","border-radius":"2px"}}),a("div",{staticStyle:{"font-weight":"400","font-size":"12px",color:"#343f4c","line-height":"18px"}},[e._v(" 广告流量 ")]),a("div",{staticStyle:{margin:"3px 12px 3px 24px",width:"12px",height:"12px",background:"#02c38f","border-radius":"2px"}}),a("div",{staticStyle:{"margin-right":"100px","font-weight":"400","font-size":"12px",color:"#343f4c","line-height":"18px"}},[e._v(" 自然流量 ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"265px"}},[a("div",{staticClass:"titlediv"},[e._v("直播间曝光")]),a("div",{staticClass:"titlediv"},[e._v("进入直播间")]),a("div",{staticClass:"titlediv"},[e._v("商品点击")]),a("div",{staticClass:"titlediv"},[e._v("创建订单")]),a("div",{staticClass:"titlediv",staticStyle:{"line-height":"72px"}},[e._v("成交")])])}],r=a(97434),l=a(61282),n=a(92410),s=a(32200),d=a(32635),c=a(38386),p=(0,r.defineComponent)({name:"performancePutIndex",props:{performanceId:{type:Number,default:0},projectData:{type:Object,default:()=>({})}},components:{BaseEcharts:s.Z,sunburst:d.Z,lineDiv:c.Z},setup(e,t){const a=(0,r.ref)({}),i=(0,r.inject)("searchParams")||(0,r.ref)({}),o=(0,r.ref)(""),s=(0,r.ref)(!1),d=(0,r.ref)({}),c=()=>{s.value=!0,(0,n.dB)({is_from_project:0===e.performanceId?i.value.is_from_project||!1:e.projectData.from_project||!1,start_date:0===e.performanceId?i.value.start_date:void 0,end_date:0===e.performanceId?i.value.end_date:void 0,project_id:0===e.performanceId?i.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{s.value=!1,e.success?d.value=e.data||{}:(d.value={},t.root.$message.error(e.message||"数据获取失败"))})),(0,n.k_)({is_from_project:0===e.performanceId?i.value.is_from_project||!1:e.projectData.from_project||!1,start_date:0===e.performanceId?i.value.start_date:void 0,end_date:0===e.performanceId?i.value.end_date:void 0,project_id:0===e.performanceId?i.value.project_id:void 0,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{e.success?a.value=e.data||{}:(a.value={},t.root.$message.error(e.message||"数据获取失败"))}))};return(0,r.watch)((()=>[i.value,e.performanceId]),(()=>{o.value="",d.value={},c()})),c(),{projectDetail:a,project_name:o,formatAmount:l.dN,loudouLoading:s,detail_obj:d}}}),u=p,m=a(1001),h=(0,m.Z)(u,i,o,!1,null,"f14595da",null),_=h.exports},44647:function(e,t,a){"use strict";a.d(t,{Z:function(){return F}});var i=a(36568),o=a.n(i),r=a(97434),l=a(42397),n=a(6933),s=a.n(n),d=a(92410),c=a(64236),p=a(43773),u=a(78003);const m=e=>e.toFixed(2)-0,h=(0,r.ref)(0),_=(0,p.R)({component:u.Z,title:"商品明细",footer:!1,width:"1100px",class:"zIndex",props:{kol_id:h}}),g={show:!0,bottom:"-2%",left:"center",type:"scroll",icon:"circle"};var f,v,x=(0,r.defineComponent)({components:{pieEcharts:l.Z},props:{visible:{type:Boolean,default:!1},is_table:{type:Boolean,default:!0}},setup(e,t){const a=(0,r.ref)(e.is_table),i=(0,r.inject)("searchOneParams"),o=(0,r.ref)(!1),l=(0,r.ref)([]),n=(0,r.ref)([]),p=(0,r.ref)([]),u=(0,r.ref)([{label:"价格带",prop:"name",minWidth:120,align:"center",headerAlign:"center"},{label:"销售额",prop:"gmv_value",minWidth:120,align:"center",headerAlign:"center"},{label:"销售额占比",prop:"gmv_ratio",align:"center",minWidth:100,headerAlign:"center"},{label:"销量",prop:"sale_value",align:"center",minWidth:100,headerAlign:"center"},{label:"销量占比",prop:"sale_ratio",align:"center",minWidth:100,headerAlign:"center"},{label:"明细查看",prop:"ratio",align:"center",minWidth:90,headerAlign:"center",formatter:(e,t)=>(0,r.h)("a",{style:{fontSize:"12px"},on:{click:()=>{_.show({project_id:i.value.project_id,start_date:s()(i.value.start_date).format("YYYY-MM-DD"),end_date:s()(i.value.end_date).format("YYYY-MM-DD"),room_id:i.value.room_id,min_price:(e?.name.match(/\d+/g).length>1?e?.name.match(/\d+/g)[0]:void 0)||void 0,max_price:1===e?.name.match(/\d+/g).length?e?.name.match(/\d+/g)[0]:e?.name.match(/\d+/g)[1]??void 0,is_from_project:i.value.is_from_project})}}},"查看")}]),h=async e=>{if(!e.start_date)return;o.value=!0;const[{data:t}]=await(0,c.Dc)(500,(0,d.B1)({...e}));if(o.value=!1,t.success){const e=t.data.pie_chart,a=e.reduce(((e,t)=>t.gmv+e),0),i=e.reduce(((e,t)=>t.sale_count+e),0);l.value=e.map(((t,i)=>{const o={name:"",value:m(t.gmv/100),ratio:a>0?(t.gmv/a*100).toFixed(2)+"%":"0"};return i<=0&&0===t.min_price?o.name=m(t.max_price/100)+"以下":i!==e.length-1||t.max_price?o.name="￥"+m(t.min_price/100)+"-￥"+m(t.max_price/100):o.name=m(t.min_price/100)+"以上",o})),p.value=e.map(((t,a)=>{const o={name:"",value:t.sale_count,ratio:i>0?(t.sale_count/i*100).toFixed(2)+"%":"0"};return a<=0&&0===t.min_price?o.name=m(t.max_price/100)+"以下":a!==e.length-1||t.max_price?o.name="￥"+m(t.min_price/100)+"-￥"+m(t.max_price/100):o.name=m(t.min_price/100)+"以上",o})),n.value=e.map(((t,o)=>{const r={name:"",sale_value:t.sale_count,sale_ratio:i>0?(t.sale_count/i*100).toFixed(2)+"%":"0",gmv_value:m(t.gmv/100),gmv_ratio:a>0?(t.gmv/a*100).toFixed(2)+"%":"0"};return o<=0&&0===t.min_price?r.name=m(t.max_price/100)+"以下":o!==e.length-1||t.max_price?r.name="￥"+m(t.min_price/100)+"-￥"+m(t.max_price/100):r.name=m(t.min_price/100)+"以上",r}))}};return(0,r.onBeforeMount)((()=>{i.value.project_id&&e.visible&&h(i.value)})),(0,r.watch)((()=>e.visible),(e=>{e&&h(i.value)})),(0,r.watch)((()=>i.value),(e=>{h(i.value)})),{itemData:n,checkChartOrTable:a,itemGmvPieData:l,itemSalePieData:p,loading:o,priceGoodsGmvColumn:u}},render(){const e=arguments[0];return e("div",{class:"pirce-pie"},[e("div",{class:this.checkChartOrTable?"pie-main ":"pie-main hide"},[e("div",{class:"pie"},[e("pie-echarts",{attrs:{title:{text:"销售额",x:"10",y:"10",textStyle:{color:"#3c5269",fontWeight:400,fontSize:14}},"title-two":{text:"销量",x:"90",y:"90",textStyle:{color:"#3c5269",fontWeight:400,fontSize:14}},legend:g,pieWidth:580,styles:"width: 580px; height:233px","pie-data":this.itemGmvPieData,"pie-two-data":this.itemSalePieData,loading:this.loading}})])]),e("div",{class:this.checkChartOrTable?"table-main hide":"table-main "},[e("div",{class:"table"},[e("tg-table",{directives:[{name:"table-fit",value:!0},{name:"loading",value:this.loading}],attrs:{height:"235",border:!0,data:this.itemData}},[this.priceGoodsGmvColumn.map((t=>e("el-table-column",o()([{},{attrs:{...t}}])))),e("fragments",{slot:"empty"},[e("empty-common",{attrs:{imgHeight:"80",imgWidth:"120","detial-text":"暂无数据"}})])])])])])}}),b=x,y=a(1001),w=(0,y.Z)(b,f,v,!1,null,"65786470",null),F=w.exports},42397:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:this.styles||"height: 300px; width: 100%"},[e.pieData.length>0?a("base-echarts",{staticStyle:{height:"233px",width:"565px"},style:{height:this.pieHeight+"px",width:this.pieWidth+"px"},attrs:{options:e.baseOptions}}):a("Empty")],1)},o=[],r=a(32200),l=a(99197),n=a(8136),s=a(45781);const{tranNumber:d}=s.Z;var c={name:"BasePie",components:{BaseEcharts:r.Z,Empty:l.Z},props:{pieHeight:{type:Number,default:233},pieWidth:{type:Number,default:585},title:{type:Object,default:()=>({text:""})},titleTwo:{type:Object,default:()=>({text:""})},loading:{type:Boolean,default:!0},pieData:{type:Array,default:()=>[]},pieTwoData:{type:Array,default:()=>[]},styles:{type:String,default:""},legend:{type:Object,default:()=>({icon:"circle",itemWidth:10,itemHeight:10,type:"scroll",bottom:-5})}},data(){const e=this.legend;return{baseOptions:{tooltip:{trigger:"item",backgroundColor:"white",formatter:e=>{const t=`<div class="tooltip-wrapper">\n                          <p class="p-row tooltip-title">${e.marker}${e.name}</p>\n                          <p class="p-row">\n                            <span>数值：</span>\n                            <span class="left">${d(e.value)}</span>\n                          </p>\n                          <p class="p-row">\n                            <span>占比：</span>\n                            <span class="left"><span>${e.percent}%</span></span>\n                          </p>\n                        <div>`;return t}},legend:e,color:n.mx,series:[{title:this.title,type:"pie",id:"pie",gridIndex:1,radius:["45%","58%"],center:["28%","45%"],emphasis:{focus:"self"},label:{show:!0,position:"center",formatter:()=>"销售额"},encode:{itemName:"product",value:"2012",tooltip:"2012"},avoidLabelOverlap:!0,bottom:-20,data:this.pieData?this.pieData.map((e=>({itemName:"销售额",name:e.name,value:e.value}))):[]},{title:this.title,type:"pie",id:"pie1",gridIndex:2,radius:["45%","58%"],center:["72%","45%"],emphasis:{focus:"self"},label:{show:!0,position:"center",formatter:()=>"销量"},encode:{itemName:"product",value:"2012",tooltip:"2012"},avoidLabelOverlap:!0,bottom:-20,data:this.pieTwoData?this.pieTwoData.map((e=>({itemName:"销量",name:e.name,value:e.value}))):[]}]}}},watch:{pieData:{handler(){this.init()},deep:!0}},methods:{init(){this.baseOptions={...this.baseOptions,series:[{type:"pie",id:"pie",title:this.title,gridIndex:1,radius:["45%","58%"],center:["28%","45%"],emphasis:{focus:"self"},label:{show:!0,position:"center",formatter:()=>"销售额"},encode:{itemName:"product",value:"2012",tooltip:"2012"},avoidLabelOverlap:!0,bottom:-20,data:this.pieData?this.pieData.map((e=>({itemName:"销售额",name:e.name,value:e.value}))):[]},{type:"pie",id:"pie1",title:this.title,gridIndex:2,radius:["45%","58%"],center:["72%","45%"],emphasis:{focus:"self"},label:{show:!0,position:"center",formatter:()=>"销量"},encode:{itemName:"product",value:"2012",tooltip:"2012"},avoidLabelOverlap:!0,bottom:-20,data:this.pieTwoData?this.pieTwoData.map((e=>({itemName:"销量",name:e.name,value:e.value}))):[]}]}}}},p=c,u=a(1001),m=(0,u.Z)(p,i,o,!1,null,null,null),h=m.exports},38386:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"12px 24px 0 18px",height:"70px","text-align":"center"}},[a("div",{staticClass:"titlediv",staticStyle:{width:"100%","text-align":"left","padding-left":"6px"}},[e._v(" "+e._s(e.obj.one_lable)+e._s(null===e.obj.people_num&&null===e.obj.second_people_num||void 0===e.obj.people_num&&void 0===e.obj.second_people_num?"--":e.formatAmount(Number(e.obj.people_num+e.obj.second_people_num).toFixed(0),"None",!0))+" ")]),"直播间曝光次数："!==e.obj.one_lable?a("div",{staticStyle:{width:"100%",height:"28px",display:"flex","margin-top":"2px"}},[a("div",{staticClass:"titlediv",staticStyle:{width:"60px","text-align":"right","padding-right":"12px"}},[e._v(" "+e._s(null===e.obj.people_num_ratio||void 0===e.obj.people_num_ratio?"--":e.obj.people_num_ratio+"%")+" ")]),a("div",{staticStyle:{"min-width":"80px",background:"#39a1fe","padding-left":"12px",color:"#ffffff","border-radius":"4px 0 0 4px","line-height":"28px","text-align":"left"},style:{width:(e.obj.people_num_ratio||0)+"%"}},[e._v(" "+e._s(null===e.obj.people_num||void 0===e.obj.people_num?"--":e.formatAmount(Number(e.obj.people_num||0).toFixed(0),"None",!0))+" ")]),a("div",{staticStyle:{flex:"1","min-width":"80px",background:"#0fc97c","text-align":"right","padding-right":"12px",color:"#ffffff","border-radius":"0 4px 4px 0","line-height":"28px"}},[e._v(" "+e._s(null===e.obj.second_people_num||void 0===e.obj.second_people_num?"--":e.formatAmount(Number(e.obj.second_people_num||0).toFixed(0),"None",!0))+" ")]),a("div",{staticClass:"titlediv",staticStyle:{width:"60px","text-align":"left","padding-left":"12px"}},[e._v(" "+e._s(null===e.obj.second_people_num_ratio||void 0===e.obj.second_people_num_ratio?"--":e.obj.second_people_num_ratio+"%")+" ")])]):a("div",{staticStyle:{"padding-left":"6px",width:"100%",height:"28px",display:"flex","margin-top":"2px"}},[e._v(" 暂无数据 ")])])},o=[],r=a(61282),l={name:"line",props:{obj:{required:!1,type:Object,defalut:()=>({})}},data(){return{formatAmount:r.dN}},computed:{},created(){}},n=l,s=a(1001),d=(0,s.Z)(n,i,o,!1,null,"03816400",null),c=d.exports},32635:function(e,t,a){"use strict";a.d(t,{Z:function(){return _}});var i,o,r=a(97434),l=a(32200),n=a(99197),s=a(61282),d=a(85937),c=a.n(d),p=(0,r.defineComponent)({props:{loading:{type:Boolean,default:!1},series:{type:Object,default:()=>({data:[],children:[]})},itemName:{type:String}},components:{BaseEcharts:l.Z,Empty:n.Z},setup(e,t){const a=(0,r.computed)((()=>e.itemName)),i=(0,r.ref)({tooltip:{trigger:"item",formatter:t=>{const i=t.data,o=i.name;let r=0;if(e.series.data.map((e=>{r=(e.value||0)+r})),!o||!r)return;const l=new(c())(i.value||0).mul(new(c())(100)).div(new(c())(r)).toFixed(2),n="直播间观看次数"===a.value?(0,s.dN)(Number(i.value).toFixed(0),"None",!0):"¥"+(0,s.dN)(i.value,"None"),d=`\n            <div style="font-size: 12px; line-height: 16px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">${a.value}：</span><span style="font-weight: 400; color: #19232D;"> ${n}</span>\n            </div>\n            <div style="font-size: 12px; line-height: 16px; margin-top: 12px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">占比：</span><span style="font-weight: 400; color: #19232D;">${l}%</span>\n            </div>\n            `;return`\n            <div style="margin: 8px; text-align: left;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${o||"--"}</div>\n              <div style="margin-top: 18px;">\n                ${d}\n              </div>\n            </div>\n          `}},legend:{show:!1,itemGap:20,width:130,itemWidth:20,top:10,left:310},label:{fontSize:10},series:[{type:"pie",data:[],label:{show:!1,minAngle:8,width:50,overflow:"truncate",position:"inside",formatter:t=>{const a=t.data,i=a.name;let o=0;if(e.series.data.map((e=>{o=(e.value||0)+o})),!i||!o)return"";const r=new(c())(a.value||0).mul(new(c())(100)).div(new(c())(o)).toFixed(2);return Number(r)>5?t.data.name:""}},radius:["30%","58%"],itemStyle:{borderWidth:1,borderColor:"#FFFFFF",color:"#91c7ae"},clockwise:!0,animation:!0},{type:"pie",data:[],radius:["58%","86%"],label:{show:!1,minAngle:8,width:50,overflow:"truncate",position:"inside",formatter:t=>{const a=t.data,i=a.name;let o=0;if(e.series.data.map((e=>{o=(e.value||0)+o})),!i||!o)return"";const r=new(c())(a.value||0).mul(new(c())(100)).div(new(c())(o)).toFixed(2);return Number(r)>5?t.data.name:""}},emphasis:{focus:"ancestor"},itemStyle:{borderWidth:1,borderColor:"#FFFFFF",color:"#91c7ae"},clockwise:!0,animation:!0}]}),o={reloadData(){const t=i.value;i.value.series[0]={...t.series[0],data:[...e.series.data]},i.value.series[1]={...t.series[1],data:[...e.series.children]}}};(0,r.onBeforeMount)((()=>{o.reloadData()})),(0,r.watch)((()=>e.series),(()=>{o.reloadData()}));const l=e=>{t.emit("selectParamClick",e)};return{selectClick:l,baseOptions:i,...o}},render(){const e=arguments[0];return e("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.series.data.length||0)>0?e("base-echarts",{attrs:{options:this.baseOptions},on:{selectClick:this.selectClick}}):e("empty")])}}),u=p,m=a(1001),h=(0,m.Z)(u,i,o,!1,null,"7ad955d7",null),_=h.exports},7427:function(e,t,a){"use strict";a.d(t,{DS:function(){return n},UP:function(){return o},YJ:function(){return i},gd:function(){return l},zW:function(){return r}});const i=[{color:"#2877FF",children:["#1E8DFF","#00A3FF","#00BBFF","#00D2FF","#62E5FF","#ACF1FF","#CFFBFF","#72EDD5","#85EEDA","#A0EDDE","#00B942","#02CA64","#53D66F","#7DDE89","#A8E8AC","#C3F4C6","#3AD08E","#4DD79A","#81E5B1","#C4F1DA"]},{color:"#FF8C00",children:["#FE9C25","#FFC073","#FFD7A7","#FFBF00","#FFE186","#FFEBB0","#FFE82A","#FFF486","#F0EC88","#FFF15F","#FBEB2D","#FDD866","#FFE376","#FFCD39","#FFE186","#FFEBB0","#F5F2AD","#F0EC88","#FFF4AC","#F5F2AD"]},{color:"#996DFF",children:["#845EF7","#9775FA","#B197FC","#D0BFFF","#E2D5FF","#F3D9FA","#EEBEFA","#E599F8","#D977F2","#CC5DE8","#BE4BDB","#FF8BEF","#FCBFF3","#FFDCFA","#FDE8FA","#F7F0FC","#BAC8FF","#DBE4FF","#E8F7FF","#CCEDFF"]},{color:"#FF6767",children:["#FF7E7E","#FF9696","#FFB3B3","#FFC9C9","#FF6D8C","#FF829D","#FF97AD","#FFACBE","#FEBDCB","#FFD2DC","#F5C7CB","#EFC0BE","#FD9BA9","#FFB0C9","#F7A0B8","#F5C7CB","#F0D2CD","#FFE1DC","#FDD9F3","#FFEAF9"]}],o=["#0C6FE1","#22B2FF","#00EBDB","#3FD489","#9446FF","#B598FF","#FD996E","#FFB218","#FFE869","#F73434","#FF8DA3","#FF69F9","#E8684A","#269A99","#5AD8A6","#D09C10","#D13808","#4C00FF","#0040FF","#E85285","#FACDAA","#942D93","#FACA3E","#FF8C00","#FF6500","#B5AC23","#6A9A48","#20876B","#99ADD1","#BBE800","#4C6080","#4045B2","#0C8AFF","#B22C00","#794012","#00562F","#0047A5","#83BC99","#FF745A","#EB4185"],r=[{color:"#9273F8",areaColor:"#DED4FF"},{color:"#4FCA50",areaColor:"#98FFF9"},{color:"#2877FF",areaColor:"#D6E5FF"},{color:"#FF7F00",areaColor:"#FFEFDF"},{color:"#EFF000",areaColor:"#FCFCA0"},{color:"#31CC33",areaColor:"#B5F6B6"},{color:"#FFCC00",areaColor:"#FFEB99"},{color:"#CCFF02",areaColor:"#EBFF9B"},{color:"#009999",areaColor:"#D2F3F3"}],l=[{color:"#FF7F00",areaColor:"#FFEFDF"},{color:"#2877FF",areaColor:"#D6E5FF"},{color:"#4FCA50",areaColor:"#98FFF9"},{color:"#9273F8",areaColor:"#DED4FF"},{color:"#EFF000",areaColor:"#FCFCA0"},{color:"#31CC33",areaColor:"#B5F6B6"},{color:"#FFCC00",areaColor:"#FFEB99"},{color:"#CCFF02",areaColor:"#EBFF9B"},{color:"#009999",areaColor:"#D2F3F3"}],n=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"]},60492:function(e,t,a){"use strict";var i;a.d(t,{r:function(){return i}}),function(e){e["yuan"]="元",e["wan"]="万"}(i||(i={}))},20809:function(e,t,a){"use strict";var i=a(97434),o=a(58302);t["Z"]=()=>{const e=32,t=34,a=36,r=31,l=(0,i.ref)(0),n=e=>{l.value=e.height},s=(0,o.Z)({compensation:(0,i.computed)((()=>e+t+a+r)),fixedBlockHeightRefs:[l,25],tableMinHeight:100});return{tableHeightLogic:s,onTopCardRectUpdate:n}}},45781:function(e,t,a){"use strict";var i=a(49187),o=a(8581),r=a(61282);const l=new i.ZP;t["Z"]={formatEmpty(e,t){return null===e||void 0===e||""===e||e instanceof Array&&e.length<=0?"--":void 0!==t?`${e}${t}`:e},formatTime(e){try{return null===e||void 0===e||""===e?"--":e.replace(/-/g,".")}catch(t){return e}},formatTimespan(e){try{if(null===e||void 0===e||""===e)return"--";const t=new Date;return t.setTime(1e3*e),(0,o.WU)(t,"YYYY.mm.dd")}catch(t){return e}},formatPrice(e,t=i.WL.Fen,a=!0){try{if(null===e||void 0===e||""===e)return"--";const i=l.format(l.parse(e,t));return a?`￥${i}`:i}catch(o){return e}},formatPriceFormYuan(e,t=2,a=!0){try{if(null===e||void 0===e||""===e)return"--";let i=e;return i=e>1e8?(e/1e8).toFixed(t)+"亿":e>1e4?(e/1e4).toFixed(t)+"w":(e-0).toFixed(t),a&&(i=`￥${i}`),i}catch(i){return e}},formatPriceToThousand(e,t=2,a=!0,i=!1){try{if(null===e||void 0===e||""===e)return"--";let o=e;return e>1e4?o=(e/1e4).toFixed(t)+"w":(o=(e-0).toFixed(t),i&&(o=(e-0).toFixed(0))),a&&(o=`￥${o}`),o}catch(o){return e}},formatPriceToThousandformatAmount(e,t=2,a=!0,i=!1){try{if(null===e||void 0===e||""===e)return"--";let o=e;return e>1e4?o=(0,r.dN)((e/1e4).toFixed(2),"None")+"w":(o=(0,r.dN)((e-0).toFixed(t),"None",0===t),i&&(o=(e-0).toFixed(0))),a&&(o=`￥${o}`),o}catch(o){return e}},tranNumber(e,t=2){if(null===e||void 0===e||""===e)return"--";if(!(e>=0))return e||"-";e+="";const a=e.toString(),i=a.split(".")[0],o=i.length;if(o<5)return a;if(o>8){const e=i.substring(i.length-8,i.length-8+t);return parseFloat(parseInt(i/1e8+"",10)+"."+e)+"亿"}if(o>4){const e=i.substring(i.length-4,i.length-4+t);return parseFloat(parseInt(i/1e4+"",10)+"."+e)+"w"}}}},9914:function(e,t,a){"use strict";a.d(t,{CB:function(){return C},Rx:function(){return v},Z$:function(){return F},cv:function(){return y},gD:function(){return j},mU:function(){return b},r5:function(){return x},y8:function(){return S}});var i=a(97434),o=a(99575),r=a(92410),l=a(64892),n=a(72040),s=a(61282),d=a(59760),c=a(45781),p=a(43773),u=a(24522),m=a(48606);const h=(0,p.R)({component:u.Z,width:"700px",footer:!1}),{formatPriceFormYuan:_,formatEmpty:g,tranNumber:f}=c.Z,v=e=>{const t=(0,i.inject)("searchParams"),a=t=>{void 0!==t.project_id&&void 0!==t.start_date&&e(t)};(0,i.watch)((()=>t.value),(e=>{void 0!==e&&a(e)}),{deep:!0}),a(t.value)},x=e=>{const t=(0,i.ref)([]),a=(0,i.ref)(),r=(0,i.ref)([]),d=(0,i.reactive)({total:0,page_num:0}),c=(e,t=!1)=>null===e||void 0===e?"--":(0,s.dN)(e,"",t),p=e=>{const i={...e};return i.start_date=e.start_date,i.end_date=e.end_date,(0,o.ki)(i).then((e=>{t.value=e.data.data.categories,a.value=e.data.data.project}))},u=e=>(0,o.GX)({...e,num:20}).then((t=>{t.data.data.items=t.data.data.items.map((e=>(e.stock_num=null===e.stock_num?"--":`${c(e.stock_num,!0)}`,e.watch_ucnt=null===e.watch_ucnt?"--":`${c(e.watch_ucnt,!0)}`,e.total_sale_count=null===e.total_sale_count?"--":`${c(e.total_sale_count,!0)}`,e.last_week_sale_count=null===e.last_week_sale_count?"--":`${c(e.last_week_sale_count,!0)}`,e.shop_sale_count=null===e.shop_sale_count?"--":`${c(e.shop_sale_count,!0)}`,e.sale_count=null===e.sale_count?"--":`${c(e.sale_count,!0)}`,e.market_price=null===e.market_price?"--":`${c(e.market_price/100)}`,e.shop_gmv=null===e.shop_gmv?"--":`${c(e.shop_gmv/100)}`,e.shop_price=`${c(e.shop_price)}`,e.discount_price=`${c(e.discount_price/100)}`,e.gmv=`${c(e.gmv/100)}`,e.last_week_gmv=`${c(e.last_week_gmv/100)}`,e.pay_rate=null===e.pay_rate?"--":`${e.pay_rate}%`,e.click_rate=null===e.click_rate?"--":`${e.click_rate}%`,e))),d.total=t.data.data.total,d.page_num=e.page_num,_(t.data.data.items)})),m=(0,i.ref)([]),_=t=>{const a=[];if(t.length>0&&t.length<20){const e=new Array(20-t.length).fill(1).map((()=>({empty:!0})));t.push(...e)}const o=new Array(t.length+1).fill(1).map(((a,i)=>{const o={label:`key_${i}`,align:"center",minWidth:164,formatter(a,o,r,s){const d=this.$createElement,c=o.label;if("key_0"===c)return d("span",{class:"firstcolumn"},[a[c]]);if(0===s){if(void 0===a[c])return"";const e=1*t[i-1].click_rate?.replace("%",""),o=d("img",{class:"hot-img",attrs:{src:l}}),r=d("img",{class:"hot-img",attrs:{src:n}});return d("div",{class:"goods-descript"},[d("img",{class:"first-row-img",attrs:{src:a[c]},on:{click:()=>{h.show(a[c])}}}),e>=15?o:e>=12?r:""])}return 18===s?!0===a[c]?"":d("a",{on:{click:()=>{e&&e(t[i-1])}}},["查看"]):1===s?d("span",{class:"goods_code"},[a[c]]):2===s?d("span",{class:"goods_name",attrs:{title:a[c]}},[a[c]]):a[c]}};return 0===i&&(delete o.minWidth,o.width=130,o.fixed="left"),o})),s=[["商品主图","image_url"],["商品编码","item_id"],["商品名称","title"],["商品类目","second_cname"],["吊牌价 (元)","market_price"],["平均销售价 (元)","shop_price"],["讲解次数","talk_times"],["直播销量","sale_count"],["直播销售额 (元)","gmv"],["店铺销量","shop_sale_count"],["店铺销售额 (元)","shop_gmv"],["曝光人数","watch_ucnt"],["点击率","click_rate"],["转化率","pay_rate"],["上周销量","last_week_sale_count"],["上周销售额 (元)","last_week_gmv"],["累计销量","total_sale_count"],["今日店铺库存","stock_num"],["销售趋势","empty"]];s.forEach(((e,o)=>{const r={};r["key_0"]=e[0];const l=e[1];17===o&&(r["key_0"]=(0,i.h)("div",void 0,["今日店铺库存",(0,i.h)("el-tooltip",{class:"item",attrs:{effect:"light",content:"截止到今日凌晨库存",placement:"top-start"}},[(0,i.h)("tg-icon",{attrs:{name:"ico-question"}})])])),t.forEach(((e,t)=>{r[`key_${t+1}`]=null===e[l]?"--":e[l]})),a.push(r)})),m.value=o,r.value=a};return _([]),(0,i.reactive)({project:a,category_report:t,category_report_query:p,project_report:r,query_project:u,columns:m,pagination:d})},b=()=>{const e=(0,i.ref)(!1),t=(0,i.ref)(!1),a=(0,i.ref)({data:[],series:[]}),r=(0,i.ref)(""),l=()=>{t.value=!1},n=i=>{r.value="类目近7天销售趋势",a.value={data:[],series:[]},t.value=!0,e.value=!0,(0,o.f)(i).then((t=>{const i=t.data.data,o=i.map((e=>e.date));a.value={data:o,series:[{smooth:!0,showSymbol:!0,type:"line",name:"销量",data:i.map((e=>e.sale_count))},{smooth:!0,showSymbol:!0,type:"line",name:"点击率",yAxisIndex:1,data:i.map((e=>e.click_rate))},{smooth:!0,showSymbol:!0,type:"line",name:"转化率",data:i.map((e=>e.pay_rate))}]},e.value=!1}))},s=i=>{r.value="单品近7天销售趋势",a.value={data:[],series:[]},t.value=!0,e.value=!0,(0,o.j1)(i).then((t=>{const i=t.data.data,o=i.map((e=>e.date));a.value={data:o,series:[{smooth:!0,showSymbol:!0,type:"line",name:"销量",data:i.map((e=>e.sale_count))},{smooth:!0,showSymbol:!0,type:"line",name:"点击率",yAxisIndex:1,data:i.map((e=>e.click_rate))},{smooth:!0,showSymbol:!0,type:"line",name:"转化率",data:i.map((e=>e.pay_rate))}]},e.value=!1}))};return(0,i.reactive)({loading:e,visible:t,charts:a,queryCategory:n,onClose:l,queryGoods:s,title:r})},y=e=>{const t=(0,i.inject)("hasNewProject"),a=(0,i.reactive)({loading:!1,gmvPieData:[],salePieData:[]}),r=async i=>{a.loading=!0;try{const{data:{data:{gmv_pie_chart:e,sale_count_pie_chart:r}}}=await(1===t.value?(0,o.nM)(i):(0,o.p8)(i));a.gmvPieData=e.map((e=>({name:e.cat_name,value:(e.gmv/100).toFixed(2)}))),a.salePieData=r.map((e=>({name:e.cat_name,value:e.sale_count})))}catch(r){e.root.$message.error("查询失败")}finally{a.loading=!1}};return{...(0,i.toRefs)(a),getData:r}},w=e=>e.toFixed(2)-0,F=e=>{const t=(0,i.reactive)({loading:!1,gmvPieData:[],salePieData:[],priceGoodsColumn:[{label:"价格带",prop:"name",align:"center",headerAlign:"center"},{label:"销量",prop:"value",align:"center",headerAlign:"center"},{label:"占比",prop:"ratio",align:"center",width:90,headerAlign:"center"}],priceGoodsGmvColumn:[{label:"价格带",prop:"name",align:"center",headerAlign:"center"},{label:"销售额",prop:"value",align:"center",headerAlign:"center"},{label:"占比",prop:"ratio",align:"center",width:90,headerAlign:"center"}]}),a=async a=>{t.loading=!0;try{const{data:{data:{pie_chart:e}}}=await(0,o.OZ)(a),i=e.reduce(((e,t)=>t.gmv+e),0),r=e.reduce(((e,t)=>t.sale_count+e),0);t.gmvPieData=e.map(((t,a)=>{const o={name:"",value:w(t.gmv/100),ratio:i>0?(t.gmv/i*100).toFixed(2)+"%":"0"};return a<=0&&0===t.min_price?o.name=w(t.max_price/100)+"以下":a!==e.length-1||t.max_price?o.name="￥"+w(t.min_price/100)+"-￥"+w(t.max_price/100):o.name=w(t.min_price/100)+"以上",o})),t.salePieData=e.map(((t,a)=>{const i={name:"",value:t.sale_count,ratio:r>0?(t.sale_count/r*100).toFixed(2)+"%":"0"};return a<=0&&0===t.min_price?i.name=w(t.max_price/100)+"以下":a!==e.length-1||t.max_price?i.name="￥"+w(t.min_price/100)+"-￥"+w(t.max_price/100):i.name=w(t.min_price/100)+"以上",i}))}catch(i){e.root.$message.error("查询失败")}finally{t.loading=!1}};return{...(0,i.toRefs)(t),getData:a}},j=e=>{const t=(0,i.reactive)({loading:!1,saleData:[],total:0,hotGoodsColumn:[{label:"商品信息",width:268,align:"left",fixed:!0,headerAlign:"left",formatter:e=>(0,i.h)("div",{class:"goods-info"},[(0,i.h)("img",{attrs:{src:e.image_url||d}}),(0,i.h)("div",{class:"info-row"},[(0,i.h)("div",{class:"goods-title"},e.title),(0,i.h)("div",{class:"goods-price"},[(0,i.h)("span",void 0,"直播价："),(0,i.h)("span",void 0,_((e.discount_price/100).toFixed(2),2,!1))])])])},{label:"商品编号",width:204,align:"center",headerAlign:"center",formatter:e=>g(e.item_id)},{label:"类目",minWidth:174,align:"left",headerAlign:"left",formatter:e=>g(e.second_cname)},{label:"讲解次数",width:122,sortable:"custom",prop:"talk_times",align:"right",headerAlign:"right",formatter:e=>g(e.talk_times)},{label:"曝光人数",width:122,align:"right",sortable:"custom",prop:"watch_ucnt",headerAlign:"right",formatter:e=>f(e.watch_ucnt)},{label:"点击人数",minWidth:122,align:"right",sortable:"custom",prop:"click_ucnt",headerAlign:"right",formatter:e=>f(e.click_ucnt)},{label:"点击率",minWidth:126,align:"right",sortable:"custom",prop:"click_rate",headerAlign:"right",formatter:e=>g(e.click_rate,"%")},{label:"订单数",minWidth:122,sortable:"custom",prop:"order_cnt",align:"right",headerAlign:"right",formatter:e=>f(e.order_cnt)},{label:"销量",minWidth:105,align:"right",sortable:"custom",prop:"sale_count",headerAlign:"right",formatter:e=>f(e.sale_count)},{label:"销售额 (元)",minWidth:126,align:"right",sortable:"custom",prop:"gmv",headerAlign:"right",formatter:e=>_((e.gmv/100).toFixed(2),2,!1)},{label:"销售额占比",minWidth:144,align:"right",sortable:"custom",prop:"gmv",headerAlign:"right",formatter:e=>g(e.gmv_part,"%")},{label:"成交转化率",minWidth:144,align:"right",sortable:"custom",prop:"pay_rate",headerAlign:"right",formatter:e=>g(e.pay_rate,"%")},{label:"实际销售额 (元)",minWidth:144,sortable:"custom",prop:"gmv",align:"right",headerAlign:"right",formatter:e=>_((e.gmv/100).toFixed(2),2,!1)}]}),a=async a=>{t.loading=!0;try{const e=await(0,o.GX)(a);t.saleData=e.data.data.items||[],t.total=e.data.data.total||0}catch(i){e.root.$message.error("查询失败")}finally{t.loading=!1}};return{...(0,i.toRefs)(t),getData:a}},C=e=>{const t=(0,i.reactive)({loading:!1,saleData:[],total:0,hotGoodsColumn:[{label:"商品信息",width:268,align:"left",fixed:!0,headerAlign:"left",formatter:e=>(0,i.h)("div",{class:"goods-info"},[(0,i.h)("img",{attrs:{src:e.image_url||d},style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}}}),(0,i.h)("div",{class:"info-row"},[(0,i.h)("div",{class:"goods-title",style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}}},e.title),(0,i.h)("div",{class:"goods-price"},[(0,i.h)("span",void 0,"直播价："),(0,i.h)("span",void 0,_((e.discount_price/100).toFixed(2),2,!1))])])])},{label:"类目",minWidth:134,align:"left",headerAlign:"left",formatter:e=>g(e.second_cname)},{label:"销售额 (元)",minWidth:126,align:"right",sortable:"custom",prop:"gmv",headerAlign:"right",formatter:e=>_((e.gmv/100).toFixed(2),2,!1)},{label:"销售额占比",minWidth:124,align:"right",sortable:"custom",prop:"gmv",headerAlign:"right",formatter:e=>g(e.gmv_part,"%")},{label:"销量",minWidth:105,align:"right",sortable:"custom",prop:"sale_count",headerAlign:"right",formatter:e=>f(e.sale_count)},{label:"平均售价 (元)",minWidth:135,align:"right",sortable:"custom",prop:"shop_sale_price_avg",headerAlign:"right",formatter:e=>_((e.shop_sale_price_avg/100).toFixed(2),2,!1)},{label:"平均折扣率 ",minWidth:135,align:"right",sortable:"custom",prop:"shop_sale_price_avg_rate",headerAlign:"right",formatter:e=>g(e.shop_sale_price_avg_rate,"%")},{label:"讲解次数",width:102,sortable:"custom",prop:"talk_times",align:"right",headerAlign:"right",formatter:e=>g(e.talk_times)},{label:"发货前退款金额 (元)",minWidth:164,align:"right",sortable:"custom",prop:"shop_refund_status21_gmv",headerAlign:"right",formatter:e=>_((e.shop_refund_status21_gmv/100).toFixed(2),2,!1)},{label:"发货前退款比例",minWidth:164,align:"right",sortable:"custom",prop:"shop_refund_status21_gmv_rate",headerAlign:"right",formatter:e=>g(e.shop_refund_status21_gmv_rate,"%")},{label:"总退款金额 (元)",minWidth:134,align:"right",sortable:"custom",prop:"shop_refund_gmv",headerAlign:"right",formatter:e=>_((e.shop_refund_gmv/100).toFixed(2),2,!1)},{label:"总退款比例",minWidth:124,align:"right",sortable:"custom",prop:"shop_refund_gmv_rate",headerAlign:"right",formatter:e=>g(e.shop_refund_gmv_rate,"%")}]}),a=async e=>{t.loading=!0;const a=await(0,r.WW)(e);t.loading=!1,a.data.success&&(t.saleData=a.data.data.items||[],t.total=a.data.data.total||0)},o=(0,i.ref)([]),l=(0,i.ref)([]),n=async e=>{const t=await(0,r.jL)({...e,is_from_project:e.is_from_project||!1});t.data.success?o.value=t.data.data.map((e=>({label:e.cat_name,value:e.id}))):m.Message.error(t.data.message)},s=async e=>{const t=await(0,r.jL)({...e,is_from_project:e.is_from_project||!1});t.data.success?l.value=t.data.data.map((e=>({label:e.cat_name,value:e.id}))):m.Message.error(t.data.message)};return{...(0,i.toRefs)(t),getData:a,getCategory_3:s,getCategory_2:n,category_2:o,category_3:l}},S=e=>{const t=(0,i.reactive)({loading:!1,saleData:[],hotGoodsColumn:[{label:"爆款商品",minWidth:128,align:"left",headerAlign:"left",prop:"title"},{label:"销售额 (元)",minWidth:98,align:"right",headerAlign:"right",formatter:e=>_((e.gmv/100).toFixed(2),2,!1)},{label:"销售额占比",minWidth:94,align:"right",headerAlign:"right",formatter:e=>e.gmv_part+"%"},{label:"销量",minWidth:79,align:"right",headerAlign:"right",formatter:e=>_(e.sale_count,2,!1)},{label:"销量占比",minWidth:80,align:"center",headerAlign:"center",formatter:e=>e.sale_count_part+"%"}]}),a=async a=>{t.loading=!0;try{const{data:{data:e}}=await(0,o.tG)(a);t.saleData=[],e.top3&&t.saleData.push({...e.top3,title:"前3款爆款商品"}),e.top10&&t.saleData.push({...e.top10,title:"前10款爆款商品"}),e.top20&&t.saleData.push({...e.top20,title:"前20款爆款商品"}),e.top30&&t.saleData.push({...e.top30,title:"前30款爆款商品"})}catch(i){e.root.$message.error("查询失败")}finally{t.loading=!1}};return{...(0,i.toRefs)(t),getData:a}}},55917:function(e,t,a){"use strict";a.d(t,{$d:function(){return g},CB:function(){return _},NU:function(){return m},O5:function(){return u}});var i=a(97434),o=a(92410),r=a(45781),l=a(48606),n=a(99575),s=a(59760);const{formatPriceFormYuan:d,formatEmpty:c,tranNumber:p}=r.Z;var u,m,h;(function(e){e["sessions"]="sessions",e["commodity"]="commodity",e["launchnchor"]="launchnchor",e["flow"]="flow",e["fans"]="fans",e["launch"]="launch"})(u||(u={})),function(e){e[e["date"]=0]="date",e[e["week"]=1]="week",e[e["month"]=2]="month"}(m||(m={})),function(e){e[e["shop"]=0]="shop",e[e["launch"]=1]="launch"}(h||(h={}));const _=e=>{const t=(0,i.reactive)({loading:!1,saleData:[],total:0,hotGoodsColumn:[{label:"商品信息",width:228,align:"left",fixed:!0,headerAlign:"left",formatter:e=>(0,i.h)("div",{class:"goods-info"},[(0,i.h)("img",{attrs:{src:e.image_url||s},style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}}}),(0,i.h)("div",{class:"info-row"},[(0,i.h)("el-tooltip",{props:{content:e.title}},[(0,i.h)("div",{class:"goods-title",style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}}},e.title)]),(0,i.h)("div",{class:"goods-price"},[(0,i.h)("span",void 0,"直播价："),(0,i.h)("span",void 0,d((e.discount_price/100).toFixed(2),2,!1))])])])},{label:"商品编号",width:164,align:"center",headerAlign:"center",formatter:e=>c(e.item_id)},{label:"类目",minWidth:120,align:"left",headerAlign:"left",formatter:e=>c(e.second_cname)},{label:"讲解次数",minWidth:95,align:"right",sortable:"custom",prop:"talk_times",headerAlign:"right",formatter:e=>p(e.talk_times)},{label:"曝光人数",minWidth:95,align:"right",sortable:"custom",prop:"watch_ucnt",headerAlign:"right",formatter:e=>p(e.watch_ucnt)},{label:"点击人数",minWidth:95,align:"right",sortable:"custom",prop:"click_ucnt",headerAlign:"right",formatter:e=>p(e.click_ucnt)},{label:"点击率",minWidth:85,align:"right",sortable:"custom",prop:"click_rate",headerAlign:"right",formatter:e=>c(e.click_rate,"%")},{label:"订单数",minWidth:85,align:"right",sortable:"custom",prop:"order_cnt",headerAlign:"right",formatter:e=>p(e.order_cnt)},{label:"销量",minWidth:85,align:"right",sortable:"custom",prop:"sale_count",headerAlign:"right",formatter:e=>p(e.sale_count)},{label:"销售额 (元)",minWidth:106,align:"right",sortable:"custom",prop:"gmv",headerAlign:"right",formatter:e=>d((e.gmv/100).toFixed(2),2,!1)},{label:"销售额占比",minWidth:104,align:"right",sortable:"custom",prop:"gmv_part",headerAlign:"right",formatter:e=>c(e.gmv_part,"%")},{label:"成交转化率",minWidth:104,align:"right",sortable:"custom",prop:"pay_rate",headerAlign:"right",formatter:e=>c(e.pay_rate,"%")}],shopDetailColumns:[{label:"商品信息",width:228,align:"left",fixed:!0,headerAlign:"left",formatter:e=>(0,i.h)("div",{class:"goods-info"},[(0,i.h)("img",{attrs:{src:e.image_url||s},style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}}}),(0,i.h)("div",{class:"info-row"},[(0,i.h)("el-tooltip",{props:{content:e.title}},[(0,i.h)("div",{class:"goods-title",style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}}},e.title)]),(0,i.h)("div",{class:"goods-price"},[(0,i.h)("span",void 0,"直播价："),(0,i.h)("span",void 0,d((e.discount_price/100).toFixed(2),2,!1))])])])},{label:"类目",minWidth:130,align:"left",headerAlign:"left",formatter:e=>c(e.second_cname)},{label:"销售额 (元)",minWidth:126,align:"right",sortable:"custom",prop:"gmv",headerAlign:"right",formatter:e=>d((e.gmv/100).toFixed(2),2,!1)},{label:"销售额占比",minWidth:144,align:"right",sortable:"custom",prop:"gmv_part",headerAlign:"right",formatter:e=>c(e.gmv_part,"%")},{label:"销量",minWidth:105,align:"right",sortable:"custom",prop:"sale_count",headerAlign:"right",formatter:e=>p(e.sale_count)},{label:"平均售价 (元)",minWidth:126,align:"right",sortable:"custom",prop:"avg_price",headerAlign:"right",formatter:e=>d((e.avg_price/100).toFixed(2),2,!1)},{label:"平均折扣率",minWidth:135,align:"right",sortable:"custom",prop:"discount_rate",headerAlign:"right",formatter:e=>c(e.discount_rate,"%")},{label:"讲解次数",minWidth:105,align:"right",sortable:"custom",prop:"talk_times",headerAlign:"right",formatter:e=>p(e.talk_times)},{label:"发货前退款金额 (元)",minWidth:164,align:"right",sortable:"custom",prop:"refund_status21_gmv",headerAlign:"right",formatter:e=>d((e.refund_status21_gmv/100).toFixed(2),2,!1)},{label:"发货前退款比例",minWidth:164,align:"right",sortable:"custom",prop:"refund_status21_rate",headerAlign:"right",formatter:e=>c(e.refund_status21_rate,"%")},{label:"总退款金额 (元)",minWidth:134,align:"right",sortable:"custom",prop:"refund_gmv",headerAlign:"right",formatter:e=>d((e.refund_gmv/100).toFixed(2),2,!1)},{label:"总退款比例",minWidth:134,align:"right",sortable:"custom",prop:"refund_rate",headerAlign:"right",formatter:e=>c(e.refund_rate,"%")}]}),a=async a=>{t.loading=!0;try{const e=await(0,o.GX)(a);t.saleData=e.data.data.items||[],t.total=e.data.data.total||0}catch(i){e.root.$message.error("查询失败")}finally{t.loading=!1}},r=(0,i.ref)([]),u=(0,i.ref)([]),m=(0,i.ref)([]),h=async e=>{const t=await(0,o.jL)({...e});t.data.success?r.value=t.data.data.map((e=>({label:e.cat_name,value:e.id}))):l.Message.error(t.data.message)},_=async e=>{const t=await(0,n.v3)({...e,is_from_project:e.is_from_project||!1});t.data.success?u.value=t.data.data.map((e=>({label:e.cat_name,value:e.id}))):l.Message.error(t.data.message)},g=async e=>{const t=await(0,n.v3)({...e,is_from_project:e.is_from_project||!1});t.data.success?m.value=t.data.data.map((e=>({label:e.cat_name,value:e.id}))):l.Message.error(t.data.message)};return{...(0,i.toRefs)(t),getData:a,getCategory_1:h,getCategory_2:_,getCategory_3:g,category_1:r,category_2:u,category_3:m}},g=e=>{const t=(0,i.reactive)({loading:!1,saleData:[],total:0,hotGoodsColumn:[{label:"商品信息",width:228,align:"left",fixed:!0,headerAlign:"left",formatter:e=>(0,i.h)("div",{class:"goods-info"},[(0,i.h)("img",{attrs:{src:e.image_url||s},style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}}}),(0,i.h)("div",{class:"info-row"},[(0,i.h)("el-tooltip",{props:{content:e.title}},[(0,i.h)("div",{class:"goods-title",style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}}},e.title)]),(0,i.h)("div",{class:"goods-price"},[(0,i.h)("span",void 0,"吊牌价："),(0,i.h)("span",void 0,d((e.market_price/100).toFixed(2),2,!1))])])])},{label:"类目",minWidth:120,align:"left",headerAlign:"left",formatter:e=>c(e.second_cname)},{label:"销售额 (元)",minWidth:106,align:"right",sortable:"custom",prop:"gmv",headerAlign:"right",formatter:e=>d((e.gmv/100).toFixed(2),2,!1)},{label:"销售额占比",minWidth:100,align:"right",prop:"gmv_part",headerAlign:"right",formatter:e=>c(e.gmv_part,"%")},{label:"销量",minWidth:85,align:"right",sortable:"custom",prop:"sale_count",headerAlign:"right",formatter:e=>p(e.sale_count)},{label:"平均售价 (元)",minWidth:105,align:"right",prop:"avg_price",headerAlign:"right",formatter:e=>d((e.avg_price/100).toFixed(2),2,!1)},{label:"平均折扣率",minWidth:95,align:"right",prop:"discount_rate",headerAlign:"right",formatter:e=>c(e.discount_rate,"%")},{label:"讲解次数",minWidth:95,align:"right",sortable:"custom",prop:"talk_times",headerAlign:"right",formatter:e=>p(e.talk_times)},{label:"发货前退款金额 (元)",minWidth:164,align:"right",sortable:"custom",prop:"refund_status21_gmv",headerAlign:"right",formatter:e=>d((e.refund_status21_gmv/100).toFixed(2),2,!1)},{label:"发货前退款比例",minWidth:130,align:"right",prop:"refund_status21_rate",headerAlign:"right",formatter:e=>c(e.refund_status21_rate,"%")},{label:"总退款金额 (元)",minWidth:130,align:"right",sortable:"custom",prop:"refund_gmv",headerAlign:"right",formatter:e=>d((e.refund_gmv/100).toFixed(2),2,!1)},{label:"总退款比例",minWidth:100,align:"right",prop:"refund_rate",headerAlign:"right",formatter:e=>c(e.refund_rate,"%")}]}),a=async a=>{t.loading=!0;try{const e=await(0,o._3)(a);t.saleData=e.data.data.data||[],t.total=e.data.data.total||0}catch(i){e.root.$message.error("查询失败")}finally{t.loading=!1}},r=(0,i.ref)([]),n=(0,i.ref)([]),u=(0,i.ref)([]),m=async e=>{const t=await(0,o.Mi)({...e});t.data.success?r.value=t.data.data.map((e=>({label:e.cat_name,value:e.cat_id||e.id}))):l.Message.error(t.data.message)},h=async e=>{const t=await(0,o.Mi)({...e,is_from_project:e.is_from_project||!1});t.data.success?n.value=t.data.data.map((e=>({label:e.cat_name,value:e.cat_id||e.id}))):l.Message.error(t.data.message)},_=async e=>{const t=await(0,o.Mi)({...e,is_from_project:e.is_from_project||!1});t.data.success?u.value=t.data.data.map((e=>({label:e.cat_name,value:e.cat_id||e.id}))):l.Message.error(t.data.message)};return{...(0,i.toRefs)(t),getData:a,getCategory_1:m,getCategory_2:h,getCategory_3:_,category_1:r,category_2:n,category_3:u}}},4096:function(e,t,a){e.exports=a(70680)(12996)}}]);
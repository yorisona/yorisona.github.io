"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[223],{21042:function(e,t,a){a.d(t,{Z:function(){return b}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("div",[a("el-dialog",{staticClass:"tg-dialog-classic tg-dialog-vcenter-new contract-form-modal",attrs:{visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"1148px",top:"70px"},on:{close:e.backClick},scopedSlots:e._u([{key:"title",fn:function(){return[a("span",[e._v(e._s("add"===e.type?"主播签约":"编辑主播签约"))])]},proxy:!0},{key:"footer",fn:function(){return[a("tg-button",{attrs:{type:"primary",disabled:e.iscannotclick},on:{click:function(t){return e.onSaveBtnClick(1)}}},[e._v("提交审核")]),1===e.form.cooperation_contract_type||2===e.form.cooperation_contract_type?a("tg-button",{attrs:{disabled:e.iscannotclick},on:{click:function(t){return e.onSaveBtnClick(2)}}},[e._v("合同预览")]):e._e(),a("tg-button",{on:{click:e.backClick}},[e._v("返回")])]},proxy:!0}],null,!1,1966973207)},[a("div",{staticClass:"dialog-content",staticStyle:{padding:"5px 0px 5px 24px","overflow-y":"auto","overflow-x":"hidden",height:"80vh","min-height":"400px"}},[a("el-form",{ref:"formRef",staticStyle:{"margin-left":"5px"},attrs:{model:e.form,rules:e.formRules}},[a("el-form-item",{staticStyle:{display:"inline-block",width:"1078px","margin-top":"10px"},attrs:{label:"签约类型：",prop:"cooperation_contract_type"}},[a("el-radio-group",{staticStyle:{"line-height":"40px",height:"40px"},attrs:{value:e.form.cooperation_contract_type,disabled:"add"!==e.type},on:{input:e.tabsChange}},e._l(e.qianyuerecord,(function(t){return a("el-radio",{key:t.value,staticStyle:{"line-height":"30px",height:"30px !important","margin-right":"30px"},attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),2===e.form.cooperation_contract_type||3===e.form.cooperation_contract_type||4===e.form.cooperation_contract_type?a("el-form-item",{staticClass:"sub-item anchor one-item-sub paytypeselect",class:{twoanchor:2===e.form.cooperation_contract_type,threeanchor:3===e.form.cooperation_contract_type,fouranchor:4===e.form.cooperation_contract_type},staticStyle:{height:"56px","line-height":"56px"},attrs:{label:"关联主合同：","label-width":"80px",prop:"cooperation_link_contract_ID"}},[a("div",{staticClass:"triangle-css3 transform"}),a("el-select",{staticStyle:{width:"292px","margin-top":"-1px"},attrs:{filterable:"","reserve-keyword":"",clearable:"",placeholder:"请选择",size:"medium"},on:{change:function(t){return e.selectContractUidChange(t)}},model:{value:e.form.cooperation_link_contract_ID,callback:function(t){e.$set(e.form,"cooperation_link_contract_ID",t)},expression:"form.cooperation_link_contract_ID"}},e._l(e.contract_uids,(function(e){return a("el-option",{key:e.contract_id,attrs:{label:e.contract_uid,value:e.contract_uid}})})),1)],1):e._e(),a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"主播信息"}}),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"主播花名"}},[a("el-input",{attrs:{placeholder:"请输入主播花名",disabled:""},model:{value:e.form.anchor_name,callback:function(t){e.$set(e.form,"anchor_name","string"===typeof t?t.trim():t)},expression:"form.anchor_name"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"主播姓名"}},[a("el-input",{attrs:{placeholder:"请输入主播姓名",disabled:""},model:{value:e.form.anchor_real_name,callback:function(t){e.$set(e.form,"anchor_real_name","string"===typeof t?t.trim():t)},expression:"form.anchor_real_name"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"身份证号"}},[a("el-input",{attrs:{placeholder:"请输入身份证号",disabled:""},model:{value:e.anchor_ident,callback:function(t){e.anchor_ident="string"===typeof t?t.trim():t},expression:"anchor_ident"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"电话"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.anchor_tel,callback:function(t){e.anchor_tel="string"===typeof t?t.trim():t},expression:"anchor_tel"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"微信号"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.anchor_weixin,callback:function(t){e.anchor_weixin="string"===typeof t?t.trim():t},expression:"anchor_weixin"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"电子邮箱",prop:"anchor_email"}},[a("el-input",{attrs:{type:"email",placeholder:"请输入"},model:{value:e.form.anchor_email,callback:function(t){e.$set(e.form,"anchor_email",t)},expression:"form.anchor_email"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"联系地址",prop:"anchor_address"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:e.form.anchor_address,callback:function(t){e.$set(e.form,"anchor_address",t)},expression:"form.anchor_address"}})],1),[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"关联机构信息"}}),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"机构名称"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.form.organization_name,callback:function(t){e.$set(e.form,"organization_name","string"===typeof t?t.trim():t)},expression:"form.organization_name"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"联系电话"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.form.organization_tel,callback:function(t){e.$set(e.form,"organization_tel","string"===typeof t?t.trim():t)},expression:"form.organization_tel"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"联系地址"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入"},model:{value:e.form.organization_address,callback:function(t){e.$set(e.form,"organization_address",t)},expression:"form.organization_address"}})],1)],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"项目信息"}}),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"关联项目",prop:"project_relevancy_id"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{filterable:"","reserve-keyword":"",clearable:"",placeholder:"请选择"},on:{change:function(t){return e.selectProjrctIDChange(t)}},model:{value:e.form.project_relevancy_id,callback:function(t){e.$set(e.form,"project_relevancy_id",t)},expression:"form.project_relevancy_id"}},e._l(e.project_ids,(function(e){return a("el-option",{key:e.id,attrs:{label:e.project_name,value:e.id}})})),1)],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"运营审批人",prop:"project_operation_prople"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.project_operation_prople,callback:function(t){e.$set(e.form,"project_operation_prople",t)},expression:"form.project_operation_prople"}},e._l(e.ownInfoRecords,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"我方信息"}}),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"经办人",prop:"own_id"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{filterable:"",remote:"","reserve-keyword":"",clearable:"",placeholder:"请输入","remote-method":e.getOwnNameIds},on:{change:function(t){return e.selecOwnNameidChange(t)}},model:{value:e.form.own_id,callback:function(t){e.$set(e.form,"own_id",t)},expression:"form.own_id"}},e._l(e.own_name_ids,(function(e){return a("el-option",{key:e.id,attrs:{label:e.username,value:e.id}})})),1)],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"电话",prop:"own_tel"}},[a("el-input",{attrs:{type:"tel",rows:"1",maxlength:"11",placeholder:"请输入电话"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"own_tel")}},model:{value:e.form.own_tel,callback:function(t){e.$set(e.form,"own_tel",t)},expression:"form.own_tel"}})],1)],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"合同期限"}}),a("el-form-item",{staticClass:"sub-item anchor append",attrs:{label:"合同有效期",prop:"cooperation_zhubo_real_year"}},[a("el-input",{staticClass:"contract-valid-date",attrs:{maxlength:"2",type:"tel",placeholder:"请输入"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"cooperation_zhubo_real_year")}},model:{value:e.form.cooperation_zhubo_real_year,callback:function(t){e.$set(e.form,"cooperation_zhubo_real_year",t)},expression:"form.cooperation_zhubo_real_year"}},[a("el-select",{staticStyle:{margin:"-10px -14px -10px -12px"},attrs:{slot:"append"},slot:"append",model:{value:e.form.dateUnit,callback:function(t){e.$set(e.form,"dateUnit",t)},expression:"form.dateUnit"}},[a("el-option",{attrs:{label:"年",value:"年"}}),a("el-option",{attrs:{label:"月",value:"月"}})],1)],1)],1),a("el-form-item",{staticClass:"sub-item anchor neednoright",attrs:{label:"合作期限",prop:"cooperation_zhubo_real_time"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{"range-separator":"~",type:"daterange",editable:!1,"start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd"},model:{value:e.form.cooperation_zhubo_real_time,callback:function(t){e.$set(e.form,"cooperation_zhubo_real_time",t)},expression:"form.cooperation_zhubo_real_time"}})],1)],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"结算信息"}}),a("div",[a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"计算方式",prop:"settlement_way"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px",display:"inline-block"},attrs:{placeholder:"请选择","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.settlement_way,callback:function(t){e.$set(e.form,"settlement_way",t)},expression:"form.settlement_way"}},e._l(e.computeWayRecords,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1===e.form.settlement_way||4===e.form.settlement_way||5===e.form.settlement_way||8===e.form.settlement_way?a("el-form-item",{staticClass:"sub-item anchor append",attrs:{label:"小时服务费",prop:"settlement_hour_pay"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{input:function(t){return e.getfixPositiveNumber(t,"settlement_hour_pay")},blur:function(t){return e.blurPositiveNumber(t,"settlement_hour_pay")}},model:{value:e.form.settlement_hour_pay,callback:function(t){e.$set(e.form,"settlement_hour_pay",t)},expression:"form.settlement_hour_pay"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),2===e.form.settlement_way||9===e.form.settlement_way||6===e.form.settlement_way||8===e.form.settlement_way?a("el-form-item",{staticClass:"sub-item anchor append",attrs:{label:"保底服务费",prop:"settlement_server_low_pay"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{input:function(t){return e.getfixPositiveNumber(t,"settlement_server_low_pay")},blur:function(t){return e.blurPositiveNumber(t,"settlement_server_low_pay")}},model:{value:e.form.settlement_server_low_pay,callback:function(t){e.$set(e.form,"settlement_server_low_pay",t)},expression:"form.settlement_server_low_pay"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),7===e.form.settlement_way?a("el-form-item",{staticClass:"sub-item anchor append",attrs:{label:"保底服务费A",prop:"settlement_server_low_pay_A"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{input:function(t){return e.getfixPositiveNumber(t,"settlement_server_low_pay_A")},blur:function(t){return e.blurPositiveNumber(t,"settlement_server_low_pay_A")}},model:{value:e.form.settlement_server_low_pay_A,callback:function(t){e.$set(e.form,"settlement_server_low_pay_A",t)},expression:"form.settlement_server_low_pay_A"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),7===e.form.settlement_way?a("el-form-item",{staticClass:"sub-item anchor append",attrs:{label:"保底服务费B",prop:"settlement_server_low_pay_B"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{input:function(t){return e.getfixPositiveNumber(t,"settlement_server_low_pay_B")},blur:function(t){return e.blurPositiveNumber(t,"settlement_server_low_pay_B")}},model:{value:e.form.settlement_server_low_pay_B,callback:function(t){e.$set(e.form,"settlement_server_low_pay_B",t)},expression:"form.settlement_server_low_pay_B"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("元")])])],1):e._e(),2===e.form.settlement_way||4===e.form.settlement_way||7===e.form.settlement_way||8===e.form.settlement_way?a("el-form-item",{staticClass:"sub-item anchor append",attrs:{label:"提成比例",prop:"settlement_rate"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{input:function(t){return e.getfixPositiveNumber(t,"settlement_rate")},blur:function(t){return e.blurPositiveNumber(t,"settlement_rate")}},model:{value:e.form.settlement_rate,callback:function(t){e.$set(e.form,"settlement_rate",t)},expression:"form.settlement_rate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1):e._e(),5===e.form.settlement_way||6===e.form.settlement_way?[e._l(e.form.settlement_month_sales,(function(t,o){return[a("el-form-item",{key:o+"jieti",staticClass:"sub-item anchor",attrs:{label:"阶梯"+(o+1)+"：月净销额（万）",rules:e.sales_rules_money(o),prop:"settlement_month_sales"}},[o<e.form.settlement_month_sales.length-1?a("div",{staticStyle:{"margin-left":"3px",display:"inline-block",width:"250px",border:"1px solid rgba(164, 178, 194, 0.5)","border-radius":"2px"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.nochange()}}},[a("el-input",{staticClass:"paperview-input-text money",staticStyle:{"text-align":"right",width:"120px"},attrs:{maxlength:"8",value:0===o?e.form.settlement_month_first_point:e.form.settlement_month_sales[o-1].settlement_month_sales_point,placeholder:"",disabled:""}}),e._v("-"),a("el-input",{staticClass:"paperview-input-text",staticStyle:{width:"115px"},attrs:{maxlength:"8",type:"number",placeholder:""},on:{input:function(t){return e.getfixPositiveSalseNumber(t,"settlement_month_sales_point",o)}},model:{value:t.settlement_month_sales_point,callback:function(a){e.$set(t,"settlement_month_sales_point",a)},expression:"item.settlement_month_sales_point"}})],1):a("div",[a("el-input",{staticClass:"paperview-input-text anchorborder",staticStyle:{"text-align":"right",width:"252px"},attrs:{maxlength:"8",value:e.form.settlement_month_sales[o-1].settlement_month_sales_point?e.form.settlement_month_sales[o-1].settlement_month_sales_point+"万以上":"",placeholder:"",disabled:""}})],1)]),a("el-form-item",{key:o+"rate",staticClass:"sub-item anchor append",style:{width:o===e.form.settlement_month_sales.length-1?"282px":"252px",marginRight:o===e.form.settlement_month_sales.length-1?"0px":"20px"},attrs:{label:"提成比例"+(o+1),rules:e.sales_rules_rate(o),prop:"settlement_month_sales"}},[a("div",[a("el-input",{staticStyle:{width:"252px","margin-right":"10px"},attrs:{type:"number",placeholder:"请输入"},on:{input:function(t){return e.getfixPositiveSalseNumber(t,"settlement_month_sales_rate",o)}},model:{value:t.settlement_month_sales_rate,callback:function(a){e.$set(t,"settlement_month_sales_rate",a)},expression:"item.settlement_month_sales_rate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])]),o===e.form.settlement_month_sales.length-1?a("div",{staticStyle:{display:"inline-flex",width:"20px",height:"32px","flex-direction":"column",position:"absolute",cursor:"pointer"}},[a("div",{staticClass:"icon-circle-plus",attrs:{disabled:2===e.form.settlement_month_sales.length},on:{click:e.reduceSettlementItem}},[e._v(" - ")]),a("div",{staticClass:"icon-circle-plus add",attrs:{disabled:5===e.form.settlement_month_sales.length},on:{click:e.addSettlementItem}},[e._v(" + ")])]):e._e()],1)])]}))]:e._e()],2),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"票款类型",prop:"settlement_month_fee_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.settlement_month_fee_type,callback:function(t){e.$set(e.form,"settlement_month_fee_type",t)},expression:"form.settlement_month_fee_type"}},[a("el-option",{attrs:{label:"先票后款",value:1}}),a("el-option",{attrs:{label:"先款后票",value:2}})],1)],1),a("el-form-item",{staticClass:"sub-item anchor append",attrs:{label:"税率",prop:"settlement_month_tax_rate"}},[a("el-input",{attrs:{placeholder:"请输入"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"settlement_month_tax_rate")},blur:function(t){return e.blurPositiveNumber(t,"settlement_month_tax_rate")}},model:{value:e.form.settlement_month_tax_rate,callback:function(t){e.$set(e.form,"settlement_month_tax_rate",t)},expression:"form.settlement_month_tax_rate"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("%")])])],1)],[a("head-lines",{staticStyle:{margin:"10px 0px 15px -10px"},attrs:{title:"其它信息"}}),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"盖章份数",prop:"other_stamp_count"}},[a("el-input",{staticStyle:{width:"252px","line-height":"30px",height:"30px !important"},attrs:{maxlength:"1",placeholder:"请输入盖章份数"},on:{input:function(t){return e.getfixIntPositiveNumber(t,"other_stamp_count")}},model:{value:e.form.other_stamp_count,callback:function(t){e.$set(e.form,"other_stamp_count",t)},expression:"form.other_stamp_count"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"印章名称",prop:"other_stamp_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择印章名称","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.other_stamp_type,callback:function(t){e.$set(e.form,"other_stamp_type",t)},expression:"form.other_stamp_type"}},e._l(e.yinzhengrecord,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"用印时间",prop:"other_stamp_time"}},[a("el-date-picker",{staticStyle:{width:"252px","margin-right":"12px"},attrs:{type:"date",editable:!1,placeholder:"选择日期",format:"yyyy.MM.dd","value-format":"yyyy.MM.dd"},model:{value:e.form.other_stamp_time,callback:function(t){e.$set(e.form,"other_stamp_time",t)},expression:"form.other_stamp_time"}})],1),a("el-form-item",{staticClass:"sub-item anchor",attrs:{label:"是否邮寄",prop:"other_stamp_send_type"}},[a("el-select",{staticStyle:{width:"252px","font-size":"12px"},attrs:{size:"small",placeholder:"请选择是否邮寄","popper-class":"frame_contract_popper-custoner"},model:{value:e.form.other_stamp_send_type,callback:function(t){e.$set(e.form,"other_stamp_send_type",t)},expression:"form.other_stamp_send_type"}},e._l(e.sendAddressrecord,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),1===e.form.other_stamp_send_type?a("el-form-item",{staticClass:"sub-item anchor",staticStyle:{width:"600px"},attrs:{label:"邮寄信息",prop:"other_stamp_send_address"}},[a("el-input",{staticStyle:{width:"524px","line-height":"30px",height:"30px !important"},attrs:{placeholder:"示例：省+市+区+详细地址，姓名（电话）"},model:{value:e.form.other_stamp_send_address,callback:function(t){e.$set(e.form,"other_stamp_send_address",t)},expression:"form.other_stamp_send_address"}})],1):e._e(),a("div",{staticClass:"line-box"},[a("el-form-item",{attrs:{label:1===e.form.cooperation_contract_type||2===e.form.cooperation_contract_type?"附件":"合同及附件",prop:"filelisturl"}},[a("div",[e.filelisturl.length<10?a("el-upload",{staticClass:"upload-btn-wrap",attrs:{action:"","show-file-list":!1,multiple:!1,"http-request":e.uploadAttachmentFile,accept:".doc,.docx,.pdf,.jpg,.jpeg,.png,.xlsx"}},[a("tg-button",{attrs:{icon:"ico-btn-upload"}},[e._v(e._s(1===e.form.cooperation_contract_type||2===e.form.cooperation_contract_type?"上传文件":"合同文本及附件"))])],1):a("tg-button",{staticStyle:{"background-color":"transparent"},attrs:{icon:"ico-btn-upload",disabled:""}},[e._v(e._s(1===e.form.cooperation_contract_type||2===e.form.cooperation_contract_type?"上传文件":"合同文本及附件"))]),1===e.form.cooperation_contract_type||2===e.form.cooperation_contract_type?a("div",{staticClass:"file-tips"},[e._v(" 合同文本自动生成，无需上传；限docx .doc .pdf .jpg .png .xlsx格式，最多上传10份文件，每份不超过20M。 ")]):a("div",{staticClass:"file-tips"},[e._v(" 限docx .doc .pdf .jpg .png .xlsx格式，最多上传10份文件，每份不超过20M。 ")])],1)])],1),a("div",{staticClass:"file-list-box"},[a("upload-file-list",{staticStyle:{"margin-bottom":"14px"},model:{value:e.filelisturl,callback:function(t){e.filelisturl=t},expression:"filelisturl"}})],1),a("el-form-item",{staticClass:"remark-item",attrs:{prop:"other_remark",label:"备注"}},[a("el-input",{attrs:{type:"textarea",rows:"4",maxlength:"100","show-word-limit":"",placeholder:"请输入"},model:{value:e.form.other_remark,callback:function(t){e.$set(e.form,"other_remark",t)},expression:"form.other_remark"}})],1)]],2)],1)]),a("tg-mask-loading",{attrs:{visible:e.saveLoading,content:"  正在提交数据，请稍候..."}})],1):e._e()},r=[],n=(a(21703),a(26699),a(97434)),s=a(64236),l=a(83005),i=a(86863),c=a(48606),_=a(97484),p=a(74750),m=a(44928),u=a(61282);const d=32,h=/^([\w\-.])+@([\w_\-.])+\.([A-Za-z]{2,4})$/u;var f=(0,n.defineComponent)({name:"TemplateContract",props:{type:{type:String,default:"add"}},components:{},setup(e,t){const a=(0,n.ref)(null),o=(0,p.LP)(),r=(0,n.ref)(!1),i=(0,n.ref)(!1),_=(0,n.ref)(void 0),u=(0,m.t)(),f=(0,n.ref)(u.currentRoute.params.id),y=(0,n.ref)(!1),v=t.root.$store.getters["user/getUserInfo"],g=v.username,b=v.phone,w=(0,n.ref)({filelisturl:void 0,other_remark:void 0,other_stamp_send_address:void 0,other_stamp_send_type:void 0,other_stamp_time:void 0,other_stamp_type:void 0,other_stamp_count:void 0,dateUnit:"年",cooperation_zhubo_real_time:[],cooperation_zhubo_real_year:void 0,cooperation_zhubo_try_type:void 0,cooperation_zhubo_try_end_time:void 0,cooperation_zhubo_try_start_time:void 0,cooperation_link_contract_ID:void 0,cooperation_contract_type:void 0,own_tel:b,own_name:g,own_id:void 0,anchor_name:"",anchor_real_name:"",anchor_ident:"",anchor_tel:"",anchor_weixin:"",anchor_email:"",anchor_address:"",organization_id:void 0,organization_name:"",organization_tel:"",organization_address:"",project_relevancy_id:void 0,project_relevancy_name:void 0,project_operation_prople:void 0,settlement_way:1,settlement_hour_pay:void 0,settlement_server_low_pay:void 0,settlement_server_low_pay_A:void 0,settlement_server_low_pay_B:void 0,settlement_rate:void 0,settlement_month_fee_type:void 0,settlement_month_tax_rate:void 0,settlement_month_sales:[{settlement_month_sales_point:void 0,settlement_month_sales_rate:void 0},{settlement_month_sales_point:void 0,settlement_month_sales_rate:void 0}],settlement_month_first_point:0}),x=(0,n.ref)({filelisturl:[{required:!0,message:"请上传合同文本及附件",trigger:["blur","change"]}],other_stamp_send_address:[{required:!0,message:"请输入邮寄信息",trigger:["blur","change"]}],other_stamp_send_type:[{required:!0,message:"请选择是否邮寄",trigger:"change"}],other_stamp_time:[{required:!0,message:"请选择用印时间",trigger:"change"}],other_stamp_type:[{required:!0,message:"请选择印章名称",trigger:"change"}],other_stamp_count:[{required:!0,message:"请输入盖章份数",trigger:["blur","change"]},{validator:(e,t,a)=>{0===t||"0"===t?a("盖章份数不能为0"):a()},trigger:["blur"]}],cooperation_zhubo_real_year:[{required:!0,message:"请输入合同有效期",trigger:["blur","change"]},{validator:(e,t,a)=>{0===t||"0"===t?a("合同有效期不能为0"):a()},trigger:["blur"]}],cooperation_zhubo_real_time:[{required:!0,message:"请选择合作期限",trigger:"change"},{validator:(e,t,a)=>{a()},trigger:["blur"]}],cooperation_link_contract_ID:[{required:!0,message:"请输入关联主合同编号",trigger:["blur","change"]}],own_id:[{required:!0,message:"请输入经办人",trigger:["blur","change"]}],own_tel:[{required:!0,message:"请输入电话",trigger:["blur","change"]}],cooperation_contract_type:[{required:!0,message:"请选择签约类型",trigger:"change"}],anchor_email:[{required:!0,message:"请输入电子邮箱",trigger:["blur","change"]},{validator:(e,t,a)=>{""===t?a():t.length>d?a(new Error(`最多输入${d}个字符`)):h.test(t)?a():a(new Error("请输入正确的邮箱地址"))},trigger:"blur"}],anchor_address:[{required:!0,message:"请输入联系地址",trigger:["blur","change"]}],organization_address:[{required:!0,message:"请输入联系地址",trigger:["blur","change"]}],project_relevancy_id:[{required:!0,message:"请选择关联项目",trigger:["blur","change"]}],project_operation_prople:[{required:!0,message:"请选择运营审批人",trigger:["blur","change"]}],settlement_way:[{required:!0,message:"请选择计算方式",trigger:["blur","change"]}],settlement_hour_pay:[{required:!0,message:"请输入小时服务费",trigger:["blur","change"]}],settlement_server_low_pay:[{required:!0,message:"请输入保底服务费",trigger:["blur","change"]}],settlement_server_low_pay_A:[{required:!0,message:"请输入保底服务费A",trigger:["blur","change"]}],settlement_server_low_pay_B:[{required:!0,message:"请输入保底服务费B",trigger:["blur","change"]}],settlement_rate:[{required:!0,message:"请输入提成比例",trigger:["blur","change"]},{validator:(e,t,a)=>{0===t||"0"===t?a("提成比例不能为0"):Number(t)>100?a("提成比例输入错误"):a()},trigger:["blur"]}],settlement_month_fee_type:[{required:!0,message:"请选择票款类型",trigger:["blur","change"]}],settlement_month_tax_rate:[{required:!0,message:"请输入税率",trigger:["blur","change"]},{validator:(e,t,a)=>{Number(t||0)>100?a("税率输入错误"):a()},trigger:["blur"]}],settlement_month_sales:[{required:!0,message:"请输入",trigger:["blur","change"]},{validator:(e,t,a)=>{a("")},trigger:["blur"]}]}),k=(0,n.ref)(!0);(0,n.watch)((()=>w),(e=>{1===e.value.cooperation_contract_type||2===e.value.cooperation_contract_type?x.value.filelisturl=[{required:!1,message:"请上传合同文本及附件",trigger:["blur","change"]}]:x.value.filelisturl=[{required:!0,message:"请上传合同文本及附件",trigger:["blur","change"]}];const t=e.value;t.cooperation_zhubo_real_time?.length&&t.cooperation_contract_type?k.value=!1:k.value=!0}),{deep:!0});const j=(0,n.ref)([]);let C;const S=()=>{C=c.Loading.service({lock:!0,text:"加载中……",background:"rgba(0, 0, 0, 0.7)"})},z=()=>{C.close()},P=(0,n.ref)([]),A=[{value:1,label:"轻奢项目负责人"},{value:2,label:"时尚项目负责人"}],$=[{value:1,label:"小时服务费"},{value:9,label:"保底服务费"},{value:4,label:"小时服务费或提点"},{value:2,label:"保底服务费或提点"},{value:5,label:"小时服务费或阶梯式提点"},{value:6,label:"保底服务费或阶梯式提点"},{value:7,label:"保底服务费A或保底服务费B+提点"},{value:8,label:"小时服务费或保底服务费+提点"}],q=[{value:1,label:"合作协议"},{value:2,label:"结算协议"},{value:3,label:"从合同"},{value:4,label:"解除协议"}],I=[{value:1,label:"公章"},{value:2,label:"合同专用章"}],G={headers:{Authorization:(0,p.LP)()??""}},N=e=>{fetch(e,G).then((async a=>{const o=a.clone();try{const e=await o.json();t.root.$message.error(e.message)}catch{if(200===a.status){const t=await a.blob(),o=new URL(e),r=decodeURIComponent(o.pathname.split("/").pop()??"");(0,s.uA)(t,r)}else t.root.$message.error("下载失败")}}))},Z=async()=>{setTimeout((()=>{new Promise((e=>a.value?.validate((t=>e(t)))))}),10)},O=()=>{setTimeout((()=>{a.value?.clearValidate()}),10)},D=()=>{setTimeout((()=>{a.value?.clearValidate("filelisturl")}),10)},B=async e=>{const n=w.value,s=await new Promise((e=>a.value?.validate((t=>e(t)))));if(s){const a=[{key:"经办人",value:n.own_id},{key:"经办人Name",value:n.own_name},{key:"电话",value:n.own_tel}],s=[{key:"计算方式",value:n.settlement_way?n.settlement_way:void 0},{key:"小时服务费",value:1===n.settlement_way||4===n.settlement_way||5===n.settlement_way||8===n.settlement_way?n.settlement_hour_pay:void 0},{key:"保底服务费",value:2===n.settlement_way||9===n.settlement_way||6===n.settlement_way||8===n.settlement_way?n.settlement_server_low_pay:void 0},{key:"保底服务费A",value:7===n.settlement_way?n.settlement_server_low_pay_A:void 0},{key:"保底服务费B",value:7===n.settlement_way?n.settlement_server_low_pay_B:void 0},{key:"提成比例",value:2===n.settlement_way||4===n.settlement_way||7===n.settlement_way||8===n.settlement_way?n.settlement_rate:void 0},{key:"阶梯提点",value:5===n.settlement_way||6===n.settlement_way?n.settlement_month_sales:void 0},{key:"票款类型",value:1===n.settlement_month_fee_type?"先票后款":2===n.settlement_month_fee_type?"先款后票":""},{key:"发票类型",value:"专票"},{key:"税率",value:n.settlement_month_tax_rate}],[c,p]=n.cooperation_zhubo_real_time??[],m=c+"/"+p,u=[{key:"签约类型",value:q[n.cooperation_contract_type-1].label},{key:"关联主合同",value:n.cooperation_contract_type<2?void 0:n.cooperation_link_contract_ID},{key:"合同有效期",value:n.cooperation_zhubo_real_year},{key:"合作期限",value:m},{key:"试合作期",value:"无"},{key:"合同有效期单位",value:n.dateUnit}],d=[{key:"盖章份数",value:n.other_stamp_count},{key:"印章名称",value:I[n.other_stamp_type-1].label},{key:"用印时间",value:n.other_stamp_time},{key:"是否邮寄",value:1===n.other_stamp_send_type?1:0}];1===n.other_stamp_send_type&&d.push({key:"邮寄信息",value:1===n.other_stamp_send_type?n.other_stamp_send_address:void 0});const h=[{key:"机构ID",value:n.organization_id},{key:"机构名称",value:n.organization_name},{key:"联系电话",value:n.organization_tel},{key:"联系地址",value:n.organization_address}],v=[{key:"主播花名",value:n.anchor_name},{key:"主播姓名",value:n.anchor_real_name},{key:"身份证号",value:n.anchor_ident},{key:"电话",value:n.anchor_tel},{key:"微信号",value:n.anchor_weixin},{key:"电子邮箱",value:n.anchor_email},{key:"联系地址",value:n.anchor_address}],g={contract_id:_.value||"",anchor_id:f.value,project_id:n.project_relevancy_id,approver_name:A[n.project_operation_prople-1].label,our_info:a,cooperation_duration:u,cooperation_content:s,company_info:h,anchor_info:v,others:d,attachment_urls:P.value,remark:n.other_remark,frontend_data:{...n}};if(y.value=!0,1===e){const{data:e}=await(0,l.uV)(g);y.value=!1,e.success?(t.root.$message.success(e.message),r.value=!1,i.value=!1,t.emit("added")):t.root.$message.error(e.message)}else if(2===e||3===e){const r={sign_type:1===n.cooperation_contract_type?4:-4,dataset:{contract_id:_.value||"",anchor_id:f.value,project_id:n.project_relevancy_id,approver_name:A[n.project_operation_prople-1].label,our_info:a,cooperation_duration:u,cooperation_content:s,company_info:h,anchor_info:v,others:d,attachment_urls:P.value,remark:n.other_remark}},{data:i}=await(0,l.DJ)(r);if(y.value=!1,i.success){const t=i.data;if(t.file_url){const a=t.file_url,r=(new Date).getTime();2===e?window.open(a+"?Authorization="+o+"&t="+r):N(a+"?Authorization="+o+"&t="+r)}else if(t.file_urls){const a=t.file_urls;a.map((t=>{const a=(new Date).getTime();2===e?window.open(t+"?Authorization="+o+"&t="+a):N(t+"?Authorization="+o+"&t="+a)}))}}else t.root.$message.error(i.message)}else y.value=!1}},M=(0,n.ref)([]),R=e=>{w.value.cooperation_contract_type=e},X=e=>{w.value.payee_type===e?!0===w.value.payee_type_other?w.value.payee_type=4:w.value.payee_type=void 0:w.value.payee_type=e},U=e=>{w.value.payee_ROI_type===e?w.value.payee_ROI_type=void 0:w.value.payee_ROI_type=e},L=()=>{},V=(0,n.computed)((()=>w.value.anchor_ident.length>10?w.value.anchor_ident.substring(0,6)+"*****"+w.value.anchor_ident.substring(14):"******")),T=(0,n.computed)((()=>w.value.anchor_tel.length>10?w.value.anchor_tel.substring(0,3)+"****"+w.value.anchor_tel.substring(7):"******")),E=(0,n.computed)((()=>w.value.anchor_weixin.length>0?w.value.anchor_weixin.substring(0,1)+"****":"******")),F=()=>{w.value.settlement_month_sales.length<5&&w.value.settlement_month_sales.push({settlement_month_sales_point:void 0,settlement_month_sales_rate:void 0})},J=()=>{w.value.settlement_month_sales.length>2&&w.value.settlement_month_sales.pop()},W=e=>[{required:!0,message:"请输入月净销额",trigger:["blur","change"]},{validator:(t,a,o)=>{e===w.value.settlement_month_sales.length-1?o():w.value.settlement_month_sales[e].settlement_month_sales_point?0===e?o():w.value.settlement_month_sales[e-1].settlement_month_sales_point&&Number(w.value.settlement_month_sales[e].settlement_month_sales_point)<=Number(w.value.settlement_month_sales[e-1].settlement_month_sales_point)?o("月净销额输入有误"):o():o("请输入月净销额")},trigger:["blur"]}],K=e=>[{required:!0,message:"请输入提成比例",trigger:["blur","change"]},{validator:(t,a,o)=>{w.value.settlement_month_sales[e].settlement_month_sales_rate?Number(w.value.settlement_month_sales[e].settlement_month_sales_rate||0)<=0&&0!==e||Number(w.value.settlement_month_sales[e].settlement_month_sales_rate||0)>100?o(new Error("提成比例有误")):o():o(new Error("请输入提成比例"))},trigger:["blur"]}],Q=async e=>{const a=7,o=await(0,l.Ue)(e,a);if(o.success&&o.data){if(o.data?.template_info?.frontend_data){const e=JSON.parse(JSON.stringify(o.data?.template_info.frontend_data));for(const a in e)"cooperation_contract_type"!==a&&"cooperation_link_contract_ID"!==a&&"anchor_name"!==a&&"anchor_real_name"!==a&&"anchor_ident"!==a&&"anchor_tel"!==a&&"anchor_weixin"!==a&&"organization_id"!==a&&"organization_name"!==a&&"organization_tel"!==a&&"filelisturl"!==a&&(w.value[a]=e[a]);w.value.project_relevancy_id||(w.value.project_relevancy_name=o.data?.contract_info.project_name||"暂无",w.value.project_relevancy_id=o.data?.contract_info.project_id||0);const t=[{username:w.value.own_name,id:w.value.own_id}];Y.value=t}}else t.root.$message.warning(o.message??"主合同详情获取失败")},H=(0,n.ref)([]),Y=(0,n.ref)([]);return{queryContractDetail:Q,sales_rules_rate:K,sales_rules_money:W,reduceSettlementItem:J,addSettlementItem:F,anchor_tel:T,anchor_ident:V,anchor_weixin:E,nochange:L,project_ids:H,own_name_ids:Y,checked2:!0,clearValidate:O,clearValidateupload:D,username:g,phone:b,refresh:Z,saveLoading:y,no_upload_click:r,visible:i,anchorId:f,contract_id:_,tabsshoufeiChange:X,tabsROIChange:U,tabsChange:R,downclick:N,mytoken:o,computeWayRecords:$,onSaveBtnClick:B,formRef:a,filelisturl:P,startLoading:S,closeLoading:z,ownInfoRecords:A,qianyuerecord:q,sendAddressrecord:[{value:1,label:"是"},{value:0,label:"否"}],yinzhengrecord:I,contractInfoRecords:j,formRules:x,form:w,iscannotclick:k,contract_uids:M}},methods:{getfixIntPositiveNumber(e,t){if("settlement_month_tax_rate"===t)if(e=e.replace(/[^.\d]+/gu,""),e>=100){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,u.nA)(this.form[t])}else this.form[t]=(0,u.nA)(e);else if(e=e.replace(/[^\d]+/gu,""),e=(0,u.nA)(e),e>20&&"cooperation_zhubo_real_year"===t){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,u.nA)(this.form[t])}else this.form[t]=(0,u.nA)(e)},getfixPositiveSalseNumber(e,t,a){if(e=(0,u.nA)(e),e>1e8||e>100&&"settlement_month_sales_rate"===t){const o=String(e).split("");o.pop();const r=o.join("");this.form.settlement_month_sales[a][t]=(0,u.nA)(r)}else this.form.settlement_month_sales[a][t]=(0,u.nA)(e)},getfixPositiveNumber(e,t){if(e=(0,u.nA)(e),e>1e8||e>100&&"settlement_rate"===t){const e=String(this.form[t]).split("");e.pop(),this.form[t]=e.join(""),this.form[t]=(0,u.nA)(this.form[t])}else this.form[t]=(0,u.nA)(e)},blurPositiveNumber(e,t){const a=String(this.form[t]).split("");a.length>0&&"."===a[a.length-1]&&(a.pop(),this.form[t]=a.join("")),a.length>0&&"."===a[0]&&(this.form[t]=void 0)},getContract(e){(0,_.Sw)({contract_type:7,contract_status:2,search:e,only_main:1,anchor_id:this.anchorId,cooperation_status:1,release_status:0}).then((({data:e})=>{this.contract_uids=e.data.data}))},getProjectIds(e){(0,_.Iz)({project_name:e,cooperation_type:1,business_type:"3,7",is_end:0}).then((({data:e})=>{const t={id:0,project_name:"暂无"},a=[];let o=e.data||[];o.length<1&&this.form.project_relevancy_name&&this.form.project_relevancy_id&&(o=[{project_name:this.form.project_relevancy_name,id:this.form.project_relevancy_id}]),a.push(...o),a.push(t),this.project_ids=a}))},selectContractUidChange(e){this.form.cooperation_link_contract_ID=e,this.form.cooperation_link_contract_ID&&this.contract_uids.map((t=>{t.contract_uid===e&&this.queryContractDetail({id:t.contract_id})}))},selectProjrctIDChange(e){this.form.project_relevancy_id=e,this.project_ids.map((t=>{t.id===e&&(this.form.project_relevancy_name=t.project_name)}))},getOwnNameIds(e,t=!1){(0,_.VH)({is_checked:1,search_type:2,search_value:e}).then((({data:e})=>{if(e.success&&(this.own_name_ids=e.data.data,t&&this.form.own_name&&this.own_name_ids.length>0)){const e=this.own_name_ids[0];this.form.own_id=e.id||void 0}}))},selecOwnNameidChange(e){this.form.own_id=e,this.own_name_ids.map((t=>{t.id===e&&(this.form.own_name=t.username)}))},show(e,t){if(this.form={filelisturl:void 0,other_remark:void 0,other_stamp_send_address:void 0,other_stamp_send_type:void 0,other_stamp_time:void 0,other_stamp_type:void 0,other_stamp_count:void 0,dateUnit:"年",cooperation_zhubo_real_last_time:void 0,cooperation_zhubo_real_time:[],cooperation_zhubo_real_year:void 0,cooperation_zhubo_try_type:void 0,cooperation_zhubo_try_end_time:void 0,cooperation_zhubo_try_start_time:void 0,cooperation_link_contract_ID:void 0,cooperation_contract_type:void 0,own_tel:this.phone,own_name:this.username,own_id:void 0,anchor_name:e.flower_name||"",anchor_real_name:e.real_name||"",anchor_ident:e.id_card||"",anchor_tel:e.collection_phone||"",anchor_weixin:e.wechat||"",anchor_email:e.email||"",anchor_address:"",organization_id:e.settlement_company_id||"",organization_name:e.settlement_company_name||"",organization_tel:e.settlement_company_contact_no||"",organization_address:e.settlement_company_address||"",project_relevancy_id:void 0,project_relevancy_name:void 0,project_operation_prople:void 0,settlement_way:1,settlement_hour_pay:void 0,settlement_server_low_pay:void 0,settlement_server_low_pay_A:void 0,settlement_server_low_pay_B:void 0,settlement_rate:void 0,settlement_month_fee_type:void 0,settlement_month_tax_rate:void 0,settlement_month_sales:[{settlement_month_sales_point:void 0,settlement_month_sales_rate:void 0},{settlement_month_sales_point:void 0,settlement_month_sales_rate:void 0}],settlement_month_first_point:0},this.clearValidate(),t){if(this.iscannotclick=!1,t.template_info.frontend_data){const e=JSON.parse(JSON.stringify(t.template_info.frontend_data));for(const t in e)this.form[t]=e[t]}this.contract_id=t.contract_detail.contract_id,this.anchorId=t.contract_info.anchor_id,this.filelisturl=t.template_info.attachment_urls||t.template_info.frontend_data.filelisturl||[];const e=[{project_name:this.form.project_relevancy_name,id:this.form.project_relevancy_id}];this.project_ids=e;const a=[{username:this.form.own_name,id:this.form.own_id}];this.own_name_ids=a}else this.filelisturl=[],this.iscannotclick=!0,this.form.own_name&&this.getOwnNameIds(this.form.own_name,!0);this.getProjectIds(""),this.getContract(""),this.no_upload_click=!0,this.visible=!0,this.$nextTick((()=>{}))},backClick(){this.form.cooperation_contract_type||this.form.cooperation_zhubo_real_year||this.form.project_relevancy_id?this.$confirm("你确定退出当前合同协议编辑吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",iconClass:"warning-icon"}).then((()=>{this.visible=!1})).catch((()=>!1)):this.visible=!1},beforeUpload(e){return e.size>20971520?(this.$message.warning(`${e.name} ${(e.size/1024/1024).toFixed(2)}MB 请限制在20MB以内`),!1):!(!["image/jpeg","image/png","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword",".sheet"].includes(e.type)&&![".jpg",".jpeg",".png",".pdf",".doc",".docx",".xlsx"].includes((0,s.mD)(e.name)))||(this.$message.warning("文件格式不正确，请使用  pdf / docx / doc / jpg / png / xlsx"),!1)},async uploadAttachmentFile(e){const t=this.beforeUpload(e.file);if(!t)return;const a=new FormData;a.append("file",e.file,e.file.name),a.append("attachment_type","contract_annex"),this.startLoading(),(0,i.w_)(a).then((e=>{if(this.closeLoading(),e.data.success){const t=this.filelisturl||[];t.push(e.data.data.source),this.filelisturl=t,this.form.filelisturl=t,this.clearValidateupload()}else this.$message({type:"warning",message:e.data.message,showClose:!0,duration:2e3})})).catch((()=>{this.closeLoading(),this.$message({type:"error",message:"上传失败，稍后重试",showClose:!0,duration:2e3})}))}}}),y=f,v=a(1001),g=(0,v.Z)(y,o,r,!1,null,"741fc4e0",null),b=g.exports},86863:function(e,t,a){a.d(t,{B9:function(){return k},C7:function(){return v},E2:function(){return p},Fn:function(){return _},Jv:function(){return w},LK:function(){return u},Ou:function(){return y},TG:function(){return s},Uw:function(){return r},XZ:function(){return m},_6:function(){return b},aw:function(){return A},cQ:function(){return x},dh:function(){return P},em:function(){return n},g9:function(){return C},iI:function(){return c},it:function(){return g},jy:function(){return h},kT:function(){return j},pc:function(){return l},qJ:function(){return d},qq:function(){return f},ve:function(){return S},vf:function(){return z},w_:function(){return i}});var o=a(76012);a(42963);function r(e){return(0,o.ZP)({url:"/api/cust/del_customer",method:"get",params:e})}function n(e){return(0,o.ZP)({url:"/api/auth/query_user_names",method:"get",params:e})}function s(){return(0,o.ZP)({url:"/api/auth/query_user_names",method:"get"})}function l(e){return(0,o.ZP)({url:"/api/auth/get_user_by_role",method:"get",params:e})}function i(e){return(0,o.ZP)({url:"/api/cont/upload_attachment",method:"post",data:e})}function c(){return(0,o.ZP)({url:"/api/auth/get_department",method:"get"})}function _(){return(0,o.ZP)({url:"/api/cont/get_approver",method:"get"})}function p(e,t=1){const a=1===t?"/api/cont/query_contract":2===t?"/api/cont/query_law_contract":4===t?"/api/cont/query_cooperation_contract":5===t?"/api/cont/query_common_contract":"/api/cont/query_shop_live_contract";return(0,o.ZP)({url:a,method:"get",params:e})}function m(){return(0,o.ZP)({url:"/api/cont/get_contract_uid",method:"get"})}function u(e={}){return(0,o.ZP)({url:"/api/shop_live/get_shop_live_contract_uid",method:"get",params:e})}function d(e){return(0,o.ZP)({url:"/api/cont/del_contract",method:"post",data:e})}function h(e){return(0,o.ZP)({url:"/api/cont/approve_contract",method:"post",data:e})}function f(e){return(0,o.ZP)({url:"/api/cont/del_contract",method:"post",data:e})}function y(e){return(0,o.ZP)({url:`/api/cont/delete_contract_annex/${e}/`,method:"post"})}function v(e){return(0,o.ZP)({url:`/api/cont/delete_contract_statements/${e}/`,method:"post"})}function g(e){return(0,o.ZP)({url:"/api/cont/invalid_contract",method:"post",data:e})}function b(e){return(0,o.ZP)({url:"/api/cont/recycle_contract",method:"post",data:e})}function w(e){return(0,o.ZP)({url:"/api/auth/get_user_by_role",method:"get",params:e})}function x(e){return(0,o.ZP)({url:"/api/cont/get_partner_by_name",method:"get",params:e})}function k(e){return(0,o.ZP)({url:"/api/cont/save_contract_annex",method:"post",data:e})}function j(e){return(0,o.ZP)({url:"/api/cont/del_contract_annex",method:"post",data:e})}function C(e){return(0,o.ZP)({url:"/api/cont/query_contract_annex",method:"get",params:e})}function S(e){return(0,o.ZP)({url:"/api/cont/query_contract_statements",method:"get",params:e})}function z(e){return(0,o.ZP)({url:`/api/cont/get_contract_approval_flow/${e}/`,method:"get"})}function P(e){return(0,o.ZP)({url:`/api/cont/get_contract_annex_approval_flow/${e}/`,method:"get"})}function A(e){return(0,o.ZP)({url:`/api/cont/get_contract_statements_approval_flow/${e}/`,method:"get"})}},31973:function(e,t,a){a.d(t,{PS:function(){return c},YH:function(){return l},nT:function(){return i},zy:function(){return o}});var o,r=a(21757),n=a(43847),s=a(97434);(function(e){e[e["None"]=0]="None",e[e["ViewMask"]=1]="ViewMask",e[e["ViewWithoutMask"]=2]="ViewWithoutMask",e[e["ViewDirectly"]=3]="ViewDirectly"})(o||(o={}));const l=(0,r.gI)(),i=e=>(0,s.computed)((()=>{const t=(0,n.oR)(),a=t.state.user?.userinfo,o=a?.id;return e?.value?.add_user_id===o||e.value?.maintainer_id===o})),c=(e,t)=>(0,s.computed)((()=>i(e).value?o.ViewDirectly:l.view_anchor_key_info&&""!==t.value&&!t.value?o.ViewMask:l.view_anchor_key_info&&(t.value||""===t.value)?o.ViewWithoutMask:o.None))},318:function(e,t,a){a.d(t,{Zn:function(){return L},Qv:function(){return U},F9:function(){return E},aw:function(){return F},aI:function(){return Z},kg:function(){return X},K:function(){return O},j5:function(){return M},wu:function(){return b},yz:function(){return R},Mj:function(){return V},id:function(){return T},UK:function(){return g},ZP:function(){return K}});a(21703);var o=a(76012),r=a(64236);const n="/api/medium/get_company_name_and_id",s="/api/model/del_model",l="/api/anchor/del_anchor",i="/api/auth/query_anchor_maintainer",c="/api/anchor/save_anchor_maintainer",_="/api/anchor/get_anchor_key_info",p="/api/anchor/get_anchor_key_info_log",m="/api/medium/add_tmp_company",u="/api/anchor/contract/associate_project",d=e=>{if(!0!==e.data.success)throw new Error(e.data.message);return e.data.data},h=async()=>(0,o.dX)("/api/anchor/good_at_categories"),f=async()=>(0,o.dX)("/api/anchor/anchor_tags"),y=async e=>(0,o.dX)(`/api/anchor/delete_anchor/${e}`),v=async e=>(0,o.SO)("/api/anchor/verify_anchor",(0,r.jG)(e)),g=async e=>(0,o.SO)(m,(0,r.jG)(e)),b=async e=>(0,o.SO)("/api/medium/add_company",(0,r.jG)(e)),w=async e=>(0,o.SO)("/api/anchor/save_anchor_basic",e).then(d),x=async e=>(0,o.SO)("/api/anchor/save_anchor_other",(0,r.jG)(e)).then(d),k=async e=>(0,o.dX)("/api/anchor/list_anchors",{params:(0,r.jG)(e)}).then(d),j=async e=>(0,o.dX)(`/api/anchor/get_anchor_detail/${e}/`).then(d),C=async e=>(0,o.dX)("/api/anchor/apply/list",{params:(0,r.jG)(e)}).then(d),S=async e=>(0,o.dX)(`/api/anchor/apply/list/${e.anchor_id}`,{params:(0,r.jG)(e)}).then(d),z=async e=>(0,o.dX)("/api/shop_live/query_uncompleted_projects",{params:(0,r.jG)(e)}).then(d),P=async e=>(0,o.dX)("/api/shop_live/query_shop_live_project",{params:(0,r.jG)(e)}).then(d),A=async e=>(0,o.SO)("/api/anchor/apply/schedule",{apply_id:e}).then(d),$=async e=>(0,o.SO)("/api/anchor/apply/cancel",{apply_id:e}).then(d),q=async e=>(0,o.SO)("/api/anchor/apply/feedback",(0,r.jG)(e)).then(d),I=async e=>(0,o.SO)("/api/anchor/save_anchor_cooperation",(0,r.jG)(e)).then(d),G=async e=>(0,o.SO)("/api/anchor/apply/pilot",(0,r.jG)(e)).then(d),N=async e=>(0,o.SO)("/api/anchor/apply/audition",(0,r.jG)(e)).then(d),Z=async e=>(0,o.dX)("/api/auth/query_user_v2",{params:(0,r.jG)(e)}).then(d),O=async(e,t)=>(0,o.dX)("/api/anchor/list_settlement_companies",{params:{company_name:e,verify_status:t}}).then(d),D=async e=>(0,o.dX)(`/api/anchor/delete_anchor_cooperation/${e}/`).then(d),B=async e=>(0,o.dX)(`/api/anchor/list_anchor_cooperations/${e}/`).then(d),M=async e=>(0,o.dX)("/api/model/model_list",{params:(0,r.jG)(e)}).then(d),R=async e=>(0,o.SO)("/api/model/save_model",(0,r.jG)(e)).then(d),X=async e=>(0,o.dX)(n,{params:{...(0,r.jG)(e)}}),U=async e=>(0,o.SO)(s,{id:e}),L=async e=>(0,o.SO)(l,{id:e}),V=async e=>(0,o.dX)(i,{params:{...(0,r.jG)({search_value:e})}}),T=async e=>(0,o.SO)(c,{...(0,r.jG)(e)}),E=async e=>(0,o.dX)(_,{params:{...(0,r.jG)(e)}}),F=async e=>(0,o.dX)(p,{params:{...(0,r.jG)(e)}}),J=async(e,t)=>(0,o.dX)("/api/anchor/check_anchor_wechat",{params:{wechat:e,anchor_id:t}}),W=async e=>(0,o.SO)(u,{...(0,r.jG)(e)});var K={GetCheckAnchorWechat:J,GetAnchorGoodAtCategories:h,GetAnchorApplyCancel:$,PostSaveModel:R,GetAnchorApplyList:C,GetModelList:M,GetAnchorApplyDetail:S,PostAnchorOther:x,GetAnchorTags:f,PostAnchorBasic:w,GetAnchorList:k,GetAnchorDetail:j,GetAnchorDelete:y,PostAnchorVerify:v,GetListSettlementCompanies:O,GetAnchorApplySchedule:A,PostAnchorApplyFedback:q,GetListAnchorCooperations:B,GetUnCompletedProjects:z,PostAnchorCooperation:I,GetAuthQueryUser:Z,PostAnchorApplyPilot:G,PostAnchorApplyAudition:N,GetShopLiveProject:P,GetDeleteAnchorCooperation:D,PostModifyCompany:b,SaveAnchorProjectContract:W}},44928:function(e,t,a){a.d(t,{t:function(){return r}});var o=a(86834);const r=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(o.Z,t)}});return e}},43847:function(e,t,a){a.d(t,{Pc:function(){return s},oR:function(){return n}});var o=a(77944),r=a(97434);const n=()=>o.Z,s=()=>{const e=n(),t=(0,r.computed)((()=>e.getters["user/getUserInfo"]));return t}}}]);
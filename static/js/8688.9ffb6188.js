(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[8688],{38688:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return E}});var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"scrollRef",staticClass:"competitive-product-analysis",on:{scroll:e.onScroll}},[n("TgBreadcrumbs",{attrs:{routes:e.routes}}),n("tg-card",{staticClass:"flex-none",attrs:{padding:[18]},on:{"rect:update":e.onTopCardRectUpdate}},[n("el-form",{staticClass:"filter-form flex-form",attrs:{size:"small","show-message":!1,inline:!0,"label-width":"70px"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("el-form-item",{attrs:{label:"项目名称："}},[n("el-select",{staticStyle:{width:"192px"},attrs:{disabled:"",value:"1"}},[n("el-option",{attrs:{value:"1",label:e.queryForm.project_name}})],1)],1),n("el-form-item",{attrs:{label:"竞品账号："}},[n("el-select",{staticStyle:{width:"192px"},attrs:{clearable:"",filterable:"",placeholder:"请选择竞品账号"},model:{value:e.queryForm.shop_name,callback:function(t){e.$set(e.queryForm,"shop_name",t)},expression:"queryForm.shop_name"}},e._l(e.competitiveList,(function(t){return n("el-option",{key:t.shop_name,attrs:{label:t.shop_name,value:t.shop_name}},[n("span",[e._v(e._s(t.shop_name))])])})),1)],1),n("el-form-item",{attrs:{label:"对比周期："}},[n("el-date-picker",{staticStyle:{width:"200px"},attrs:{"picker-options":{firstDayOfWeek:1},type:"week",clearable:!1,format:"yyyy-MM-dd 第 WW 周","value-format":"yyyy-MM-dd",placeholder:"选择周"},on:{change:e.timeChange},model:{value:e.queryForm.date,callback:function(t){e.$set(e.queryForm,"date",t)},expression:"queryForm.date"}})],1),n("el-form-item",[n("tg-button",{attrs:{type:"primary"},on:{click:e.onQueryClick}},[e._v("开始对比")])],1)],1)],1),e.listData.length>0?n("tg-card",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"flex-auto mgt-12",attrs:{padding:[12,0,0,0]},on:{"rect:update":e.onRectUpdate}},[n("div",{staticClass:"main"},[n("tg-table",{ref:"tableRef",staticClass:"competitive-analysis-table",attrs:{border:"",height:"370","highlight-current-row":"全部"!==e.categoryName,data:e.listData,"default-expand-all":"","row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},on:{"row-click":e.onRowClick},scopedSlots:e._u([{key:"empty",fn:function(){return[n("empty-common",{attrs:{"detial-text":"暂无数据"}})]},proxy:!0}],null,!1,2826547353)},e._l(e.listColumn,(function(t,a){return n("el-table-column",e._b({key:a},"el-table-column",t,!1))})),1),n("div",{staticClass:"category-line"},[e._v(" 当前销售趋势对比类目："),n("span",{staticClass:"category-name"},[e._v(e._s(e.categoryName))])]),n("div",{staticClass:"tag-list"},[n("div",{staticClass:"tag-content"},e._l(e.tagList,(function(t){return n("span",{key:t.value,class:["tag-btn",{"tag-btn-active":t.value===e.defaultTag}],on:{click:function(a){return e.handleTagFilter(t.value)}}},[e._v(e._s(t.label))])})),0)]),n("div",{staticClass:"single-line-box"},[1===e.defaultTag?n("LineEcharts",{attrs:{date:e.LineDate,list:e.salesAmountLineList,color:["#59B6DF","#FF9C69"],loading:e.echartsLoading}}):e._e(),2===e.defaultTag?n("LineEcharts",{attrs:{date:e.LineDate,list:e.saleCountLineList,color:["#59B6DF","#FF9C69"],loading:e.echartsLoading}}):e._e(),3===e.defaultTag?n("LineEcharts",{attrs:{date:e.LineDate,list:e.watchLineList,color:["#59B6DF","#FF9C69"],loading:e.echartsLoading}}):e._e(),4===e.defaultTag?n("LineEcharts",{attrs:{percentage:!0,date:e.LineDate,list:e.turnLineList,color:["#59B6DF","#FF9C69"],loading:e.echartsLoading}}):e._e()],1)],1)]):n("tg-card",{staticClass:"mgt-12",attrs:{padding:[0,0,0,0]}},[n("div",{staticStyle:{"margin-top":"50px","line-height":"100%","text-align":"center"}},[n("img",{staticStyle:{width:"235px",height:"128px","margin-bottom":"10px"},attrs:{src:a(39833)}}),n("p",{staticStyle:{color:"#a4b2c2"}},[e._v(e._s(e.emptyText))])])]),n("tg-card",[n("div",{staticClass:"category-line"},[e._v(" 类目销售TOP榜对比："),n("span",{staticClass:"category-name"},[e._v(e._s(e.categoryName))])]),n("div",{staticClass:"tag-list"},[n("div",{staticClass:"tag-content"},e._l(e.topData.sortOptions,(function(t){return n("span",{key:t.value,class:["tag-btn",{"tag-btn-active":t.value===e.topData.sort}],on:{click:function(a){return e.topData.changeSort(t.value)}}},[e._v(e._s(t.label))])})),0),n("tg-button",{attrs:{type:"default",size:"mini",icon:"ico-btn-export"},on:{click:e.topData.exportPDF}},[e._v("导出")])],1),n("div",{staticClass:"category-top-container"},[n("div",{staticClass:"category-top-box"},[n("div",{staticClass:"category-header"},[e._v("自营品牌: "+e._s(e.queryForm.project_name))]),n("div",{staticClass:"cagetory-table"},[n("tg-table",{attrs:{border:"",columns:e.topData.columns,data:e.topData.left}})],1)]),n("div",{staticClass:"category-top-box"},[n("div",{staticClass:"category-header"},[e._v("竞品品牌: "+e._s(e.queryForm.shop_name))]),n("div",{staticClass:"cagetory-table"},[n("tg-table",{attrs:{border:"",columns:e.topData.columns,data:e.topData.right}})],1)])])]),n("div",{staticClass:"empty"}),e.showBackTop?n("div",{staticClass:"backtop",on:{click:e.backTop}},[n("tg-icon",{attrs:{name:"ico-icon_tongyong_zhiding"}})],1):e._e()],1)},r=[],i=a(97434),o=a(20809),s=a(45781),l=a(24643),c=a(99575);const{formatPriceToThousand:u}=s.Z,d=[{label:"类目",align:"left",headerAlign:"center",width:180,formatter:e=>e.category_name},{label:"项目销售额 (元)",align:"right",headerAlign:"center",minWidth:206,formatter:e=>null!==e.gmv?(0,i.h)("div",void 0,[u(e.gmv,2,!1),(0,i.h)("span",{class:null===e.sale_gmv_rate||e.sale_gmv_rate>0?"red-mint label":"green-mint label"},[(0,i.h)("tg-icon",{props:{name:null===e.sale_gmv_rate||e.sale_gmv_rate>0?"ico-icon_tongyong_shangsheng_16_red":"ico-icon_tongyong_xiajiang_16_green"},style:"margin-left: 13px;margin-right: 50px;"}),e.sale_gmv_rate?(e.sale_gmv_rate+"%").replace("-",""):"0%"])]):(0,i.h)("div",{style:"text-align:center"},"--")},{label:"竞品销售额 (元)",align:"right",headerAlign:"center",minWidth:206,formatter:e=>null!==e.gmv_analysis?(0,i.h)("div",void 0,[u(e.gmv_analysis,2,!1),(0,i.h)("span",{class:null===e.sale_gmv_rate_analysis||e.sale_gmv_rate_analysis>0?"red-mint label":"green-mint label"},[(0,i.h)("tg-icon",{props:{name:null===e.sale_gmv_rate_analysis||e.sale_gmv_rate_analysis>0?"ico-icon_tongyong_shangsheng_16_red":"ico-icon_tongyong_xiajiang_16_green"},style:"margin-left: 13px;margin-right: 50px;"}),e.sale_gmv_rate_analysis?(e.sale_gmv_rate_analysis+"%").replace("-",""):"0%"])]):(0,i.h)("div",{style:"text-align:center"},"--")},{renderHeader:()=>(0,i.h)("div",{style:" display: flex"},[(0,i.h)("span",["同竞品销售额对比"]),(0,i.h)("el-popover",{props:{placement:"top",trigger:"hover",content:"项目销售额对比竞品销售额涨幅"}},[(0,i.h)("span",{slot:"reference"},[(0,i.h)("tg-icon",{props:{name:"ico-question"},style:"color: #939393; font-size: 14px; margin-left: 2px;margin-top:3px;"})])])]),headerAlign:"center",width:160,formatter:e=>null!==e.gmv_contrast?(0,i.h)("div",void 0,[(0,i.h)("span",[(0,i.h)("span",{class:null===e.gmv_contrast||e.gmv_contrast>=0?"red":"green"},[null===e.gmv_contrast||e.gmv_contrast>=0?"+":"-"]),e.gmv_contrast?(e.gmv_contrast+"%").replace("-",""):"0%"])]):(0,i.h)("span",{style:"margin-left: 32px;"},["--"])},{renderHeader:()=>(0,i.h)("div",{style:"display: flex"},[(0,i.h)("span",["同竞品涨幅对比"]),(0,i.h)("el-popover",{props:{placement:"top",trigger:"hover",content:"同竞品涨幅对比=项目销售额涨幅-竞品销售额涨幅"}},[(0,i.h)("span",{slot:"reference"},[(0,i.h)("tg-icon",{props:{name:"ico-question"},style:"color: #939393; font-size: 14px; margin-left: 2px;margin-top:3px;"})])])]),headerAlign:"center",width:140,formatter:e=>null!==e.sale_gmv_rate_diff?(0,i.h)("div",void 0,[(0,i.h)("span",[(0,i.h)("span",{class:null===e.sale_count_rate_diff||e.sale_count_rate_diff>=0?"red":"green"},[null===e.sale_count_rate_diff||e.sale_count_rate_diff>=0?"+":"-"]),e.sale_gmv_rate_diff?(e.sale_gmv_rate_diff+"%").replace("-",""):"0%"])]):(0,i.h)("span",{style:"margin-left: 32px;"},["--"])},{label:"项目销量",align:"right",headerAlign:"center",minWidth:170,formatter:e=>null!==e.sale_count?(0,i.h)("div",void 0,[(0,l.Y4)(Number(e.sale_count),0,".",",")+"",(0,i.h)("span",{class:null===e.sale_count_rate||e.sale_count_rate>0?"red-mint label":"green-mint label"},[(0,i.h)("tg-icon",{props:{name:null===e.sale_count_rate||e.sale_count_rate>0?"ico-icon_tongyong_shangsheng_16_red":"ico-icon_tongyong_xiajiang_16_green"},style:"margin-left: 13px;margin-right: 50px;"}),e.sale_count_rate?(e.sale_count_rate+"%").replace("-",""):"0%"])]):(0,i.h)("div",{style:"text-align:center"},"--")},{label:"竞品销量",align:"right",headerAlign:"center",minWidth:206,formatter:e=>null!==e.sale_count_analysis?(0,i.h)("div",void 0,[(0,l.Y4)(Number(e.sale_count_analysis),0,".",",")+"",(0,i.h)("span",{class:null===e.sale_count_rate_analysis||e.sale_count_rate_analysis>0?"red-mint label":"green-mint label"},[(0,i.h)("tg-icon",{props:{name:null===e.sale_count_rate_analysis||e.sale_count_rate_analysis>0?"ico-icon_tongyong_shangsheng_16_red":"ico-icon_tongyong_xiajiang_16_green"},style:"margin-left: 13px;margin-right: 50px;"}),e.sale_count_rate_analysis?(e.sale_count_rate_analysis+"%").replace("-",""):"0%"])]):(0,i.h)("div",{style:"text-align:center"},"--")},{renderHeader:()=>(0,i.h)("div",{style:" display: flex"},[(0,i.h)("span",["同竞品销量对比"]),(0,i.h)("el-popover",{props:{placement:"top",trigger:"hover",content:"项目销量对比竞品销量涨幅"}},[(0,i.h)("span",{slot:"reference"},[(0,i.h)("tg-icon",{props:{name:"ico-question"},style:"color: #939393; font-size: 14px; margin-left: 2px;margin-top:3px;"})])])]),headerAlign:"center",width:160,formatter:e=>null!==e.sale_count_contrast?(0,i.h)("div",void 0,[(0,i.h)("span",[(0,i.h)("span",{class:null===e.sale_count_contrast||e.sale_count_contrast>=0?"red":"green"},[null===e.sale_count_contrast||e.sale_count_contrast>=0?"+":"-"]),e.sale_count_contrast?(e.sale_count_contrast+"%").replace("-",""):"0%"])]):(0,i.h)("span",{style:"margin-left: 22px;"},["--"])},{renderHeader:()=>(0,i.h)("div",{style:" display: flex"},[(0,i.h)("span",["同竞品涨幅对比"]),(0,i.h)("el-popover",{props:{placement:"top",trigger:"hover",content:"同竞品涨幅对比=项目销量涨幅-竞品销量涨幅"}},[(0,i.h)("span",{slot:"reference"},[(0,i.h)("tg-icon",{props:{name:"ico-question"},style:"color: #939393; font-size: 14px; margin-left: 2px;margin-top:3px;"})])])]),headerAlign:"center",width:140,formatter:e=>null!==e.sale_count_rate_diff?(0,i.h)("div",void 0,[(0,i.h)("span",[(0,i.h)("span",{class:null===e.sale_count_rate_diff||e.sale_count_rate_diff>=0?"red":"green"},[null===e.sale_count_rate_diff||e.sale_count_rate_diff>=0?"+":"-"]),e.sale_count_rate_diff?(e.sale_count_rate_diff+"%").replace("-",""):"0%"])]):(0,i.h)("span",{style:"margin-left: 22px;"},["--"])}],p=e=>{const t=(0,i.reactive)({loading:!1,listData:[],echartsLoading:!1,LineDate:[],salesAmountLineList:[],saleCountLineList:[],watchLineList:[],turnLineList:[]}),a=async a=>{t.loading=!0;const{data:n}=await(0,c.hi)(a);if(n.success){const e=[].concat(...n.data.result);e.map((e=>{0===e.id&&(e.children=[])})),t.listData=e}else e.root.$message.error(n.message);t.loading=!1},n=async e=>{const{data:a}=await(0,c.Fy)(e),n=a.data,r=n.map((e=>e.date.replace(/-/g,".").substring(5,10))),i=n.map((e=>e.shop_live.gmv)),o=n.map((e=>e.competitive.gmv)),s=n.map((e=>e.shop_live.sale_count)),l=n.map((e=>e.competitive.sale_count)),u=n.map((e=>e.shop_live.watch_count)),d=n.map((e=>e.competitive.watch_count)),p=n.map((e=>e.shop_live.conversion_rate)),g=n.map((e=>e.competitive.conversion_rate)),h=[{project_name:"项目销售额",values:i},{project_name:"竞品销售额",values:o}],m=[{project_name:"项目销量",values:s},{project_name:"竞品销量",values:l}],v=[{project_name:"项目浏览量",values:u},{project_name:"竞品浏览量",values:d}],f=[{project_name:"项目转化率",values:p},{project_name:"竞品转化率",values:g}];t.LineDate=r,t.salesAmountLineList=h.map((e=>({smooth:!0,showSymbol:!0,type:"line",name:e.project_name,data:e.values}))),t.saleCountLineList=m.map((e=>({smooth:!0,showSymbol:!0,type:"line",name:e.project_name,data:e.values}))),t.watchLineList=v.map((e=>({smooth:!0,showSymbol:!0,type:"line",name:e.project_name,data:e.values}))),t.turnLineList=f.map((e=>({smooth:!0,showSymbol:!0,type:"line",name:e.project_name,data:e.values})))};return{...(0,i.toRefs)(t),listColumn:d,getEchartsData:n,getListData:a}};var g=a(1763),m=a(44928),v=a(6933),f=a.n(v),_=a(36672),y=a(59563),x=a(59760),b=a(43773),w=a(24522),F=a(42963),C=a(74750);const D=(0,b.R)({component:w.Z,width:"700px",footer:!1}),L=[{name:g.xx.commodityAnalysis,title:"品牌商品分析"},{path:"",title:"竞品对比分析"}],k=()=>{const e=(0,y.Q)(c.mI,{manual:!0}),t=(0,i.ref)("shop_gmv_desc"),a=[{label:"销售额",value:"shop_gmv_desc"},{label:"销量",value:"shop_sale_count_desc"},{label:"转化率",value:"pay_rate_desc"}],n=(0,i.ref)([{label:"排行",minWidth:62,align:"center",formatter:(e,t,a,n)=>`${n+1}`},{label:"商品信息",prop:"item_title",minWidth:260,formatter:e=>h("div",{class:"commodity-box"},[h("div",{class:"pic-box"},[h("el-image",{attrs:{fit:"contain",src:e.item_image?e.item_image:x},on:{click:()=>{D.show(e.item_image)}}})]),h("div",{class:"info-box"},[h("div",{class:"id-line"},[h("p",{class:"commodity-id"},[e.item_id])]),h("a",{class:"commodity-name",attrs:{target:"_blank",click:"openDouyin(scope.row.item_id)",href:`https://haohuo.jinritemai.com/views/product/item2?id=${e.item_id}`}},[e.item_title])])])},{label:"单价(元)",align:"right",headerAlign:"center",prop:"shop_avg_price",minWidth:82,dataType:{type:"money",unit:100,toFixed:2}},{label:"销量",align:"right",prop:"shop_sale_count",minWidth:70,headerAlign:"center"},{label:"销售额(元)",prop:"shop_gmv",minWidth:100,align:"right",headerAlign:"center",dataType:{type:"money",unit:100,toFixed:2}},{label:"转化率",prop:"pay_rate",align:"right",headerAlign:"center",minWidth:81,dataType:{suffix:"%",unit:.01,toFixed:2}}]);let r;const o=e=>{t.value=e,s(r)},s=a=>{const{category_id:n,...i}=a;r=a,e.run({...i,tiange_cat_id:n,sort:t.value})},l=()=>{const{category_id:e=1,...a}=r,n=F.stringify({...a,tiange_cat_id:e,sort:t.value}),i=(0,C.LP)(),o="/api/shop_live/export_douyin_category_competitive_items_total";window.open(`https://data.goumee.com${o}?${n}&Authorization=${i}`)};return(0,i.reactive)({left:(0,i.computed)((()=>e.data?.project_items||[])),right:(0,i.computed)((()=>(e.data?.competitive_shop_items||[]).map((e=>(e.shop_sale_count=e.sale_count,e.shop_gmv=100*e.gmv,e.shop_avg_price=100*e.discount_price,e.pay_rate=e.pay_rate/100,e))))),exportPDF:l,sortOptions:a,sort:t,columns:n,query:s,changeSort:o})};var A=(0,i.defineComponent)({name:"TgCommodityCompetitiveProductAnalysis",components:{LineEcharts:_.Z},setup(e,t){const{tableHeightLogic:a,onTopCardRectUpdate:n}=(0,o.Z)(),r=(0,i.ref)(),s=(0,i.reactive)({project_id:"",project_name:"",date:"",start_date:"",end_date:"",shop_name:""}),l=(0,i.ref)("全部"),u=(0,i.ref)(""),d=(0,i.ref)("请选择需要对比的竞品后开始对比"),{loading:g,listData:h,listColumn:v,echartsLoading:_,getListData:y,getEchartsData:x,LineDate:b,salesAmountLineList:w,saleCountLineList:F,watchLineList:C,turnLineList:D}=p(t),A=()=>{const e=(0,m.t)(),{project_id:t,project_name:a}=e.currentRoute.query;s.project_id=t,s.project_name=a};A();const S=k(),T=e=>{s.date=f()(e).subtract(1,"days").format("YYYY-MM-DD"),s.start_date=f()(e).subtract(1,"days").format("YYYY-MM-DD"),s.end_date=f()(e).subtract(-5,"days").format("YYYY-MM-DD")},B=(0,i.ref)([]),E=()=>{(0,c.hx)().then((e=>{B.value=e.data.data}))},$=e=>{if(0===e.id)return void r.value.tableRef.setCurrentRow(void 0);u.value===e.id?(u.value="",l.value="全部"):(u.value=e.id,l.value=e.category_name),j.value=1;const t={project_id:s.project_id,start_date:s.start_date,end_date:s.end_date,shop_name:s.shop_name,category_id:u.value};x(t),S.query(t)},I=async()=>{if(l.value="全部",!s.shop_name)return void t.root.$message.warning("请选择竞品账号");if(!s.start_date||!s.end_date)return void t.root.$message.warning("请选择对比周期");const e={project_id:s.project_id,start_date:s.start_date,end_date:s.end_date,shop_name:s.shop_name};await y(e),await x(e),await S.query(e),d.value="暂无数据"},j=(0,i.ref)(1),Y=(0,i.ref)([{label:"销售额对比",value:1},{label:"销量对比",value:2},{label:"浏览量对比",value:3},{label:"转化率对比",value:4}]),R=e=>{j.value=e};(0,i.onMounted)((()=>{E()}));const O=(0,i.ref)(),P=(0,i.ref)(!1),Z=e=>{const t=e.target;P.value=t.scrollTop>10},z=()=>{O.value&&(O.value.scrollTop=0)};return{routes:L,backTop:z,onTopCardRectUpdate:n,...a,queryForm:s,timeChange:T,onQueryClick:I,competitiveList:B,listData:h,listLoading:g,onRowClick:$,listColumn:v,tagList:Y,defaultTag:j,handleTagFilter:R,echartsLoading:_,LineDate:b,salesAmountLineList:w,saleCountLineList:F,watchLineList:C,turnLineList:D,categoryName:l,emptyText:d,topData:S,scrollRef:O,showBackTop:P,onScroll:Z,tableRef:r}}}),S=A,T=a(1001),B=(0,T.Z)(S,n,r,!1,null,"921ea092",null),E=B.exports},24522:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n,r,i=a(97434),o=(0,i.defineComponent)({setup(){const e=(0,i.ref)(),t=t=>{e.value=t};return{dialogImage:e,show:t}},render(){const e=arguments[0];return e("div",{class:"dialog-wrapper"},[e("img",{attrs:{src:this.dialogImage}})])}}),s=o,l=a(1001),c=(0,l.Z)(s,n,r,!1,null,"060530ce",null),u=c.exports},32200:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chart",staticClass:"chart"})},r=[],i=a(4096),o={props:{options:{type:Object,default:()=>({})},currentIndex:{type:Number,default:-1}},watch:{options:{handler(e){this.updateOptions(e)},deep:!0},currentIndex:{handler:function(e){-1!==e&&this.upAxisPointer()},deep:!0}},mounted(){const{resize:e,...t}=this.$listeners,a=this.$refs.chart;this.chart=i.init(a),Object.keys(t).forEach((e=>{this.chart.on(e,((...t)=>this.$emit(e,this.chart,...t)))})),this.updateOptions(this.options),window.addEventListener("resize",this.resize),this.chart.on("click",this.clickFunc)},destroyed(){window.removeEventListener("resize",this.resize),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{resize(...e){this.chart.resize(),this.$emit("resize",[this.chart,...e])},updateOptions(e){null!==e&&void 0!==e&&this.chart.setOption(e,!0)},clickFunc(e){this.$emit("selectClick",e)},upAxisPointer(){let e={currentIndex:this.currentIndex},t=this.options.series[3].data.length;e.currentIndex>0&&this.chart.dispatchAction({type:"downplay",seriesIndex:3,dataIndex:e.currentIndex-1}),e.currentIndex=e.currentIndex%t,this.chart.dispatchAction({type:"highlight",seriesIndex:3,dataIndex:e.currentIndex}),this.chart.dispatchAction({type:"showTip",seriesIndex:3,dataIndex:e.currentIndex})}}},s=o,l=a(1001),c=(0,l.Z)(s,n,r,!1,null,"67d5f011",null),u=c.exports},99197:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"empty-chart",staticStyle:{"margin-top":"20px"}},[a("empty-common",{attrs:{"detial-text":"暂无数据","img-height":100,"img-width":150}})],1)},r=[],i=a(1001),o={},s=(0,i.Z)(o,n,r,!1,null,"1c4271b8",null),l=s.exports},36672:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{height:"345px",width:"100%"}},[e.date.length>0?a("base-echarts",{attrs:{options:e.baseOptions}}):a("Empty")],1)},r=[],i=a(32200),o=a(45781),s=a(99197),l=a(8136);const{tranNumber:c}=o.Z;var u={name:"BaseLine",components:{BaseEcharts:i.Z,Empty:s.Z},props:{loading:{type:Boolean,default:!0},date:{type:Array,default:()=>[]},list:{type:Array,default:()=>[]},legend:{type:Boolean,default:!0},color:{type:Array},percentage:{type:Boolean,default:!1}},data(){return{baseOptions:{grid:{left:70,right:70,top:10,bottom:100},tooltip:{trigger:"axis",backgroundColor:"#fff",padding:0,formatter:e=>{const t=15;let a="",n=Math.round(e.length/t)+1;for(let i=0;i<e.length;){a+='<div style="display: flex; line-height: 24px;padding: 0 15px;color: #606974;font-size: 12px;font-weight: normal">';for(let t=0;t<n;t++)i>=e.length||(a+=`<div style="display: flex;align-items: center;margin-right: 10px;width: 185px;flex: 1;">${e[i].marker}<span>${(0,l.bI)(e[i].seriesName,15)}</span>\n                  <span style="padding-left: 18px;margin-left: auto;">${void 0===e[i].value||null===e[i].value?"--":this.percentage?c(e[i].value)+"%":c(e[i].value)}</span></div>`,i+=1);a+="</div>"}const r=`<div style="padding-bottom: 10px">\n              <p style="padding:10px;">\n                <span>${e[0].name}</span>\n                <span style="float:right;"></span>\n              </p>\n              ${a}\n            </div>`;return r},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px rgba(0, 0, 0, 0.26);"},legend:{show:this.legend,top:282},xAxis:{type:"category",data:[],axisLine:{lineStyle:{color:"rgba(52,63,76,0.30)"}},axisTick:{lineStyle:{opacity:0}},axisLabel:{color:"#606974",fontSize:11},splitLine:{show:!1}},color:this.color?this.color:l.nA,yAxis:[{type:"value",scale:!0,nameTextStyle:{color:"#666",fontSize:14},min:0,splitLine:{show:!0,lineStyle:{color:["#eee"],type:"dashed"}},axisTick:{lineStyle:{opacity:0}},axisLabel:{color:"#606974",formatter:(...e)=>{const t=c(...e);return!0===this.percentage?`${t}%`:t}},axisLine:{lineStyle:{type:"solid",color:"rgba(52,63,76,0.30)",width:"1"}}}],series:[]}}},created(){this.init()},watch:{date:{handler(){this.init()},deep:!0},list:{handler(){this.init()},deep:!0}},methods:{init(){const e=JSON.parse(JSON.stringify(this.list));for(let t=0;t<e.length;t++)for(let a=0;a<e[t].data.length;a++)e[t].data[a]||(e[t].data[a]=0);this.baseOptions.xAxis.data=this.date,this.baseOptions.series=e}}},d=u,p=a(1001),g=(0,p.Z)(d,n,r,!1,null,null,null),h=g.exports},59563:function(e,t,a){"use strict";a.d(t,{Q:function(){return i},h:function(){return o}});a(21703);var n=a(97434),r=a(48606);const i=(e,{manual:t,onError:a,onSuccess:i,defaultParams:o,transform:s}={})=>{const l=(0,n.ref)(),c=(0,n.ref)(),u=(0,n.ref)(!1),d=(0,n.ref)([]),p=()=>{g(...d.value)},g=(...t)=>Promise.resolve(t||o).then((()=>{u.value=!0})).then((()=>0===t.length&&o&&o.length>0?o:t)).then((e=>(d.value=e,e))).then((t=>e(...t))).then((e=>{if(!e.data.success)throw new Error(e.data.message);return l.value=s?s(e.data.data):e.data.data,i&&i(l.value,e.data),e})).then((()=>{u.value=!1})).catch((e=>{throw u.value=!1,c.value=e.message,a&&a(e),r.Message.error(e.message),e})),h=g;return t||g(...o||[]),(0,n.reactive)({data:l,error:c,loading:u,reload:p,run:g,runAsync:h,params:d})},o=(e,t={})=>{const{defaultPageSize:a=20,defaultParams:r=[],transform:o,...s}=t,l=(0,n.ref)(),c=(0,n.reactive)({total:0,page_num:1,page_size:a,onCurrentChange:e=>{const t=[...p.params];t[0]?t[0].page_num=e:t[0]={num:a,page_num:e},p.runAsync(...t).then((()=>{c.page_num=e}))},refresh:()=>c.onCurrentChange(1),reQuery(...e){const t=[];return p.params[0]?(t[0]=p.params[0],t[0].page_num=1,c.page_num=1):(t[0]={num:a,page_num:1},c.page_num=1),t.push(...e),p.runAsync(...t)}}),[u={num:a,page_num:1},...d]=r,p=i(e,{defaultParams:[u,...d],...s,onSuccess(e,a){l.value=o?o(e):e.data,c.total=e.total,t.onSuccess&&t.onSuccess(l.value,a)}}),{data:g,...h}=(0,n.toRefs)(p);return(0,n.reactive)({...h,data:l,pagination:c})}},58302:function(e,t,a){"use strict";var n=a(97434),r=a(77944),i=a(52140);const o=e=>{const t=(0,n.computed)((()=>r.Z.getters["global/scrollbarSetting"])),a=(0,n.computed)((()=>void 0!==e.pagename?!0!==t.value.find((t=>t.key===e.pagename))?.value:e.disable??!1)),o=(0,n.computed)((()=>{const t=(e.fixedBlockHeightRefs??[]).map((e=>(0,n.unref)(e))).reduce(((e,t)=>(0,n.unref)(e)+(0,n.unref)(t)),0);return a.value?"max-content":`calc(100vh - ${(0,n.unref)(t)+56+36}px)`})),s=(0,n.computed)((()=>(a.value,"flex-auto"))),l=(0,n.computed)((()=>({height:o.value,overflowInBody:!a.value}))),c=(0,n.ref)(0),u=(0,n.computed)((()=>a.value?{}:{height:Math.max(c.value-(0,n.unref)((0,n.unref)(e.compensation)),e.tableMinHeight??0)})),d=a.value?()=>{}:e=>{c.value!==e&&(c.value=e,(0,i.S)())},p=a.value?()=>{}:t=>{0===c.value?setTimeout((()=>{d(t.height)}),e.delay??1200):d(t.height)};return{cardHeight:o,tableProps:u,onRectUpdate:p,rectHeight:c,cardFlexClass:s,cardProps:l}};t["Z"]=o},44928:function(e,t,a){"use strict";a.d(t,{t:function(){return r}});var n=a(86834);const r=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(n.Z,t)}});return e}},20809:function(e,t,a){"use strict";var n=a(97434),r=a(58302);t["Z"]=()=>{const e=32,t=34,a=36,i=31,o=(0,n.ref)(0),s=e=>{o.value=e.height},l=(0,r.Z)({compensation:(0,n.computed)((()=>e+t+a+i)),fixedBlockHeightRefs:[o,25],tableMinHeight:100});return{tableHeightLogic:l,onTopCardRectUpdate:s}}},52140:function(e,t,a){"use strict";a.d(t,{S:function(){return n},n:function(){return r}});const n=()=>{const e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},r=()=>{const{width:e,height:t}=document.body.getBoundingClientRect();return{width:e,height:t}}},8136:function(e,t,a){"use strict";a.d(t,{AR:function(){return L},BG:function(){return F},Cl:function(){return b},D$:function(){return s},EI:function(){return d},Hx:function(){return i},LY:function(){return c},Nv:function(){return l},Ps:function(){return T},Rd:function(){return D},ZC:function(){return g},_t:function(){return f},bI:function(){return x},g9:function(){return v},hy:function(){return p},jh:function(){return A},mB:function(){return _},mx:function(){return S},nA:function(){return k},q0:function(){return C},sc:function(){return w},ug:function(){return y},us:function(){return m},vJ:function(){return h},wA:function(){return o},xF:function(){return u}});var n=a(20713),r=a.n(n);function i(e,t){const a=e.display_type;switch(a){case 0:return"混播";case 1:return"专场"}}const o=["综合","美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值"],s=["美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值","行政采购"];function l({category:e}){return 0===e?"无":o[e]}function c(e,t){const a=e.sales_price_period;switch(a){case 0:return"0 ~ 100";case 1:return"100 ~ 200";case 2:return"200以上"}}function u(e,t="YYYY-MM-DD"){return r()(e).format(t)}function d(e,t="YYYY-MM-DD hh:mm:ss"){return r()(e+"+0800").format(t)}function p(e,t){return r()(e+"+0800").format(t||"YYYY-MM-DD")}function g(e){let t=parseInt(e,10),a=0,n=0;t>=60&&(a=parseInt(t/60,10),t=parseInt(t%60,10),a>=60&&(n=parseInt(a/60,10),a=parseInt(a%60,10)));let r=""+(parseInt(t,10)<10?"0"+parseInt(t,10):parseInt(t,10));return r=(parseInt(a,10)<10?"0"+parseInt(a,10):parseInt(a,10))+":"+r,r=(parseInt(n,10)<10?"0"+parseInt(n,10):parseInt(n,10))+":"+r,r}function h(e){const t=e.is_presell;switch(t){case-1:return"未录入";case 1:return"预售";case 0:return"非预售";case 2:return"预热"}}function m(e){const t=e.is_display;switch(t){case-1:return"未录入";case 2:return"已出单";case 1:return"未出单"}}function v(e){const t=e.duration;switch(t){case-1:return"未录入";case 0:return"5 ~ 10分钟";case 1:return"10 ~ 15分钟";case 2:return"15 ~ 20分钟";case 3:return"0 ~ 5分钟";case 4:return"20分钟以上"}}function f(e){const t=e.display_period;switch(t){case-1:return"未录入";case 0:return"白天";case 1:return"晚上"}}function _(e){const t=e.shop_type;switch(t){case 0:return"无";case 1:return"淘宝店";case 2:return"天猫店";case 3:return"抖音店";default:return"--"}}function y(e){const t=e.company_type;switch(t){case 0:return"无";case 1:return"同行机构";case 2:return"广告公司";case 3:return"品牌TP";case 4:return"直客"}}function x(e,t){const a=/[^\x00-\xff]/g;let n;if(e.replace(a,"**").length>t){n=Math.floor(t/2);for(let r=n,i=e.length;r<i;r++)if(e.substr(0,r).replace(a,"**").length>=t)return e.substr(0,r)}return e}const b=[{type:0,value:"全部"},{type:1,value:"普通客户"},{type:2,value:"重点客户"},{type:3,value:"战略客户"},{type:4,value:"KA客户"}],w=[{value:"全部",type:0},{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13}],F=[{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13},{value:"行政采购",type:14}],C=[{value:3,text:"抖音店"},{value:1,text:"淘宝店"},{value:2,text:"天猫店"}],D=[{value:1,text:"同行机构"},{value:2,text:"广告公司"},{value:3,text:"品牌TP"},{value:4,text:"直客"}],L=[{type:0,value:"--"},{type:1,value:"同行机构"},{type:2,value:"广告公司"},{type:3,value:"品牌TP"},{type:4,value:"直客"}],k=["#D15CB4","#6090F0","#FF9C69","#59B6DF","#C673F0","#52CCC2","#F0737F","#6FCC66","#DBD26A","#9D73F0","#FAB36E","#A2D160","#D15CB4","#58B89F","#E06C9C","#8873F0","#FA9384","#C251A6","#486DB5","#C77A52","#4185A3","#9557B5","#3C968F","#B55760","#4F9149","#A19A4D","#7657B5","#BF8954","#759645","#964282","#3C7D6C","#A65073","#6556B3","#BF7065","#873874"],A=["#6090F0","#FF9C69","#52CCC2","#59B6DF","#C673F0","#D15CB4","#F0737F","#DBD26A","#FAB36E","#A2D160","#6FCC66","#58B89F","#8873F0","#FA9384","#9D73F0","#E06C9C","#C251A6"],S=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"];function T(e){for(const t of e)if("一"<=t&&t<="龥")return t;return e[0]}},45781:function(e,t,a){"use strict";var n=a(49187),r=a(8581),i=a(61282);const o=new n.ZP;t["Z"]={formatEmpty(e,t){return null===e||void 0===e||""===e||e instanceof Array&&e.length<=0?"--":void 0!==t?`${e}${t}`:e},formatTime(e){try{return null===e||void 0===e||""===e?"--":e.replace(/-/g,".")}catch(t){return e}},formatTimespan(e){try{if(null===e||void 0===e||""===e)return"--";const t=new Date;return t.setTime(1e3*e),(0,r.WU)(t,"YYYY.mm.dd")}catch(t){return e}},formatPrice(e,t=n.WL.Fen,a=!0){try{if(null===e||void 0===e||""===e)return"--";const n=o.format(o.parse(e,t));return a?`￥${n}`:n}catch(r){return e}},formatPriceFormYuan(e,t=2,a=!0){try{if(null===e||void 0===e||""===e)return"--";let n=e;return n=e>1e8?(e/1e8).toFixed(t)+"亿":e>1e4?(e/1e4).toFixed(t)+"w":(e-0).toFixed(t),a&&(n=`￥${n}`),n}catch(n){return e}},formatPriceToThousand(e,t=2,a=!0,n=!1){try{if(null===e||void 0===e||""===e)return"--";let r=e;return e>1e4?r=(e/1e4).toFixed(t)+"w":(r=(e-0).toFixed(t),n&&(r=(e-0).toFixed(0))),a&&(r=`￥${r}`),r}catch(r){return e}},formatPriceToThousandformatAmount(e,t=2,a=!0,n=!1){try{if(null===e||void 0===e||""===e)return"--";let r=e;return e>1e4?r=(0,i.dN)((e/1e4).toFixed(2),"None")+"w":(r=(0,i.dN)((e-0).toFixed(t),"None",0===t),n&&(r=(e-0).toFixed(0))),a&&(r=`￥${r}`),r}catch(r){return e}},tranNumber(e,t=2){if(null===e||void 0===e||""===e)return"--";if(!(e>=0))return e||"-";e+="";const a=e.toString(),n=a.split(".")[0],r=n.length;if(r<5)return a;if(r>8){const e=n.substring(n.length-8,n.length-8+t);return parseFloat(parseInt(n/1e8+"",10)+"."+e)+"亿"}if(r>4){const e=n.substring(n.length-4,n.length-4+t);return parseFloat(parseInt(n/1e4+"",10)+"."+e)+"w"}}}},43773:function(e,t,a){"use strict";a.d(t,{R:function(){return p},y:function(){return g}});var n=a(36568),r=a.n(n),i=a(97434),o=a(64923),s=a(77944);let l=1;const c=()=>{const e=document.createElement("div");return e.id="dialog_"+l++,document.body.appendChild(e),e},u=new Function,d=(e,t)=>{let a=e;return void 0===a&&(a={}),Object.keys(t).forEach((e=>{const n=a[e]||u,r=t[e];a[e]=(...e)=>{if(!1!==r(...e))return n(...e)}})),a},p=(e={})=>{const t=(0,i.ref)(),a=(0,i.reactive)({visible:!1,title:void 0,width:void 0,footer:!0,okText:"提交",cancelText:"取消",disabledOK:!0}),n=(0,i.ref)(!0),l=e=>{Object.keys(e).forEach((t=>{a.hasOwnProperty.call(a,t)&&(a[t]=e[t])}))};l(e);const u=(0,i.ref)(d(e.on,{close(){a.visible=!1},updateDialog(e={}){l(e)}})),p=()=>{const e=t.value.$refs&&t.value.$refs.dialogRef||{};e.dialogSubmit?e.dialogSubmit():e.onSaveBtnClick?e.onSaveBtnClick():console.log("子组件没有dialogSubmit或onSaveBtnClick")};t.value=new o["default"]({el:c(),store:s.Z,setup(){void 0!==e.provide&&Object.keys(e.provide).forEach((t=>{(0,i.provide)(t,e.provide[t])}))},render(t){if(n.value&&a.visible)return t("el-dialog",r()([{class:`customer-dialog el-dialog-center-rewrite tg-body-container  ${e.class}`},{props:a},{attrs:{"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1}},{on:u.value},{attrs:{isDialog:!0}}]),[a.visible&&t(e.component,{ref:"dialogRef",props:{...e.props,isDialog:!0},on:u.value}),a.footer&&t("fragments",{slot:"footer"},[t("tg-button",{on:{click:()=>a.visible=!1}},[a.cancelText]),a.disabledOK&&t("tg-button",{attrs:{type:"primary"},on:{click:p}},[a.okText])])])}});const g=(...e)=>{a.visible||(a.visible=!0,(0,i.nextTick)((()=>{const a=t.value.$refs&&t.value.$refs.dialogRef;a?a.dialogShow?a.dialogShow(...e):a.show&&a.show(...e):console.log("未找到子组件请检查代码")})))},h=e=>(l(e),f),m=()=>{a.visible=!1},v=(e,t,a=!1)=>(!0===a?u.value[e]=t:d(u.value,{[e]:t}),f);(0,i.onUnmounted)((()=>{n.value=!1,a.visible=!1}));const f=(0,i.reactive)({show:g,update:h,on:v,close:m,config:e,data:e.data});return f},g=(e={})=>{const t=(0,i.ref)(),a=(0,i.reactive)({visible:!1,title:void 0,width:void 0,footer:!0,okText:"提交",cancelText:"取消",disabledOK:!0}),n=(0,i.ref)(!0),l=e=>{Object.keys(e).forEach((t=>{a.hasOwnProperty.call(a,t)&&(a[t]=e[t])}))};l(e);const u=(0,i.ref)(d(e.on,{close(){a.visible=!1},updateDialog(e={}){l(e)}})),p=()=>{const e=t.value.$refs&&t.value.$refs.dialogRef||{};e.dialogSubmit?e.dialogSubmit():e.onSaveBtnClick?e.onSaveBtnClick():console.log("子组件没有dialogSubmit或onSaveBtnClick")};t.value=new o["default"]({el:c(),store:s.Z,setup(){void 0!==e.provide&&Object.keys(e.provide).forEach((t=>{(0,i.provide)(t,e.provide[t])}))},render(t){if(!n.value)return;if(!a.visible)return;const{width:i,...o}=a;return t("el-drawer",r()([{class:`tg-drawer-rewrite ${e.class}`},{props:{...o,size:i}},{attrs:{"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1}},{on:u.value},{attrs:{isDialog:!0}}]),[t("div",{class:"tg-drawer-content"},[a.visible&&t(e.component,{ref:"dialogRef",props:{...e.props,isDialog:!0},on:u.value})]),a.footer&&t("div",{class:"tg-drawer-footer"},[t("tg-button",{on:{click:()=>a.visible=!1}},[a.cancelText]),a.disabledOK&&t("tg-button",{class:"mgl-12",attrs:{type:"primary"},on:{click:p}},[a.okText])])])}});const g=(...e)=>{a.visible||(a.visible=!0,(0,i.nextTick)((()=>{const a=t.value.$refs&&t.value.$refs.dialogRef;a?a.dialogShow?a.dialogShow(...e):a.show&&a.show(...e):console.log("未找到子组件请检查代码")})))},h=e=>(l(e),f),m=()=>{a.visible=!1},v=(e,t,a=!1)=>(!0===a?u.value[e]=t:d(u.value,{[e]:t}),f);(0,i.onUnmounted)((()=>{n.value=!1,a.visible=!1}));const f=(0,i.reactive)({show:g,update:h,on:v,close:m,config:e});return f}},4096:function(e,t,a){e.exports=a(70680)(12996)},20713:function(e,t,a){e.exports=a(70680)(52703)}}]);
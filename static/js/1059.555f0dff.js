"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[1059],{71059:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tg-hot-sale-page"},[a("tg-card",{attrs:{padding:[18]},on:{"rect:update":e.onTopCardRectUpdate}},[a("el-form",{staticClass:"filter-form flex-form",attrs:{size:"small","show-message":!1,inline:!0,"label-width":"70px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"项目名称："}},[a("el-input",{staticStyle:{width:"192px"},attrs:{clearable:"",placeholder:"请输入项目名称"},model:{value:e.queryForm.project_name,callback:function(t){e.$set(e.queryForm,"project_name",t)},expression:"queryForm.project_name"}})],1),a("el-form-item",[a("tg-button",{attrs:{type:"primary"},on:{click:e.onQuerySearchClick}},[e._v("查询")]),a("tg-button",{staticClass:"mgl-12",on:{click:e.onQueryResetClick}},[e._v("重置")])],1)],1)],1),a("tg-card",e._b({staticClass:"mgt-12 flex-auto",attrs:{padding:[18,18,0,18]},on:{"rect:update":e.onRectUpdate}},"tg-card",e.cardProps,!1),[a("el-table",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{stripe:"",data:e.list},scopedSlots:e._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{"detial-text":"暂无数据"}})]},proxy:!0}])},"el-table",e.tableProps,!1),e._l(e.columns,(function(t,n){return a("el-table-column",e._b({key:n},"el-table-column",t,!1))})),1),e.total>0?a("el-pagination",{staticStyle:{margin:"8px 0"},attrs:{"current-page":e.queryForm.page_num,"page-sizes":[10,20,50,100],"page-size":e.queryForm.num,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"update:currentPage":function(t){return e.$set(e.queryForm,"page_num",t)},"update:current-page":function(t){return e.$set(e.queryForm,"page_num",t)},"current-change":e.handleCurrentChange,"size-change":e.handlePageSizeChange}}):e._e()],1)],1)},r=[],o=a(97434),i=a(20809),p=a(64236),c=a(99575),s=a(61282),u=a(67910),_=a(1763);const d=e=>{const t=(0,o.ref)(!1),a=(0,o.ref)(0),n=(0,o.ref)([]),r=async r=>{t.value=!0;const[{data:o}]=await(0,p.Dc)(500,(0,c.A0)(r));t.value=!1,o.success?(n.value=o.data.data,a.value=o.data.total):(n.value=[],a.value=0,e.root.$message({type:"warning",message:o.message??"查询失败，稍后重试",duration:2e3,showClose:!0}))},i=(e,t,a,n)=>{const r=e[t]||"--",{is_folded:i,folded_text:p}=(0,s.zb)(r,a);return n||!i?p:(0,o.h)("el-popover",{props:{placement:"right",trigger:"hover",content:r}},[(0,o.h)("span",{slot:"reference"},[p]),(0,o.h)("DefText",{props:{content:e[t]}})])},d=(e,t)=>i(e,"project_name",30,t),l=(0,u.zY)(n,"项目名称",d),m=(0,o.ref)([{label:"项目名称",minWidth:l.value+80,formatter:e=>d(e,!1)},{label:"监控账号数",property:"monitor_account_count",minWidth:100,align:"center"},{label:"今日热销款数",property:"hot_sale_count",minWidth:110,align:"center"},{label:"操作",width:92,align:"left",headerAlign:"left",fixed:"right",formatter:e=>{const t=[];return t.push((0,o.h)("a",{on:{click:()=>y(e)}},["查看"])),t}}]),y=t=>{e.root.$router.push({name:_.xx.hotSaleMonitorDetail,params:{id:`${t.project_id}`,project_name:`${t.project_name}`}})};return{loading:t,total:a,list:n,loadData:r,columns:m,viewClick:y}};var l=(0,o.defineComponent)({name:"TgHotSaleMonitor",setup(e,t){const{tableHeightLogic:a,onTopCardRectUpdate:n}=(0,i.Z)(),r=(0,o.reactive)({project_name:"",page_num:1,num:20}),p=d(t),c=async(e=!0)=>{e&&(r.page_num=1),await p.loadData(r)},s=()=>{r.project_name="",r.page_num=1,r.num=20,c()},u=()=>{c()},_=e=>{r.page_num=e,c(!1)},l=e=>{r.num=e,c()};return(0,o.onBeforeMount)((()=>{c()})),{onTopCardRectUpdate:n,...a,reload:c,queryForm:r,onQuerySearchClick:u,onQueryResetClick:s,handleCurrentChange:_,handlePageSizeChange:l,...p}}}),m=l,y=a(1001),h=(0,y.Z)(m,n,r,!1,null,"771136c2",null),f=h.exports},99575:function(e,t,a){a.d(t,{j_:function(){return fe},QC:function(){return he},Av:function(){return E},e_:function(){return U},YM:function(){return K},RG:function(){return J},Ze:function(){return j},$1:function(){return g},hi:function(){return ce},Fy:function(){return se},hx:function(){return L},hU:function(){return W},_Z:function(){return k},vB:function(){return C},Fr:function(){return w},wT:function(){return q},BP:function(){return b},Qd:function(){return O},s0:function(){return I},Xj:function(){return V},nM:function(){return F},ki:function(){return A},f:function(){return B},Hk:function(){return D},mX:function(){return ie},GU:function(){return pe},xU:function(){return Y},tG:function(){return T},OZ:function(){return H},GX:function(){return M},j1:function(){return Q},p8:function(){return P},zG:function(){return _e},A0:function(){return ue},nA:function(){return x},wf:function(){return Fe},tF:function(){return G},vN:function(){return X},Yf:function(){return de},R5:function(){return z},Te:function(){return Z},GH:function(){return S},N1:function(){return ae},NE:function(){return ne},v3:function(){return re},th:function(){return R},Bm:function(){return te},aH:function(){return ee},$V:function(){return $},F7:function(){return oe},LC:function(){return ye},PG:function(){return me},Be:function(){return Ge},Cb:function(){return N},p4:function(){return je},gV:function(){return Xe},ji:function(){return ge},Zn:function(){return Re},v6:function(){return Se},mm:function(){return $e},yD:function(){return ve},Zw:function(){return ze},G2:function(){return ke},_d:function(){return be},R0:function(){return we},y2:function(){return qe},mW:function(){return Ce},mI:function(){return xe},LQ:function(){return le}});a(21703);var n=a(76012),r=(a(48606),a(64236)),o=a(42963),i=a(74750);const p="/api/shop_live/query_ctr_projects",c="/api/shop_live/query_ctr_shop_live",s="/api/shop_live/query_project_shifts",u="/api/shop_live/query_shift_group_ctr_shop_live",_="/api/shop_live/save_shop_live_live_screenshot",d="/api/shop_live/query_shop_live_statistical_trends",l="/api/shop_live/operating/project_trade_funnel",m="/api/shop_live/operating/project_flow_sunburst",y="/api/shop_live/operating/department_project_statistics_detail",h="/api/shop_live/operating/query_project_top_products",f="/api/shop_live/operating/query_department_project_statistics",v="/api/shop_live/operating/get_last_update_time",g=async e=>(0,n.dX)("/api/data_center/query_common_project",{params:{...(0,r.jG)(e)}}),j=async e=>(0,n.dX)("/api/shop_live/query_project_douyin_by_date",{params:{...(0,r.jG)(e)}}),G=async e=>(0,n.dX)("/api/data_center/query_shop_live_project",{params:{...(0,r.jG)(e)}}),X=async e=>(0,n.dX)("/api/data_center/query_cooperation",{params:{...(0,r.jG)(e)}}),b=async e=>(0,n.dX)("/api/data_center/table",{params:{...(0,r.jG)(e)}}),q=async e=>(0,n.dX)("/api/data_center/chart",{params:{...(0,r.jG)(e)}}),w=async()=>(0,n.dX)("/api/data_center/customer_supplier_manage_table"),x=async()=>(0,n.dX)("/api/data_center/invoice_apply_table"),C=async()=>(0,n.dX)("/api/data_center/customer_pay_apply_table"),k=async()=>(0,n.dX)("/api/data_center/contract_apply_table"),$=async()=>(0,n.dX)("/api/data_center/system_login_table"),S=async()=>(0,n.dX)("/api/data_center/settlement_table"),z=async()=>(0,n.dX)("/api/data_center/project_table"),R=async()=>(0,n.dX)("/api/data_center/shop_live_table"),F=async e=>(0,n.dX)("/api/shop_live/douyin_category_pie_chart",{params:{...(0,r.jG)(e)}}),P=async e=>(0,n.dX)("/api/shop_live/douyin_old_category_pie_chart",{params:{...(0,r.jG)(e)}}),H=async e=>(0,n.dX)("/api/shop_live/douyin_item_pie_chart",{params:{...(0,r.jG)(e)}}),Z=async()=>(0,n.dX)("/api/shop_live/query_douyin_report_projects"),M=async e=>e.is_from_project?e.room_id&&""!==e.room_id?(0,n.dX)("/api/shop_live/project_data/douyin_item_report_by_room",{params:{...(0,r.jG)(e)}}):(0,n.dX)("/api/shop_live/project_data/douyin_item_report",{params:{...(0,r.jG)(e)}}):e.room_id&&""!==e.room_id?(0,n.dX)("/api/shop_live/operating/douyin_item_report_by_room",{params:{...(0,r.jG)(e)}}):(0,n.dX)("/api/shop_live/douyin_item_report",{params:{...(0,r.jG)(e)}}),A=async e=>(0,n.dX)("/api/shop_live/douyin_category_report",{params:{...(0,r.jG)(e)}}),B=async e=>(0,n.dX)("/api/shop_live/douyin_category_timeline",{params:{...(0,r.jG)(e)}}),Q=async e=>(0,n.dX)("/api/shop_live/douyin_item_timeline",{params:{...(0,r.jG)(e)}}),T=async e=>(0,n.dX)("/api/shop_live/douyin_hot_item_report",{params:{...(0,r.jG)(e)}}),U=async e=>(0,n.dX)("/api/shop_live/check_project_douyin_access",{params:{...(0,r.jG)(e)}}),D=async e=>(0,n.dX)("/api/shop_live/query_douyin_competitive_item_categories",{params:{...(0,r.jG)(e)}}),L=async()=>(0,n.dX)("/api/shop_live/query_douyin_competitive_shops"),O=async e=>(0,n.dX)("/api/shop_live/query_douyin_competitive_items",{params:{...(0,r.jG)(e)}}),E=async e=>(0,n.dX)("/api/shop_live/query_douyin_competitive_items_total",{params:{...(0,r.jG)(e)}}),N=e=>(0,n.SO)("/api/shop_live/update_douyin_competitive_shops",{...(0,r.jG)({shop_names:e})}),W=async e=>(0,n.dX)("/api/shop_live/query_douyin_competitive_item_timeline",{params:{...(0,r.jG)(e)}}),Y=async()=>(0,n.dX)("/api/data_center/douyin_composite_categories"),I=async e=>(0,n.dX)("/api/data_center/douyin_category_image",{params:{...(0,r.jG)(e)}}),V=async e=>(0,n.dX)("/api/data_center/douyin_category_image_detail",{params:{...(0,r.jG)(e)}}),J=async e=>(0,n.dX)("/api/shop_live/douyin_year_season_report",{params:{...(0,r.jG)(e)}}),K=async e=>(0,n.dX)("/api/shop_live/douyin_season_year_report",{params:{...(0,r.jG)(e)}}),ee=async e=>(0,n.dX)("/api/shop_live/query_douyin_tiange_category",{params:{...(0,r.jG)(e)}}),te=async e=>e.is_from_project?(0,n.dX)("/api/shop_live/project_data/douyin_tiange_category_report",{params:{...(0,r.jG)(e)}}):(0,n.dX)("/api/shop_live/douyin_tiange_category_report",{params:{...(0,r.jG)(e)}}),ae=async e=>(0,n.dX)("/api/shop_live/list_douyin_season",{params:{...(0,r.jG)(e)}}),ne=async e=>(0,n.dX)("/api/shop_live/list_douyin_season_year",{params:{...(0,r.jG)(e)}}),re=async e=>e.room_id&&""!==e.room_id?e.is_from_project?(0,n.dX)("/api/shop_live/project_data/query_douyin_tiange_category_by_room",{params:{...(0,r.jG)(e)}}):(0,n.dX)("/api/shop_live/operating/query_douyin_tiange_category_by_room",{params:{...(0,r.jG)(e)}}):(0,n.dX)("/api/shop_live/query_douyin_tiange_category",{params:{...(0,r.jG)(e)}}),oe=async e=>(0,n.dX)("/api/shop_live/douyin_contrast_category_timeline",{params:{...(0,r.jG)(e)}}),ie=async e=>(0,n.dX)("/api/data_center/get_douyin_completion_schedule_detail",{params:{...(0,r.jG)(e)}}),pe=async e=>(0,n.dX)("/api/data_center/query_douyin_completion_schedule_trend",{params:{...(0,r.jG)(e)}}),ce=async e=>(0,n.dX)("/api/shop_live/query_douyin_competitive_analysis",{params:{...(0,r.jG)(e)}}),se=async e=>(0,n.dX)("/api/shop_live/query_douyin_competitive_analysis_detail",{params:{...(0,r.jG)(e)}}),ue=async e=>(0,n.dX)("/api/shop_live/query_feigua_hot_item_project",{params:{...(0,r.jG)(e)}}),_e=async e=>(0,n.dX)("/api/data_center/hot_item",{params:{...(0,r.jG)(e)}}),de=async e=>(0,n.dX)("/api/data_center/feigua_monitor_config",{params:{...(0,r.jG)(e)}}),le=e=>(0,n.SO)("/api/data_center/feigua_monitor_config",{...(0,r.jG)(e)}),me=async(e,t=!1)=>t?(0,n.dX)("/api/data_center/hot_style_every_month",{params:{...(0,r.jG)(e)}}):(0,n.dX)("/api/data_center/hot_style_every_week",{params:{...(0,r.jG)(e)}}),ye=async()=>(0,n.dX)("/api/data_center/tiange_douyin_category",{params:{...(0,r.jG)({level:3})}}),he=e=>{const t=(0,r.jG)(e),a=o.stringify(t),n=(0,i.LP)();window.open(`https://data.goumee.com/api/shop_live/export_douyin_tiange_category_report?${a}&Authorization=${n}`)},fe=e=>{if(e.room_id&&""!==e.room_id){const t=(0,i.LP)();if(e.is_from_project){e.is_from_project=void 0;const a=(0,r.jG)(e),n=o.stringify(a);window.open(`https://data.goumee.com/api/shop_live/project_data/export_douyin_item_report_by_room?${n}&Authorization=${t}`)}else{e.is_from_project=void 0;const a=(0,r.jG)(e),n=o.stringify(a);window.open(`https://data.goumee.com/api/shop_live/operating/export_douyin_item_report_by_room?${n}&Authorization=${t}`)}}else{e.is_from_project=void 0,e.room_id=void 0;const t=(0,r.jG)(e),a=o.stringify(t),n=(0,i.LP)();window.open(`https://data.goumee.com/api/shop_live/export_douyin_item_report?${a}&Authorization=${n}`)}},ve=async()=>(0,n.dX)(s),ge=async e=>(0,n.dX)(c,{params:{...(0,r.jG)(e)}}),je=e=>(0,n.SO)("/api/shop_live/save_shift",{...(0,r.jG)(e)}),Ge=e=>(0,n.SO)("/api/shop_live/save_shop_live_change_tips",{...e}),Xe=e=>(0,n.dX)(p,{params:{...(0,r.jG)(e??{})}}),be=e=>(0,n.dX)(u,{params:{...(0,r.jG)(e)}}),qe=(e,t)=>(0,n.SO)(_,{...(0,r.jG)({id:e,live_screenshot:t})}),we=e=>(0,n.dX)(d,{params:{...(0,r.jG)(e)}}),xe=async e=>(0,n.dX)("/api/shop_live/query_douyin_category_competitive_items_total",{params:{...(0,r.jG)(e)}}),Ce=async(e,t)=>(0,n.dX)("/api/shop_live/get_dp_shop_orders_presell_stat_day",{params:{...(0,r.jG)({...e,...t})}}),ke=async e=>(0,n.dX)(l,{params:{...(0,r.jG)({...e})}}),$e=async e=>(0,n.dX)(m,{params:{...(0,r.jG)({...e})}}),Se=async e=>(0,n.dX)(y,{params:{...(0,r.jG)({...e})}}),ze=async e=>(0,n.dX)(h,{params:{...(0,r.jG)({...e})}}),Re=async e=>(0,n.dX)(f,{params:{...(0,r.jG)({...e})}}),Fe=async()=>(0,n.dX)(v)},58302:function(e,t,a){var n=a(97434),r=a(77944),o=a(52140);const i=e=>{const t=(0,n.computed)((()=>r.Z.getters["global/scrollbarSetting"])),a=(0,n.computed)((()=>void 0!==e.pagename?!0!==t.value.find((t=>t.key===e.pagename))?.value:e.disable??!1)),i=(0,n.computed)((()=>{const t=(e.fixedBlockHeightRefs??[]).map((e=>(0,n.unref)(e))).reduce(((e,t)=>(0,n.unref)(e)+(0,n.unref)(t)),0);return a.value?"max-content":`calc(100vh - ${(0,n.unref)(t)+56+36}px)`})),p=(0,n.computed)((()=>(a.value,"flex-auto"))),c=(0,n.computed)((()=>({height:i.value,overflowInBody:!a.value}))),s=(0,n.ref)(0),u=(0,n.computed)((()=>a.value?{}:{height:Math.max(s.value-(0,n.unref)((0,n.unref)(e.compensation)),e.tableMinHeight??0)})),_=a.value?()=>{}:e=>{s.value!==e&&(s.value=e,(0,o.S)())},d=a.value?()=>{}:t=>{0===s.value?setTimeout((()=>{_(t.height)}),e.delay??1200):_(t.height)};return{cardHeight:i,tableProps:u,onRectUpdate:d,rectHeight:s,cardFlexClass:p,cardProps:c}};t["Z"]=i},20809:function(e,t,a){var n=a(97434),r=a(58302);t["Z"]=()=>{const e=32,t=34,a=36,o=31,i=(0,n.ref)(0),p=e=>{i.value=e.height},c=(0,r.Z)({compensation:(0,n.computed)((()=>e+t+a+o)),fixedBlockHeightRefs:[i,25],tableMinHeight:100});return{tableHeightLogic:c,onTopCardRectUpdate:p}}},52140:function(e,t,a){a.d(t,{S:function(){return n},n:function(){return r}});const n=()=>{const e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},r=()=>{const{width:e,height:t}=document.body.getBoundingClientRect();return{width:e,height:t}}},67910:function(e,t,a){a.d(t,{P6:function(){return c},zY:function(){return p}});var n=a(97434),r=a(61282),o=a(85937),i=a.n(o);const p=(e,t,a,o=20)=>(0,n.computed)((()=>Math.ceil(Math.max(...e.value.map((e=>(0,r.QN)(a(e,!0)))),(0,r.QN)(t)))+o+6)),c=(e,t=!0)=>{let a;return a=""===e||void 0===e?"--":(0,r.SJ)(new(i())(e??0)),t?(0,n.h)("span",[`￥${a}`]):(0,n.h)("span",[`${a}`])}}}]);
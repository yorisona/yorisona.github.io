"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[6952],{23983:function(e,a,t){t.d(a,{Z:function(){return _}});var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-dialog",{staticClass:"customer-dialog brand-form-modal tg-dialog-vcenter",attrs:{visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":!0,width:"478px",top:"20vh"},on:{close:e.onCancelBtnClick},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",[e._v(e._s(e.formTitle))])]},proxy:!0},{key:"footer",fn:function(){return[t("tg-button",{on:{click:e.onCancelBtnClick}},[e._v("取消")]),t("tg-button",{attrs:{type:"primary"},on:{click:e.onSaveBtnClick}},[e._v("保存")])]},proxy:!0}])},[t("div",{staticClass:"dialog-content"},[t("el-form",{ref:"formRef",attrs:{rules:e.brandFormRules,model:e.brandForm,"label-width":"98px","label-height":"18px"},nativeOn:{submit:function(e){e.preventDefault()}}},[t("el-form-item",{attrs:{label:"品牌名称：",prop:"brand_name"}},[t("el-input",{ref:"autoFocuseRef",staticStyle:{width:"360px"},attrs:{maxlength:20,size:"medium",placeholder:"请输入品牌名称"},model:{value:e.brandForm.brand_name,callback:function(a){e.$set(e.brandForm,"brand_name","string"===typeof a?a.trim():a)},expression:"brandForm.brand_name"}})],1)],1)],1)])},i=[],o=t(97434),n=t(53451),s=t.n(n),r=t(40629);const{debounce:u}=s();var c=(0,o.defineComponent)({name:"AddBrand",props:{brand:{type:Object,required:!1},visible:{type:Boolean,required:!0}},setup(e,a){const t=(0,o.ref)(null),l=(0,o.ref)(void 0),i=()=>{a.emit("dialog:close"),a.root.$nextTick(c)},n=(0,o.ref)("新增品牌"),s=(0,o.ref)({id:-1,brand_name:""});(0,o.watch)((()=>e.visible),(a=>{t.value?.clearValidate(),a&&(n.value=void 0===e.brand?"新增品牌":"编辑品牌",void 0!==e.brand?(s.value.brand_name=e.brand.brand_name,s.value.id=e.brand.id):(0,o.nextTick)((()=>{l.value?.focus()})))}));const c=()=>{s.value.brand_name="",s.value.id=-1},d=(0,o.ref)({brand_name:[{required:!0,message:"请输入品牌名称",trigger:"blur"}]}),p=async()=>{if(void 0===s?.value)return;const e=await new Promise((e=>t.value?.validate((a=>e(a)))));if(!e)return;const l={brand_name:s.value.brand_name};-1!==s?.value.id&&(l.id=s.value.id);const{data:i}=await(0,r.cE)(l);i.success?(a.root.$message.success(i.message),a.emit("dialog:close",!0),c()):a.root.$message.error(i.message??"品牌保存失败")},m=u(p,200);return{autoFocuseRef:l,formTitle:n,formRef:t,onCancelBtnClick:i,onSaveBtnClick:m,brandForm:s,brandFormRules:d}}}),d=c,p=t(1001),m=(0,p.Z)(d,l,i,!1,null,null,null),_=m.exports},56952:function(e,a,t){t.r(a),t.d(a,{default:function(){return D}});t(21703);var l=t(36568),i=t.n(l),o=t(97434),n=t(1763),s=t(44928),r=t(11676),u=t(54433),c=t(57046),d=t(79433),p=t(3346),m=t(64236),_=t(82741),b=t(23983),v=t(23857);const y=(0,c.I8)(u.areaType);var h,f,k=(0,o.defineComponent)({components:{AddBrand:b.Z},setup(e,a){const t=(0,s.t)(),l=(0,o.ref)(!1),i=(0,o.ref)(!1),r=void 0!==t.currentRoute.params.id,u=(0,o.ref)({company_name:"",is_taxpayer:"",bank_account:"",bank_region:[],bank_sub_name:"",bank_name:"",bank_code:"",tax_id:"",cw_info_contact_phone:"",contact:"",email:"",wechat:"",address:"",contact_phone:"",introduce:"",introduce_files:[],store:"",addShopName:"",addShopCategory:"",addShopType:"",addBrandId:"",addCompanyType:"",addBusinessType:[],shopList:[],settlement_type:1,xd_shop_id:""}),c=(0,o.ref)(void 0),b=(0,o.ref)(null),h=(0,o.ref)([]),f=(0,o.ref)(null),k=(0,o.computed)((()=>1===u.value.settlement_type)),g=(0,o.computed)((()=>2===u.value.settlement_type&&3===u.value.addShopType)),x=(0,o.ref)(""),w=async()=>{l.value=!0;const{data:e}=await(0,p.Me)(a.root.$route.params.id);if(l.value=!1,e.success){const a=e.data;u.value.company_name=a.company_name,u.value.is_taxpayer=0===a.is_taxpayer||1===a.is_taxpayer?a.is_taxpayer:"",u.value.bank_account=a.bank_account,u.value.bank_region=[a.bank_province,a.bank_city],u.value.bank_sub_name=a.bank_sub_name,u.value.bank_name=a.bank_name,u.value.bank_code=a.bank_code,u.value.tax_id=a.tax_id,u.value.cw_info_contact_phone=a.cw_info_contact_phone,u.value.contact=a.contact,u.value.contact_phone=a.contact_phone,u.value.wechat=a.wechat,u.value.email=a.email,u.value.address=a.address,u.value.introduce=a.introduce,u.value.settlement_type=a.settlement_type,u.value.introduce_files=a.introduce_files,u.value.store=a.shops[0]?a.shops[0]+`(${v.Zu.get(a.shops_info[0]?.shop_type)})`:"",b.value=a.shops_info[0]?.shop_id,f.value=a.verify_status,x.value=a.shops_info[0]?.xd_shop_id,a.bank_province&&a.bank_city&&C(u.value.bank_region)}else a.root.$router.push("/")};(0,o.onBeforeMount)((()=>{r&&w()}));const D=(0,o.ref)([]),S=()=>{if(u.value.shopList.length>=1)return!1;u.value.store="",u.value.shopList.push({shop_name:"",category:"",shop_type:"",brand_id:"",company_type:"",xd_shop_id:""})},O=e=>{u.value.shopList.splice(e,1)},I=(0,o.ref)([]),L=async()=>{const e=await(0,d.wh)({});e.data.success?I.value=e.data.data:a.root.$message.error(e.data.message)};L();const $=(0,o.ref)([]),T=async()=>{const e=await(0,d.y5)();e.data.success?$.value=e.data.data:a.root.$message.error(e.data.message)};T();const N=(0,o.ref)([]),C=async e=>{const t={province:e[0],city:e[1]},l=await(0,d.i$)(t);l.data.success?N.value=l.data.data:a.root.$message.error(l.data.message)},R=e=>{u.value.bank_sub_name="",u.value.bank_name="",u.value.bank_code="",C(e)},K=e=>{u.value.bank_name="",u.value.bank_code="",N.value.map((a=>{e===a.bank_sub_name&&(u.value.bank_name=a.bank_name,u.value.bank_code=a.bank_code)}))},q=(0,o.ref)(y),A=async()=>{let e=[];r?isNaN(u.value.store)||"number"!==typeof u.value.store?b.value&&(e=[b.value]):e=[u.value.store]:u.value.store&&(e=[u.value.store]);const i={company_id:t.currentRoute.params.id,company_name:u.value.company_name,bank_province:u.value.bank_region[0],bank_city:u.value.bank_region[1],contact:u.value.contact,contact_phone:u.value.contact_phone,email:u.value.email,wechat:u.value.wechat,address:u.value.address,introduce:u.value.introduce,introduce_files:u.value.introduce_files,bank_name:u.value.bank_name,tax_id:u.value.tax_id,cw_info_contact_phone:u.value.cw_info_contact_phone,bank_account:u.value.bank_account,is_taxpayer:u.value.is_taxpayer,bank_sub_name:u.value.bank_sub_name,bank_code:u.value.bank_code};u.value.shopList.length>0?i.new_shops=[{shop_name:u.value.addShopName,category:u.value.addShopCategory,shop_type:u.value.addShopType,brand_id:u.value.addBrandId,company_type:u.value.addCompanyType}]:i.shops=e,l.value=!0;const[{data:o}]=await Promise.all([await(0,d.UK)(i),await(0,m._v)(500)]);if(l.value=!1,o.success)a.root.$message.success(o.message??"保存成功"),t.push({name:n.Ou.company});else{const e=o.message??"保存失败";a.root.$message.error(e)}},B=()=>{c.value?.validate((async e=>{if(!e)return;const i=E.value.find((e=>e.shop_id===u.value.store));if(2===u.value.settlement_type&&u.value.store&&!i?.xd_shop_id&&!x.value)return void a.root.$message.warning("关联店铺缺少店铺ID");if(r&&!x.value&&2===u.value.settlement_type)return void a.root.$message.warning("关联店铺缺少店铺ID");if(""===u.value.email&&""===u.value.wechat&&k.value)return a.root.$message.warning("微信号、邮箱2选1必填"),!1;let o=[];o=r&&(isNaN(u.value.store)||"number"!==typeof u.value.store)?[b.value]:[u.value.store];const s={company_id:t.currentRoute.params.id,company_name:u.value.company_name,bank_province:u.value.bank_region[0],bank_city:u.value.bank_region[1],contact:u.value.contact,contact_phone:u.value.contact_phone,email:u.value.email,wechat:u.value.wechat,address:u.value.address,introduce:u.value.introduce,introduce_files:u.value.introduce_files,bank_name:u.value.bank_name,tax_id:u.value.tax_id,cw_info_contact_phone:u.value.cw_info_contact_phone,bank_account:u.value.bank_account,is_taxpayer:u.value.is_taxpayer,bank_sub_name:u.value.bank_sub_name,bank_code:u.value.bank_code,settlement_type:u.value.settlement_type};if(u.value.shopList.length>0?s.new_shops=[{shop_name:u.value.addShopName,category:u.value.addShopCategory,shop_type:u.value.addShopType,brand_id:u.value.addBrandId,company_type:u.value.addCompanyType,xd_shop_id:u.value.xd_shop_id}]:s.shops=o,r&&1===f.value){const e=await(0,_.I)(a,"该信息已审核通过，是否确认提交重新进行审核?");if(!e)return!1}l.value=!0;const[{data:c}]=await Promise.all([await(0,d.QV)(s),await(0,m._v)(500)]);if(l.value=!1,c.success)a.root.$message.success("提交成功"),t.push({name:n.Ou.company});else{const e=c.message??"提交失败";a.root.$message.error(e)}}))},P=(e,a)=>{u.value.addBrandId=a.target.value},E=(0,o.ref)([]),V=async e=>{const t=await(0,d.iY)({shop_name:e});console.log(v.Zu.get(1)),t.data.success?E.value=t.data.data.data.map((e=>({...e,shop_name:e.shop_name+`(${v.Zu.get(e.shop_type)})`}))):a.root.$message.error(t.data.message)},j=()=>{h.value.push({store_id:""})},G=e=>{h.value.splice(e,1)};return{hasEdit:r,loading:l,formData:u,formRef:c,onSaveInfo:A,onSubmit:B,shopList:D,categoryList:q,AddBrandVisible:i,brandList:I,getBrandList:L,brandSelect:P,storeList:E,getStoreList:V,addStoreList:h,addStoreMore:j,removeStoreItem:G,addShop:S,removeShopItem:O,bankRegionList:$,onAreaChanged:R,bankList:N,getBankName:K,verify_status:f,isRequired:k,shopIdRequired:g}},render(){const e=arguments[0];return e("div",{class:"company-modify-wrapper"},[e("tg-breadcrumbs",{attrs:{routes:[{title:"公司管理",name:n.Ou.company},{title:this.hasEdit?"修改公司":"新增公司"}]}}),e("div",{class:"page-content-container"},[e("el-form",i()([{ref:"formRef",attrs:{size:"small",labelPosition:"top"}},{attrs:{model:this.formData}}]),[e("div",{class:"form-container"},[e("div",{class:"block-title star",style:"margin-top: 0"},["公司名称"]),e("div",{class:"flex-line-box"},[e("div",{class:"double"},[e("el-form-item",{attrs:{prop:"company_name",rules:[{required:!0,message:"请输入公司名称",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入公司名称",maxlength:30,"show-word-limit":!0},model:{value:this.formData.company_name,callback:e=>{this.$set(this.formData,"company_name",e)}}})]),e("el-form-item",{style:"position: relative",attrs:{label:"结算方式",prop:"settlement_type",rules:[{required:!0,trigger:"blur"}]}},[e("el-radio-group",{model:{value:this.formData.settlement_type,callback:e=>{this.$set(this.formData,"settlement_type",e)}}},[e("el-radio",{attrs:{label:1}},["线上结算"]),e("el-radio",{attrs:{label:2}},["线下结算"])]),e("span",{style:"position:absolute;top:-9px;left:175px;color: #a4b2c2;font-size: 12px"},["(适用于S2B2C部分无需开票客户)"])])])]),e("div",{class:this.isRequired?"block-title star":"block-title"},["财务信息"]),e("div",{class:"flex-line-box"},[e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"一般纳税人",prop:"is_taxpayer",rules:[{required:this.isRequired,message:"请选择",trigger:["blur","change"]}]}},[e("el-select",{attrs:{placeholder:"请选择"},style:{width:"100%"},model:{value:this.formData.is_taxpayer,callback:e=>{this.$set(this.formData,"is_taxpayer",e)}}},[e("el-option",{attrs:{label:"是",value:1}}),e("el-option",{attrs:{label:"否",value:0}})])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"银行账号",prop:"bank_account",rules:[{required:this.isRequired,message:"请输入银行账号",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入银行账号",maxlength:30},model:{value:this.formData.bank_account,callback:e=>{this.$set(this.formData,"bank_account",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"开户地区",prop:"bank_region",rules:[{required:this.isRequired,message:"请选择",trigger:["blur","change"]}]}},[e("el-cascader",{attrs:{clearable:"","popper-class":"company-cascader",placeholder:"请选择",options:this.bankRegionList},style:"width: 100%",on:{change:this.onAreaChanged},model:{value:this.formData.bank_region,callback:e=>{this.$set(this.formData,"bank_region",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"开户支行",prop:"bank_sub_name",rules:[{required:this.isRequired,message:"请输入开户支行",trigger:["blur","change"]}]}},[e("el-select",{attrs:{placeholder:"请选择",filterable:!0},style:"width: 100%",on:{change:this.getBankName},model:{value:this.formData.bank_sub_name,callback:e=>{this.$set(this.formData,"bank_sub_name",e)}}},[this.bankList.map(((a,t)=>e("el-option",{key:t,attrs:{label:a.bank_sub_name,value:a.bank_sub_name}})))])])])]),e("div",{class:"flex-line-box"},[e("div",{class:"single"},[e("el-form-item",{attrs:{label:"开户银行",prop:"bank_name",rules:[{required:this.isRequired,message:"请输入开户银行",trigger:["blur","change"]}]}},[e("el-input",{attrs:{placeholder:"请输入开户银行",maxlength:30,"show-word-limit":!0},model:{value:this.formData.bank_name,callback:e=>{this.$set(this.formData,"bank_name",e)}}})])]),e("div",{class:"single"},[e("el-form-item",{attrs:{label:"联行号",prop:"bank_code"}},[e("el-input",{attrs:{disabled:!0,placeholder:"请输入联行号"},model:{value:this.formData.bank_code,callback:e=>{this.$set(this.formData,"bank_code",e)}}})])]),e("div",{class:"single"},[e("el-form-item",{attrs:{label:"纳税人识别号",prop:"tax_id",rules:[{required:this.isRequired,message:"请输入纳税人识别号",trigger:"blur"}]}},[e("el-input",{attrs:{maxlength:20,placeholder:"请输入纳税人识别号"},model:{value:this.formData.tax_id,callback:e=>{this.$set(this.formData,"tax_id",e)}}})])]),e("div",{class:"single"},[e("el-form-item",{attrs:{label:"公司电话",prop:"cw_info_contact_phone",rules:[{required:this.isRequired,message:"请输入公司电话",trigger:"blur"}]}},[e("el-input",{attrs:{maxlength:15,placeholder:"请输入公司电话"},model:{value:this.formData.cw_info_contact_phone,callback:e=>{this.$set(this.formData,"cw_info_contact_phone",e)}}})])])]),e("div",{class:"flex-line-box"},[e("div",{class:"double"},[e("el-form-item",{attrs:{label:"公司地址",prop:"address",rules:[{required:this.isRequired,message:"请输入地址",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请保持与营业执照上地址一致"},model:{value:this.formData.address,callback:e=>{this.$set(this.formData,"address",e)}}})])])]),e("div",{class:this.isRequired?"block-title star":"block-title"},["联系人",e("span",{class:"tips"},["（填写说明：微信号、邮箱2选1必填；邮箱用于接收电子发票）"])]),e("div",{class:"flex-line-box"},[e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"联系人",prop:"contact",rules:[{required:this.isRequired,message:"请输入联系人",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入联系人"},model:{value:this.formData.contact,callback:e=>{this.$set(this.formData,"contact",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"手机号",prop:"contact_phone",rules:[{required:this.isRequired,message:"请输入手机号",trigger:"blur"},{validator:(e,a,t)=>{const l=/^1\d{10}$/;""!==a&&!l.test(a)&&this.isRequired?t(new Error("手机号码格式不正确")):t()},trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:this.formData.contact_phone,callback:e=>{this.$set(this.formData,"contact_phone",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"微信号",prop:"wechat"}},[e("el-input",{attrs:{maxlength:20,"show-word-limit":!0,placeholder:"请输入微信号"},model:{value:this.formData.wechat,callback:e=>{this.$set(this.formData,"wechat",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[e("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:this.formData.email,callback:e=>{this.$set(this.formData,"email",e)}}})])])]),e("div",{class:"block-title star"},["店铺信息"]),e("div",{class:"flex-line-box"},[e("div",{class:"single"},[e("el-form-item",{attrs:{label:"关联店铺",prop:"store",rules:[{required:0===this.formData.shopList.length,message:"请输入并选择",trigger:["blur","change"]}]}},[e("el-select",{attrs:{disabled:this.formData.shopList.length>=1,clearable:!0,filterable:!0,remote:!0,"remote-method":this.getStoreList,placeholder:"请输入并选择关联店铺"},style:"width: 100%",model:{value:this.formData.store,callback:e=>{this.$set(this.formData,"store",e)}}},[this.storeList.map(((a,t)=>e("el-option",{key:t,attrs:{label:a.shop_name,value:a?.shop_id}})))])])]),this.addStoreList.map(((a,t)=>e("div",{class:"single store-box",key:t},[e("el-form-item",{attrs:{label:" "}},[e("el-select",{class:"store-select",style:"width: 100%",attrs:{clearable:!0,filterable:!0,remote:!0,"remote-method":this.getStoreList,placeholder:"请输入并选择关联店铺"},model:{value:a.store_id,callback:e=>{this.$set(a,"store_id",e)}}},[this.storeList.map(((a,t)=>e("el-option",{key:t,attrs:{label:a.shop_name,value:a.id}})))])]),e("el-button",{class:"delete-store-btn",attrs:{type:"danger",icon:"el-icon-close",circle:!0},on:{click:()=>this.removeStoreItem(t)}})]))),e("div",{class:"double"},[e("el-form-item",{attrs:{label:" "}},[e("p",[e("span",{style:"color: #6a7b92"},["找不到店铺？点击此处 "]),e("a",{on:{click:this.addShop}},["新增"])])])])]),this.formData.shopList.length>0&&e("div",{class:"shop-list-box"},[e("div",{class:"shop-list-item"},[e("div",{class:"single",style:"width: 199px"},[e("el-form-item",{attrs:{label:"店铺名称",prop:"addShopName",rules:[{required:!0,message:"请输入店铺名称",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入店铺名称"},model:{value:this.formData.addShopName,callback:e=>{this.$set(this.formData,"addShopName",e)}}})])]),e("div",{class:"single"},[e("el-form-item",{attrs:{label:"店铺类型",prop:"addShopType",rules:[{required:!0,message:"请选择店铺类型",trigger:["blur","change"]}]}},[e("el-select",{attrs:{placeholder:"请选择店铺类型"},style:"width: 100%",model:{value:this.formData.addShopType,callback:e=>{this.$set(this.formData,"addShopType",e)}}},[e("el-option",{attrs:{label:"淘宝店",value:1}}),e("el-option",{attrs:{label:"天猫店",value:2}}),e("el-option",{attrs:{label:"抖音店",value:3}})])])]),e("div",{class:"single",style:"width: 199px"},[e("el-form-item",{attrs:{label:"店铺ID",prop:"xd_shop_id",rules:[{required:this.shopIdRequired,message:"请输入店铺ID",trigger:["blur","change"]}]}},[e("el-input",{attrs:{placeholder:"请输入店铺ID"},model:{value:this.formData.xd_shop_id,callback:e=>{this.$set(this.formData,"xd_shop_id",e)}}})])]),e("div",{class:"single"},[e("el-form-item",{attrs:{label:"店铺类目",prop:"addShopCategory",rules:[{required:!0,message:"请选择店铺类目",trigger:["blur","change"]}]}},[e("el-select",{attrs:{placeholder:"请选择店铺类目"},style:"width: 100%",model:{value:this.formData.addShopCategory,callback:e=>{this.$set(this.formData,"addShopCategory",e)}}},[this.categoryList.map((a=>e("el-option",{key:a.key,attrs:{label:a.value,value:a.key}})))])])]),e("div",{class:"single"},[e("el-form-item",{attrs:{label:"请输入客户类型",prop:"addCompanyType",rules:[{required:!0,message:"请选择客户类型",trigger:["blur","change"]}]}},[e("el-select",{attrs:{placeholder:"请选择"},style:"width: 100%",model:{value:this.formData.addCompanyType,callback:e=>{this.$set(this.formData,"addCompanyType",e)}}},[e("el-option",{attrs:{label:"同行机构",value:1}}),e("el-option",{attrs:{label:"广告公司",value:2}}),e("el-option",{attrs:{label:"品牌TP",value:3}}),e("el-option",{attrs:{label:"直客",value:4}})])])]),e("div",{class:"single"},[e("el-form-item",{attrs:{label:"店铺品牌",prop:"addBrandId",rules:[{required:!0,message:"请输入并选择",trigger:["blur","change"]}]}},[e("el-select",{attrs:{placeholder:"请输入店铺品牌",filterable:!0},style:"width: 100%",on:{blur:e=>this.brandSelect(0,e)},model:{value:this.formData.addBrandId,callback:e=>{this.$set(this.formData,"addBrandId",e)}}},[this.brandList.map((a=>e("el-option",{key:a.id,attrs:{label:a.brand_name,value:a.id}})))])])]),e("div",{class:"single"},[e("el-form-item",[e("span",{style:"position: relative;top: 24px"},["找不到品牌? 点击此处"]),e("a",{style:"position: relative;top: 24px",attrs:{href:"javascript: void(0)"},on:{click:()=>this.AddBrandVisible=!0}},["新增"])])])]),e("el-button",{class:"delete-shop-btn",attrs:{type:"danger",icon:"el-icon-close",circle:!0},on:{click:()=>this.removeShopItem(0)}})]),e("div",{class:this.isRequired?"block-title star":"block-title"},["公司介绍"]),e("div",{class:"flex-line-box"},[e("div",{class:"double"},[e("el-form-item",{attrs:{prop:"introduce",rules:[{required:this.isRequired,message:"请输入公司介绍",trigger:["blur","change"]},{min:20,message:"公司介绍不少于20字",trigger:"blur"}]}},[e("el-input",{attrs:{type:"textarea",rows:4,maxlength:"500","show-word-limit":!0,placeholder:"请输入公司介绍或公司相关链接（不少于20字）"},model:{value:this.formData.introduce,callback:e=>{this.$set(this.formData,"introduce",e)}}})])])]),e("div",{class:"flex-line-box"},[e("div",{style:"min-width: 450px"},[e("el-form-item",[e("div",{class:"resume"},[this.formData.introduce_files.length<5&&e("tg-upload",{attrs:{action:"/api/medium/upload_file","show-file-list":!1,beforeUpload:r.Z.ValidationFileUpload({fileSize:30,image:!0,file:!0}),success:e=>{this.formData.introduce_files.push(e.data.source)}}},[e("tg-button",{attrs:{icon:"ico-upload-lite"}},["介绍资料"])]),e("div",{class:"tips"},["(支持扩展名：.pdf .ppt .doc .jpg .png .jpeg，限传5份文件，单份不超过30M)"])]),e("upload-file-list",{model:{value:this.formData.introduce_files,callback:e=>{this.$set(this.formData,"introduce_files",e)}}})])])])])])]),e("div",{class:"options"},[1!==this.verify_status&&e("tg-button",{style:"margin-right: 18px",attrs:{size:"small"},on:{click:this.onSaveInfo}},["保存信息"]),e("tg-button",{attrs:{type:"primary"},on:{click:this.onSubmit}},["提交审核"])]),e("tg-mask-loading",{attrs:{visible:this.loading,content:"正在保存数据，请稍候..."}}),e("add-brand",i()([{attrs:{visible:this.AddBrandVisible}},{on:{"dialog:close":e=>{this.AddBrandVisible=!1,e&&this.getBrandList()}}}]))])}}),g=k,x=t(1001),w=(0,x.Z)(g,h,f,!1,null,"15c90507",null),D=w.exports},54433:function(e,a,t){t.r(a),t.d(a,{KolTagEnum:function(){return o},KolVerifyStatusEnum:function(){return b},areaType:function(){return p},businessType:function(){return d},directOriginalList:function(){return i},kolTag:function(){return m},kolTagFormat:function(){return _},kolTagList:function(){return n},kolVerifyStatus:function(){return v},kolVerifyStatusFilter:function(){return y},mediaType:function(){return c},newKolTagList:function(){return s},newPlatformList:function(){return u},platformData:function(){return l},platformList:function(){return r},specialList:function(){return h}});const l=[{platformKey:"tb",platformName:"淘宝",platSelected:!0,detailKey:"kol_tb_info",key_avatar:"avatar",baseInfo:[{label:"昵称",key:"star_name",name:!0},{label:"淘宝ID",key:"star_id"},{label:"粉丝数(万)",key:"fans_number"},{label:"所属机构",key:"company_id",type:"select"}],mediumTypeInfo:[{mediumName:"直播",info:[{label:"专场成本价",key:"star_special_cost",unit:"(元 / 场)"},{label:"专场刊例价",key:"star_special_price",unit:"(元 / 场)"},{label:"混播成本价",key:"star_mix_cost",unit:"(元 / 链接)"},{label:"混播刊例价",key:"star_mix_price",unit:"(元 / 链接)"}],otherInfo:[{label:"配合度",key:"responsivity",showCondition:"is_cooperation"},{label:"单客价",key:"sales_price_period",showCondition:"is_cooperation"},{label:"淘客ID",key:"wangwang_name",showCondition:"is_cooperation"},{label:"平均观看(PV)",key:"pv_average",showCondition:""}]},{mediumName:"视频",info:[{label:"视频成本价",key:"video_price",unit:"(元 / 条)"},{label:"视频刊例价",key:"video_publish_price",unit:"(元 / 条)"}]},{mediumName:"图文",info:[{label:"图文成本价",key:"photo_price",unit:"(元 / 篇)"},{label:"图文刊例价",key:"photo_publish_price",unit:"(元 / 篇)"}]}]},{platformKey:"douyin",platformName:"抖音",platSelected:!1,detailKey:"kol_douyin_info",key_avatar:"avatar",baseInfo:[{label:"昵称",key:"douyin_name",name:!0},{label:"抖音号",key:"douyin_id",name:!0},{label:"粉丝数(万)",key:"fans_number"},{label:"获赞数(万)",key:"praise_number"},{label:"所属机构",key:"company_id",type:"select"},{label:"商品橱窗上架价格(元)",key:"shopwindow_price"},{label:"纯佣最低佣金比例",key:"pure_commission_min_percent"},{label:"打包最低佣金比例",key:"package_price_min_percent"},{label:"短视频+直播打包坑位费",key:"short_video_liver_price"}],mediumTypeInfo:[{mediumName:"直播",info:[{label:"专场成本价",key:"live_special_price",unit:"(元 / h)"},{label:"专场最低佣金比例",key:"special_commission_min_percent",unit:"%"},{label:"专场是否需要佣金",key:"is_special_commission",unit:""},{label:"混播场是否需要佣金",key:"is_mix_commission",unit:""},{label:"混播单链接成本价",key:"live_mix_price",unit:"(元 / 链接)"},{label:"混播场最低佣金比例",key:"mix_min_commission_percent",unit:"(元 / 链接)"},{label:"专场刊例价",key:"live_special_publish_price",unit:"(元 / h)"},{label:"专场最高链接数",key:"special_max_url",unit:"(条)"},{label:"混播单链接刊例价",key:"live_mix_publish_price",unit:"(元 / 链接)"}]},{mediumName:"视频",info:[{label:"1-20s视频成本价",key:"video_1_20_price",unit:"(元 / 条)"},{label:"1-20s视频刊例价",key:"video_1_20_publish_price",unit:"(元 / 条)"},{label:"1-20s星图后台价",key:"video_1_20_star_map_price",unit:"(元 / 条)"},{label:"星图返点比例",key:"star_map_rebate_percent",unit:"%"},{label:"21-60s视频成本价",key:"video_21_60_price",unit:"(元 / 条)"},{label:"21-60s视频刊例价",key:"video_21_60_publish_price",unit:"(元 / 条)"},{label:"21-60s星图后台价",key:"video_21_60_star_map_price",unit:"(元 / 条)"}]}]},{platformKey:"xhs",platformName:"小红书",platSelected:!1,detailKey:"kol_xhs_info",key_avatar:"avatar",baseInfo:[{label:"昵称",key:"xhs_name",name:!0},{label:"小红书号",key:"xhs_id"},{label:"粉丝数(万)",key:"fans_number"},{label:"所属机构",key:"company_id",type:"select"},{showLabel:"是否品牌合作人",key:"is_partner"}],mediumTypeInfo:[{mediumName:"直播",info:[{label:"直播成本价",key:"live_cost_price"},{label:"直播刊例价",key:"live_publish_price"}]},{mediumName:"视频",info:[{label:"视频成本价",key:"video_price",unit:"(元 / 条)"},{label:"视频刊例价",key:"video_publish_price",unit:"(元 / 条)"},{label:"品牌合作人后台视频报价",key:"brand_partner_video_price",unit:"(元 / 条)"}]},{mediumName:"图文",info:[{label:"图文成本价",key:"photo_price",unit:"(元 / 篇)"},{label:"图文刊例价",key:"photo_publish_price",unit:"(元 / 篇)"},{label:"品牌合作人后台图文报价",key:"brand_partner_image_text_price",unit:"(元 / 篇)"}]}]},{platformKey:"kuaishou",platformName:"快手",platSelected:!1,detailKey:"kol_kuaishou_info",key_avatar:"avatar",baseInfo:[{label:"昵称",key:"kuaishou_name",name:!0},{label:"快手号",key:"kuaishou_id"},{label:"粉丝数(万)",key:"fans_number"},{label:"所属机构",key:"company_id",type:"select"}],mediumTypeInfo:[{mediumName:"直播",info:[{label:"专场成本价",key:"live_special_price",unit:"(元 / 场)"},{label:"专场刊例价",key:"live_special_publish_price",unit:"(元 / 场)"},{label:"混播成本价",key:"live_mix_price",unit:"(元 / 链接)"},{label:"混播刊例价",key:"live_mix_publish_price",unit:"(元 / 链接)"}]},{mediumName:"视频",info:[{label:"视频成本价",key:"video_price",unit:"(元 / 条)"},{label:"视频刊例价",key:"video_publish_price",unit:"(元 / 条)"}]}]},{platformKey:"weibo",platformName:"微博",platSelected:!1,detailKey:"kol_weibo_info",key_avatar:"avatar",baseInfo:[{label:"微博账号",key:"weibo_name",name:!0},{label:"粉丝数(万)",key:"fans_number"},{label:"所属机构",key:"company_id",type:"select"}],mediumTypeInfo:[{mediumName:"图文",info:[{label:"转发成本价",key:"trans_price",unit:"(元 / 篇)"},{label:"转发刊例价",key:"trans_publish_price",unit:"(元 / 篇)"},{label:"直发成本价",key:"direct_price",unit:"(元 / 篇)"},{label:"直发刊例价",key:"direct_publish_price",unit:"(元 / 篇)"}],otherInfo:[{label:"直发是否原创报价",key:"is_direct_original",dictionary:"directOriginalList",showCondition:""}]}]},{platformKey:"yizhibo",platformName:"一直播",platSelected:!1,detailKey:"kol_yizhibo_info",key_avatar:"avatar",baseInfo:[{label:"昵称",key:"yizhibo_name",name:!0},{label:"一直播ID",key:"yizhibo_id"},{label:"粉丝数(万)",key:"fans_number"},{label:"所属机构",key:"company_id",type:"select"}],mediumTypeInfo:[{mediumName:"直播",info:[{label:"直播成本价",key:"price",unit:"(元 / 场)"},{label:"直播刊例价",key:"live_publish_price",unit:"(元 / 场)"}]}]},{platformKey:"bili",platformName:"哔哩哔哩",platSelected:!1,detailKey:"kol_bili_info",key_avatar:"avatar",baseInfo:[{label:"昵称",key:"bili_name",name:!0},{label:"哔哩哔哩号",key:"bili_id"},{label:"粉丝数(万)",key:"fans_number"},{label:"所属机构",key:"company_id",type:"select"}],mediumTypeInfo:[{mediumName:"视频",info:[{label:"视频成本价",key:"video_price",unit:"(元 / 条)"},{label:"视频刊例价",key:"video_publish_price",unit:"(元 / 条)"}]}]},{platformKey:"wechat",platformName:"微信公众号",platSelected:!1,detailKey:"kol_wechat_info",key_avatar:"avatar",baseInfo:[{label:"微信公众号",key:"wechat_id",name:!0},{label:"粉丝数(万)",key:"fans_number"},{label:"所属机构",key:"company_id",type:"select"},{showLabel:"是否原创",key:"is_original"},{showLabel:"是否认证",key:"is_certification"}],mediumTypeInfo:[{mediumName:"图文",info:[{label:"头条成本价",key:"photo_headline_price",unit:"(元 / 篇)"},{label:"头条刊例价",key:"photo_headline_publish_price",unit:"(元 / 篇)"},{label:"次条成本价",key:"photo_second_price",unit:"(元 / 篇)"},{label:"次条刊例价",key:"photo_second_publish_price",unit:"(元 / 篇)"}]}]}],i=[{value:1,text:"是"},{value:0,text:"否"}];var o;(function(e){e[e["GRASS_KOL"]=7]="GRASS_KOL",e[e["LIVE_KOL"]=8]="LIVE_KOL",e[e["TAOBAO_KOL"]=9]="TAOBAO_KOL",e[e["TAOBAO_KOC"]=10]="TAOBAO_KOC",e[e["DOUYIN_KOL"]=11]="DOUYIN_KOL",e[e["DOUYIN_KOC"]=12]="DOUYIN_KOC"})(o||(o={}));const n=[{value:o.GRASS_KOL,label:"种草达人"},{value:o.LIVE_KOL,label:"直播达人"},{value:o.DOUYIN_KOL,label:"抖音KOL"},{value:o.DOUYIN_KOC,label:"抖音KOC"},{value:o.TAOBAO_KOL,label:"淘宝KOL"},{value:o.TAOBAO_KOC,label:"淘宝KOC"}],s=[{label:"全部",value:0},{label:"主播",value:1},{label:"红人",value:2},{label:"明星",value:3},{label:"KOL",value:4},{label:"KOC",value:5},{label:"素人",value:6},{value:7,label:"种草达人"},{value:8,label:"直播达人"},{value:9,label:"KOL"}],r=[{value:"全部",type:0,key:""},{value:"小红书",type:1,key:"xhs",icon:"iconfont icon-xiaohongshuicon"},{value:"微信公众号",type:2,key:"wechat",icon:"iconfont icon-weixin"},{value:"新浪微博",type:3,key:"weibo",icon:"iconfont icon-weibo"},{value:"抖音",type:4,key:"douyin",icon:"iconfont icon-douyin"},{value:"淘宝",type:7,key:"tb",icon:"iconfont icon-taobao"},{value:"快手",type:5,key:"kuaishou",icon:"iconfont icon-kuaishou"},{value:"哔哩哔哩",type:6,key:"bili",icon:"iconfont icon-bilibili"},{value:"一直播",type:8,key:"yizhibo",icon:"iconfont icon-yizhibo"}],u=[{label:"全部",value:""},{label:"抖音",value:"douyin"},{label:"淘宝",value:"tb"},{label:"小红书",value:"xhs"},{label:"快手",value:"kuaishou"}],c=[{value:"全部",type:0,key:""},{value:"直播",type:1,key:"live"},{value:"视频",type:2,key:"video"},{value:"图文",type:3,key:"photo"}],d=[{value:"营销业务",key:1},{value:"淘宝店铺",key:2}],p=[{value:"美妆",key:1},{value:"生活",key:2},{value:"服饰",key:3},{value:"美食",key:4},{value:"母婴",key:5},{value:"数码",key:6},{value:"家装",key:7},{value:"健康",key:8},{value:"宠物",key:9},{value:"时尚",key:10},{value:"配饰",key:11},{value:"家电",key:12},{value:"测评",key:13},{value:"旅行",key:14},{value:"运动",key:15},{value:"摄影",key:16},{value:"情感",key:17},{value:"汽车",key:18},{value:"搞笑",key:19},{value:"教育",key:20},{value:"财经",key:21},{value:"萌娃",key:22},{value:"文化",key:23},{value:"影视",key:24},{value:"娱乐",key:25},{value:"游戏",key:26},{value:"海外",key:27},{value:"才艺",key:28},{value:"三农",key:29},{value:"二次元",key:30},{value:"高颜值",key:31}],m=[{value:"主播",key:1},{value:"红人",key:2},{value:"明星",key:3},{value:"达人",key:4},{value:"koc",key:5},{value:"素人",key:6}],_=e=>m.find((a=>a.key===e))?.value;var b;(function(e){e[e["PENDING"]=0]="PENDING",e[e["APPROVED"]=1]="APPROVED",e[e["NOT_APPROVED"]=-1]="NOT_APPROVED"})(b||(b={}));const v=[{label:"审核中",value:b.PENDING},{label:"已通过",value:b.APPROVED},{label:"未通过",value:b.NOT_APPROVED}],y=[{label:"审核中",value:String(b.PENDING)},{label:"已通过",value:String(b.APPROVED)},{label:"未通过",value:String(b.NOT_APPROVED)}],h=[{label:"是",value:1},{label:"否",value:0}]},11676:function(e,a,t){t.d(a,{K:function(){return d}});t(26699);var l=t(48606);const i=[".pdf",".doc",".docx",".ppt",".pptx"],o=[".mp4"],n=[".png",".jpg",".jpeg"],s=[".xls",".xlsx",".csv"],r=[".doc",".docx"],u=[".pdf"],c=[".csv"],d=e=>a=>{const t=/(\.[^.]+)$/.exec(a.name);let d="";t&&(d=t[1]);const p=[];if(e.image&&p.push(...n),e.file&&p.push(...i),e.video&&p.push(...o),e.excel&&p.push(...s),e.pdf&&p.push(...u),e.doc&&p.push(...r),e.csv&&p.push(...c),e.extensions&&p.push(...e.extensions),p.length>0&&!p.includes(d))return l.Message.warning(`文件格式不正确，请使用 ${p.join(";")}`),!1;if(void 0!==e.fileSize){const t=a.size/1024/1024<e.fileSize;if(!t)return l.Message.warning(`文件不能超过${e.fileSize}MB!`),!1}return!0};a["Z"]={ValidationFileUpload:d}},40629:function(e,a,t){t.d(a,{$W:function(){return c},wh:function(){return r},cE:function(){return u}});var l=t(76012),i=t(64236);const o="/api/brand/query_brand",n="/api/brand/save_brand",s="/api/brand/del_brand/:id/",r=async e=>(0,l.dX)(o,{params:{...(0,i.jG)(e)}}),u=async e=>(0,l.SO)(n,{...(0,i.jG)(e)}),c=async e=>(0,l.SO)(s.replace(":id",`${e}`))},3346:function(e,a,t){t.d(a,{Ln:function(){return u},Me:function(){return m},OV:function(){return s},Ou:function(){return c},Pp:function(){return v},Tf:function(){return b},_F:function(){return y},eA:function(){return h},fO:function(){return f},hk:function(){return p},kg:function(){return r},mb:function(){return d},qC:function(){return _},vt:function(){return n}});var l=t(76012),i=t(10762),o=t(64236);const n=async(e,a)=>(0,l.dX)(i.y9,{params:{...(0,o.jG)({company_name:e,company_id:a})}}),s=async e=>(0,l.dX)(i.CH,{params:{...(0,o.jG)({project_uid:e})}}),r=async e=>(0,l.dX)(i.hV,{params:{...(0,o.jG)(e)}}),u=async e=>(0,l.dX)(i.yp,{params:{...(0,o.jG)(e)}}),c=async e=>(0,l.SO)(i.IY,{...(0,o.jG)(e)}),d=async e=>(0,l.SO)(i.Gs,{...(0,o.jG)(e)}),p=async e=>(0,l.SO)(i.Gs,{...e}),m=async e=>(0,l.dX)(i.S$.replace(":id",e)),_=async e=>(0,l.dX)(i.ii,{params:{...(0,o.jG)(e)}}),b=async e=>(0,l.dX)(i.AP,{params:{...(0,o.jG)(e)}}),v=async e=>(0,l.dX)(i.L6,{params:{...(0,o.jG)(e)}}),y=async e=>(0,l.SO)("/api/shop_live/save_withdraw",{...e}),h=async e=>(0,l.dX)("/api/settlement/get_settlement_by_shop_id",{params:{...(0,o.jG)(e)}}),f=async e=>(0,l.dX)("/api/settlement/query_settlements_last_achievement",{params:{...(0,o.jG)(e)}})},23857:function(e,a,t){var l;t.d(a,{CJ:function(){return l},Zu:function(){return i}}),function(e){e[e["Taobao"]=1]="Taobao",e[e["Tmall"]=2]="Tmall",e[e["Douyin"]=3]="Douyin"}(l||(l={}));const i=new Map([[0,"--"],[l.Taobao,"淘宝店"],[l.Tmall,"天猫店"],[l.Douyin,"抖音店"]]);l.Taobao,l.Tmall,l.Douyin},82741:function(e,a,t){t.d(a,{I:function(){return i},u:function(){return o}});var l=t(71340);const i=(e,a)=>{const t="string"===typeof a?{title:a}:a;return new Promise((a=>{e.root.$TDialog({...t,onConfirm:()=>a(!0),onCancel:()=>a(!1)})}))},o=e=>{const a="string"===typeof e?{title:e}:e;return new Promise(((e,t)=>{(0,l.t)({...a,onConfirm:()=>e(!0),onCancel:()=>t()})}))}},44928:function(e,a,t){t.d(a,{t:function(){return i}});var l=t(86834);const i=()=>{const e=new Proxy({},{get(e,a){return Reflect.get(l.Z,a)}});return e}},57046:function(e,a,t){t.d(a,{I8:function(){return i},X1:function(){return o},mr:function(){return l}});t(26699);function l(e,a="yyyy-MM-dd"){var t=new Date(e),l={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),l)new RegExp("("+i+")").test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?l[i]:("00"+l[i]).substr((""+l[i]).length)));return a}function i(e){const a=e.constructor===Array?[]:{};for(let t in e)e.hasOwnProperty(t)&&(e[t]&&"object"===typeof e[t]?(a[t]=e[t].constructor===Array?[]:{},a[t]=i(e[t])):a[t]=e[t]);return a}function o(e,a,t){const l=e.target.value,i=/^[1-9]\d*$/;e.target.value=i.test(l)?l:"",a[t]=i.test(l)?l:""}}}]);
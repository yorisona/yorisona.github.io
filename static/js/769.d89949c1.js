(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[769],{32200:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chart",staticClass:"chart"})},r=[],i=a(4096),o={props:{options:{type:Object,default:()=>({})},currentIndex:{type:Number,default:-1}},watch:{options:{handler(e){this.updateOptions(e)},deep:!0},currentIndex:{handler:function(e){-1!==e&&this.upAxisPointer()},deep:!0}},mounted(){const{resize:e,...t}=this.$listeners,a=this.$refs.chart;this.chart=i.init(a),Object.keys(t).forEach((e=>{this.chart.on(e,((...t)=>this.$emit(e,this.chart,...t)))})),this.updateOptions(this.options),window.addEventListener("resize",this.resize),this.chart.on("click",this.clickFunc)},destroyed(){window.removeEventListener("resize",this.resize),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{resize(...e){this.chart.resize(),this.$emit("resize",[this.chart,...e])},updateOptions(e){null!==e&&void 0!==e&&this.chart.setOption(e,!0)},clickFunc(e){this.$emit("selectClick",e)},upAxisPointer(){let e={currentIndex:this.currentIndex},t=this.options.series[3].data.length;e.currentIndex>0&&this.chart.dispatchAction({type:"downplay",seriesIndex:3,dataIndex:e.currentIndex-1}),e.currentIndex=e.currentIndex%t,this.chart.dispatchAction({type:"highlight",seriesIndex:3,dataIndex:e.currentIndex}),this.chart.dispatchAction({type:"showTip",seriesIndex:3,dataIndex:e.currentIndex})}}},s=o,l=a(1001),d=(0,l.Z)(s,n,r,!1,null,"67d5f011",null),c=d.exports},99197:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"empty-chart",staticStyle:{"margin-top":"20px"}},[a("empty-common",{attrs:{"detial-text":"暂无数据","img-height":100,"img-width":150}})],1)},r=[],i=a(1001),o={},s=(0,i.Z)(o,n,r,!1,null,"1c4271b8",null),l=s.exports},40769:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return lt}});var n,r,i,o,s,l,d,c,u,p,m,h,f=a(23812),v=a(97434),g=a(32200),y=a(99197),b=a(61282),x=a(85937),A=a.n(x),w=(0,v.defineComponent)({props:{loading:{type:Boolean,default:!1},series:{type:Object,default:()=>{}},itemName:{type:String}},components:{BaseEcharts:g.Z,Empty:y.Z},setup(e,t){const a=(0,v.computed)((()=>e.itemName)),n=(0,v.ref)({tooltip:{trigger:"item",formatter(e){const t=e.data,n=t.name,r=e.treePathInfo?.[0]?.value;if(!n||!r)return;const i=new(A())(t.value??0).mul(new(A())(100)).div(new(A())(r)).toFixed(2),o=`\n            <div style="font-size: 12px; line-height: 16px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">${a.value}：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,b.dN)(t.value,"None")}</span>\n            </div>\n            <div style="font-size: 12px; line-height: 16px; margin-top: 12px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">占比：</span><span style="font-weight: 400; color: #19232D;">${i}%</span>\n            </div>\n            `;return`\n            <div style="margin: 8px; text-align: left;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${n||"--"}</div>\n              <div style="margin-top: 18px;">\n                ${o}\n              </div>\n            </div>\n          `}},label:{fontSize:10},series:{type:"sunburst",radius:[0,"95%"],sort:void 0,label:{minAngle:8,width:50,overflow:"truncate"},emphasis:{focus:"ancestor"},levels:[{},{r0:"21.27%",r:"46.80%",itemStyle:{borderWidth:2},label:{rotate:"tangential"}},{r0:"46.80%",r:"100%",label:{align:"right"}}],data:[]}}),r={reloadData(){const t=n.value;n.value.series={...t.series,...e.series}}};return(0,v.onBeforeMount)((()=>{r.reloadData()})),(0,v.watch)((()=>e.series),(()=>{r.reloadData()})),{baseOptions:n,...r}},render(){const e=arguments[0];return e("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.series.data?.length??0)>0?e("base-echarts",{attrs:{options:this.baseOptions}}):e("empty")])}}),F=w,_=a(1001),C=(0,_.Z)(F,n,r,!1,null,"6e9cf1be",null),D=C.exports,S=a(60492),R=(0,v.defineComponent)({props:{loading:{type:Boolean,default:!1},xData:{type:Array,default:()=>[]},series:{type:Array,default:()=>[{data:[]}]},yUnit:{type:String,default:()=>S.r.yuan}},components:{BaseEcharts:g.Z,Empty:y.Z},setup(e,t){const a=(0,v.computed)((()=>e.yUnit)),n=(0,v.ref)({tooltip:{trigger:"axis",formatter(e){const t=e[0].axisValue;let a="";for(let n=0;n<e.length;n++){const t=e[n],r=`\n            <div style="font-size: 12px; line-height: 16px; margin-top: ${0!==n?"12px":0};">\n              <span style="background: ${t.color}; display: inline-block; width: 8px; height: 8px; border-radius: 4px;"></span><span style="display: inline-block; margin-left: 6px; font-weight: 400; color: #606974;">${t.seriesName}：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,b.dN)(t.data,"None")}</span>\n            </div>\n            `;a+=r}return`\n            <div style="margin: 8px;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${t}</div>\n              <div style="margin-top: 18px;">\n                ${a}\n              </div>\n            </div>\n          `}},legend:{show:!0,right:"0",top:"0",type:"scroll",width:"500px",itemGap:20,itemWidth:20},grid:{top:40,right:14,bottom:45,left:81,containLabel:!1},xAxis:{type:"category",boundaryGap:!1,data:e.xData??[],axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:{type:"value",name:`单位：${a.value}`,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisLabel:{formatter(e){return a.value===S.r.wan&&e?parseInt(e,10)/1e4:e}},nameTextStyle:{padding:[0,28,8,0]}},series:e.series??[]}),r={reloadData(){n.value.yAxis.name=`单位：${a.value}`,n.value.xAxis.data=e.xData??[],n.value.series=e.series??[]}};return(0,v.onBeforeMount)((()=>{r.reloadData()})),(0,v.watch)([()=>e.series,()=>e.xData],(()=>{r.reloadData()})),{baseOptions:n,...r}},render(){const e=arguments[0];return e("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.xData?.length??0)>0?e("base-echarts",{attrs:{options:this.baseOptions}}):e("empty")])}}),T=R,k=(0,_.Z)(T,i,o,!1,null,"b1faaab8",null),B=k.exports,E=(0,v.defineComponent)({props:{loading:{type:Boolean,default:!1},xData:{type:Array,default:()=>[]},series:{type:Array,default:()=>[{data:[]}]},yUnit:{type:String,default:()=>S.r.yuan}},components:{BaseEcharts:g.Z,Empty:y.Z},setup(e,t){const a=(0,v.computed)((()=>e.yUnit)),n=(0,v.ref)({tooltip:{trigger:"axis",formatter(e){const t=e[0].axisValue;let a="";for(let n=0;n<e.length;n++){const t=e[n];a+=`\n            <div style="font-size: 12px; line-height: 16px; margin-top: ${n>0?"12px":0};">\n              <span style="background: ${t.color}; display: inline-block; width: 8px; height: 8px; border-radius: 4px;"></span><span style="display: inline-block; margin-left: 6px; font-weight: 400; color: #606974;">${t.seriesName}：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,b.dN)(t.data,"None")}</span>\n            </div>\n            `}return`\n            <div style="margin: 8px;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${t}</div>\n              <div style="margin-top: 18px;">\n                ${a}\n              </div>\n            </div>\n          `}},legend:{show:!0,right:27,top:26,type:"scroll",width:"500px",itemGap:20,itemWidth:20},grid:{top:71,right:27,bottom:101,left:60,containLabel:!1},xAxis:{type:"category",boundaryGap:!1,data:e.xData??[],axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:{type:"value",name:`单位：${a.value}`,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisLabel:{formatter(e){return a.value===S.r.wan&&e?parseInt(e,10)/1e4:e}},nameTextStyle:{padding:[0,28,13,0]}},series:e.series??[]}),r={reloadData(){n.value.yAxis.name=`单位：${a.value}`,n.value.xAxis.data=e.xData??[],n.value.series=e.series??[]}};return(0,v.onBeforeMount)((()=>{r.reloadData()})),(0,v.watch)([()=>e.series,()=>e.xData],(()=>{r.reloadData()})),{baseOptions:n,...r}},render(){const e=arguments[0];return e("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.xData?.length??0)>0?e("base-echarts",{attrs:{options:this.baseOptions}}):e("empty")])}}),V=E,M=(0,_.Z)(V,s,l,!1,null,"c5713cb0",null),N=M.exports,O=(0,v.defineComponent)({props:{loading:{type:Boolean,default:!1},xData:{type:Array,default:()=>[]},series:{type:Array,default:()=>[{data:[]}]},yUnit:{type:String,default:()=>S.r.yuan}},components:{BaseEcharts:g.Z,Empty:y.Z},setup(e,t){const a=(0,v.computed)((()=>e.yUnit)),n=(0,v.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){const t=e[0].axisValue;let a="";for(let n=0;n<e.length;n++){const t=e[n],r=n===e.length-1?`<span style="font-weight: 400; color: #19232D;">${t.data??0}%</span>`:`<span style="font-weight: 400; color: #19232D;">¥ ${(0,b.dN)(t.data,"None")}</span>`;a+=`\n            <div style="font-size: 12px; line-height: 16px; margin-top: ${n>0?"12px":0};">\n              <span style="background: ${t.color}; display: inline-block; width: 8px; height: 8px; border-radius: 4px;"></span><span style="display: inline-block; margin-left: 6px; font-weight: 400; color: #606974;">${t.seriesName}：</span>${r}\n            </div>\n            `}return`\n            <div style="margin: 8px;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${t}</div>\n              <div style="margin-top: 18px;">\n                ${a}\n              </div>\n            </div>\n          `}},legend:{show:!0,right:21,top:20,itemGap:20,itemWidth:20},grid:{left:69,right:68,bottom:58,top:62,containLabel:!1},xAxis:{type:"category",data:e.xData??[],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:`单位：${a.value}`,position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,28,10,0]},axisLabel:{formatter(e){return a.value===S.r.wan&&e?parseInt(e,10)/1e4:e}}},{type:"value",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisLine:{show:!1},axisLabel:{formatter:"{value}%"}}],series:e.series??[]}),r={reloadData(){n.value.yAxis[0].name="单位："+a.value,n.value.series=e.series??[],n.value.xAxis.data=e.xData??[]}};return(0,v.onBeforeMount)((()=>{r.reloadData()})),(0,v.watch)([()=>e.series,()=>e.xData,()=>e.yUnit],(()=>{r.reloadData()}),{deep:!0}),{baseOptions:n,...r}},render(){const e=arguments[0];return e("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.xData?.length??0)>0?e("base-echarts",{attrs:{options:this.baseOptions}}):e("empty")])}}),L=O,j=(0,_.Z)(L,d,c,!1,null,"3b175eea",null),I=j.exports,G=(0,v.defineComponent)({props:{loading:{type:Boolean,default:!1},series:{type:Array,default:()=>[{data:[]}]},yUnit:{type:String,default:()=>S.r.yuan},xUnit:{type:String,default:()=>S.r.yuan}},components:{BaseEcharts:g.Z,Empty:y.Z},setup(e,t){const a=(0,v.computed)((()=>e.xUnit)),n=(0,v.computed)((()=>e.yUnit)),r=(0,v.ref)({tooltip:{trigger:"item",formatter:e=>{const{data:t}=e,[a,n,r,i]=t;return`\n          <div style="margin: 8px;">\n            <div style="color: #19232D; font-weight: 400; line-height: 18px;">${i||"--"}</div>\n            <div style="margin-top: 18px;">\n              <div style="font-size: 12px; line-height: 16px;">\n                <span style="display: inline-block; font-weight: 400; color: #606974;">GMV：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,b.dN)(r,"None")}</span>\n              </div>\n              <div style="font-size: 12px; line-height: 16px; margin-top: 12px;">\n                <span style="display: inline-block; font-weight: 400; color: #606974;">成本：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,b.dN)(a,"None")}</span>\n              </div>\n              <div style="font-size: 12px; line-height: 16px; margin-top: 12px;">\n                <span style="display: inline-block; font-weight: 400; color: #606974;">利润：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,b.dN)(n,"None")}</span>\n              </div>\n            </div>\n          </div>`}},legend:{show:!1,left:"center",bottom:10},grid:{left:72,right:73,bottom:69,top:72,containLabel:!1},xAxis:{name:`成本 (${a.value})\n`,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},nameTextStyle:{color:"#6A7B92"},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92",formatter(e){return a.value===S.r.wan&&e?parseInt(e,10)/1e4:e}}},yAxis:{name:`利润 (${n.value})`,axisTick:{show:!1},axisLine:{show:!1},splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},nameTextStyle:{padding:[0,0,16,2]},scale:!0,axisLabel:{formatter(e){return n.value===S.r.wan&&e?parseInt(e,10)/1e4:e}}},series:e.series??[]}),i={reloadData(){r.value.yAxis.name=`利润 (${n.value})`,r.value.xAxis.name=`成本 (${a.value})\n`,r.value.series=e.series??[]}};return(0,v.onBeforeMount)((()=>{i.reloadData()})),(0,v.watch)([()=>e.series],(()=>{i.reloadData()})),{baseOptions:r,...i}},render(){const e=arguments[0];return e("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.series?.length??0)>0?e("base-echarts",{attrs:{options:this.baseOptions}}):e("empty")])}}),Y=G,X=(0,_.Z)(Y,u,p,!1,null,"459712ce",null),q=X.exports,Q=a(42386),U=a(6933),W=a.n(U),P=a(64236);(function(e){e[e["year"]=0]="year",e[e["quarter"]=1]="quarter",e[e["month"]=2]="month"})(m||(m={})),function(e){e[e["gmv"]=0]="gmv",e[e["income"]=1]="income",e[e["cost"]=2]="cost",e[e["profit"]=3]="profit"}(h||(h={}));const Z=e=>{const t=(0,v.ref)(m.year),a=(0,v.ref)(W()()),n=(0,v.computed)((()=>{switch(t.value){case m.year:return a.value.format("yyyy年");case m.quarter:return a.value.format("yyyy年Q季度");case m.month:return a.value.format("yyyy年MM月");default:return""}})),r=(0,v.computed)((()=>t.value===m.month&&a.value.isSame(W()(),"month"))),i=(0,v.computed)((()=>r.value||t.value===m.quarter)),o=(0,v.ref)(h.gmv),s=(0,v.computed)((()=>{switch(o.value){case h.gmv:return"GMV";case h.income:return r.value?"预估收入":"收入";case h.cost:return r.value?"预估成本":"成本";case h.profit:return r.value?"预估利润":"利润";default:return""}})),l=(0,v.ref)((()=>{const e=W()().month(),t=[];for(let a=0;a<=e;a++)t.push(a);return t})()),d=(0,v.ref)(-1),c=(0,v.ref)(!1),u=(0,v.ref)(!1),p=(0,v.ref)(!1),f=(0,v.ref)(!1),g=(0,v.ref)(!1),y=(0,v.ref)(!1),x=(0,v.ref)(void 0),w=(0,v.ref)(void 0),F=(0,v.ref)(void 0),_=(0,v.ref)(void 0),C=(0,v.ref)(void 0),D=(0,v.ref)(void 0),S={async queryOperationOverview(){const[e,t]=S.displayDatsStr(),[a]=await(0,P.Dc)(500,(0,Q.BT)({start_date:e,end_date:t}));if(a.data.success){const e=a.data.data;if(e)for(const t in e)if("gmv"===t||"income"===t||"cost"===t||"profit"===t||"per_capita_gmv"===t||"per_capita_income"===t||"per_capita_cost"===t||"per_capita_profit"===t){const a=e[t];a&&(e[t]=S.transformFenToYuan(a))}x.value=e}},async querySunbrust(){o.value===h.gmv?await S.queryGMVSunburst():await S.queryProjectPercentSunburst()},async queryTrend(){o.value===h.gmv?await S.queryGMVTrend():await S.queryProjectTeamTrendTrend()},async queryGMVSunburst(){const[e,t]=S.displayDatsStr();u.value=!0;const[a]=await(0,P.Dc)(500,(0,Q.R5)({start_date:e,end_date:t}));u.value=!1,a.data.success&&S.resetSuntrustData(a.data.data)},async queryGMVTrend(){const[e,t,a]=S.displayDatsStr();p.value=!0;const[n]=await(0,P.Dc)(500,(0,Q.JQ)({start_date:e,end_date:t,group_by:a}));p.value=!1,n.data.success&&S.resetTrendData(n.data.data)},async queryProjectPercentSunburst(){const[e,t,a,n]=S.displayDatsStr();u.value=!0;const[r]=await(0,P.Dc)(500,(0,Q.Bu)({start_date:e,end_date:t},parseInt(n,10)));u.value=!1,r.data.success&&S.resetSuntrustData(r.data.data)},async queryProjectTeamTrendTrend(){const[e,t,a,n]=S.displayDatsStr();p.value=!0;const[r]=await(0,P.Dc)(500,(0,Q.oY)({start_date:e,end_date:t,group_by:a},parseInt(n,10)));p.value=!1,r.data.success&&S.resetTrendData(r.data.data)},async queryProfitMarginStatistics(){const[e,t]=S.currentDatsStr();f.value=!0;const[a]=await(0,P.Dc)(500,(0,Q.BN)({start_date:e,end_date:t}));if(f.value=!1,a.data.success){const e=a.data.data;a.data.data&&(e.datas=e.datas?.map((e=>("income"!==e.key&&"cost"!==e.key&&"profit"!==e.key||(e.value=e.value.map((e=>S.transformFenToYuan(e)))),e)))),_.value=e}},async queryLaborEfficiencyTrend(){const[e,t]=S.currentDatsStr();g.value=!0;const[a]=await(0,P.Dc)(500,(0,Q.NW)({start_date:e,end_date:t}));if(g.value=!1,a.data.success){const e=a.data.data;e&&(e.datas?.per_capita_income&&(e.datas.per_capita_income=e.datas?.per_capita_income?.map((e=>S.transformFenToYuan(e)))),e.datas?.per_capita_cost&&(e.datas.per_capita_cost=e.datas?.per_capita_cost?.map((e=>S.transformFenToYuan(e)))),e.datas?.per_capita_profit&&(e.datas.per_capita_profit=e.datas?.per_capita_profit?.map((e=>S.transformFenToYuan(e))))),C.value=e}},async queryProjectDistributionBubble(e){const[t,a]=S.currentDatsStr(e);y.value=!0;const[n]=await(0,P.Dc)(500,(0,Q.f2)({start_date:t,end_date:a}));if(y.value=!1,n.data.success){let e=n.data.data;e&&(e=e.map((e=>e.map((e=>e.map(((e,t)=>t<=2?S.transformFenToYuan(e):e))))))),D.value=e}},reloadAllData(){S.queryOperationOverview(),S.queryGMVSunburst(),S.queryGMVTrend(),S.queryProfitMarginStatistics(),S.queryLaborEfficiencyTrend(),S.queryProjectDistributionBubble()},onDateRangeChange(e){t.value=e},onDateChange(e){if(1===e){if(T.value)return}else if(R.value)return;switch(t.value){case m.year:a.value=a.value.clone().add(e,"year");break;case m.quarter:a.value=a.value.clone().add(e,"quarter");break;case m.month:a.value=a.value.clone().add(e,"month");break;default:break}},onDisplayDataType(e){o.value=e},animateNumberFormater(e){return(0,b.dN)(e,"None")},onBubbleMonth(e){d.value=e,c.value=!1,S.queryProjectDistributionBubble(e>=0?e:void 0)},displayDatsStr(){let e=[],n=null,r="month";const i="yyyy-MM-DD";switch(t.value){case m.year:n="year";break;case m.quarter:n="quarter";break;case m.month:n="month",r="day";break}let s=0;switch(o.value){case h.income:s=1;break;case h.cost:s=2;break;case h.profit:s=3;break;default:break}const l=a.value.clone().startOf(n),d=a.value.clone().endOf(n);return e=[l.format(i),d.format(i),r,s.toString()],e},currentDatsStr(e){let t=[];const a="yyyy-MM-DD",n=void 0===e?W()():W()().month(e),r=n.clone().startOf(void 0===e?"year":"month"),i=n.clone().endOf("month");return t=[r.format(a),i.format(a)],t},transformFenToYuan(e){return e?+new(A())(e).div(new(A())(100)).toNumber().toFixed(2):e},resetSuntrustData(e){let t=e;t&&(t=t.map((e=>(e.children&&(e.children=e.children.map((e=>(e.value&&(e.value=S.transformFenToYuan(e.value)),e)))),e)))),w.value=t},resetTrendData(e){const t=e;t.datas&&(t.datas=t.datas.map((e=>(e.value=e.value.map((e=>S.transformFenToYuan(e))),e)))),F.value=t},formatAmount:b.dN},R=(0,v.computed)((()=>{const e="2022-01-01";switch(t.value){case m.year:{const t=W()(e).startOf("year");return a.value.isSameOrBefore(t,"year")}case m.quarter:{const t=W()(e).startOf("quarter");return a.value.isSameOrBefore(t,"quarter")}case m.month:{const t=W()(e).startOf("year");return a.value.isSameOrBefore(t,"month")}}return!1})),T=(0,v.computed)((()=>{switch(t.value){case m.year:{const e=W()().endOf("year");return a.value.isSameOrAfter(e,"year")}case m.quarter:{const e=W()().endOf("quarter");return a.value.isSameOrAfter(e,"quarter")}case m.month:{const e=W()().endOf("month");return a.value.isSameOrAfter(e,"month")}}return!1}));return{isCurrentMonth:r,monthOptions:l,dateRangeType:t,displayDate:n,displayDataType:o,displayDataTypeStr:s,sunBurstLoading:u,trendLoading:p,profitRatioLoading:f,laborEffectLoading:g,projectBubbleLoading:y,overviewData:x,sunBurstData:w,gmvTrendData:F,profitRatioData:_,laborEffectData:C,projectBubbleData:D,bubbleSelectedMonth:d,bubblePopoverVisible:c,prevDateSwitchDisables:R,nextDateSwitchDisables:T,noPerCapitaData:i,...S}};var z,H,K=a(7427),J="data:image/png;base64,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",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAAEgBckRAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAACsElEQVRoBe1aP2sVQRCfPU/Ff42VAcFKSayt/AhCPoGVIEKwERufKQSL+EytICJ2YmXnx7CykBdIYwoLW6NCSO6tM6dz7u3uvN2FzXs53YOw839ufru3O28JgPEsP9Ca2YoJe/QqyNOrIO+KtGZsDil6sAHYnqKHYhc7j+hRk6VS8PNvzb9jiB5dDs5Fo5lvaxPjGY8YybDpkXWPExgzY70y0rtYwFmyxeRfJ0/VBcGvFVds/Mfo3Cxj0iXX0EOAIuAr7mHWE0SfrOHixw31hWh+nAxsTAZ7U7jBhjw6DqyQxmSH5HlIzpDs0C5XLtBeaCw3x+QMR9DBWUtmgUyb3wPL2rGCO1tj9aons5jkmi3/IDv8BFHfQhAHNJDm6R+ASCqNjhfckc/EwDPLZvgQzaECBVMfhniaND55T6bhe4/3MMG9aHmkH4KGJ7YvOm5PNtUVW27zQYgw0JrtRDz2bJd9clsWTGA7pPIlQRCx4UOU5TzADfMRYvXYwUvB+1wQrTrBSaBhNVcCb3wSlgQiNKzotbMspDGmtTXtJbrMgYRMJy8QdVBIxH8AEXYPP6TyO7kS+iMF34J9URdkBoF3BJ+xUbs0w8RRqQpuT8bqtaNIFOSa4+Q4iHyyj6+2LEF8geclKwXMC2kpT5kBCZl5ybO01TlfdmVdL9VTOBWKeXAMmsmG2jlSBeDviw+6gWv7obcn/UF7N5VnL47Jd1g25SM+LGRj4w5+BuqrI30TG7FbMb0J3m42lYKXn8bqnYkQ+mdpCs2YsXQ91fAm1hhflO4Mr6N9rwAsTJNuEc/gl1ApYBHLxsxZZsBEYxF0mYFFoG7mHPwM1NiPPsPb6rv4F1NMg3bPTQRaWsMaHmb3kG7//cLR2wIN28fPw1tbXFVwHw/WdTzWT9s6h9ewj13Bi1/hQ5xe+1Z4TgAAAABJRU5ErkJggg==",ee="data:image/png;base64,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",te="data:image/png;base64,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",ae=(0,v.defineComponent)({components:{sunburst:D,trendLine:B,laborEffectLine:N,dualAxisPlot:I,bubble:q},setup(e,t){const a=Z(t),n=(0,v.computed)((()=>{const e=a.gmvTrendData.value?.dates?.find(((e,t)=>{const n=a.gmvTrendData.value?.datas?.reduce(((e,a)=>e.add(new(A())(a.value[t]??0))),new(A())(0));return n?.abs()?.greaterThanOrEqualTo(new(A())(1e4))}));return e?S.r.wan:S.r.yuan})),r=(0,v.computed)((()=>{const e=a.profitRatioData.value?.datas?.find((e=>("income"===e.key||"cost"===e.key||"profit"===e.key||"profit_ratio"===e.key)&&!!e.value.find((e=>!!e&&Math.abs(e)>1e4))));return e?S.r.wan:S.r.yuan})),i=(0,v.computed)((()=>{const e=a.laborEffectData.value?.datas?.per_capita_income?.find((e=>!!e&&Math.abs(e)>1e4)),t=a.laborEffectData.value?.datas?.per_capita_cost?.find((e=>!!e&&Math.abs(e)>1e4)),n=a.laborEffectData.value?.datas?.per_capita_profit?.find((e=>!!e&&Math.abs(e)>1e4));return e||t||n?S.r.wan:S.r.yuan})),o=(0,v.computed)((()=>{const e=a.projectBubbleData.value?.find((e=>!!e.find((e=>Math.abs(e[0]??0)>1e4)))),t=a.projectBubbleData.value?.find((e=>!!e.find((e=>Math.abs(e[1]??0)>1e4))));return[e?S.r.wan:S.r.yuan,t?S.r.wan:S.r.yuan]}));return(0,v.watchEffect)((()=>{a.queryOperationOverview(),a.querySunbrust(),a.queryTrend()})),(0,v.onMounted)((()=>{a.queryProfitMarginStatistics(),a.queryLaborEfficiencyTrend(),a.queryProjectDistributionBubble()})),{useSunburstColors:K.YJ,useGmvTrendLineColors:K.zW,useBubbleColors:K.UP,useTrendLineColors:K.gd,trendYUnit:n,profitRadioUnit:r,laborEffectYUnt:i,bubbleUnit:o,...a}},render(){const e=arguments[0],t=(this.sunBurstData??[]).filter((e=>e.children?.find((e=>(e.value??0)>0)))).map(((e,t)=>{const a=this.useSunburstColors[t]?.color,n=a?{color:a}:{};return{name:e.project_name,itemStyle:{...n},value:e.value,children:(e.children??[]).map(((e,a)=>{const n=this.useSunburstColors[t]?.children[a],r=n?{color:n}:{};return{name:e.project_name,itemStyle:{...r},value:e.value}}))}})),a=this.overviewData?.update_time?W()(1e3*this.overviewData.update_time).format("yyyy.MM.DD HH:mm"):"--",n=[...this.gmvTrendData?.datas??[]],r=n.map(((e,t)=>{const a=this.useTrendLineColors[t]?.color,n=a?{color:a}:{},r=a?{shadowColor:`${a}3d`,shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11}:{};return{name:e.key,type:"line",lineStyle:{width:3,...r},itemStyle:{...n},smooth:!0,showSymbol:!1,data:(e.value??[]).map((e=>e||0))}})),i=this.bubbleSelectedMonth,o=(this.projectBubbleData??[]).map(((e,t)=>{const a=e[0]?.[4],n=this.useBubbleColors[t],r=n?{borderColor:n,color:`${n}4c`}:{},o=n?{color:`${n}7f`}:{};return{name:a,data:e.map((e=>{const t=e[3];return t||(e[3]="--"),e})),type:"scatter",symbolSize:function(e){return Math.sqrt(e[2])/(-1===i?150:100)},emphasis:{focus:"series",itemStyle:{...o,borderWidth:2}},itemStyle:{borderWidth:1,...r}}}));return e("div",{class:"tg-management-dashboard-page-container"},[e("div",{style:"min-width: 1264px; overflow: visible;"},[e("section",{class:"dashboard-description"},[e("div",{style:"display: flex; align-items: center;"},[e("el-popover",{attrs:{trigger:"hover",placement:"bottom-start"}},[e("div",{style:"width: 246px; font-size: 12px; color: #19232D; line-height: 20px;"},[e("div",["1. 只统计自营抖音店播项目；"]),e("div",["2. GMV数据统计时效性为T+1；"]),e("div",["3. 人效数据只统计实际已发薪资的月份；"]),e("div",["4. 当月收入、成本、利润为基于当前GMV的预测数据。"])]),e("div",{class:"desction",slot:"reference",style:"cursor: pointer;"},[e("tg-icon",{class:"desction-icon",attrs:{name:"ico-icon_explain"}}),e("span",{class:"desction-text"},["数据统计规则说明"])])]),e("span",{class:"update-time"},["数据更新时间：",a])]),e("div",{class:"operators"},[e("tg-button",{attrs:{disabled:this.prevDateSwitchDisables,type:"link"},class:"time-btn",on:{click:()=>this.onDateChange(-1)}},[e("tg-icon",{attrs:{name:"ico-arrow-left"}})]),e("span",{class:"display-time"},[this.displayDate]),e("tg-button",{attrs:{disabled:this.nextDateSwitchDisables,type:"link"},class:"time-btn",on:{click:()=>this.onDateChange(1)}},[e("tg-icon",{attrs:{name:"ico-arrow-right"}})]),e("div",{class:"date-switch"},[e("tg-button",{class:"date-switch-year",attrs:{selected:this.dateRangeType===m.year,type:"link"},on:{click:()=>this.onDateRangeChange(m.year)}},["全年"]),e("tg-button",{class:"date-switch-quarter",attrs:{selected:this.dateRangeType===m.quarter,type:"link"},on:{click:()=>this.onDateRangeChange(m.quarter)}},["季度"]),e("tg-button",{class:"date-switch-month",attrs:{selected:this.dateRangeType===m.month,type:"link"},on:{click:()=>this.onDateRangeChange(m.month)}},["月度"])])])]),e("section",{class:this.noPerCapitaData?"overview-container no-per-capitaData":"overview-container"},[e("div",{class:"overview-item gmv",attrs:{selected:this.displayDataType===h.gmv},on:{click:()=>this.onDisplayDataType(h.gmv)}},[e("div",{class:"item-header"},[e("div",{class:"item-icon"},[e("img",{attrs:{src:$,alt:""}})]),e("div",{class:"item-title"},["GMV"])]),e("animate-number",{class:"item-amount",attrs:{from:"0",to:`${this.overviewData?.gmv??0}`,easing:"easeInOutQuad",duration:"1000",formatter:this.animateNumberFormater},key:`${this.overviewData?.gmv??"gmv"}`}),e("div",{class:this.noPerCapitaData?"item-average-amount hidden":"item-average-amount"},["人均贡献  ¥ ",this.formatAmount(this.overviewData?.per_capita_gmv??0,"None")])]),e("div",{class:"overview-item income",attrs:{selected:this.displayDataType===h.income},on:{click:()=>this.onDisplayDataType(h.income)}},[e("div",{class:"item-header"},[e("div",{class:"item-icon"},[e("img",{attrs:{src:ee,alt:""}})]),e("div",{class:"item-title"},[this.isCurrentMonth?"预估收入":"收入"])]),e("animate-number",{class:"item-amount",attrs:{from:"0",to:this.overviewData?.income??0,easing:"easeInOutQuad",duration:"1000",formatter:this.animateNumberFormater},key:`${this.overviewData?.income??"income"}`}),e("div",{class:this.noPerCapitaData?"item-average-amount hidden":"item-average-amount"},["人均贡献  ¥ ",this.formatAmount(this.overviewData?.per_capita_income??0,"None")])]),e("div",{class:"overview-item cost",attrs:{selected:this.displayDataType===h.cost},on:{click:()=>this.onDisplayDataType(h.cost)}},[e("div",{class:"item-header"},[e("div",{class:"item-icon"},[e("img",{attrs:{src:J,alt:""}})]),e("div",{class:"item-title"},[this.isCurrentMonth?"预估成本":"成本"])]),e("animate-number",{class:"item-amount",attrs:{from:"0",to:this.overviewData?.cost??0,easing:"easeInOutQuad",duration:"1000",formatter:this.animateNumberFormater},key:this.overviewData?.cost??"cost"}),e("div",{class:this.noPerCapitaData?"item-average-amount hidden":"item-average-amount"},["人均成本  ¥ ",this.formatAmount(this.overviewData?.per_capita_cost??0,"None")])]),e("div",{class:"overview-item profit",attrs:{selected:this.displayDataType===h.profit},on:{click:()=>this.onDisplayDataType(h.profit)}},[e("div",{class:"item-header"},[e("div",{class:"item-icon"},[e("img",{attrs:{src:te,alt:""}})]),e("div",{class:"item-title"},[this.isCurrentMonth?"预估利润":"利润"])]),e("animate-number",{class:"item-amount",attrs:{from:"0",to:this.overviewData?.profit??0,easing:"easeInOutQuad",duration:"1000",formatter:this.animateNumberFormater},key:this.overviewData?.profit??"profit"}),e("div",{class:this.noPerCapitaData?"item-average-amount hidden":"item-average-amount"},["人均贡献  ¥ ",this.formatAmount(this.overviewData?.per_capita_profit??0,"None")])])]),e("section",{class:"ratio-trend-charts-container"},[e("div",{style:"width: 30%; min-width: 330px; max-width: 520px;"},[e("div",{class:"chart-title"},[this.displayDataTypeStr,"占比"]),e(D,{class:"dashboard-chart",attrs:{itemName:this.displayDataTypeStr,loading:this.sunBurstLoading,series:{data:t}},style:"height: 282px; margin-top: 24px;"})]),e("div",{style:"flex: 1;"},[e("div",{class:"chart-title",style:"margin-left: 34px;"},[this.displayDataTypeStr,"趋势"]),e(B,{class:"dashboard-chart",attrs:{yUnit:this.trendYUnit,loading:this.trendLoading,xData:this.gmvTrendData?.dates??[],series:r},style:"height: 320px; margin-top: 24px;"})])]),e("section",{class:"profix-trend-container"},[e("div",{class:"chart-title"},["利润率趋势"]),e(I,{class:"dashboard-chart border",attrs:{yUnit:this.profitRadioUnit,loading:this.profitRatioLoading,xData:this.profitRatioData?.dates??[],series:[{name:"收入",type:"bar",barMaxWidth:28,barMinWidth:8,barGap:"30%",barCategoryGap:"45%",itemStyle:{color:"#4FCA50",borderRadius:2},data:(this.profitRatioData?.datas?.find((e=>"income"===e.key))?.value??[]).map((e=>e||0))},{name:"成本",type:"bar",barMaxWidth:28,barMinWidth:8,barGap:"30%",barCategoryGap:"45%",itemStyle:{color:"#2877FF",borderRadius:2},data:(this.profitRatioData?.datas?.find((e=>"cost"===e.key))?.value??[]).map((e=>e||0))},{name:"利润",type:"bar",barMaxWidth:28,barMinWidth:8,barGap:"30%",barCategoryGap:"45%",itemStyle:{color:"#FF7F00",borderRadius:2},data:(this.profitRatioData?.datas?.find((e=>"profit"===e.key))?.value??[]).map((e=>e||0))},{name:"利润率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(this.profitRatioData?.datas?.find((e=>"profit_ratio"===e.key))?.value??[]).map((e=>e||0))}]},style:"height: 389px; margin-top: 16px;"})]),e("section",{class:"labor-project-charts-container"},[e("div",[e("div",{class:"chart-title"},["人效趋势"]),e(N,{class:"dashboard-chart border",attrs:{yUnit:this.laborEffectYUnt,loading:this.laborEffectLoading,xData:this.laborEffectData?.dates??[],series:[{name:"人均贡献收入",type:"line",itemStyle:{color:"#4FCA50"},lineStyle:{width:3,shadowColor:"#4FCA503d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},smooth:!0,showSymbol:!1,data:(this.laborEffectData?.datas?.per_capita_income??[]).map((e=>e||0))},{name:"人均成本",type:"line",itemStyle:{color:"#2877FF"},lineStyle:{width:3,shadowColor:"#2877FF3d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},smooth:!0,showSymbol:!1,data:(this.laborEffectData?.datas?.per_capita_cost??[]).map((e=>e||0))},{name:"人均贡献利润",type:"line",itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},smooth:!0,showSymbol:!1,data:(this.laborEffectData?.datas?.per_capita_profit??[]).map((e=>e||0))}]},style:"height: 543px; margin-top: 16px;"})]),e("div",{style:"position: relative;"},[e("div",{class:"chart-title"},["项目分布气泡图"]),e(q,{class:"dashboard-chart border",attrs:{yUnit:this.bubbleUnit[0],xUnit:this.bubbleUnit[1],loading:this.projectBubbleLoading,series:o},style:"height: 543px; margin-top: 16px;"}),e("el-popover",{attrs:{"popper-class":"dashboard-month-popover",trigger:"hover",placement:"left"}},[e("div",{class:"month-list"},[[...this.monthOptions,-1].map((t=>e("div",{attrs:{selected:t===this.bubbleSelectedMonth},class:"month-list-item",on:{click:()=>this.onBubbleMonth(t)}},[-1===t?"汇总":`${t+1}月`])))]),e("div",{class:"bubble-month-display",slot:"reference",style:"cursor: pointer;"},[e("span",{style:"font-size: 14px;"},[-1===this.bubbleSelectedMonth?"汇总":`${this.bubbleSelectedMonth+1}月`]),e("tg-icon",{style:"margin-left: 0px;",attrs:{name:"ico-triangle-down"}})])]),e("div",{class:"bubble-tips"},[e("i",{class:"el-icon-warning-outline tip-icon"}),e("span",{class:"tip-text"},["气泡面积大小代表GMV高低"])])])])])])}}),ne=ae,re=(0,_.Z)(ne,z,H,!1,null,"e75df772",null),ie=re.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"min-width":"1080px","padding-bottom":"24px","padding-left":"24px","padding-right":"24px"}},[a("div",{staticStyle:{"border-top":"1px solid rgba(164, 178, 194, 0.3)","padding-top":"18px",width:"100%"}},[a("el-form",{staticClass:"filter-form flex-form",attrs:{inline:!0,size:"small","show-message":!1,"label-width":"70px"}},[a("el-form-item",{staticClass:"flex-form-item flex-form-item-time",attrs:{label:"归属部门："}},[a("el-popover",{attrs:{placement:"bottom-start",trigger:"click",width:"370","popper-class":"cb-department-tree-popper-class"}},[a("div",{staticClass:"repain-select",staticStyle:{display:"block"},attrs:{slot:"reference"},slot:"reference"},[e.feishu_department_name?a("div",{staticClass:"depart-select-box"},[a("span",[e._v(e._s(e.feishu_department_name))]),a("i",{staticClass:"el-icon-circle-close",staticStyle:{"margin-top":"8px",color:"white"},on:{click:function(t){return t.stopPropagation(),function(){e.feishu_department_name="",e.feishu_department_id=void 0,e.cb_department_tree.setCheckedKeys([])}.apply(null,arguments)}}})]):a("div",{staticClass:"depart-select-box",staticStyle:{color:"rgba(164, 178, 194, 1)"}},[a("span",[e._v("请选择归属部门")]),a("i",{staticClass:"el-icon-arrow-down",staticStyle:{"margin-top":"8px",color:"#c0c4cc"}})])]),a("div",{staticClass:"department-tree"},[a("el-tree",{ref:"cb_department_tree",attrs:{props:e.treeProps,"check-strictly":!0,"node-key":"id",data:e.feishuDepartmentList,"show-checkbox":"","check-on-click-node":"","default-checked-keys":e.default_checked_department_ids,"default-expanded-keys":e.default_checked_department_ids},on:{check:e.handleCheckChange}})],1)])],1),a("el-form-item",{staticClass:"flex-form-item order-100",staticStyle:{"margin-right":"20px"},attrs:{"label-width":"0"}},[a("tg-button",{attrs:{type:"primary"},on:{click:e.getGMVList}},[e._v("查询")]),a("tg-button",{staticClass:"mgl-12",on:{click:e.resetDepartment}},[e._v("重置")])],1)],1),a("div",{staticStyle:{background:"#f4f5f6",height:"12px",margin:"16px -24px 0 -24px"}})],1),a("div",{staticStyle:{"padding-top":"24px",width:"100%","margin-bottom":"24px"}},[a("div",{staticStyle:{height:"415px",width:"100%",display:"flex","justify-content":"space-between"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.TargetLoading,expression:"TargetLoading"}],staticStyle:{flex:"1",height:"390px",border:"1px solid #f0f0f0","margin-right":"12px","text-align":"center",padding:"32px 0"}},[a("div",{staticClass:"echartTitle"},[e._v(" "+e._s(e.currentMonth>1?"1-"+e.currentMonth:e.currentMonth)+"月目标完成率 ")]),a("div",{staticStyle:{"margin-top":"24px","font-size":"18px",color:"#19232d","letter-spacing":"0","line-height":"24px",display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"text-align":"right",flex:"1"}},[e._v(" "+e._s(e.formatAmount(Number(e.month_total_gmv||0)/100,"None")||"--")+"  ")]),a("div",{staticStyle:{color:"#d6dee4","text-align":"left",flex:"1"}},[e._v(" / "+e._s(e.formatAmount(Number(e.month_total_goal_gmv||0)/100,"None")||"--")+" ")])]),a("div",{staticStyle:{height:"220px","margin-top":"40px"}},[a("div",{staticClass:"echarts-baifenbi"},[a("div",{ref:"monthdeg",staticClass:"zhizhen"}),a("div",{staticClass:"title"},[e._v(e._s(e.monthIndex)+"%")])])])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.MonthLoading,expression:"MonthLoading"}],staticStyle:{flex:"1",height:"390px",border:"1px solid #f0f0f0","margin-left":"12px","text-align":"center",padding:"32px 0"}},[a("div",{staticClass:"echartTitle"},[e._v("全年目标完成率")]),a("div",{staticStyle:{"margin-top":"24px","font-size":"18px",color:"#19232d","letter-spacing":"0","line-height":"24px",display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"text-align":"right",flex:"1"}},[e._v(" "+e._s(e.formatAmount(Number(e.all_total_gmv||0)/100,"None")||"--")+"  ")]),a("div",{staticStyle:{color:"#d6dee4","text-align":"left",flex:"1"}},[e._v(" / "+e._s(e.formatAmount(Number(e.all_total_goal_gmv||0)/100,"None")||"--")+" ")])]),a("div",{staticStyle:{height:"220px","margin-top":"40px"}},[a("div",{staticClass:"echarts-baifenbi"},[a("div",{ref:"tagetdeg",staticClass:"zhizhen"}),a("div",{staticClass:"title"},[e._v(e._s(e.targetIndex)+"%")])])])])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.trendLoading,expression:"trendLoading"}],staticStyle:{height:"361px",width:"100%",border:"1px solid #f0f0f0","padding-top":"24px"}},[e.baseOptions.xAxis.data.length>0?a("div",[a("div",{staticClass:"echartTitle"},[e._v("目标与完成率趋势")]),a("div",{staticStyle:{height:"290px","padding-left":"14px","padding-right":"24px","margin-right":"0px","margin-left":"0px","margin-top":"10px"}},[a("BaseEcharts",{attrs:{options:e.baseOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.teamTrendLoading,expression:"teamTrendLoading"}],staticStyle:{"margin-top":"100px",width:"100%",height:"250px"}},[a("empty-common")],1)])])])},se=[],le=a(3293),de=a(26895),ce=(0,v.defineComponent)({name:"gmvEcharts",components:{BaseEcharts:g.Z},setup(e,t){const a=(0,v.ref)([]),n=(0,v.ref)([]),r=async()=>{const e=await(0,le.o1)({}),t=e.data.data.data;(0,de.$S)(t,!0,3),n.value=t};r();const i=(0,v.ref)(!1),o=(0,v.ref)(""),s=(0,v.ref)(""),l={label:"name",children:"sons"},d=(0,v.ref)(void 0),c=e=>{d.value?.setCheckedKeys([]),e.id===o.value?(o.value=void 0,s.value="",i.value=!1):(o.value=e.id,i.value=3===e.level,s.value=e.name,d.value?.setCheckedKeys([e.id]))},u=(0,v.computed)((()=>o.value?[o.value]:[])),p=()=>{o.value=void 0,s.value="",d.value?.setCheckedKeys([]),T()},m=(0,v.ref)(S.r.yuan),h=(0,v.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){let t,a,n,r=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px">${e[0].axisValue}</div>`;for(let i=0;i<e.length;i++)a=e[i].color,t=e[i].seriesName,n=e[i].data,i===e.length-1?r+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+t+'：<div style="color: #19232D;font-weight: 400;"> '+(0,b.dN)(Number(n||0),"None")+"% </div></div>":r+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+t+'：<div style="color: #19232D;font-weight: 400;">  ¥ '+(0,b.dN)(Number(n||0),"None")+"</div></div>";return r},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:"0",top:"0",type:"scroll",width:500,itemGap:20,itemWidth:20},grid:{left:68,right:48,bottom:30,containLabel:!1},xAxis:{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"单位：元",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,22,10,0]},axisLabel:{formatter(e){return m.value===S.r.wan&&e?parseInt(e,10)/1e4:e}}},{type:"value",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisLine:{show:!1},axisLabel:{formatter:"{value}%"}}],series:[]}),f=W()().add(0,"years").get("year"),g=W()().add(1,"months").get("month"),y=(0,v.ref)(""),x=(0,v.ref)(0),A=(0,v.ref)(""),w=(0,v.ref)(""),F=(0,v.ref)(0),_=(0,v.ref)(""),C=(0,v.ref)(!0),D=(0,v.ref)(!0),R=(0,v.ref)(!0),T=()=>{D.value=!0,R.value=!0,(0,Q.b)({second_department_id:i.value?void 0:o.value,third_department_id:i.value?o.value:void 0,start_date:f+"-01-01",end_date:f+"-12-31"}).then((({data:e})=>{D.value=!1,e.success?(y.value=e.data.total_gmv,A.value=e.data.total_goal_gmv,x.value=Number(Number(e.data.completion_rate||0).toFixed(2)),G()):t.root.$message.error(e.message||"数据获取失败")}));const e=W()(f+"-"+g+"-01"),n="yyyy-MM-DD",r=String(e.endOf("M").format(n));(0,Q.b)({second_department_id:i.value?void 0:o.value,third_department_id:i.value?o.value:void 0,start_date:f+"-01-01",end_date:r}).then((({data:e})=>{R.value=!1,e.success?(w.value=e.data.total_gmv,_.value=e.data.total_goal_gmv,F.value=Number(Number(e.data.completion_rate||0).toFixed(2)),Y()):t.root.$message.error(e.message||"数据获取失败")})),m.value=S.r.yuan,C.value=!0,(0,Q.Oi)({second_department_id:i.value?void 0:o.value,third_department_id:i.value?o.value:void 0,start_date:f+"-01-01",end_date:f+"-12-31"}).then((({data:e})=>{if(C.value=!1,e.success){const t=(0,v.ref)([]),n=(0,v.ref)([]),r=(0,v.ref)([]),i=(0,v.ref)([]);a.value=e.data.datas,a.value.forEach((e=>{const a=e.gmv||0,o=e.settlement_gmv||0,s=e.goal_gmv||0,l=Number(a)>1e6||(Number(o)>1e6||Number(s)>1e6);l&&(m.value=S.r.wan),t.value.push(e.completion_rate||0===e.completion_rate?Number(e.completion_rate||"0"):void 0);const d=e.gmv||0===e.gmv?e.gmv/100:void 0,c=e.settlement_gmv||0===e.settlement_gmv?e.settlement_gmv/100:void 0,u=e.goal_gmv||0===e.goal_gmv?e.goal_gmv/100:void 0;n.value.push(d),r.value.push(u),i.value.push(c)}));const o=[{name:"目标GMV",type:"bar",barMaxWidth:"28",barMinWidth:"8",barGap:.4,barCategoryGap:"30%",color:"#4FCA50",data:r.value,itemStyle:{barBorderRadius:3}},{name:"完成GMV",type:"bar",barMaxWidth:"28",barMinWidth:"8",barGap:.4,barCategoryGap:"30%",color:"#2877FF",data:n.value,itemStyle:{barBorderRadius:3}},{name:"结算GMV",type:"bar",barMaxWidth:"28",barGap:.4,barCategoryGap:"30%",barMinWidth:"8",color:"#FF7F00",data:i.value,itemStyle:{barBorderRadius:3}},{name:"目标完成率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:t.value}];h.value.yAxis[0].name="单位："+m.value,h.value.series=o}else t.root.$message.error(e.message||"数据获取失败")}))};setTimeout((()=>{T()}),100);const k=(0,v.ref)(),B=(0,v.ref)(),E=(0,v.ref)(),V=(0,v.ref)(),M=(0,v.ref)(void 0),N=(0,v.ref)(void 0),O=(0,v.ref)(0),L=(0,v.ref)(0),j=(0,v.ref)(0),I=(0,v.ref)(0),G=()=>{k.value&&clearInterval(k.value),V.value&&clearInterval(V.value),O.value=0,j.value=0,k.value=setInterval(X,10),V.value=setInterval(U,10)},Y=()=>{B.value&&clearInterval(B.value),E.value&&clearInterval(E.value),L.value=0,I.value=0,B.value=setInterval(q,10),E.value=setInterval(P,10)},X=()=>{const e=M.value;if(e){const t=O.value;if(e.style.transform=`rotate(${t}deg)`,e.style.transformOrigin="145px 3px",Number(x.value||0)<=0)return void clearInterval(k.value);O.value=t+1;const a=180*Number(x.value||0)/120,n=[];let r=a;for(let e=1;e<=24;e++)if(n.push(7.5*e),a<7.5*e){r=7.5*(e-1)+2,a>7.5*(e-1)+4&&(r=7.5*e);break}r>=180&&(r=183),(O.value>=r+1||O.value>184)&&clearInterval(k.value)}},q=()=>{const e=N.value;if(e){const t=L.value;if(e.style.transform=`rotate(${t}deg)`,e.style.transformOrigin="145px 3px",Number(F.value||0)<=0)return void clearInterval(B.value);L.value=t+1;const a=180*Number(F.value||0)/120,n=[];let r=a;for(let e=1;e<=24;e++)if(n.push(7.5*e),a<7.5*e){r=7.5*(e-1)+2,a>7.5*(e-1)+4&&(r=7.5*e);break}r>=180&&(r=183),L.value>=r&&clearInterval(B.value)}},U=()=>{if(j.value>=Number(x.value||0)-1&&j.value<=Number(x.value||0)||j.value>200)return j.value=Number(x.value||0),void clearInterval(V.value);j.value=j.value+1},P=()=>{if(I.value>=Number(F.value||0)-1&&I.value<=Number(F.value||0)||I.value>200)return I.value=Number(F.value||0),void clearInterval(E.value);I.value=I.value+1};return{currentMonth:g,parentClick:G,tagetdeg:M,monthdeg:N,formatAmount:b.dN,trendLoading:C,TargetLoading:D,MonthLoading:R,baseOptions:h,unitY:m,all_total_gmv:y,all_completion_rate:x,all_total_goal_gmv:A,month_total_gmv:w,month_completion_rate:F,month_total_goal_gmv:_,getGMVList:T,allTargetInterval:k,allMonthInterval:B,allMonthIndexInterval:E,allTargetIndexInterval:V,targetIndex:j,monthIndex:I,resetDepartment:p,feishuDepartmentList:n,handleCheckChange:c,cb_department_tree:d,treeProps:l,feishu_department_id:o,feishu_department_name:s,default_checked_department_ids:u}}}),ue=ce,pe=(0,_.Z)(ue,oe,se,!1,null,"6000096e",null),me=pe.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"padding-right":"18px","padding-left":"18px"}},[a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.newList,height:"calc(100vh - 222px)","span-method":e.tableSpanMethod},scopedSlots:e._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{"detial-text":"暂无数据"}})]},proxy:!0}])},[a("el-table-column",{attrs:{prop:"depart_ment",label:"业务组",width:"100",fixed:"left",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:e.getClassName(t.row)},[a("span",[e._v(e._s(t.row.depart_ment))])])]}}])}),a("el-table-column",{attrs:{prop:"project_name",label:"项目",width:"120",fixed:"left","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:e.getClassName(t.row)},[a("span",{staticStyle:{"padding-left":"12px"}},[e._v(" "+e._s(t.row.project_name)+" ")])])]}}])}),e._l([1,2,3,4,5,6,7,8,9,10,11,12],(function(t){return[a("el-table-column",{key:t+"detail",attrs:{label:t+"月"}},[a("el-table-column",{attrs:{prop:"project_name",label:"目标 (元)","min-width":"120",align:"right","class-name":Number(e.currentMonth)<t?"issubaftermonth":""},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",{class:e.getClassName(n.row)},[a("span",[e._v(e._s(e.getNewAmount(n.row[e.monthTargetType[t-1]],t,!1)))])])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"project_name",label:"完成 (元)","min-width":"136",align:"right","class-name":Number(e.currentMonth)<t?"issubaftermonth":""},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",{class:e.getClassName(n.row)},[a("span",[e._v(e._s(e.getNewAmount(n.row[e.monthCompleteType[t-1]],t)))])])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"project_name",label:"完成率","min-width":"110",align:"left","class-name":Number(e.currentMonth)<t?"issubaftermonth":""},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",{staticClass:"backgronddiv",class:e.getClassName(n.row),staticStyle:{width:"100%","padding-left":"0px !important","padding-right":"0px !important","padding-top":"5px !important"}},[a("div",{staticClass:"backgrondRate",class:e.getImgClassName(n.row[e.monthRateType[t-1]],t),staticStyle:{padding:"0px 3px !important"},style:{width:e.getRateWidth(n.row[e.monthRateType[t-1]])}}),n.row[e.monthRateType[t-1]]>=100?a("div",{staticClass:"imgRate"}):a("div",{staticClass:"noimgRate"}),a("div",{staticClass:"rate"},[e._v(" "+e._s(e.getNewRate(n.row[e.monthRateType[t-1]],t))+" ")])])]}}],null,!0)})],1)]})),a("el-table-column",{attrs:{label:"合计",fixed:"right","min-width":"350"}},[a("el-table-column",{attrs:{prop:"project_name",label:"目标 (元)","min-width":"120",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:e.getClassName(t.row)},[a("span",[e._v(e._s(e.getNewAmount(t.row[e.monthTargetType[12]],1,!1)))])])]}}])}),a("el-table-column",{attrs:{prop:"project_name",label:"完成 (元)","min-width":"120",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:e.getClassName(t.row)},[a("span",[e._v(e._s(e.getNewAmount(t.row[e.monthCompleteType[12]],1,!1)))])])]}}])}),a("el-table-column",{attrs:{prop:"project_name",label:"完成率","min-width":"110",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"backgronddiv",class:e.getClassName(t.row),staticStyle:{width:"100%","padding-left":"0px !important","padding-right":"0px !important","padding-top":"5px !important",height:"32px"}},[a("div",{staticClass:"backgrondRate",class:e.getImgClassName(t.row[e.monthRateType[12]],12),staticStyle:{padding:"0px 3px !important",height:"22px","line-height":"22px"},style:{width:e.getRateWidth(t.row[e.monthRateType[12]])}}),t.row[e.monthRateType[12]]>=100?a("div",{staticClass:"imgRate"}):a("div",{staticClass:"noimgRate"}),a("div",{staticClass:"rate"},[e._v(e._s(e.getNewRate(t.row[e.monthRateType[12]],1)))])])]}}])})],1)],2)],1)])},fe=[];const ve=(e,t)=>{const a=(0,v.ref)(!1),n=(0,v.ref)([]),r=(0,v.ref)(0),i=async r=>{a.value=!0;const[i,{data:o}]=await Promise.all([await(0,P._v)(500),await(0,Q.DR)(r,t)]);if(a.value=!1,o.success){let e;n.value=o.data.project_datas.map((e=>{let a;return a=0!==t?{depart_ment:e[0],project_name:"总计"===e[1]?"业务组合计":e[1],oneValue:e[2][0],twoValue:e[3][0],threeValue:e[4][0],fourValue:e[5][0],fiveValue:e[6][0],sixValue:e[7][0],sevenValue:e[8][0],eightValue:e[9][0],nineValue:e[10][0],tenValue:e[11][0],elevenValue:e[12][0],twelveValue:e[13][0],allValue:e[14],oneRate:e[2][1],twoRate:e[3][1],threeRate:e[4][1],fourRate:e[5][1],fiveRate:e[6][1],sixRate:e[7][1],sevenRate:e[8][1],eightRate:e[9][1],nineRate:e[10][1],tenRate:e[11][1],elevenRate:e[12][1],twelveRate:e[13][1]}:{depart_ment:e[0],project_name:e[1],oneTargetValue:e[2][0],twoTargetValue:e[3][0],threeTargetValue:e[4][0],fourTargetValue:e[5][0],fiveTargetValue:e[6][0],sixTargetValue:e[7][0],sevenTargetValue:e[8][0],eightTargetValue:e[9][0],nineTargetValue:e[10][0],tenTargetValue:e[11][0],elevenTargetValue:e[12][0],twelveTargetValue:e[13][0],allTargetValue:e[14][0],oneCompleteValue:e[2][1],twoCompleteValue:e[3][1],threeCompleteValue:e[4][1],fourCompleteValue:e[5][1],fiveCompleteValue:e[6][1],sixCompleteValue:e[7][1],sevenCompleteValue:e[8][1],eightCompleteValue:e[9][1],nineCompleteValue:e[10][1],tenCompleteValue:e[11][1],elevenCompleteValue:e[12][1],twelveCompleteValue:e[13][1],allCompleteValue:e[14][1],oneCompleteRate:e[2][2],twoCompleteRate:e[3][2],threeCompleteRate:e[4][2],fourCompleteRate:e[5][2],fiveCompleteRate:e[6][2],sixCompleteRate:e[7][2],sevenCompleteRate:e[8][2],eightCompleteRate:e[9][2],nineCompleteRate:e[10][2],tenCompleteRate:e[11][2],elevenCompleteRate:e[12][2],twelveCompleteRate:e[13][2],allCompleteRate:e[14][2]},a})),e=0!==t?{depart_ment:"部门合计",project_name:"",oneValue:o.data.total_datas[2][0],twoValue:o.data.total_datas[3][0],threeValue:o.data.total_datas[4][0],fourValue:o.data.total_datas[5][0],fiveValue:o.data.total_datas[6][0],sixValue:o.data.total_datas[7][0],sevenValue:o.data.total_datas[8][0],eightValue:o.data.total_datas[9][0],nineValue:o.data.total_datas[10][0],tenValue:o.data.total_datas[11][0],elevenValue:o.data.total_datas[12][0],twelveValue:o.data.total_datas[13][0],allValue:o.data.total_datas[14],oneRate:o.data.total_datas[2][1],twoRate:o.data.total_datas[3][1],threeRate:o.data.total_datas[4][1],fourRate:o.data.total_datas[5][1],fiveRate:o.data.total_datas[6][1],sixRate:o.data.total_datas[7][1],sevenRate:o.data.total_datas[8][1],eightRate:o.data.total_datas[9][1],nineRate:o.data.total_datas[10][1],tenRate:o.data.total_datas[11][1],elevenRate:o.data.total_datas[12][1],twelveRate:o.data.total_datas[13][1]}:{depart_ment:o.data.total_datas[0],project_name:"",oneTargetValue:o.data.total_datas[2][0],twoTargetValue:o.data.total_datas[3][0],threeTargetValue:o.data.total_datas[4][0],fourTargetValue:o.data.total_datas[5][0],fiveTargetValue:o.data.total_datas[6][0],sixTargetValue:o.data.total_datas[7][0],sevenTargetValue:o.data.total_datas[8][0],eightTargetValue:o.data.total_datas[9][0],nineTargetValue:o.data.total_datas[10][0],tenTargetValue:o.data.total_datas[11][0],elevenTargetValue:o.data.total_datas[12][0],twelveTargetValue:o.data.total_datas[13][0],allTargetValue:o.data.total_datas[14][0],oneCompleteValue:o.data.total_datas[2][1],twoCompleteValue:o.data.total_datas[3][1],threeCompleteValue:o.data.total_datas[4][1],fourCompleteValue:o.data.total_datas[5][1],fiveCompleteValue:o.data.total_datas[6][1],sixCompleteValue:o.data.total_datas[7][1],sevenCompleteValue:o.data.total_datas[8][1],eightCompleteValue:o.data.total_datas[9][1],nineCompleteValue:o.data.total_datas[10][1],tenCompleteValue:o.data.total_datas[11][1],elevenCompleteValue:o.data.total_datas[12][1],twelveCompleteValue:o.data.total_datas[13][1],allCompleteValue:o.data.total_datas[14][1],oneCompleteRate:o.data.total_datas[2][2],twoCompleteRate:o.data.total_datas[3][2],threeCompleteRate:o.data.total_datas[4][2],fourCompleteRate:o.data.total_datas[5][2],fiveCompleteRate:o.data.total_datas[6][2],sixCompleteRate:o.data.total_datas[7][2],sevenCompleteRate:o.data.total_datas[8][2],eightCompleteRate:o.data.total_datas[9][2],nineCompleteRate:o.data.total_datas[10][2],tenCompleteRate:o.data.total_datas[11][2],elevenCompleteRate:o.data.total_datas[12][2],twelveCompleteRate:o.data.total_datas[13][2],allCompleteRate:o.data.total_datas[14][2]},n.value.push(e)}else e.root.$message({type:"error",message:o.message??"查询失败，稍后重试",duration:2e3,showClose:!0})};return{loadData:i,list:n,loading:a,total:r}};var ge,ye,be,xe,Ae,we,Fe,_e,Ce,De,Se=(0,v.defineComponent)({name:"gmvDataDetail",setup(e,t){const a={},n=ve(t,0),r=W()().add(0,"years").get("year");n.loadData({start_date:r+"-01-01",end_date:r+"-12-31"});let i=0;const o=({row:e,column:t,rowIndex:a,columnIndex:n})=>{if(a===l.value.length-1){if(0===n)return[1,2];if(1===n)return[0,0]}if(0===n){if(0===a&&(i=0),a<i)return{rowspan:0,colspan:0};{let e=1;for(const t in l.value){const n=Number(t);if(l.value.length>n+1&&n>=i)if(l.value[n].depart_ment===l.value[n+1].depart_ment)e+=1;else{if(n>=a)return i+=e,1===e?{rowspan:1,colspan:1}:{rowspan:e,colspan:1};e=1}}return{rowspan:1,colspan:1}}}},s=W()().add(1,"months").get("month"),l=(0,v.ref)([]);(0,v.watch)((()=>n.list.value),(()=>{const e=[];e.push(...n.list.value),l.value=e}));const d=["oneTargetValue","twoTargetValue","threeTargetValue","fourTargetValue","fiveTargetValue","sixTargetValue","sevenTargetValue","eightTargetValue","nineTargetValue","tenTargetValue","elevenTargetValue","twelveTargetValue","allTargetValue"],c=["oneCompleteValue","twoCompleteValue","threeCompleteValue","fourCompleteValue","fiveCompleteValue","sixCompleteValue","sevenCompleteValue","eightCompleteValue","nineCompleteValue","tenCompleteValue","elevenCompleteValue","twelveCompleteValue","allCompleteValue"],u=["oneCompleteRate","twoCompleteRate","threeCompleteRate","fourCompleteRate","fiveCompleteRate","sixCompleteRate","sevenCompleteRate","eightCompleteRate","nineCompleteRate","tenCompleteRate","elevenCompleteRate","twelveCompleteRate","allCompleteRate"],p=(e,t,a=!0)=>e?a?(0,b.dN)(Number(e||0)/100,"None"):(0,b.dN)((Number(e||0)/100).toFixed(0),"None",!0):Number(s)>=t?"--":"",m=(e,t)=>e?Number(e||0).toFixed(2)+"%":Number(s)>=t?"--":"",h=e=>e?Number(e||0)>=100?"100%":1.1*Number(e||0)+"px":"0px",f=e=>e.project_name.indexOf("合计")>=0?"alldiv":"",g=(e,t)=>e?t===s?Number(e||0)>=100||Number(e||0)>0?"current":"":Number(e||0)>=100?"success":Number(e||0)>=40?"process":"block":"";return{getImgClassName:g,getClassName:f,getRateWidth:h,getNewRate:m,getNewAmount:p,monthCompleteType:c,monthTargetType:d,monthRateType:u,newList:l,currentMonth:s,tableSpanMethod:o,...n,...a}},mounted(){setTimeout((()=>{this.$nextTick((()=>{const e=this.$el.querySelector(".el-table__body-wrapper");e.scrollLeft=360*(this.currentMonth-1)-150}))}),100)}}),Re=Se,Te=(0,_.Z)(Re,he,fe,!1,null,"84f56168",null),ke=Te.exports,Be=(0,v.defineComponent)({components:{gmvEcharts:me,gmvDataDetail:ke},setup(){const e=(0,v.ref)(0),t={},a=t=>{e.value=t},n=[me.name,ke.name];return{onSwitch:a,switchComponents:n,selectIndex:e,...t}},render(){const e=arguments[0],t={name:this.switchComponents[this.selectIndex]};return e("div",{style:"background:white;height:100%;overflow:auto;border-top: 1px solid rgba(164, 178, 194, 0.3);"},[e("div",{class:"data-center-switch"},[e("tg-button",{attrs:{selected:0===this.selectIndex,type:"link"},on:{click:()=>this.onSwitch(0)}},["数据图表"]),e("span",{class:"mgl-18 mgr-18 line-ver"},["|"]),e("tg-button",{attrs:{selected:1===this.selectIndex,type:"link"},on:{click:()=>this.onSwitch(1)}},["数据明细"])]),1===this.selectIndex&&e("div",[e("div",{style:"border-top: 1px solid rgba(164, 178, 194, 0.3); margin: 0 18px;"}),e("div",{style:"background: #f4f5f6; height: 12px; margin: 0; margin-bottom: 18px"})]),e("div",{class:"data-center-template"},[e(t.name)])])}}),Ee=Be,Ve=(0,_.Z)(Ee,ge,ye,!1,null,"a5910e76",null),Me=Ve.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%","padding-right":"24px","padding-left":"24px","min-width":"850px"}},[a("div",{staticStyle:{background:"#f4f5f6",height:"12px",margin:"0 -24px 0 -24px"}}),a("div",{staticStyle:{"padding-top":"34px","border-top":"1px solid rgba(164, 178, 194, 0.3)",height:"400px",width:"100%",display:"flex","justify-content":"center","margin-top":"-12px"}},[a("div",{staticStyle:{width:"25%","min-width":"400px",height:"400px",border:"1px solid #f0f0f0","margin-right":"12px","text-align":"center",padding:"25px 24px"}},[a("div",{staticClass:"operators"},[a("div",{staticClass:"echartTitle"},[e._v(" "+e._s(1===e.tab_type?"收入":2===e.tab_type?"成本":"利润")+"占比 ")]),a("div",{staticStyle:{width:"180px","z-index":"2","text-align":"right"}},[a("el-popover",{attrs:{"popper-class":"dashboard-month-popover",trigger:"hover","append-to-body":"",placement:"bottom"}},[a("div",{staticClass:"month-list"},e._l(e.month_arr,(function(t,n){return a("div",{key:n+"month",staticClass:"month-list-item",attrs:{selected:n+1===e.selectMonth},on:{click:function(t){return e.onBubbleMonth(n+1)}}},[e._v(" "+e._s(t)+" ")])})),0),a("div",{staticClass:"bubble-month-display",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[a("span",{staticStyle:{"font-size":"14px","font-weight":"400",color:"#19232d"}},[e._v(" "+e._s(e.selectMonth>e.currentMonth?"汇总":e.selectMonth+"月")+" ")]),a("tg-icon",{staticStyle:{"margin-left":"0px"},attrs:{name:"ico-triangle-down"}})],1)])],1)]),a("div",{staticStyle:{"margin-top":"35px"}},[a("sunburst",{staticStyle:{height:"282px","margin-top":"24px"},attrs:{itemName:1===e.tab_type?"收入":2===e.tab_type?"成本":"利润",loading:e.sunBurstLoading,series:{data:e.osunBurstData}}})],1)]),a("div",{staticStyle:{flex:"1",height:"400px",border:"1px solid #f0f0f0","text-align":"center",padding:"0 24px 0 12px"}},[a("div",{staticStyle:{"padding-right":"12px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"12px","margin-top":"25px",display:"flex","justify-content":"space-around"}},[a("span",{staticStyle:{flex:"1"}},[e._v("项目"+e._s(1===e.tab_type?"收入":2===e.tab_type?"成本":"利润"))]),a("el-popover",{attrs:{"popper-class":"dashboard-month-popover",trigger:"hover","append-to-body":"",placement:"bottom"}},[a("div",{staticClass:"month-list"},e._l(e.month_arr,(function(t,n){return a("div",{key:n+"month",staticClass:"month-list-item",attrs:{selected:n+1===e.selectTrendMonth},on:{click:function(t){return e.onTrendBubbleMonth(n+1)}}},[e._v(" "+e._s(t)+" ")])})),0),a("div",{staticClass:"bubble-month-display",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"},[a("span",{staticStyle:{"font-size":"14px","font-weight":"400",color:"#19232d"}},[e._v(" "+e._s(e.selectTrendMonth>e.currentMonth?"汇总":e.selectTrendMonth+"月")+" ")]),a("tg-icon",{staticStyle:{"margin-left":"0px"},attrs:{name:"ico-triangle-down"}})],1)])],1)]),e.baseOptions.yAxis.data.length>0?a("div",{staticStyle:{"margin-left":"12px",display:"flex","justify-content":"space-between","margin-top":"15px","font-size":"12px",color:"#343f4c","line-height":"12px","max-height":"30px"}},[a("div",{staticStyle:{flex:"1","align-items":"flex-end","text-align":"right"}},e._l(e.baseOptions.yAxis.data,(function(t,n){return a("div",{key:t.name,staticStyle:{"margin-left":"20px",display:"inline-block"}},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{display:"inline-block",width:"12px",height:"12px",top:"5px","margin-right":"4px","border-radius":"2px"},style:{background:e.useTrendLineColors[n].color}}),a("span",{staticStyle:{left:"25px"}},[e._v(e._s(t))])])])})),0)]):e._e(),e.baseOptions.yAxis.data.length>0?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.teamTrendLoading,expression:"teamTrendLoading"}],staticStyle:{"margin-top":"0px",width:"100%",height:"310px"}},[a("BaseEcharts",{attrs:{options:e.baseOptions}})],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.teamTrendLoading,expression:"teamTrendLoading"}],staticStyle:{"margin-top":"100px",width:"100%",height:"260px"}},[a("empty-common")],1)])])])},Oe=[],Le=(0,v.defineComponent)({name:"dataEcharts",props:{tab_type:{type:Number,default:1}},components:{BaseEcharts:g.Z,sunburst:D},setup(e,t){const a=W()().add(1,"months").get("month"),n=W()().add(0,"years").get("year"),r=(0,v.ref)([]);for(let v=1;v<=Number(a);v++)r.value.push(v+"月");r.value.push("汇总");const i=(0,v.ref)(S.r.yuan),o=(0,v.ref)({tooltip:{trigger:"axis",formatter(e){let t,a,n,r="";for(let i=0;i<e.length;i++)a=e[i].color,t=e[i].data.name,n=e[i].data.value,r+='<div style="display: flex;margin-bottom: 0px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+t+'：<div style="color: #19232D;font-weight: 400;">  ¥ '+(0,b.dN)(Number(n||0),"None")+"</div></div>";return r},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0},grid:{left:98,right:70,top:10,bottom:30,containLabel:!1},yAxis:{type:"category",data:[],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:1,y2:0,colorStops:[{offset:0,color:"rgba(0,156,255,0.15)"},{offset:1,color:"rgba(0,156,255,0.02)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},xAxis:{type:"value",name:`单位：${i.value}`,position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},axisLabel:{formatter(e){return i.value===S.r.wan&&e?parseInt(e,10)/1e4:e}}},series:[]}),s=(0,v.ref)(void 0),l=(0,v.ref)(a+1),d=(0,v.ref)(a+1),c=(0,v.ref)(),u=(0,v.ref)(!1),p=e=>e?+new(A())(e).div(new(A())(100)).toNumber().toFixed(2):e,m=async()=>{u.value=!0;let r=W()(n+"-"+l.value+"-01"),i=W()(n+"-"+l.value+"-01");l.value>a&&(r=W()(n+"-01-01"),i=W()(n+"-12-01"));const o="yyyy-MM-DD",d=String(r.startOf("M").format(o)),m=String(i.endOf("M").format(o)),[h]=await(0,P.Dc)(500,(0,Q.Bu)({start_date:d,end_date:m},e.tab_type));u.value=!1,h.data.success?(s.value=h.data.data,c.value=(s.value??[]).filter((e=>e.children?.find((e=>(e.value??0)>0)))).map(((e,t)=>({name:e.project_name,itemStyle:{color:K.YJ[t]?.color},value:p(e.value),children:(e.children??[]).map(((e,a)=>({name:e.project_name,itemStyle:{color:K.YJ[t]?.children[a]},value:p(e.value)})))})))):t.root.$message.error(h.data.message||"数据获取失败")};m();const h=(0,v.ref)([]),f=(0,v.ref)([]),g=(0,v.ref)(!1),y=()=>{g.value=!0;let r=W()(n+"-"+d.value+"-01"),s=W()(n+"-"+d.value+"-01");d.value>a&&(r=W()(n+"-01-01"),s=W()(n+"-12-01"));const l="yyyy-MM-DD",c=String(r.startOf("M").format(l)),u=String(s.endOf("M").format(l));(0,Q.oY)({start_date:c,end_date:u},e.tab_type).then((({data:a})=>{if(g.value=!1,a.success){h.value=a.data.datas||[];const t=1===e.tab_type?"总收入":2===e.tab_type?"总成本":"总利润",n=(0,v.ref)(1);f.value=(h.value??[]).map(((a,r)=>{const o=[],s=a.value[0]||0;0===r&&s>0&&(n.value=s);const l=Number(s)>1e6;l&&(i.value=S.r.wan);const d=a.value[0]||0===a.value[0]?a.value[0]/100:void 0;return o.push(d),{name:"总计"===a.key?t:a.key,itemStyle:{color:K.gd[r]?.color,maxWidth:100,barBorderRadius:3},type:"bar",color:K.gd[r]?.color,value:d,label:{show:3!==e.tab_type&&0!==r,distance:5,align:"right",width:100,offset:[40,0],position:["102%","30%"],color:K.gd[r]?.color,formatter(e){const t=(100*e.value/n.value*100).toFixed(1);return t+"%"}}}})),o.value.xAxis.name="单位："+i.value,o.value.series=[{data:f.value,type:"bar",barMaxWidth:30,barMinWidth:8}],o.value.yAxis.data=a.data.datas?a.data.datas.map((e=>"总计"===e.key?t:e.key)):[]}else t.root.$message.error(a.message||"数据获取失败")}))};y();const x=e=>{l.value=e,m()},w=e=>{d.value=e,y()};return{unitY:i,useTrendLineColors:K.gd,onTrendBubbleMonth:w,selectTrendMonth:d,teamTrend:h,getTeamTrendList:y,teamTrendLoading:g,sunBurstLoading:u,osunBurstData:c,getPercentSunburstList:m,month_arr:r,onBubbleMonth:x,selectMonth:l,currentMonth:a,baseOptions:o}}}),je=Le,Ie=(0,_.Z)(je,Ne,Oe,!1,null,"775a1437",null),Ge=Ie.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{margin:"0 18px",overflow:"hidden"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{border:"",data:e.newList,height:"calc(100vh - 222px)","span-method":e.tableSpanMethod},scopedSlots:e._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{"detial-text":"暂无数据"}})]},proxy:!0}])},[a("el-table-column",{attrs:{prop:"depart_ment",label:"业务组","min-width":"100",fixed:"left",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:e.getClassName(t.row)},[a("span",{staticClass:"left"},[e._v(e._s(t.row.depart_ment))])])]}}])}),a("el-table-column",{attrs:{prop:"project_name",label:"项目名称","min-width":"120",fixed:"left",align:"left","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:e.getClassName(t.row)},[a("span",{staticClass:"spanname left"},[e._v(e._s(t.row.project_name))])])]}}])}),e._l([1,2,3,4,5,6,7,8,9,10,11,12],(function(t){return[a("el-table-column",{key:t+"detail",attrs:{label:t+"月 (环比)","min-width":"220","class-name":Number(e.currentMonth)<t?"issubaftermonth":"",prop:"allValue",align:"right"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",{class:e.getClassName(n.row)},[a("div",{staticStyle:{display:"flex","justify-content":"center",padding:"0 !important"},style:{marginRight:n.row[e.monthRateType[t-1]]?"0px":e.LineRateList[t-1].isLineValueRate?e.LineRateList[t-1].isLineRate?"95px":"30px":"0px"}},[a("span",{staticClass:"spanname",staticStyle:{display:"inline-block",width:"140px","text-align":"right","line-height":"22px"},style:{width:e.LineRateList[t-1].isLineValueRate?"140px":"100%",textAlign:e.LineRateList[t-1].isLineValueRate?"right":"center"}},[e._v(e._s(e.getNewAmount(n.row[e.monthType[t-1]],t)))]),n.row[e.monthRateType[t-1]]>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block",width:"20px","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px auto 6px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e._e(),n.row[e.monthRateType[t-1]]<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block",width:"20px","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px auto 6px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):e._e(),n.row[e.monthRateType[t-1]]?a("span",{staticClass:"spanname",staticStyle:{display:"inline-block",width:"86px","text-align":"left",color:"#a4b2c2","line-height":"22px"}},[e._v(" "+e._s(e.getNewRate(n.row[e.monthRateType[t-1]]))+" ")]):e._e()])])]}}],null,!0)})]})),a("el-table-column",{attrs:{label:"合计",fixed:"right","min-width":"150",align:"right",prop:"allValue"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:e.getClassName(t.row)},[a("div",{staticClass:"amountdiv",staticStyle:{"line-height":"22px",padding:"0 !important","padding-right":"12px !important"}},[e._v(" "+e._s(e.getNewAmount(t.row["allValue"],1))+" ")])])]}}])})],2)],1)},Xe=[],qe=(0,v.defineComponent)({name:"dataDetail",props:{tab_type:{type:Number,default:1}},setup(e,t){const a={},n=ve(t,e.tab_type),r=W()().add(0,"years").get("year");n.loadData({start_date:r+"-01-01",end_date:r+"-12-31"});let i=0;const o=({row:e,column:t,rowIndex:a,columnIndex:n})=>{if(a===l.value.length-1){if(0===n)return[1,2];if(1===n)return[0,0]}if(0===n){if(0===a&&(i=0),a<i)return{rowspan:0,colspan:0};{let e=1;for(const t in l.value){const n=Number(t);if(l.value.length>n+1&&n>=i)if(l.value[n].depart_ment===l.value[n+1].depart_ment)e+=1;else{if(n>=a)return i+=e,1===e?{rowspan:1,colspan:1}:{rowspan:e,colspan:1};e=1}}return{rowspan:1,colspan:1}}}},s=W()().add(1,"months").get("month"),l=(0,v.ref)([]),d=(0,v.ref)([]),c=e=>{const t=n.list.value.find((t=>!!t[m[e]]));return!!t},u=e=>{const t=n.list.value.find((t=>!(!t[m[e]]&&!t[p[e]])));return!!t};(0,v.watch)((()=>n.list.value),(()=>{for(let t=0;t<12;t++){const e=u(t);let a=!1;!0===e&&(a=c(t)),d.value.push({isLineRate:a,isLineValueRate:e})}const e=[];e.push(...n.list.value),l.value=e}));const p=["oneValue","twoValue","threeValue","fourValue","fiveValue","sixValue","sevenValue","eightValue","nineValue","tenValue","elevenValue","twelveValue"],m=["oneRate","twoRate","threeRate","fourRate","fiveRate","sixRate","sevenRate","eightRate","nineRate","tenRate","elevenRate","twelveRate"],h=(e,t)=>e?"¥ "+(0,b.dN)(Number(e||0)/100,"None"):Number(s)>=t?"--":"",f=e=>e&&0!==e?Math.abs(e)+"%":e,g=e=>e.project_name.indexOf("合计")>=0?"alldiv":"";return{getClassName:g,LineRateList:d,getNewRate:f,getNewAmount:h,monthRateType:m,monthType:p,newList:l,currentMonth:s,tableSpanMethod:o,...n,...a}},mounted(){setTimeout((()=>{this.$nextTick((()=>{const e=this.$el.querySelector(".el-table__body-wrapper");e.scrollLeft=120*(this.currentMonth-1)+100}))}),100)}}),Qe=qe,Ue=(0,_.Z)(Qe,Ye,Xe,!1,null,"77e3fa93",null),We=Ue.exports,Pe=(0,v.defineComponent)({components:{dataEcharts:Ge,dataDetail:We},setup(){const e=(0,v.ref)(0),t={},a=t=>{e.value=t},n=[Ge.name,We.name];return{onSwitch:a,switchComponents:n,selectIndex:e,...t}},render(){const e=arguments[0],t={name:this.switchComponents[this.selectIndex],props:{tab_type:1}};return e("div",{style:"background:white;height:100%; overflow-x: auto;border-top: 1px solid rgba(164, 178, 194, 0.3);"},[e("div",{class:"data-center-switch"},[e("tg-button",{attrs:{selected:0===this.selectIndex,type:"link"},on:{click:()=>this.onSwitch(0)}},["数据图表"]),e("span",{class:"mgl-18 mgr-18 line-ver"},["|"]),e("tg-button",{attrs:{selected:1===this.selectIndex,type:"link"},on:{click:()=>this.onSwitch(1)}},["数据明细"])]),1===this.selectIndex&&e("div",[e("div",{style:"border-top: 1px solid rgba(164, 178, 194, 0.3); margin: 0 18px;"}),e("div",{style:"background: #f4f5f6; height: 12px; margin: 0; margin-bottom: 18px"})]),e("div",{class:"data-center-template"},[e(t.name,{props:t.props})])])}}),Ze=Pe,ze=(0,_.Z)(Ze,be,xe,!1,null,"ceadaeba",null),He=ze.exports,Ke=(0,v.defineComponent)({components:{dataEcharts:Ge,dataDetail:We},setup(){const e=(0,v.ref)(0),t={},a=t=>{e.value=t},n=[Ge.name,We.name];return{onSwitch:a,switchComponents:n,selectIndex:e,...t}},render(){const e=arguments[0],t={name:this.switchComponents[this.selectIndex],props:{tab_type:2}};return e("div",{style:"background:white;height:100%; overflow-x: auto;border-top: 1px solid rgba(164, 178, 194, 0.3);"},[e("div",{class:"data-center-switch"},[e("tg-button",{attrs:{selected:0===this.selectIndex,type:"link"},on:{click:()=>this.onSwitch(0)}},["数据图表"]),e("span",{class:"mgl-18 mgr-18 line-ver"},["|"]),e("tg-button",{attrs:{selected:1===this.selectIndex,type:"link"},on:{click:()=>this.onSwitch(1)}},["数据明细"])]),1===this.selectIndex&&e("div",[e("div",{style:"border-top: 1px solid rgba(164, 178, 194, 0.3); margin: 0 18px;"}),e("div",{style:"background: #f4f5f6; height: 12px; margin: 0; margin-bottom: 18px"})]),e("div",{class:"data-center-template"},[e(t.name,{props:t.props})])])}}),Je=Ke,$e=(0,_.Z)(Je,Ae,we,!1,null,"744c5c07",null),et=$e.exports,tt=(0,v.defineComponent)({components:{dataEcharts:Ge,dataDetail:We},setup(){const e=(0,v.ref)(0),t={},a=t=>{e.value=t},n=[Ge.name,We.name];return{onSwitch:a,switchComponents:n,selectIndex:e,...t}},render(){const e=arguments[0],t={name:this.switchComponents[this.selectIndex],props:{tab_type:3}};return e("div",{style:"background:white;height:100%; overflow-x: auto;border-top: 1px solid rgba(164, 178, 194, 0.3);"},[e("div",{class:"data-center-switch"},[e("tg-button",{attrs:{selected:0===this.selectIndex,type:"link"},on:{click:()=>this.onSwitch(0)}},["数据图表"]),e("span",{class:"mgl-18 mgr-18 line-ver"},["|"]),e("tg-button",{attrs:{selected:1===this.selectIndex,type:"link"},on:{click:()=>this.onSwitch(1)}},["数据明细"])]),1===this.selectIndex&&e("div",[e("div",{style:"border-top: 1px solid rgba(164, 178, 194, 0.3); margin: 0 18px;"}),e("div",{style:"background: #f4f5f6; height: 12px; margin: 0; margin-bottom: 18px"})]),e("div",{class:"data-center-template"},[e(t.name,{props:t.props})])])}}),at=tt,nt=(0,_.Z)(at,Fe,_e,!1,null,"00f8283e",null),rt=nt.exports,it=(0,v.defineComponent)({components:{dashboard:ie,gmv:Me,income:He,cost:et,profit:rt},setup(){const e=(0,f.pK)([{label:"看板首页",value:"dashboard"},{label:"GMV",value:"gmv"},{label:"收入",value:"income"},{label:"成本",value:"cost"},{label:"利润",value:"profit"}],"dashboard"),t={};return{...e,...t}},render(){const e=arguments[0];return e("div",[e("tg-tabs",{attrs:{tabs:this.tabs},model:{value:this.checkedTab,callback:e=>{this.checkedTab=e}}}),e(this.checkedTab)])}}),ot=it,st=(0,_.Z)(ot,Ce,De,!1,null,"425e2123",null),lt=st.exports},50709:function(e,t,a){"use strict";a.d(t,{AY:function(){return u},Cm:function(){return G},Dd:function(){return k},Dl:function(){return c},Do:function(){return X},ED:function(){return A},EG:function(){return S},EJ:function(){return b},EN:function(){return p},ER:function(){return I},HW:function(){return l},Hn:function(){return W},L7:function(){return K},LS:function(){return h},Oo:function(){return y},Ou:function(){return m},Q9:function(){return _},TL:function(){return N},Ui:function(){return r},V5:function(){return o},VE:function(){return n},Vv:function(){return Y},Zp:function(){return x},_2:function(){return s},bf:function(){return g},bp:function(){return Q},cR:function(){return V},ed:function(){return R},ei:function(){return D},g8:function(){return i},gC:function(){return f},gV:function(){return U},gh:function(){return d},hv:function(){return H},jH:function(){return F},kJ:function(){return T},li:function(){return O},ly:function(){return j},m0:function(){return Z},oE:function(){return z},po:function(){return v},qM:function(){return B},rm:function(){return C},td:function(){return P},u8:function(){return L},us:function(){return M},vr:function(){return E},xn:function(){return w},y$:function(){return $},y8:function(){return q},zI:function(){return J}});const n="/api/settlement/refuse_settlement/:id",r="/api/settlement/approve_settlement/:id",i="/api/receivable/query_financial_receivables",o="/api/payable/query_financial_payables",s="/api/financial/query_invoice",l="/api/shop_live/query_project_uid",d="/api/financial/void_invoice",c="/api/financial/write_off_invoice",u="/api/financial/red_invoice_approval",p="/api/financial/upload_invoice_approval",m="/api/financial/query_daily_pay",h="/api/data_center/operating/overview",f="/api/data_center/operating/gmv_percent_sunburst",v="/api/data_center/operating/gmv_team_trend",g="/api/data_center/operating/profit_margin_statistics",y="/api/data_center/operating/labor_efficiency_trend",b="/api/data_center/operating/project_distribution_bubble",x="/api/data_center/operating/gmv_completion_rate",A="/api/data_center/operating/gmv_completion_trend",w="/api/data_center/operating/cost_percent_sunburst",F="/api/data_center/operating/income_percent_sunburst",_="/api/data_center/operating/profit_percent_sunburst",C="/api/data_center/operating/cost_team_trend",D="/api/data_center/operating/income_team_trend",S="/api/data_center/operating/profit_team_trend",R="/api/data_center/operating/cost_project_detail",T="/api/data_center/operating/income_project_detail",k="/api/data_center/operating/profit_project_detail",B="/api/data_center/operating/profit_loss_detail",E="/api/shop_live/query_operating_projects",V="/api/data_center/operating/gmv_project_detail",M="/api/financial/statistics/finance_overview",N="/api/financial/statistics/finance_pie",O="/api/financial/statistics/finance_trends",L="/api/financial/statistics/account_details",j="/api/financial/financing/query_financial_ledger",I="/api/financial/financing/add_financial_ledger",G="/api/financial/financing/delete_financial_ledger",Y="/api/financial/statistics/project_project_fund",X="/api/financial/statistics/department_fund",q="/api/financial/statistics/unpaid_cost",Q="/api/financial/statistics/pending_income_claim",U="/api/financial/statistics/capital_daily_report",W="/api/financial/statistics/capital_year_report",P="/api/financial/revenue/query_revenue_flow",Z="/api/settlement/query_revenue_flow",z="/api/financial/revenue/get_revenue_flow_detail",H="/api/settlement/get_revenue_flow_detail",K="/api/financial/revenue/claim_revenue_flow",J="/api/financial/revenue/delete_revenue_flow_detail",$="/api/financial/parse_bank_excel_data"},7427:function(e,t,a){"use strict";a.d(t,{DS:function(){return s},UP:function(){return r},YJ:function(){return n},gd:function(){return o},zW:function(){return i}});const n=[{color:"#2877FF",children:["#1E8DFF","#00A3FF","#00BBFF","#00D2FF","#62E5FF","#ACF1FF","#CFFBFF","#72EDD5","#85EEDA","#A0EDDE","#00B942","#02CA64","#53D66F","#7DDE89","#A8E8AC","#C3F4C6","#3AD08E","#4DD79A","#81E5B1","#C4F1DA"]},{color:"#FF8C00",children:["#FE9C25","#FFC073","#FFD7A7","#FFBF00","#FFE186","#FFEBB0","#FFE82A","#FFF486","#F0EC88","#FFF15F","#FBEB2D","#FDD866","#FFE376","#FFCD39","#FFE186","#FFEBB0","#F5F2AD","#F0EC88","#FFF4AC","#F5F2AD"]},{color:"#996DFF",children:["#845EF7","#9775FA","#B197FC","#D0BFFF","#E2D5FF","#F3D9FA","#EEBEFA","#E599F8","#D977F2","#CC5DE8","#BE4BDB","#FF8BEF","#FCBFF3","#FFDCFA","#FDE8FA","#F7F0FC","#BAC8FF","#DBE4FF","#E8F7FF","#CCEDFF"]},{color:"#FF6767",children:["#FF7E7E","#FF9696","#FFB3B3","#FFC9C9","#FF6D8C","#FF829D","#FF97AD","#FFACBE","#FEBDCB","#FFD2DC","#F5C7CB","#EFC0BE","#FD9BA9","#FFB0C9","#F7A0B8","#F5C7CB","#F0D2CD","#FFE1DC","#FDD9F3","#FFEAF9"]}],r=["#0C6FE1","#22B2FF","#00EBDB","#3FD489","#9446FF","#B598FF","#FD996E","#FFB218","#FFE869","#F73434","#FF8DA3","#FF69F9","#E8684A","#269A99","#5AD8A6","#D09C10","#D13808","#4C00FF","#0040FF","#E85285","#FACDAA","#942D93","#FACA3E","#FF8C00","#FF6500","#B5AC23","#6A9A48","#20876B","#99ADD1","#BBE800","#4C6080","#4045B2","#0C8AFF","#B22C00","#794012","#00562F","#0047A5","#83BC99","#FF745A","#EB4185"],i=[{color:"#9273F8",areaColor:"#DED4FF"},{color:"#4FCA50",areaColor:"#98FFF9"},{color:"#2877FF",areaColor:"#D6E5FF"},{color:"#FF7F00",areaColor:"#FFEFDF"},{color:"#EFF000",areaColor:"#FCFCA0"},{color:"#31CC33",areaColor:"#B5F6B6"},{color:"#FFCC00",areaColor:"#FFEB99"},{color:"#CCFF02",areaColor:"#EBFF9B"},{color:"#009999",areaColor:"#D2F3F3"}],o=[{color:"#FF7F00",areaColor:"#FFEFDF"},{color:"#2877FF",areaColor:"#D6E5FF"},{color:"#4FCA50",areaColor:"#98FFF9"},{color:"#9273F8",areaColor:"#DED4FF"},{color:"#EFF000",areaColor:"#FCFCA0"},{color:"#31CC33",areaColor:"#B5F6B6"},{color:"#FFCC00",areaColor:"#FFEB99"},{color:"#CCFF02",areaColor:"#EBFF9B"},{color:"#009999",areaColor:"#D2F3F3"}],s=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"]},60492:function(e,t,a){"use strict";var n;a.d(t,{r:function(){return n}}),function(e){e["yuan"]="元",e["wan"]="万"}(n||(n={}))},42386:function(e,t,a){"use strict";a.d(t,{$W:function(){return Q},BN:function(){return F},BT:function(){return x},Bu:function(){return R},DR:function(){return k},FT:function(){return Z},Hw:function(){return G},Hz:function(){return g},I2:function(){return B},JQ:function(){return w},KH:function(){return O},LZ:function(){return W},Ml:function(){return J},NW:function(){return _},Oi:function(){return S},R5:function(){return A},R7:function(){return M},Sg:function(){return N},T_:function(){return V},Tu:function(){return p},UI:function(){return u},UW:function(){return c},Un:function(){return f},Ux:function(){return b},V$:function(){return l},XV:function(){return d},XY:function(){return U},Xz:function(){return m},_:function(){return X},_u:function(){return H},aH:function(){return h},b:function(){return D},cN:function(){return q},ce:function(){return L},f2:function(){return C},g8:function(){return s},h:function(){return j},hE:function(){return E},k:function(){return o},k6:function(){return v},kf:function(){return Y},md:function(){return y},oY:function(){return T},or:function(){return K},qp:function(){return I},w1:function(){return z},xW:function(){return P}});var n=a(76012),r=a(50709),i=a(64236);const o=async({id:e,refuse_reason:t})=>(0,n.SO)(r.VE.replace(":id",`${e}`),{refuse_reason:t}),s=async e=>(0,n.dX)(r.Ui.replace(":id",`${e}`)),l=async e=>(0,n.dX)(`/api/settlement/approve_cost_settlement/${e}`),d=({id:e,refuse_reason:t})=>(0,n.SO)(`/api/settlement/refuse_cost_settlement/${e}`,{refuse_reason:t}),c=async e=>(0,n.dX)(r.g8,{params:{...(0,i.jG)(e)}}),u=async e=>(0,n.dX)(r.V5,{params:{...(0,i.jG)(e)}}),p=async e=>(0,n.SO)("/api/financial/reverse",e),m=async e=>(0,n.SO)("/api/financial/reverse_again",e),h=async e=>(0,n.SO)("/api/financial/confirm_reverse",{...(0,i.jG)(e)}),f=async e=>(0,n.SO)("/api/financial/merchant_confirm_reverse",{...(0,i.jG)(e)}),v=async e=>(0,n.dX)("/api/financial/query_our_bank_accounts",{params:{...(0,i.jG)(e??{})}}),g=async e=>(0,n.dX)(r.Ou,{params:{...(0,i.jG)(e)}}),y=async e=>(0,n.SO)("/api/financial/add_manually_pay_info",{...(0,i.jG)(e)}),b=async(e,t)=>(0,n.dX)("/api/financial/query_all_project",{params:{...(0,i.jG)({...e,...t})}}),x=async e=>(0,n.dX)(r.LS,{params:{...(0,i.jG)(e)}}),A=async e=>(0,n.dX)(r.gC,{params:{...(0,i.jG)(e)}}),w=async e=>(0,n.dX)(r.po,{params:{...(0,i.jG)(e)}}),F=async e=>(0,n.dX)(r.bf,{params:{...(0,i.jG)(e)}}),_=async e=>(0,n.dX)(r.Oo,{params:{...(0,i.jG)(e)}}),C=async e=>(0,n.dX)(r.EJ,{params:{...(0,i.jG)(e)}}),D=async e=>(0,n.dX)(r.Zp,{params:{...(0,i.jG)(e)}}),S=async e=>(0,n.dX)(r.ED,{params:{...(0,i.jG)(e)}}),R=async(e,t)=>2===t?(0,n.dX)(r.xn,{params:{...(0,i.jG)(e)}}):1===t?(0,n.dX)(r.jH,{params:{...(0,i.jG)(e)}}):(0,n.dX)(r.Q9,{params:{...(0,i.jG)(e)}}),T=async(e,t)=>2===t?(0,n.dX)(r.rm,{params:{...(0,i.jG)(e)}}):1===t?(0,n.dX)(r.ei,{params:{...(0,i.jG)(e)}}):(0,n.dX)(r.EG,{params:{...(0,i.jG)(e)}}),k=async(e,t)=>2===t?(0,n.dX)(r.ed,{params:{...(0,i.jG)(e)}}):1===t?(0,n.dX)(r.kJ,{params:{...(0,i.jG)(e)}}):3===t?(0,n.dX)(r.Dd,{params:{...(0,i.jG)(e)}}):(0,n.dX)(r.cR,{params:{...(0,i.jG)(e)}}),B=async e=>(0,n.dX)(r.vr,{params:{...(0,i.jG)(e)}}),E=async e=>(0,n.dX)(r.qM,{params:{...(0,i.jG)(e)}}),V=async()=>(0,n.dX)(r.us),M=async()=>(0,n.dX)(r.TL),N=async()=>(0,n.dX)(r.li),O=async()=>(0,n.dX)(r.u8),L=async e=>(0,n.dX)(r.gV,{params:{...(0,i.jG)(e)}}),j=async()=>(0,n.dX)(r.Hn),I=async e=>(0,n.dX)(r.ly,{params:{...(0,i.jG)(e)}}),G=async e=>(0,n.SO)(r.ER,{...(0,i.jG)(e)}),Y=async e=>(0,n.HG)(`${r.Cm}/${e}`),X=async e=>(0,n.dX)(r.Vv,{params:{...(0,i.jG)(e)}}),q=async()=>(0,n.dX)(r.Do),Q=async e=>(0,n.dX)(r.y8,{params:{...(0,i.jG)(e)}}),U=async e=>(0,n.dX)(r.bp,{params:{...(0,i.jG)(e)}}),W=async e=>(0,n.dX)(r.td,{params:{...(0,i.jG)(e)}}),P=async e=>(0,n.dX)(`${r.hv}/${e}`),Z=async e=>(0,n.dX)(r.m0,{params:{...(0,i.jG)(e)}}),z=async e=>(0,n.dX)(`${r.oE}/${e}`),H=async e=>(0,n.SO)(r.L7,{...(0,i.jG)(e)}),K=async e=>(0,n.HG)(`${r.zI}/${e}`),J=e=>(0,n.SO)(r.y$,e)},23812:function(e,t,a){"use strict";a.d(t,{GQ:function(){return s},YE:function(){return i},cY:function(){return l},pK:function(){return o}});var n=a(97434),r=a(44928);const i=(e,t)=>({tabs:(0,n.reactive)([...e]),checkedTab:(0,n.ref)(t??(e.length<1?"":e[0].value))}),o=(e,t)=>{const a=(0,n.isRef)(e)?e:(0,n.ref)(e),r=(0,n.isRef)(t)?(0,n.unref)(t):t,i=a.value.length<1?"":a.value[0].value,o=(0,n.ref)(r??i);return{tabs:a,checkedTab:o}},s=(e,t,a)=>{const r=(0,n.reactive)([...t]),i=(0,n.ref)(a??(t.length<1?"":`${t[0].value}`)),o=t=>{e.root.$router.push({path:e.root.$route.path,query:{tab:`${t.value}`}})};return(0,n.onBeforeMount)((()=>{const n=e.root.$route.query.tab;i.value="string"===typeof n?n:a??(t.length<1?"":`${t[0].value}`)})),{tabs:r,checkedTab:i,onTabChange:o}},l=(e,t)=>{const a=(0,n.reactive)([...e]),i=(0,n.ref)(t??(e.length<1?"":`${e[0].value}`)),o=(0,r.t)(),s=e=>{const t=o.currentRoute,a={...t.params,tab:e.value};o.push({name:t.name,params:a})};return i.value=o.currentRoute.params.tab||t||i.value,{tabs:a,checkedTab:i,onTabChange:s}}},44928:function(e,t,a){"use strict";a.d(t,{t:function(){return r}});var n=a(86834);const r=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(n.Z,t)}});return e}},4096:function(e,t,a){e.exports=a(70680)(12996)}}]);
(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[4243,924],{4221:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return de}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all-performance"},[a("div",{staticClass:"performance-div"},[a("div",[a("performanceIndex",{attrs:{updata:e.updata,performanceId:e.performanceId},on:{getProjectDeatil:e.getProjectDeatil}})],1),a("div",{staticClass:"data-center-switch"},[a("div",{class:1==e.fixed?"fixed ":""},[a("tg-tabs",{staticClass:"flex-none",attrs:{tabs:e.tabs,bottom:""},on:{change:e.onTabChange},model:{value:e.selectIndex,callback:function(t){e.selectIndex=t},expression:"selectIndex"}})],1)]),a("div",{staticStyle:{padding:"0 18px 12px 18px"}},[a(e.switchComponents[e.selectIndex],{tag:"component",style:{marginTop:(e.fixed,"0px")},attrs:{performanceId:e.performanceId,projectData:e.projectData},on:{upDataProjectDeatil:e.upDataProjectDeatil}})],1)])])},r=[],i=a(97434),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"commodity-analysis-system"},[a("div",{staticClass:"first-category-box"},[e._v("品类销售分析")]),a("div",{staticClass:"category-table"},[a("tg-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],class:e.showSort?"":"hasShowSort",attrs:{data:e.list,"row-key":function(t){return e.getRowKey(t)},border:"","row-style":e.rowHightlight,"default-expand-all":"","default-sort":{prop:"shop_gmv",order:"descending"},"tree-props":{children:"children",hasChildren:"hasChildren"},"show-summary":!1,"summary-method":e.getSummaries,height:"100%"},on:{"sort-change":e.sortChange},scopedSlots:e._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})]},proxy:!0}])},[a("el-table-column",{attrs:{prop:"category_name",label:"二级类目","min-width":"130",fixed:"left","label-class-name":e.showSort?"check-label":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{enterable:!1,disabled:!(t.row.category_name.length>6),effect:"dark",content:t.row.category_name,placement:"top"}},[a("span",[e._v(e._s(t.row.category_name.length>6?e.get_folded_text(t.row.category_name,6):t.row.category_name))])])]}}])}),a("el-table-column",{attrs:{prop:"third_tiange_cat_name",label:"三级类目","min-width":"110",fixed:"left","label-class-name":e.showSort?"check-label":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{enterable:!1,disabled:!(t.row.third_tiange_cat_name.length>6),effect:"dark",content:t.row.third_tiange_cat_name,placement:"top"}},[a("span",[e._v(e._s(t.row.third_tiange_cat_name.length>6?e.get_folded_text(t.row.third_tiange_cat_name,6):t.row.third_tiange_cat_name))])])]}}])}),a("el-table-column",{attrs:{label:"款数","min-width":"110",align:"center",prop:"item_count","label-class-name":e.showSort?"check-label":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.item_count?e.numberFormat(Number(t.row.item_count),0,".",","):"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"店铺销量","min-width":"110",prop:"shop_sale_count",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.shop_sale_count?e.numberFormat(Number(t.row.shop_sale_count),0,".",","):"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"店铺销售额 (元)","min-width":"150",prop:"shop_gmv",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.shop_gmv?e.formatPriceFormYuan(0===t.row.shop_gmv?0:t.row.shop_gmv/100,2,!1):"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"平均件单价 (元)","min-width":"150",prop:"shop_sale_price_avg",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.shop_sale_price_avg?e.formatPriceFormYuan(0===t.row.shop_sale_price_avg?0:t.row.shop_sale_price_avg/100,2,!1):"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"店铺销售额占比","min-width":"140",prop:"shop_gmv_rate",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.shop_gmv_rate?e.numberFormat(Number(t.row.shop_gmv_rate),2)+"%":"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"发货前退款销售额 (元)","min-width":"180",prop:"shop_refund_status21_gmv",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.shop_refund_status21_gmv&&void 0!==t.row.shop_refund_status21_gmv?e.formatPriceFormYuan(0===t.row.shop_refund_status21_gmv?0:t.row.shop_refund_status21_gmv/100,2,!1):"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"发货前退款销售额占比","min-width":"180",prop:"shop_refund_status21_gmv_rate",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.shop_refund_status21_gmv_rate&&void 0!==t.row.shop_refund_status21_gmv_rate?e.numberFormat(Number(t.row.shop_refund_status21_gmv_rate),2)+"%":"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"退款销售额 (元)","min-width":"160",prop:"shop_refund_gmv",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.shop_refund_gmv?e.formatPriceFormYuan(0===t.row.shop_refund_gmv?0:t.row.shop_refund_gmv/100,2,!1):"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"退款销售额占比","min-width":"160",prop:"shop_refund_gmv_rate",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.shop_refund_gmv_rate?e.numberFormat(Number(t.row.shop_refund_gmv_rate),2)+"%":"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"点击率","min-width":"100",prop:"click_rate",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.click_rate?e.numberFormat(Number(t.row.click_rate),2)+"%":"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"转化率","min-width":"110",prop:"pay_rate",align:"right",sortable:!!e.showSort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(null!==t.row.pay_rate?e.numberFormat(Number(t.row.pay_rate),2)+"%":"--")+" ")]}}])}),a("el-table-column",{attrs:{label:"查看",width:"87",fixed:"right",prop:"view",align:"center","label-class-name":e.showSort?"check-label":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"overview-btn-box"},[a("a",{staticClass:"btn-text",staticStyle:{"font-weight":"normal"},on:{click:function(a){return a.stopPropagation(),e.onSaleDetailClick(t.row)}}},[e._v("商品明细")])])]}}])})],1)],1),a("div",{staticClass:"pie-box",staticStyle:{border:"1px solid #d1d8e0","border-radius":"4px","margin-top":"18px"}},[a("div",{staticClass:"box-title",staticStyle:{"font-size":"14px",margin:"18px 24px 0px 24px","font-weight":"400"}},[e._v(" 价格带销售分析 ")]),a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("PriceNew",{staticStyle:{flex:"1"},attrs:{visible:!0}}),a("PriceNew",{staticStyle:{flex:"1"},attrs:{visible:!0,is_table:!1}})],1)]),a("div",{staticStyle:{margin:"18px 0",border:"1px solid #d1d8e0","border-radius":"4px",padding:"18px 24px"}},[a("div",{staticClass:"first-category-box"},[e._v("商品销售详情")]),a("div",{staticClass:"table-main"},[a("div",[a("el-form",{ref:"formRef",staticClass:"el-form",attrs:{inline:!0,"label-width":"60px",size:"small","label-position":"left"}},[a("el-form-item",{staticStyle:{"margin-right":"24px"},attrs:{label:"商品信息"}},[a("el-input",{staticStyle:{width:"264px"},attrs:{placeholder:"请输入商品名称或商品编码"},model:{value:e.saleInfo.title,callback:function(t){e.$set(e.saleInfo,"title","string"===typeof t?t.trim():t)},expression:"saleInfo.title"}})],1),a("el-form-item",{staticStyle:{"margin-right":"24px"},attrs:{label:"二级类目"}},[a("el-select",{staticStyle:{width:"264px"},attrs:{placeholder:"请选择类目",filterable:""},on:{change:e.onSelectCatIdChange},model:{value:e.saleInfo.select_cat_id,callback:function(t){e.$set(e.saleInfo,"select_cat_id",t)},expression:"saleInfo.select_cat_id"}},[a("el-option",{attrs:{label:"全部",value:void 0}}),e._l(e.categoryList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],2)],1),a("el-form-item",{staticStyle:{"margin-right":"24px"},attrs:{label:"三级类目"}},[a("el-select",{staticStyle:{width:"264px"},attrs:{placeholder:"请选择类目",filterable:""},model:{value:e.saleInfo.third_tiange_cat_id,callback:function(t){e.$set(e.saleInfo,"third_tiange_cat_id",t)},expression:"saleInfo.third_tiange_cat_id"}},[a("el-option",{attrs:{label:"全部",value:void 0}}),e._l(e.categoryList2,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],2)],1),a("el-form-item",[a("tg-button",{attrs:{type:"primary"},on:{click:e.searchInfo}},[e._v("查询")]),a("tg-button",{staticClass:"mgl-12",on:{click:e.onQueryResetClick}},[e._v("重置")])],1)],1)],1),a("div",{staticClass:"table-lalal"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.saleInfoLoading,expression:"saleInfoLoading"}],attrs:{stripe:"",height:"100%",border:"",data:e.saleInfoData||[],"default-sort":{prop:"sale_count",order:"descending"}},on:{"sort-change":e.tableSort}},[e._l(e.infoColumn,(function(t,o){return a("el-table-column",e._b({key:o},"el-table-column",t,!1))})),a("template",{slot:"empty"},[a("div",{staticStyle:{"margin-top":"20px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100,"detial-text":"暂无数据"}})],1)])],2),!e.saleInfoData||e.saleInfoData.length>0?a("div",{staticClass:"block flex-none",staticStyle:{margin:"8px 0 10px 0"}},[a("el-pagination",{staticClass:"mgt-12",attrs:{"current-page":e.saleInfo.page_num,"page-sizes":[10,20],"page-size":e.saleInfo.num,total:e.infoTotal,layout:"total, prev, pager, next, sizes, jumper"},on:{"current-change":e.onCurrentChange,"size-change":e.handlePageSizeChange}})],1):e._e()],1)])])])},s=[],l=a(44744),c=a(44647),d=a(92410),p=a(64236),u=a(45781),_=a(24643),m=a(6933),v=a.n(m),f=a(61282),h=a(9914),g=a(43773),y=a(78003);const{formatPriceFormYuan:x}=u.Z,b=(0,i.ref)(0),j=(0,g.R)({component:y.Z,title:"商品明细",footer:!1,width:"1100px",class:"zIndex",props:{kol_id:b}});var w=(0,i.defineComponent)({name:"shopIndex",components:{LineCharts:l.Z,PriceNew:c.Z},props:{performanceId:{type:Number,default:0},projectData:{type:Object,default:()=>({})}},setup:(e,t)=>{const a=(0,i.ref)({is_from_project:!!e.projectData&&e.projectData.from_project,room_id:e.performanceId,project_id:e.projectData?e.projectData.project_id:0,end_date:e.projectData?e.projectData.end_time:"",start_date:e.projectData?e.projectData.start_time:"",sort:"shop_gmv_desc"});(0,i.provide)("searchOneParams",a),e.projectData&&e.projectData.project_name&&(0,i.provide)("searchProjectName",e.projectData.project_name);const o=(0,i.ref)(0),r=e=>{o.value=e.height},n=(0,i.ref)(!1),s=(0,i.ref)("shop_gmv_desc"),l=(0,i.ref)([]),c=(0,i.ref)([]),u=(0,i.ref)(!0),m=(0,i.ref)([]),g=(0,i.ref)(),y=async e=>{n.value=!0;const[{data:a}]=await(0,p.Dc)(500,(0,d.Ag)(e));if(n.value=!1,a.success){g.value=a.data;let e=a.data.categories;e.length>0?(e=[].concat(...e.map((e=>e.children))),e.map((e=>{"其他"===e.category_name?(e.third_tiange_cat_name="小计",e.children=[]):(e.third_tiange_cat_name="小计",e.children.map((e=>{e.category_name=""})))})),e.length>0&&e.unshift(C()),u.value=!0,(0,i.nextTick)((()=>{m.value=e}))):(u.value=!1,m.value=[])}else m.value=[],u.value=!1,g.value=void 0,t.root.$message({type:"warning",message:a.message||"查询失败，稍后重试",duration:2e3,showClose:!0})};(0,i.onBeforeMount)((async()=>{await y({...a.value,sort:s.value}),(0,i.nextTick)((()=>{setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),1e3)}))})),(0,i.watch)((()=>e.projectData),(async()=>{a.value={is_from_project:!!e.projectData&&e.projectData.from_project,room_id:e.performanceId,project_id:e.projectData?e.projectData.project_id:0,end_date:e.projectData?e.projectData.end_time:"",start_date:e.projectData?e.projectData.start_time:"",sort:"shop_gmv_desc"},A.value={is_from_project:!!e.projectData&&e.projectData.from_project,room_id:e.performanceId,project_id:e.projectData?e.projectData.project_id:0,end_date:e.projectData?e.projectData.end_time:"",start_date:e.projectData?e.projectData.start_time:""},e.projectData&&((0,i.provide)("searchParams",a),(0,i.provide)("searchProjectName",e.projectData.project_name)),await y({...a.value,sort:s.value}),await L({start_date:A.value.start_date,end_date:A.value.end_date,project_id:A.value.project_id,level:1,room_id:String(a.value.room_id)}),z()}),{deep:!0});const b=(0,i.ref)(0),w=t=>{j.show({room_id:String(a.value.room_id),project_name:e.projectData.project_name||t.project_name,project_id:String(a.value.project_id),first_tiange_cat_id:t.first_tiange_cat_id,second_tiange_cat_id:t.second_tiange_cat_id,third_tiange_cat_id:t.third_tiange_cat_id,start_date:v()(a.value.start_date).format("YYYY-MM-DD"),end_date:v()(a.value.end_date).format("YYYY-MM-DD"),is_from_project:!!e.projectData&&e.projectData.from_project})},S=({order:e,prop:t})=>{let o="";"descending"===e?o=`${t}_desc`:"ascending"===e&&(o=`${t}`),s.value=o,y({...a.value,sort:o})},D=({row:e})=>{let t={};return"小计"===e.third_tiange_cat_name&&(t={"background-color":"#F6FBFF"}),!0===e.isSum&&(t={"background-color":"#E9E9E9 !important"},t["font-weight"]=600),t},C=()=>{const e=["item_count","shop_sale_count","shop_gmv","shop_sale_price_avg","shop_gmv_rate","shop_refund_status21_gmv","shop_refund_status21_gmv_rate","last_week_shop_sale_count","last_week_shop_gmv","last_week_shop_sale_price_avg","shop_sale_count_rate","shop_sale_gmv_rate","shop_sale_price_avg_rate","total_shop_sale_count","total_shop_gmv","sale_count","gmv","gmv_rate","last_week_sale_count","last_week_gmv","sale_count_rate","sale_gmv_rate","click_rate","pay_rate","shop_refund_gmv_rate","shop_refund_gmv"],t={category_name:"全部",third_tiange_cat_name:"合计",isSum:!0};return e.map((e=>{if(void 0===g.value)return"--";t[e]=g.value["all_"+e],void 0===t[e]&&(t[e]=null)})),t},k=e=>void 0!==e.children?e.id+"only":e.id,A=(0,i.ref)({is_from_project:!!e.projectData&&e.projectData.from_project,room_id:e.performanceId,project_id:e.projectData?e.projectData.project_id:0,end_date:e.projectData?e.projectData.end_time:"",start_date:e.projectData?e.projectData.start_time:""}),I=(0,i.ref)({num:10,page_num:1,sort:"",title:"",select_cat_id:void 0,third_tiange_cat_id:void 0}),{saleData:F,getData:T,loading:N,total:B,hotGoodsColumn:P,category_2:E,category_3:O,getCategory_2:L,getCategory_3:Z}=(0,h.CB)(t);L({start_date:A.value.start_date,end_date:A.value.end_date,project_id:A.value.project_id,level:1,room_id:String(a.value.room_id)});const R=e=>{I.value.third_tiange_cat_id=void 0,Z({start_date:A.value.start_date,end_date:A.value.end_date,project_id:A.value.project_id,level:2,category_id:I.value.select_cat_id,room_id:String(a.value.room_id)})},$=e=>{const{prop:t,order:a}=e;I.value.sort=null===a?"sale_count_desc":"ascending"===a?t:t+"_desc",z()},z=()=>{A.value.start_date&&T({...A.value,...I.value})};z();const Y=e=>{I.value.page_num=e,z()},M=()=>{I.value.page_num=1,I.value.num=10,I.value.select_cat_id=void 0,I.value.third_tiange_cat_id=void 0,I.value.title="",z()},H=e=>{I.value.page_num=1,I.value.num=e,z()};return{handlePageSizeChange:H,onQueryResetClick:M,searchInfo:z,onSelectCatIdChange:R,categoryList:E,categoryList2:O,onCurrentChange:Y,saleInfo:I,projectAndDate:A,tableSort:$,saleInfoData:F,getSaleInfo:T,saleInfoLoading:N,infoTotal:B,infoColumn:P,sortChange:S,loading:n,onTopCardRectUpdate:r,heightList:l,lowList:c,list:m,showSort:u,formatPriceFormYuan:x,numberFormat:_.Y4,get_folded_text:f.$O,catId:b,rowHightlight:D,getSummaries:C,getRowKey:k,onSaleDetailClick:w}}}),S=w,D=a(1001),C=(0,D.Z)(S,n,s,!1,null,"38afc40d",null),k=C.exports,A=a(2885),I=a(57048),F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"min-height":"500px","padding-top":"6px"}},[e.permission.view_or_save_shop_daily_report&&e.is_from_project?a("tg-button",{staticStyle:{"margin-top":"18px"},attrs:{type:"primary",icon:"ico-btn-add"},on:{click:e.onAddClick}},[e._v("新增批注")]):e._e(),a("div",{staticStyle:{margin:"18px 0"}},[e._l(e.list,(function(t){return a("div",{key:t,staticClass:"title-detail"},[a("div",{staticClass:"title"},[a("span",[e._v(" "+e._s(t.live_start_time)+" - "+e._s(t.live_end_time)+" "),a("span",{staticStyle:{"margin-left":"24px",color:"#a4b2c2"}},[e._v(e._s(t.flower_name))])]),e.permission.view_or_save_shop_daily_report&&e.is_from_project?a("span",{staticClass:"operation-area"},[a("tg-icon",{staticClass:"ico-btn",attrs:{name:"ico-delete"},on:{click:function(a){return e.deleteClick(t)}}})],1):e._e()]),a("div",{staticClass:"detail"},[e._v(e._s(t.comment))])])})),e.list.length<1?a("div",[0===e.list.length?a("empty-common",{staticStyle:{"margin-top":"150px"},attrs:{imgWidth:200,imgHeight:100,"detial-text":"暂无数据~"}}):e._e()],1):e._e()],2),a("addDialog",{attrs:{performanceId:e.performanceId,projectData:e.projectData,visiable:e.dialogVisiable},on:{closeAction:e.closeAction}})],1)},T=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"customer-dialog tg-dialog-vcenter-commentary",attrs:{visible:e.visiable,height:"400px",width:"440px","append-to-body":"","close-on-click-modal":!1},on:{close:e.handleCloseAction},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("新增批注")]},proxy:!0},{key:"footer",fn:function(){return[a("tg-button",{on:{click:e.handleCloseAction}},[e._v("取消")]),a("tg-button",{attrs:{type:"primary"},on:{click:e.handleSaveAction}},[e._v("保存")])]},proxy:!0}])},[a("div",{staticClass:"news-body"},[a("div",[a("div",[a("div",{staticClass:"select-item",staticStyle:{"margin-top":"0px"},attrs:{size:"medium"}},[a("div",{staticStyle:{width:"36px",color:"#6a7b92"}},[e._v("时间")]),a("div",{staticStyle:{width:"392px","margin-top":"6px",border:"1px solid rgba(164, 178, 194, 0.5)","border-radius":"2px"}},[a("el-date-picker",{staticClass:"date-pk",staticStyle:{width:"100%"},attrs:{"popper-class":"date-pk",type:"datetimerange","range-separator":"~",clearable:!1,"value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":{disabledDate:function(t){return e.disabledDate(t)}}},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)]),a("div",{staticClass:"select-item",attrs:{size:"medium"}},[a("div",{staticStyle:{width:"36px",color:"#6a7b92"}},[e._v("内容")]),a("div",{staticStyle:{width:"392px","margin-top":"6px",border:"1px solid rgba(164, 178, 194, 0.5)","border-radius":"2px"}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容",maxlength:"100","show-word-limit":""},model:{value:e.commentaryContent,callback:function(t){e.commentaryContent=t},expression:"commentaryContent"}})],1)])])])])]),a("tg-mask-loading",{attrs:{visible:e.saveLoading,content:"  正在保存，请稍候..."}})],1)},B=[],P=(0,i.defineComponent)({props:{performanceId:{type:Number,default:0},visiable:{type:Boolean,default:!1},projectData:{type:Object,default:()=>({})}},setup(e,t){const a=(0,i.ref)(!1),o=(0,i.ref)(""),r=(0,i.ref)(["",""]);r.value=[e.projectData.start_time?e.projectData.start_time:"",e.projectData.end_time?e.projectData.end_time:""];const n=v()(r.value[0]),s=v()(r.value[1]),l=e=>{e=v()(e);const t=e.clone().startOf("day");return t.valueOf()!==e.valueOf()?e.isBefore(n)||e.isAfter(s):e.isBefore(n.clone().startOf("day"))||e.isAfter(s.clone().endOf("day"))},c=()=>{t.emit("closeAction")},p=(0,i.ref)(!1),u=()=>{r.value[0]&&r.value[1]&&o.value?(p.value=!0,(0,d.O_)({live_start_time:r.value[0],live_end_time:r.value[1],comment:o.value,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{p.value=!1,e.success?(t.emit("closeAction",!0),t.root.$message.success(e.message||"添加批注成功")):t.root.$message.error(e.message||"添加批注失败")}))):t.root.$message.warning("请完善数据！！！")};return(0,i.watch)((()=>e.visiable),(()=>{r.value=[e.projectData.start_time?e.projectData.start_time:"",e.projectData.end_time?e.projectData.end_time:""],o.value=""})),{disabledDate:l,daytrendLoading:p,dates:r,commentaryContent:o,saveLoading:a,handleSaveAction:u,handleCloseAction:c}}}),E=P,O=(0,D.Z)(E,N,B,!1,null,"6ba5cdf8",null),L=O.exports,Z=a(82741),R=a(21757),$=(0,i.defineComponent)({name:"commentaryIndex",props:{performanceId:{type:Number,default:0},projectData:{type:Object,default:()=>({})}},components:{addDialog:L},setup(e,t){const a=(0,R.gI)(),o=(0,i.inject)("searchParams")||(0,i.ref)({}),r=(0,i.computed)((()=>0===e.performanceId?o.value.is_from_project||!1:e.projectData.from_project||!1)),n=(0,i.ref)([]),s=(0,i.ref)(!1),l=()=>{s.value=!0},c=(e=!1)=>{s.value=!1,e&&(t.emit("upDataProjectDeatil"),_())},p=async e=>{const a=await(0,Z.I)(t,"是否确认删除【这条批注数据】吗？");a&&(0,d.ak)({comment_id:e.id}).then((({data:e})=>{e.success?(_(),t.emit("upDataProjectDeatil")):t.root.$message.error(e.message||"数据删除失败")}))},u=(0,i.ref)(!1),_=()=>{u.value=!0,(0,d.Oi)({is_from_project:r,shop_live_id:0===e.performanceId?void 0:e.performanceId}).then((({data:e})=>{u.value=!1,e.success?n.value=e.data.comments||[]:(n.value=[],t.root.$message.error(e.message||"数据获取失败"))}))};return _(),{is_from_project:r,permission:a,list:n,daytrendLoading:u,getList:_,deleteClick:p,onAddClick:l,closeAction:c,dialogVisiable:s}}}),z=$,Y=(0,D.Z)(z,F,T,!1,null,"eafac2e2",null),M=Y.exports,H=a(99752),V=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{padding:"0 18px 12px 18px"}},[o("div",{staticClass:"project-desc-info"},[o("div",{staticClass:"project-icon-container"},[o("el-image",{staticClass:"project-icon",attrs:{src:e.projectDetail.shop_logo}},[o("div",{staticClass:"project-icon-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[o("img",{attrs:{src:a(23818),alt:""}})]),o("div",{staticClass:"project-icon-slot",attrs:{slot:"error"},slot:"error"},[o("img",{attrs:{src:a(23818),alt:""}})])])],1),o("div",{staticClass:"project-desc"},[o("div",{staticClass:"title",staticStyle:{display:"flex","justify-content":"space-between"}},[e._v(" "+e._s(e.projectDetail.shop_name?e.projectDetail.shop_name:"--")+" "),o("span",{staticStyle:{color:"#a4b2c2","font-size":"12px"}},[e._v("数据更新时间："+e._s(e.projectDetail.last_update_time))])]),o("div",[e._v(" 开播时粉丝数："),o("span",[e._v(" "+e._s(null===e.projectDetail.before_live_fans_num||void 0===e.projectDetail.before_live_fans_num?"--":e.formatPriceToThousandformatAmount(Number(e.projectDetail.before_live_fans_num).toFixed(0),0,!1,!0)))])]),o("div",[e._v(" 直播时间："),o("span",[e._v(" "+e._s(null!==e.projectDetail.start_time&&void 0!==e.projectDetail.start_time||null!==e.projectDetail.end_time&&void 0!==e.projectDetail.end_time?e.projectDetail.start_time+" - "+e.projectDetail.end_time:"--"))]),e._v("     直播时长："),o("span",[e._v(e._s(null===e.projectDetail.live_duration||void 0===e.projectDetail.live_duration?"--":e.transformSecond(e.projectDetail.live_duration)))])])])]),o("div",{staticStyle:{"margin-top":"24px",padding:"20px",height:"152px",background:"#f5f5f5","border-radius":"4px"}},[o("div",{staticClass:"title-amount"},[o("div",{staticClass:"item"},[o("div",[e._v("直播间成交金额")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.gmv||void 0===e.projectDetail.gmv?"--":e.formatAmount(Number(e.projectDetail.gmv/100)))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("千次观看成交金额")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.gpm||void 0===e.projectDetail.gpm?"--":e.formatAmount(Number(e.projectDetail.gpm/100)))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("直播间成交订单数")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.pay_order_cnt||void 0===e.projectDetail.pay_order_cnt?"--":e.formatAmount(Number(e.projectDetail.pay_order_cnt).toFixed(0),"None",!0))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("直播间成交人数")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.pay_ucnt||void 0===e.projectDetail.pay_ucnt?"--":e.formatPriceToThousandformatAmount(Number(e.projectDetail.pay_ucnt).toFixed(0),0,!1,!0))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("客单价")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.per_customer_price||void 0===e.projectDetail.per_customer_price?"--":e.formatAmount(Number(e.projectDetail.per_customer_price/100)))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("退款金额")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.refund_in_live_order_gmv||void 0===e.projectDetail.refund_in_live_order_gmv?"--":e.formatAmount(Number(e.projectDetail.refund_in_live_order_gmv/100)))+" ")])])]),o("div",{staticClass:"title-amount"},[o("div",{staticClass:"item"},[o("div",[e._v("直播间观看人数")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.watch_ucnt||void 0===e.projectDetail.watch_ucnt?"--":e.formatPriceToThousandformatAmount(Number(e.projectDetail.watch_ucnt||0).toFixed(0),0,!1,!0))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("平均在线人数")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.avg_online_cnt||void 0===e.projectDetail.avg_online_cnt?"--":e.formatPriceToThousandformatAmount(Number(e.projectDetail.avg_online_cnt).toFixed(0),0,!1,!0))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("最高在线人数")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.max_online_cnt||void 0===e.projectDetail.max_online_cnt?"--":e.formatPriceToThousandformatAmount(Number(e.projectDetail.max_online_cnt).toFixed(0),0,!1,!0))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("人均观看时长")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.avg_watch_duration||void 0===e.projectDetail.avg_watch_duration?"--":e.transformSecond(e.projectDetail.avg_watch_duration))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("新增粉丝人数")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.incr_fans_cnt||void 0===e.projectDetail.incr_fans_cnt?"--":e.formatPriceToThousandformatAmount(Number(e.projectDetail.incr_fans_cnt).toFixed(0),0,!1,!0))+" ")])]),o("div",{staticClass:"item"},[o("div",[e._v("取关粉丝人数")]),o("div",{staticClass:"amount"},[e._v(" "+e._s(null===e.projectDetail.unfollow_fans_cnt||void 0===e.projectDetail.unfollow_fans_cnt?"--":e.formatPriceToThousandformatAmount(Number(e.projectDetail.unfollow_fans_cnt).toFixed(0),0,!1,!0))+" ")])])])]),o("div",{staticStyle:{"margin-top":"24px",display:"flex"}},[o("div",{staticStyle:{width:"250px",height:"446px"}},[e.projectDetail.stream_url?o("videoPlayer",{attrs:{videoData:e.videoData,poster:e.projectDetail.stream_screenshot_url,src:e.projectDetail.stream_url},on:{videoStudyTime:e.videoStudyTime}}):o("div",{staticStyle:{height:"450px",width:"250px",padding:"auto",border:"1px solid #d1d8e0"}},[o("empty-common",{staticStyle:{"margin-top":"150px"},attrs:{imgWidth:120,imgHeight:80,detailText:"暂无视频"}})],1)],1),o("div",{staticStyle:{flex:"1",height:"460px"}},[o("div",{staticClass:"explain-shop"},[e.projectShop?o("div",[e._v(" 讲解时间："),o("span",[e._v(e._s(""===e.project_shop_time?"--":e.project_shop_time))]),e._v("     主播："),o("span",[e._v(" "+e._s(""===e.project_shop_koi?"--":e.project_shop_koi))]),e._v("    "),o("span",{staticStyle:{color:"#a4b2c2"}},[e._v("以下为商品全场汇总数据")])]):o("div",[e._v(" 主播："),o("span",[e._v(" "+e._s(""===e.project_shop_koi?"--":e.project_shop_koi))]),o("empty-common",{staticStyle:{"margin-top":"10px"},attrs:{imgWidth:100,imgHeight:50,detailText:"当前暂无讲解商品"}})],1),e.projectShop?o("div",{staticStyle:{"margin-top":"12px",display:"flex","justify-content":"flex-start"}},[o("div",{staticClass:"goods-info",staticStyle:{width:"256px"}},[o("el-image",{staticClass:"project-icon",attrs:{src:e.projectShop.image_uri}},[o("div",{staticClass:"project-icon-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[o("img",{attrs:{src:a(59760),alt:""}})]),o("div",{staticClass:"project-icon-slot",attrs:{slot:"error"},slot:"error"},[o("img",{attrs:{src:a(59760),alt:""}})])]),o("div",{staticClass:"info-row"},[o("div",{staticClass:"detail"},[o("span",{staticStyle:{color:"#a4b2c2"}},[e._v(e._s(""===e.project_shop_id?"--":e.project_shop_id))])]),o("div",{staticClass:"line-clamp-2 goods-title",staticStyle:{"margin-top":"2px"}},[e._v(" "+e._s(""===e.projectShop.product_title||void 0===e.projectShop.product_title?"--":e.projectShop.product_title)+" ")]),o("div",{staticClass:"detail",staticStyle:{"margin-top":"4px"}},[o("span",{staticStyle:{color:"#a4b2c2"}},[e._v(e._s(""===e.projectShop.sn||void 0===e.projectShop.sn?"--":e.projectShop.sn))])])])],1),o("div",{staticClass:"line"}),o("div",{staticStyle:{flex:"1","margin-left":"12px"}},[o("div",{staticStyle:{display:"flex","justify-content":"flex-start",height:"40px"}},[o("div",{staticStyle:{width:"18%","min-width":"120px"}},[o("div",[e._v("成交金额")]),o("span",[e._v(e._s(null===e.projectShop.pay_in_live_order_product_gmv||void 0===e.projectShop.pay_in_live_order_product_gmv?"--":e.formatAmount(Number(e.projectShop.pay_in_live_order_product_gmv/100))))])]),o("div",{staticStyle:{width:"15%","min-width":"100px"}},[o("div",[e._v("成交件数")]),o("span",[e._v(e._s(null===e.projectShop.pay_in_live_order_product_cnt||void 0===e.projectShop.pay_in_live_order_product_cnt?"--":e.formatAmount(Number(e.projectShop.pay_in_live_order_product_cnt).toFixed(0),"None",!0)))])]),o("div",{staticStyle:{width:"15%","min-width":"100px"}},[o("div",[e._v("成交人数")]),o("span",[e._v(" "+e._s(null===e.projectShop.pay_in_live_order_ucnt||void 0===e.projectShop.pay_in_live_order_ucnt?"--":e.formatAmount(Number(e.projectShop.pay_in_live_order_ucnt).toFixed(0),"None",!0))+" ")])]),o("div",{staticStyle:{width:"15%","min-width":"120px"}},[o("div",[e._v("成交订单数")]),o("span",[e._v(e._s(null===e.projectShop.pay_in_live_order_cnt||void 0===e.projectShop.pay_in_live_order_cnt?"--":e.formatAmount(Number(e.projectShop.pay_in_live_order_cnt).toFixed(0),"None",!0)))])]),o("div",{staticStyle:{width:"18%","min-width":"120px"}},[o("div",[e._v("退款金额")]),o("span",[e._v(e._s(null===e.projectShop.refund_in_live_order_gmv||void 0===e.projectShop.refund_in_live_order_gmv?"--":e.formatAmount(Number(e.projectShop.refund_in_live_order_gmv/100))))])]),o("div",{staticStyle:{width:"15%","min-width":"100px"}},[o("div",[e._v("退款订单数")]),o("span",[e._v(e._s(null===e.projectShop.refund_in_live_order_cnt||void 0===e.projectShop.refund_in_live_order_cnt?"--":e.formatAmount(Number(e.projectShop.refund_in_live_order_cnt).toFixed(0),"None",!0)))])])]),o("div",{staticStyle:{"margin-top":"6px",display:"flex","justify-content":"flex-start",height:"40px"}},[o("div",{staticStyle:{width:"18%","min-width":"120px"}},[o("div",[e._v("商品讲解次数")]),o("span",[e._v(" "+e._s(null===e.projectShop.explain_times||void 0===e.projectShop.explain_times?"--":e.formatPriceToThousandformatAmount(Number(e.projectShop.explain_times).toFixed(0),0,!1,!0))+" ")])]),o("div",{staticStyle:{width:"15%","min-width":"100px"}},[o("div",[e._v("商品曝光人数")]),o("span",[e._v(" "+e._s(null===e.projectShop.product_watch_ucnt||void 0===e.projectShop.product_watch_ucnt?"--":e.formatPriceToThousandformatAmount(Number(e.projectShop.product_watch_ucnt).toFixed(0),0,!1,!0))+" ")])]),o("div",{staticStyle:{width:"15%","min-width":"100px"}},[o("div",[e._v("商品点击人数")]),o("span",[e._v(" "+e._s(null===e.projectShop.product_click_ucnt||void 0===e.projectShop.product_click_ucnt?"--":e.formatPriceToThousandformatAmount(Number(e.projectShop.product_click_ucnt).toFixed(0),0,!1,!0))+" ")])]),o("div",{staticStyle:{width:"15%","min-width":"120px"}},[o("div",[e._v("商品曝光-点击率")]),o("span",[e._v(e._s(null===e.projectShop.product_watch_click_ucnt_ration||void 0===e.projectShop.product_watch_click_ucnt_ration?"--":e.formatAmount(Number(e.projectShop.product_watch_click_ucnt_ration),"None")+"%"))])]),o("div",{staticStyle:{width:"18%","min-width":"120px"}},[o("div",[e._v("商品曝光-成交率")]),o("span",[e._v(e._s(null===e.projectShop.product_click_pay_ucnt_ration||void 0===e.projectShop.product_click_pay_ucnt_ration?"--":e.formatAmount(Number(e.projectShop.product_click_pay_ucnt_ration),"None")+"%"))])])])])]):e._e()]),o("div",{staticStyle:{padding:"18px 0px"}},[o("BaseEcharts",{staticStyle:{height:"280px"},attrs:{currentIndex:e.currentIndex,options:e.baseOptions},on:{selectClick:e.selectClick}})],1)])])])},W=[],U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"h-100",attrs:{id:"common-video"}},[a("div",{staticClass:"h-100",class:{isShow:e.control}},[a("video",{ref:"myVideo",staticClass:"video-box",attrs:{poster:e.poster,src:e.src,controls:e.controls,oncontextmenu:"return false",controlslist:"nodownload"},on:{timeupdate:e.timeupdate}})])])},J=[],q={name:"CommonVideo",data(){return{videoState:!1,currentTime:0,timer:{},pauseTimer:{}}},props:{poster:{type:String,required:!1,default:"https://tiange-oss.oss-cn-hangzhou.aliyuncs.com/dev/compass/video/39935906/2022/07/7122620684236344078.mp4?x-oss-process=video/snapshot,t_0,f_jpg"},src:{type:String,required:!0},controls:{type:Boolean,required:!1,default:!0},control:{type:Boolean,required:!1,default:!1},videoData:{type:Object,required:!0}},mounted(){this.$refs.myVideo.addEventListener("play",(()=>{this.openTimer()})),this.$refs.myVideo.addEventListener("pause",(()=>{this.closeTimer()}))},methods:{openTimer(){this.currentTime=this.$refs.myVideo.currentTime,this.$emit("videoStudyTime",this.currentTime),this.timer=setInterval((()=>{this.$emit("videoStudyTime",this.currentTime)}),6e4)},closeTimer(){clearInterval(this.timer)},openPauseTimer(){this.pauseTimer=setInterval((()=>{this.hintOperate()}),6e5)},closePauseTimer(){clearInterval(this.pauseTimer)},hintOperate(){this.operateVideo()},timeupdate(e){Math.abs(this.currentTime-e.target.currentTime)>100&&(this.currentTime=e.target.currentTime,this.$emit("videoStudyTime",this.currentTime)),this.currentTime=e.target.currentTime},operateVideo(){if(!this.src)return this.$message({message:"暂无视频资源，请查看其他视频！"}),!1;this.$refs.myVideo.paused?(this.$refs.myVideo.play(),this.videoState=!0):(this.$refs.myVideo.pause(),this.videoState=!1)}},watch:{videoData:{handler:function(e){setTimeout((()=>{const{currentTime:t}=e;this.currentTime=t||0,this.$refs.myVideo.currentTime=t||0,this.$refs.myVideo.play(),this.videoState=!0}),200)},deep:!0}}},K=q,Q=(0,D.Z)(K,U,J,!1,null,null,null),G=Q.exports,X=a(32200),ee=a(60492),te=a(44928),ae=(0,i.defineComponent)({name:"performanceSell",props:{performanceId:{type:Number,default:0},updata:{type:Boolean,default:!1}},components:{BaseEcharts:X.Z,videoPlayer:G},setup(e,t){const a=(0,te.t)(),o="1"===a.currentRoute.query.from_project,r=["上架","讲解","注释"],n=[],s=[],l=(0,i.ref)([]);r.forEach((function(e,t){n.push({textBaseline:"middle",top:25*(t+.5)/3+63+"%",text:e,textStyle:{color:"#6A7B92",fontSize:12,fontWeight:400},left:20}),s.push({left:60,right:58,type:"category",data:[],top:25*t/3+5+61+"%",height:8,axisLabel:{color:"#606974",fontSize:11,show:!1},axisLine:{show:!0,lineStyle:{type:[2,2],dashOffset:-15,bottom:10,color:"rgba(52,63,76,0.30)",width:"1"}},axisPointer:{label:{show:!1}},axisTick:{show:!1}}),l.value.push({singleAxisIndex:t,coordinateSystem:"singleAxis",type:"scatter",data:[],symbol:"circle",color:["#FFBF00","#7048E8","#00B942"][t],symbolSize:function(e){return e}})})),l.value.push({gridIndex:0,itemStyle:{color:"#2877FF"},name:"实时在线人数",type:"line",smooth:!0,showSymbol:!1,data:[],emphasis:{focus:"series"}}),l.value.push({gridIndex:0,smooth:!0,name:"直播间进入人数",type:"line",itemStyle:{color:"#57C1FF"},showSymbol:!1,data:[],emphasis:{focus:"series"}}),l.value.push({gridIndex:0,itemStyle:{color:"#9273F8"},name:"分钟成交金额",type:"line",smooth:!0,yAxisIndex:1,showSymbol:!1,data:[],emphasis:{focus:"series"}});const c=(0,i.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){if(0===e[0].data)return"";let t=e[0].axisValue||"";t=t.replaceAll("-",".");let a=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t}<span></span></div>`;if(!(e[0].axisType.indexOf("singleAxis")>-1)){let t,o,r;for(let i=0;i<e.length;i++)o=e[i].color,t=e[i].seriesName,r=e[i].data,i!==e.length-1?a+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+o+'"></div>'+t+'：<div style="color: #19232D;font-weight: 400;"> '+(0,f.dN)(Number(r||0).toFixed(0),"None",!0)+" </div></div>":a+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+o+'"></div>'+t+'：<div style="color: #19232D;font-weight: 400;"> '+(0,f.dN)(Number(r||0))+" </div></div>";return a}{let a=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t}<span></span></div>`;const o=A.value.trend_date||[],r=o.findIndex((t=>t===e[0].axisValue));if(0===e[0].seriesIndex){const e=A.value.shelve[r],o=e?e.product_list:[];return a=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px;display: flex;justify-content: space-between">${t}<span style="color: #6A7B92">上架商品</span></div>`,o.map((e=>{a+='<div style="display: flex;justify-content: space-between;font-size:12px;font-weight:400;color: #6A7B92;">商品名称：<div class="base-good-title">'+e.product_title+" </div></div>"})),e&&(e.product_num||0)>3&&(a+="<div>上架商品总共有"+e.product_num+"个商品</div>"),a}if(1===e[0].seriesIndex){const e=A.value.explain[r];let o=e?e.start_time:"",i=e?e.end_time:"";return o.length>5&&(o=v()(o).format("HH:mm")),i.length>5&&(i=v()(i).format("HH:mm")),a=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px;display: flex;justify-content: space-between">${t}<span style="color: #6A7B92">讲解商品</span></div>`,a+='<div style="display: flex;justify-content: space-between;font-size:12px;font-weight:400;color: #6A7B92;">商品名称：<div class="base-title">'+(e?e.product_title:"")+" </div></div>",a+='<div style="color: #6A7B92;font-size:12px;font-weight:400;width: 200px;line-height: 24px">讲解时段：<span style="color: #19232D">'+o+"-"+i+"</span> </div>",a+='<div style="color: #6A7B92;font-size:12px;font-weight:400;width: 200px;line-height: 24px">新成交金额：<span style="color: #19232D"> '+(0,f.dN)(Number(e?e.gmv:0)/100)+"</span> </div>",a}if(2===e[0].seriesIndex){a="";const e=A.value.note[r]||[];return e.map((e=>{a+=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px;display: flex;justify-content: space-between">${t}<span style="color: #6A7B92">${e.user_name}</span></div>`,a+='<div class="base-title" style="margin-bottom: 20px">'+e.comment+"</div>"})),a}}return"<div>1222</div>"},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},dataZoom:[{show:!0,realtime:!0,start:0,end:70,xAxisIndex:[0,1],singleAxisIndex:[0,1,2],minValueSpan:8,height:18,bottom:10,textStyle:{show:!1,color:"white"},showDataShadow:!1}],legend:{data:["实时在线人数","直播间进入人数","分钟成交金额"],show:!0,right:120,top:5,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},xAxis:[{type:"category",data:[],axisLine:{lineStyle:{type:"solid",color:"rgba(52,63,76,0.30)",width:"1"}},gridIndex:0,axisLabel:{color:"#6A7B92",fontSize:11,formatter(e){return e.length>5?v()(e).format("MM.DD HH:mm"):e}},axisPointer:{label:{show:!1}},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(240, 240, 240, 1)"}}}],yAxis:[{type:"value",name:"人数",position:"left",gridIndex:0,alignTicks:!0,axisLine:{lineStyle:{type:"solid",color:"rgba(52,63,76,0.30)",width:"1"}},axisLabel:{color:"#6A7B92"},splitLine:{lineStyle:{type:"dashed",color:"rgba(240, 240, 240, 1)"}},nameTextStyle:{padding:[0,42,12,0],color:"#6A7B92"},axisPointer:{type:"none",label:{show:!1}}},{type:"value",name:"成交金额 (元)",position:"right",gridIndex:0,alignTicks:!0,axisLine:{lineStyle:{type:"solid",color:"rgba(52,63,76,0.30)",width:"1"}},splitLine:{lineStyle:{type:"dashed",color:"rgba(240, 240, 240, 1)"}},nameTextStyle:{padding:[0,0,12,28],color:"#6A7B92"},axisPointer:{type:"none",label:{show:!1}},axisLabel:{color:"#6A7B92",formatter(e){return C.value===ee.r.wan&&e?parseInt(e,10)/1e4:e}}},{singleAxisIndex:1},{singleAxisIndex:2},{singleAxisIndex:3}],grid:[{bottom:"45%",top:50,left:60,right:58,containLabel:!1},{top:"45%"}],title:n,singleAxis:s,series:[]}),p=(0,i.ref)({currentTime:0}),_=(0,i.ref)(-1),m=(0,i.ref)(0),h=(0,i.ref)(0),g=(0,i.ref)(0),y=e=>{const t=e.name||"",a=A.value.trend_date||[],o=a.findIndex((e=>e===t));_.value=o,null===A.value.video_start_second[o]?m.value=null:(m.value=A.value.video_start_second[o],p.value={currentTime:m.value||0}),b()},x=e=>{m.value=e||0;const t=parseInt(String(m.value/60),10)<1?1:parseInt(String(m.value/60),10),a=(0,i.ref)(!1);for(let o=t-1;o<A.value.video_start_second.length-1;o++){const e=A.value.video_start_second[o],t=A.value.video_end_second[o];if(null!==e&&null!==t&&m.value<t&&m.value>=e){_.value=o,a.value=!0;break}if(null!==e&&m.value<=e){_.value=o,a.value=!0;break}}!1===a.value&&(_.value=0),b()},b=()=>{if(_.value<k.value.length-1){const t=A.value.explain[_.value];if(t)h.value=t.video_start_second||0,g.value=t.video_end_second||0,B({is_from_project:o||!1,shop_live_id:e.performanceId,product_id:t.product_id,product_start_time:t.start_time});else if(null===m.value)D.value=null;else if(m.value>=g.value||m.value<h.value||null===D.value){const t=(A.value.explain||[]).find((e=>{if(!e)return!1;const t=e.video_start_second||0,a=e.video_end_second||0;return m.value>=t&&m.value<a}));t?(h.value=t.video_start_second||0,g.value=t.video_end_second||0,B({is_from_project:o||!1,shop_live_id:e.performanceId,product_id:t.product_id,product_start_time:t.start_time})):(D.value=null,P({is_from_project:o||!1,shop_live_id:e.performanceId,live_start_time:A.value.trend_date[_.value]}))}}},{formatPriceToThousandformatAmount:j}=u.Z,w=(0,i.ref)(!1),S=(0,i.ref)({}),D=(0,i.ref)(null),C=(0,i.ref)(""),k=(0,i.ref)([]),A=(0,i.ref)({}),I=(0,i.ref)(""),F=(0,i.ref)(""),T=(0,i.ref)(""),N=()=>{(0,d.qE)({is_from_project:o||!1,shop_live_id:e.performanceId}).then((({data:e})=>{w.value=!1,e.success?(S.value="{}"===JSON.stringify(e.data)?void 0:e.data,t.emit("getProjectDeatil",S.value)):(S.value={},t.root.$message.error(e.message||"数据获取失败"))})),(0,d.fQ)({shop_live_id:e.performanceId,is_from_project:o||!1}).then((({data:a})=>{if(w.value=!1,C.value="",a.success){A.value=a.data,l.value[0].data=(a.data.shelve||[]).map((e=>e?10:0)),l.value[1].data=(a.data.explain||[]).map((e=>e?10:0)),l.value[2].data=(a.data.note||[]).map((e=>e?10:0)),l.value[3].data=(a.data.online_user_cnt||[]).map((e=>e||0)),l.value[4].data=(a.data.watch_ucnt||[]).map((e=>e||0)),l.value[5].data=(a.data.min_gmv||[]).map((e=>e/100||0)),(a.data.min_gmv||[]).forEach((e=>{const t=e||0,a=Number(t)>1e6;a&&(C.value="万")})),c.value.yAxis[1].name="成交金额 "+(C.value?"("+C.value+")":"(元)"),c.value.series=l.value,k.value=a.data.trend_date,s[0].data=a.data.trend_date,s[1].data=a.data.trend_date,s[2].data=a.data.trend_date,c.value.singleAxis=s,c.value.xAxis[0].data=a.data.trend_date;const t=a.data.explain[0];t?(h.value=t.video_start_second||0,g.value=t.video_end_second||0,B({is_from_project:o||!1,shop_live_id:e.performanceId,product_id:t.product_id,product_start_time:t.start_time})):P({is_from_project:o||!1,shop_live_id:e.performanceId,live_start_time:a.data.trend_date[0]})}else A.value={},D.value=null,c.value.series=[],t.root.$message.error(a.message||"数据获取失败")}))};N();const B=t=>{I.value=t.product_id||"",F.value=t.product_start_time||"",(0,d.dF)(t).then((({data:a})=>{a.success?D.value=a.data:D.value=null,P({is_from_project:o||!1,shop_live_id:e.performanceId,live_start_time:t.product_start_time})}))},P=e=>{(0,d.Gr)(e).then((({data:e})=>{e.success?T.value=e.data.kol_name||"":T.value=""}))};return(0,i.watch)((()=>e.updata),(()=>{N()})),{project_shop_koi:T,project_shop_time:F,project_shop_id:I,projectData:A,trend_date:k,projectShop:D,projectDetail:S,getShopLiveData:N,loading:w,formatPriceToThousandformatAmount:j,currentIndex:_,videoStudyTime:x,videoData:p,selectClick:y,baseOptions:c,formatAmount:f.dN,transformSecond:f.Kf}}}),oe=ae,re=(0,D.Z)(oe,V,W,!1,null,"b633b340",null),ie=re.exports,ne=a(23812),se=(0,i.defineComponent)({name:"performanceDetail",components:{performanceIndex:ie,shopIndex:k,performanceFlowIndex:A.Z,performanceCrowdIndex:I.Z,performancePutIndex:H.Z,commentaryIndex:M},setup(e,t){const a=(0,te.t)(),o=a.currentRoute.params.id,r=(0,i.ref)(0),n=[k.name,A.Z.name,I.Z.name,H.Z.name,M.name],s=(0,ne.pK)((0,i.computed)((()=>{const e=[{label:"商品",value:0}];return e.push({label:"流量",value:1}),e.push({label:"粉丝",value:2}),e.push({label:"投放",value:3}),e.push({label:"批注",value:4}),e})),r),l="1"===a.currentRoute.query.from_project,c=a.currentRoute.query.project_name,d=(0,i.ref)({from_project:l,project_id:Number(a.currentRoute.query.project_id),project_name:c}),p=e=>{d.value=e,d.value.project_id=Number(a.currentRoute.query.project_id),d.value.project_name=c,d.value.from_project=l},u=(0,i.ref)(!1),_=()=>{u.value=!u.value};return{updata:u,upDataProjectDeatil:_,projectData:d,getProjectDeatil:p,...s,performanceId:o,switchComponents:n,selectIndex:r,fixed:!1}},mounted(){this.onRefresh(),window.addEventListener("scroll",this.fixedActiveBtn,!0)},beforeDestroy(){window.removeEventListener("scroll",this.fixedActiveBtn,!0)},methods:{fixedActiveBtn(e){const t=e.target.scrollTop||document.documentElement.scrollTop||document.body.scrollTop,a=String(e.target.className||"");0===t&&!0===this.fixed||(a.indexOf("el-table")<0&&a.indexOf("main-table")<0&&a.indexOf("el-props")<0&&a.indexOf("el-scrollbar__wrap")<0&&(this.fixed=t>=700,this.selectfixed=t>=700),!1!==this.fixed&&0!==t||(this.selectfixed=!1))},onTabChange(e){this.selectIndex=e.value,this.fixed&&this.$nextTick((()=>{const e=document.getElementsByClassName("performance-div");e[0].scrollTop=720,e[0].scrollLeft=0}))},onRefresh(){const e=document.getElementsByClassName("performance-div");e[0].scrollTop=0,e[0].scrollLeft=0}}}),le=se,ce=(0,D.Z)(le,o,r,!1,null,"1624277b",null),de=ce.exports},82741:function(e,t,a){"use strict";a.d(t,{I:function(){return r},u:function(){return i}});var o=a(71340);const r=(e,t)=>{const a="string"===typeof t?{title:t}:t;return new Promise((t=>{e.root.$TDialog({...a,onConfirm:()=>t(!0),onCancel:()=>t(!1)})}))},i=e=>{const t="string"===typeof e?{title:e}:e;return new Promise(((e,a)=>{(0,o.t)({...t,onConfirm:()=>e(!0),onCancel:()=>a()})}))}},58302:function(e,t,a){"use strict";var o=a(97434),r=a(77944),i=a(52140);const n=e=>{const t=(0,o.computed)((()=>r.Z.getters["global/scrollbarSetting"])),a=(0,o.computed)((()=>void 0!==e.pagename?!0!==t.value.find((t=>t.key===e.pagename))?.value:e.disable??!1)),n=(0,o.computed)((()=>{const t=(e.fixedBlockHeightRefs??[]).map((e=>(0,o.unref)(e))).reduce(((e,t)=>(0,o.unref)(e)+(0,o.unref)(t)),0);return a.value?"max-content":`calc(100vh - ${(0,o.unref)(t)+56+36}px)`})),s=(0,o.computed)((()=>(a.value,"flex-auto"))),l=(0,o.computed)((()=>({height:n.value,overflowInBody:!a.value}))),c=(0,o.ref)(0),d=(0,o.computed)((()=>a.value?{}:{height:Math.max(c.value-(0,o.unref)((0,o.unref)(e.compensation)),e.tableMinHeight??0)})),p=a.value?()=>{}:e=>{c.value!==e&&(c.value=e,(0,i.S)())},u=a.value?()=>{}:t=>{0===c.value?setTimeout((()=>{p(t.height)}),e.delay??1200):p(t.height)};return{cardHeight:n,tableProps:d,onRectUpdate:u,rectHeight:c,cardFlexClass:s,cardProps:l}};t["Z"]=n},23812:function(e,t,a){"use strict";a.d(t,{GQ:function(){return s},YE:function(){return i},cY:function(){return l},pK:function(){return n}});var o=a(97434),r=a(44928);const i=(e,t)=>({tabs:(0,o.reactive)([...e]),checkedTab:(0,o.ref)(t??(e.length<1?"":e[0].value))}),n=(e,t)=>{const a=(0,o.isRef)(e)?e:(0,o.ref)(e),r=(0,o.isRef)(t)?(0,o.unref)(t):t,i=a.value.length<1?"":a.value[0].value,n=(0,o.ref)(r??i);return{tabs:a,checkedTab:n}},s=(e,t,a)=>{const r=(0,o.reactive)([...t]),i=(0,o.ref)(a??(t.length<1?"":`${t[0].value}`)),n=t=>{e.root.$router.push({path:e.root.$route.path,query:{tab:`${t.value}`}})};return(0,o.onBeforeMount)((()=>{const o=e.root.$route.query.tab;i.value="string"===typeof o?o:a??(t.length<1?"":`${t[0].value}`)})),{tabs:r,checkedTab:i,onTabChange:n}},l=(e,t)=>{const a=(0,o.reactive)([...e]),i=(0,o.ref)(t??(e.length<1?"":`${e[0].value}`)),n=(0,r.t)(),s=e=>{const t=n.currentRoute,a={...t.params,tab:e.value};n.push({name:t.name,params:a})};return i.value=n.currentRoute.params.tab||t||i.value,{tabs:a,checkedTab:i,onTabChange:s}}},44928:function(e,t,a){"use strict";a.d(t,{t:function(){return r}});var o=a(86834);const r=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(o.Z,t)}});return e}},52140:function(e,t,a){"use strict";a.d(t,{S:function(){return o},n:function(){return r}});const o=()=>{const e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},r=()=>{const{width:e,height:t}=document.body.getBoundingClientRect();return{width:e,height:t}}},8136:function(e,t,a){"use strict";a.d(t,{AR:function(){return C},BG:function(){return w},Cl:function(){return b},D$:function(){return s},EI:function(){return p},Hx:function(){return i},LY:function(){return c},Nv:function(){return l},Ps:function(){return F},Rd:function(){return D},ZC:function(){return _},_t:function(){return h},bI:function(){return x},g9:function(){return f},hy:function(){return u},jh:function(){return A},mB:function(){return g},mx:function(){return I},nA:function(){return k},q0:function(){return S},sc:function(){return j},ug:function(){return y},us:function(){return v},vJ:function(){return m},wA:function(){return n},xF:function(){return d}});var o=a(20713),r=a.n(o);function i(e,t){const a=e.display_type;switch(a){case 0:return"混播";case 1:return"专场"}}const n=["综合","美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值"],s=["美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值","行政采购"];function l({category:e}){return 0===e?"无":n[e]}function c(e,t){const a=e.sales_price_period;switch(a){case 0:return"0 ~ 100";case 1:return"100 ~ 200";case 2:return"200以上"}}function d(e,t="YYYY-MM-DD"){return r()(e).format(t)}function p(e,t="YYYY-MM-DD hh:mm:ss"){return r()(e+"+0800").format(t)}function u(e,t){return r()(e+"+0800").format(t||"YYYY-MM-DD")}function _(e){let t=parseInt(e,10),a=0,o=0;t>=60&&(a=parseInt(t/60,10),t=parseInt(t%60,10),a>=60&&(o=parseInt(a/60,10),a=parseInt(a%60,10)));let r=""+(parseInt(t,10)<10?"0"+parseInt(t,10):parseInt(t,10));return r=(parseInt(a,10)<10?"0"+parseInt(a,10):parseInt(a,10))+":"+r,r=(parseInt(o,10)<10?"0"+parseInt(o,10):parseInt(o,10))+":"+r,r}function m(e){const t=e.is_presell;switch(t){case-1:return"未录入";case 1:return"预售";case 0:return"非预售";case 2:return"预热"}}function v(e){const t=e.is_display;switch(t){case-1:return"未录入";case 2:return"已出单";case 1:return"未出单"}}function f(e){const t=e.duration;switch(t){case-1:return"未录入";case 0:return"5 ~ 10分钟";case 1:return"10 ~ 15分钟";case 2:return"15 ~ 20分钟";case 3:return"0 ~ 5分钟";case 4:return"20分钟以上"}}function h(e){const t=e.display_period;switch(t){case-1:return"未录入";case 0:return"白天";case 1:return"晚上"}}function g(e){const t=e.shop_type;switch(t){case 0:return"无";case 1:return"淘宝店";case 2:return"天猫店";case 3:return"抖音店";default:return"--"}}function y(e){const t=e.company_type;switch(t){case 0:return"无";case 1:return"同行机构";case 2:return"广告公司";case 3:return"品牌TP";case 4:return"直客"}}function x(e,t){const a=/[^\x00-\xff]/g;let o;if(e.replace(a,"**").length>t){o=Math.floor(t/2);for(let r=o,i=e.length;r<i;r++)if(e.substr(0,r).replace(a,"**").length>=t)return e.substr(0,r)}return e}const b=[{type:0,value:"全部"},{type:1,value:"普通客户"},{type:2,value:"重点客户"},{type:3,value:"战略客户"},{type:4,value:"KA客户"}],j=[{value:"全部",type:0},{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13}],w=[{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13},{value:"行政采购",type:14}],S=[{value:3,text:"抖音店"},{value:1,text:"淘宝店"},{value:2,text:"天猫店"}],D=[{value:1,text:"同行机构"},{value:2,text:"广告公司"},{value:3,text:"品牌TP"},{value:4,text:"直客"}],C=[{type:0,value:"--"},{type:1,value:"同行机构"},{type:2,value:"广告公司"},{type:3,value:"品牌TP"},{type:4,value:"直客"}],k=["#D15CB4","#6090F0","#FF9C69","#59B6DF","#C673F0","#52CCC2","#F0737F","#6FCC66","#DBD26A","#9D73F0","#FAB36E","#A2D160","#D15CB4","#58B89F","#E06C9C","#8873F0","#FA9384","#C251A6","#486DB5","#C77A52","#4185A3","#9557B5","#3C968F","#B55760","#4F9149","#A19A4D","#7657B5","#BF8954","#759645","#964282","#3C7D6C","#A65073","#6556B3","#BF7065","#873874"],A=["#6090F0","#FF9C69","#52CCC2","#59B6DF","#C673F0","#D15CB4","#F0737F","#DBD26A","#FAB36E","#A2D160","#6FCC66","#58B89F","#8873F0","#FA9384","#9D73F0","#E06C9C","#C251A6"],I=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"];function F(e){for(const t of e)if("一"<=t&&t<="龥")return t;return e[0]}},43773:function(e,t,a){"use strict";a.d(t,{R:function(){return u},y:function(){return _}});var o=a(36568),r=a.n(o),i=a(97434),n=a(64923),s=a(77944);let l=1;const c=()=>{const e=document.createElement("div");return e.id="dialog_"+l++,document.body.appendChild(e),e},d=new Function,p=(e,t)=>{let a=e;return void 0===a&&(a={}),Object.keys(t).forEach((e=>{const o=a[e]||d,r=t[e];a[e]=(...e)=>{if(!1!==r(...e))return o(...e)}})),a},u=(e={})=>{const t=(0,i.ref)(),a=(0,i.reactive)({visible:!1,title:void 0,width:void 0,footer:!0,okText:"提交",cancelText:"取消",disabledOK:!0}),o=(0,i.ref)(!0),l=e=>{Object.keys(e).forEach((t=>{a.hasOwnProperty.call(a,t)&&(a[t]=e[t])}))};l(e);const d=(0,i.ref)(p(e.on,{close(){a.visible=!1},updateDialog(e={}){l(e)}})),u=()=>{const e=t.value.$refs&&t.value.$refs.dialogRef||{};e.dialogSubmit?e.dialogSubmit():e.onSaveBtnClick?e.onSaveBtnClick():console.log("子组件没有dialogSubmit或onSaveBtnClick")};t.value=new n["default"]({el:c(),store:s.Z,setup(){void 0!==e.provide&&Object.keys(e.provide).forEach((t=>{(0,i.provide)(t,e.provide[t])}))},render(t){if(o.value&&a.visible)return t("el-dialog",r()([{class:`customer-dialog el-dialog-center-rewrite tg-body-container  ${e.class}`},{props:a},{attrs:{"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1}},{on:d.value},{attrs:{isDialog:!0}}]),[a.visible&&t(e.component,{ref:"dialogRef",props:{...e.props,isDialog:!0},on:d.value}),a.footer&&t("fragments",{slot:"footer"},[t("tg-button",{on:{click:()=>a.visible=!1}},[a.cancelText]),a.disabledOK&&t("tg-button",{attrs:{type:"primary"},on:{click:u}},[a.okText])])])}});const _=(...e)=>{a.visible||(a.visible=!0,(0,i.nextTick)((()=>{const a=t.value.$refs&&t.value.$refs.dialogRef;a?a.dialogShow?a.dialogShow(...e):a.show&&a.show(...e):console.log("未找到子组件请检查代码")})))},m=e=>(l(e),h),v=()=>{a.visible=!1},f=(e,t,a=!1)=>(!0===a?d.value[e]=t:p(d.value,{[e]:t}),h);(0,i.onUnmounted)((()=>{o.value=!1,a.visible=!1}));const h=(0,i.reactive)({show:_,update:m,on:f,close:v,config:e,data:e.data});return h},_=(e={})=>{const t=(0,i.ref)(),a=(0,i.reactive)({visible:!1,title:void 0,width:void 0,footer:!0,okText:"提交",cancelText:"取消",disabledOK:!0}),o=(0,i.ref)(!0),l=e=>{Object.keys(e).forEach((t=>{a.hasOwnProperty.call(a,t)&&(a[t]=e[t])}))};l(e);const d=(0,i.ref)(p(e.on,{close(){a.visible=!1},updateDialog(e={}){l(e)}})),u=()=>{const e=t.value.$refs&&t.value.$refs.dialogRef||{};e.dialogSubmit?e.dialogSubmit():e.onSaveBtnClick?e.onSaveBtnClick():console.log("子组件没有dialogSubmit或onSaveBtnClick")};t.value=new n["default"]({el:c(),store:s.Z,setup(){void 0!==e.provide&&Object.keys(e.provide).forEach((t=>{(0,i.provide)(t,e.provide[t])}))},render(t){if(!o.value)return;if(!a.visible)return;const{width:i,...n}=a;return t("el-drawer",r()([{class:`tg-drawer-rewrite ${e.class}`},{props:{...n,size:i}},{attrs:{"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1}},{on:d.value},{attrs:{isDialog:!0}}]),[t("div",{class:"tg-drawer-content"},[a.visible&&t(e.component,{ref:"dialogRef",props:{...e.props,isDialog:!0},on:d.value})]),a.footer&&t("div",{class:"tg-drawer-footer"},[t("tg-button",{on:{click:()=>a.visible=!1}},[a.cancelText]),a.disabledOK&&t("tg-button",{class:"mgl-12",attrs:{type:"primary"},on:{click:u}},[a.okText])])])}});const _=(...e)=>{a.visible||(a.visible=!0,(0,i.nextTick)((()=>{const a=t.value.$refs&&t.value.$refs.dialogRef;a?a.dialogShow?a.dialogShow(...e):a.show&&a.show(...e):console.log("未找到子组件请检查代码")})))},m=e=>(l(e),h),v=()=>{a.visible=!1},f=(e,t,a=!1)=>(!0===a?d.value[e]=t:p(d.value,{[e]:t}),h);(0,i.onUnmounted)((()=>{o.value=!1,a.visible=!1}));const h=(0,i.reactive)({show:_,update:m,on:f,close:v,config:e});return h}},23818:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAAAk1BMVEUAAAD5/f/5/f/4/P/4/f/////4/f/5/P/7///4/f/5/f/5/f/5/P/5/P/6/f/5///6///6///6///////////4/P/5/f/5/f/5/f/4/P/5/P/5/P/5/f/5/f/6/f/4///7///4///////////6/f/6/f/4/P7j6Ozy9vnv9Pb1+fvl6u7q7/Lp7fD3+/3t8fXn6+8IM9ROAAAAJnRSTlMA+X27lAjnVkLg0s3Gq49SSTguFw6+7ezaxLOvn4lnTj4nIBVrbPbioWoAAAUvSURBVHja1NgJcqMwEIXhJ8TmfYmzJ5N1HhgM9v1PNxU7Kc8MWUQjsPhO8FfSagvBqmAZef7dRI+Hg0ulLgfDsZ7c+V60DOCil/jV1wN+aaD91/gF7lg9TIc0Mpw+rHB6wfx+xFpG9/MAJxTMbhUF1O3sVN0L/4JiF/4CnXv2rtjQlfeMLi1uaMXNAl2JNa3RMbowH9Oq8Rxti0a0bhShTctrtuJ6ibaspootUdMVWhGFbFEYwb4nzZbpJ1jmKbZOebDpTLMT+gzWxCE7EsawxGOHPDujcc5OnVsYkceQHQsf0dBMsXNqhkZ+8SR+9eYIWjqOPk/Gh0ww4QlNAlGz5klpSfWEJzbp1Tx/8HuzN/7m9WI/N9rXMzpiBmOPio5QjzB0FtIZ4RnMnNMh5z1aHDVXSEzHxP0aaOOx1nSO7tlAG431kzMb+m/qqW/D8eOARHRUhC+tnNscH8IVvjKls6b4wtLJU3iglvjcNR123bNT+N1ZHNFpI3xiTsfNUTWm48Y9uJFWxW5/rhh+xCzYAwv864aGsnWRJxblxTqjoRv845lmyk3Sgk1JM8+Su3+aJ63IUwq+Bq7MmpPWmFVf1T+GWZ60Js9qH0WfJt7nebdNLdru3ue67utvcEEDWbK3pmXrZC+jgYug5iPp1rhZVL2liRk+3NJEsZ8NtmA/IQVN3OJdoGgir/495Kr/w5wmVFDvUlpjNVEyHzQyx8G9PDpL12nGptIa0fc4GEmj0+KwY7clBWTRI+ytKIzeGPw0WI/mCm8eJNHHZoMtazX6AW+msuh1ciRYheLoKd4MZdG54MZjI3oIAC8URFdvfAUFJNF8ARDLorfJfyggio4B/JZFVz5hSgpIol8B+H2L9gHovo2HBjCglYO4oYAoegAEZL9WHhlgKY1OBRvPTvQSkSC6OtV5SUNl8+gIniC68kNeGDZnmyTZZU2jPfiC6GPDITkl67xBpA2jfdxJoo+yNCvNR/dd2iz6DhNBtExaucgKoyfQXUWvK+9J0miNcUfR28ormDh6jGE30ZvK2508eoiBPFrUfNzs4ugBLi1Ep9uU3ymLpGpXSqMvoZpHr3/4ecl2yWeKUhit/nBvLqkNxEAQHeyYfCAQvM4uxi3Jkpj7ny6b7Ia08WsNoqwTvBmkbqmragB0cYb57li7Yej49mh/DPlh+aDB7RE/iP4NxJc8MjuI4ZLXfb0nm7tYyQPNxStmedNS/FVQc4m28bQpCZsv8lZCbTx4Yeo3TxKstgv0J7qa+ljZaSlDoL/ZI8AvDa146m4c+mU5RKD/bRu1rmZ7QR/ow/Z+bdgP+nU5c+hkc6DPy4lDr5OgT3AsxjdHHPqdDyCvxSZBH/mo97oOgYaj3guDzjYL+oLli2LToN+wUNTmQf9QSS7bNOgPKn72UW4mIn5SmTkNYq5EZgaC/shjeOtE0MfWiTrkP3dkneAmlZSjKxVmUgF2oJFmMQT9pWy8krS4aZoJJW2bkgZZTSuypOlb014vGWSQjIxohnMUYlDH5wicSUb7NEOUknFVzWCwZARbM+z+W94d2wAIQlEUTbSQBRiB/Vc0VnbaEPLOhxmAD809ZFbADDjknsWrWpTEzL+QoZ3IDXLWjEflvVFb1SBa2CemV478kTlFM1xpJkJDrpBjh+ytGRg2U85kNNvMk6MheDO5b+IGJiNhgh0mjYIiNCb3Y8JKKGFlYmEoy2YCeCg1iKKOz2p94tD+nCa7Q6UoCYviuypzjILSKt39IunjD0kfUUj6co7+Bnfywe5sW3SwAAAAAElFTkSuQmCC"},20713:function(e,t,a){e.exports=a(70680)(52703)}}]);
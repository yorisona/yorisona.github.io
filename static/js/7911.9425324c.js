(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[7911],{32200:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chart",staticClass:"chart"})},r=[],o=a(4096),i={props:{options:{type:Object,default:()=>({})},currentIndex:{type:Number,default:-1}},watch:{options:{handler(e){this.updateOptions(e)},deep:!0},currentIndex:{handler:function(e){-1!==e&&this.upAxisPointer()},deep:!0}},mounted(){const{resize:e,...t}=this.$listeners,a=this.$refs.chart;this.chart=o.init(a),Object.keys(t).forEach((e=>{this.chart.on(e,((...t)=>this.$emit(e,this.chart,...t)))})),this.updateOptions(this.options),window.addEventListener("resize",this.resize),this.chart.on("click",this.clickFunc)},destroyed(){window.removeEventListener("resize",this.resize),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{resize(...e){this.chart.resize(),this.$emit("resize",[this.chart,...e])},updateOptions(e){null!==e&&void 0!==e&&this.chart.setOption(e,!0)},clickFunc(e){this.$emit("selectClick",e)},upAxisPointer(){let e={currentIndex:this.currentIndex},t=this.options.series[3].data.length;e.currentIndex>0&&this.chart.dispatchAction({type:"downplay",seriesIndex:3,dataIndex:e.currentIndex-1}),e.currentIndex=e.currentIndex%t,this.chart.dispatchAction({type:"highlight",seriesIndex:3,dataIndex:e.currentIndex}),this.chart.dispatchAction({type:"showTip",seriesIndex:3,dataIndex:e.currentIndex})}}},s=i,l=a(1001),c=(0,l.Z)(s,n,r,!1,null,"67d5f011",null),d=c.exports},99197:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"empty-chart",staticStyle:{"margin-top":"20px"}},[a("empty-common",{attrs:{"detial-text":"暂无数据","img-height":100,"img-width":150}})],1)},r=[],o=a(1001),i={},s=(0,o.Z)(i,n,r,!1,null,"1c4271b8",null),l=s.exports},7911:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ze}});var n,r,o,i,s=a(23812),l=a(97434),c=a(61282),d=a(32200),u=a(99197),m=(0,l.defineComponent)({props:{loading:{type:Boolean,default:!1},series:{type:Object,default:()=>{}}},components:{BaseEcharts:d.Z,Empty:u.Z},setup(e,t){const a=(0,l.ref)({tooltip:{trigger:"item",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){const t=e,a=t.name;return`\n              <div style="margin: 8px;">\n                <div style="color: #19232D; font-weight: 400; line-height: 18px;">可用余额</div>\n                <div style="margin-top: 18px;">\n                <div style="font-size: 12px; line-height: 16px; margin-top: 0;">\n                    <span style="background: ${t.color}; display: inline-block; width: 8px; height: 8px; border-radius: 4px;"></span><span style="display: inline-block; margin-left: 6px; font-weight: 400; color: #606974;">${a}：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,c.dN)(t.value,"None")}</span>\n                  </div>\n                </div>\n              </div>\n            `}},label:{fontSize:12},legend:{bottom:"0",left:"center",type:"scroll",itemWidth:10,itemHeight:10,itemGap:18,icon:"circle",itemStyle:{borderWidth:0}},series:{type:"pie",center:["50%",130],radius:["41.82%","65.36%"],itemStyle:{borderColor:"#fff",borderWidth:2},inactiveBorderColor:"white",data:[]}}),n={reloadData(){const t=a.value;a.value.series={...t.series,...e.series}}};return(0,l.onBeforeMount)((()=>{n.reloadData()})),(0,l.watch)((()=>e.series),(()=>{n.reloadData()})),{baseOptions:a,...n}},render(){const e=arguments[0];return e("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.series.data?.length??0)>0?e("base-echarts",{style:"display: flex; justify-content: center;",attrs:{options:this.baseOptions}}):e("empty")])}}),p=m,h=a(1001),f=(0,h.Z)(p,n,r,!1,null,"72c5a598",null),g=f.exports,y=a(60492),v=(0,l.defineComponent)({props:{loading:{type:Boolean,default:!1},xData:{type:Array,default:()=>[]},series:{type:Array,default:()=>[{data:[]}]},yUnit:{type:String,default:()=>y.r.yuan}},components:{BaseEcharts:d.Z,Empty:u.Z},setup(e,t){const a=(0,l.computed)((()=>e.yUnit)),n=(0,l.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(t){const a=t[0].axisValue;let n="";for(let r=0;r<t.length+1;r++){const a=t[r]??{data:e.series[0].balanceChange?.[t[0]?.dataIndex],color:"#ffffff",seriesName:"变动"},o=`<span style="font-weight: 400; color: #19232D;">¥ ${(0,c.dN)(a.data,"None")}</span>`;n+=`\n              <div style="font-size: 12px; line-height: 16px; margin-top: ${r>0?"12px":0};">\n                <span style="background: ${a.color}; display: inline-block; width: 8px; height: 8px; border-radius: 4px;"></span><span style="display: inline-block; margin-left: 6px; font-weight: 400; color: #606974;">${a.seriesName}：</span>${o}\n              </div>\n              `}return`\n              <div style="margin: 8px;">\n                <div style="color: #19232D; font-weight: 400; line-height: 18px;">${a}</div>\n                <div style="margin-top: 18px;">\n                  ${n}\n                </div>\n              </div>\n            `}},legend:{show:!0,right:36,top:0,itemGap:24,itemWidth:24,formatter:e=>"余额"===e?`${e} (包含理财)`:e},grid:{left:64,right:36,bottom:41,top:38,containLabel:!1},xAxis:{type:"category",data:e.xData??[],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:`单位：${a.value}`,position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,28,10,0]},axisLabel:{formatter(e){return a.value===y.r.wan&&e?parseInt(e,10)/1e4:e}}}],series:e.series??[]}),r={reloadData(){n.value.yAxis[0].name="单位："+a.value,n.value.series=e.series??[],n.value.xAxis.data=e.xData??[]}};return(0,l.onBeforeMount)((()=>{r.reloadData()})),(0,l.watch)([()=>e.series,()=>e.xData,()=>e.yUnit],(()=>{r.reloadData()}),{deep:!0}),{baseOptions:n,...r}},render(){const e=arguments[0];return e("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.xData?.length??0)>0?e("base-echarts",{attrs:{options:this.baseOptions}}):e("empty")])}}),b=v,A=(0,h.Z)(b,o,i,!1,null,"b5b27742",null),_=A.exports,w=a(42386),x=a(64236),k=a(67578),F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAe1BMVEUAAABgWvhfWfhzc/9pZf9fWfhfWfhiXPpgWvhfWvhhWvpkYP9gWfdfWfhgWvdgW/lgWfhfWvhfWfhhWvhiXvxfWfdgWfdgW/thXPpnXf9gWvlgWvhfWfdgWvhgWvhhW/hfWfhfWvdgWvhiW/lgW/dfWfdfW/hgWvlfWfcJWvcPAAAAKHRSTlMAgPkFC/zzLZDKNRrm06dY372uQh3sxjkxEnhy5LVvS9DCmSaGqWtSzBgX3AAAAW9JREFUSMeV1Nl2gjAUheFNSAjIPCiiQp3anvd/wpquypLGo8l34ZWBJPwJlqQug2KTV2sh1lW+KYJSS7BWu1qQRdS7FZ5Ig4xYWZBiSTeKXlKNfpx5rOgtFct57hk5yf7W0kbkKGpx0wtyJnogzMlDHmIiLxMS8pIgIi+R9wDvKfkueu+5rQfp++E80/gwpbrHV2nz95Vr3iIeTNmI3Q4QFRcYMZR+c0TVuO87eT+ZCrQJX10C0fI0jwSiWmImt/drRkVZdSquKRbSxrSUpPAwmvfuQzj7IuP47TpkbukQuE5sK+Z0r63Tez4eWhLHIih73Q32yEsjYdx+txnZVGo99hOGaWl40tIJS+Xv6QHYlib8ExOpFphb6oLDYkBrbeeJaN2BbakDZLBwNhsZsi2FwEC2M98SM4BviZkS3xKzaL4lZlv5lrgPx7fEpAGmJYqZ+MC0ROICBncvjeDZLRk7MNh7aQLLbklkVVJrWH4Amz2/kKLRwPEAAAAASUVORK5CYII=",C="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAilBMVEUAAAAUygAVygAUygAVywAVygAVygAWyQAUygAYzQAg0wAVygAVygAUygAXzgAo2AAUygAUygAVygAUygAUygAVygAUygAVywAUzAAXywAYzQAUygAVyQAWywAVzQAUygAVygAXzQAXzABy/wAUyQAUygAVygAVygAUywAUygAWywAWyQAXywAUyQD8hIGXAAAALXRSTlMA+8Xma86nR2UVDPfcsiEG18q4mIl4cF9KQhuknTUv7psrJgK+vZGDfuFTUU9hinzmAAABrElEQVRIx5XUaXOCMBAG4DdiqCDIKSjWsx5t7f7/v1eSYRzZxIDPpwxxneyRwGrle2lxwlhBTIq4fcFt8e3LyWfdpNTZ4FiXt3r74n8PgjiPNLmCqYnIoYAhJqepcX5y8754IWnAggXsaEDDApKInCKzuYJcfmG47+klUcGiplfma5iSwlVUM6KR5CJuvKoeDdgkvd/vaVD8FLHwaAT/MR1BSqMUtkHNJi3qyHadmSN7pyclWl2Fz2pdPvdDT2DYT2Ddfeq2P3qbFxXwzXoUAPhVq0qlx8rxByDi5evSkqooOdvMgTVxlSr0nNRbUVnu0dUctZ3K1QewFcQtkZMhDYHgBISRpXtI2Ydp6wjtqNY+9UjMqWcGZsbO+34AK3Q0UZa6QXrJ8vAgyeJTBfhkIbFhV0s7qICN0Ng9wvS9HKZoxDsBouHjcv1QdCN2ennls4T6naRrNfw/4wN+QrWxHh/QvWcFcdmyJV++AmFKduYUd4KMRsgCPIRnGnQOe293KchJlAn6Tjk55CeYVrEgKxGvYBdUmREjsiqAQ7KdHS4y2guxj+TlMNvyo/8D7qMBtEZctVUAAAAASUVORK5CYII=",D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwAgMAAAAqbBEUAAAADFBMVEUAAAD/gAD/gAD/fwBsgPSNAAAAA3RSTlMA+ItcefXDAAAAPElEQVQoz2MgEuz/DwQNUE49iOMA5fwHgQPkchCmYdozfNzGBCL/QU1jBJF/ofYwgylyOCimodgzmN0GABKbHCAf56AzAAAAAElFTkSuQmCC",q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAWlBMVEUAAAAui/8sef8pd/8peP8oeP8oeP8zfP8pd/8oeP8oeP8peP8uf/8oeP8ugv9Ajv8od/8pd/8peP8peP8peP8oeP8peP8oeP8peP8qev8pd/8pev8ref8od/8y96/QAAAAHXRSTlMACyLhp55lD+3D8ocZbAwH9+93s6HqopFXLdZYThPI2lEAAADdSURBVEjHzZXJDoMwDESntJCw75Qu/v/frBNFlWgPxhWivAPMgadkMAo4LEVKAmmxEC4kclkIVhasWlBvSV/6sJgho9Vkk0FMKga0OqEFKdlfmMGEsZ9PnB+CYN0XcGt8fnIsrCBQD+b6Tr3cIXHTHImaiENCspCFB3O+RZkoMCmY+1iF9rJAJYC540tHa4Sw+9q/LFnoIsbAY1zuBCHBB8nWgj07cj89H4VJB+LF0bOtUJ4cNZjax1JdWr3C30vvInyTV3BU+VrBAB7zywr6szXWCTHMpPk/DAbH4wXeeq2KBcq0CwAAAABJRU5ErkJggg==",W="data:image/png;base64,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",M="data:image/png;base64,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";const S=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"];var j,O,P,N,B,E,T,H,R,L,I,z,Q,X,K,G,U,V,Z,Y,$=(0,l.defineComponent)({name:"fundDashboard",components:{pie:g,bar:_},setup(e,t){const a=(0,l.ref)(!1),n=(0,l.ref)(!1),r=(0,l.ref)(!1),o=(0,l.ref)(!1),i=(0,l.ref)(void 0),s=(0,l.ref)(void 0),d=(0,l.ref)(void 0),u=(0,l.ref)(void 0),m=(0,l.computed)((()=>{const e=d.value?.datas?.find((e=>{const t=Math.abs(e.income??0)/100,a=Math.abs(e.cost??0)/100,n=Math.abs(e.balance??0)/100;return t>1e4||a>1e4||n>1e4}));return e?y.r.wan:y.r.yuan})),p={async financeOverview(){a.value=!0;const[e]=await(0,x.Dc)(500,(0,w.T_)());a.value=!1,e.data.success?i.value=e.data.data:t.root.$message.error(e.data.message)},async financePie(){n.value=!0;const[e]=await(0,x.Dc)(500,(0,w.R7)());n.value=!1,e.data.success&&(s.value=e.data.data)},async financeTrends(){r.value=!0;const[e]=await(0,x.Dc)(500,(0,w.Sg)());r.value=!1,e.data.success&&(d.value=e.data.data)},async financeAccountDetail(){o.value=!0;const[e]=await(0,x.Dc)(500,(0,w.KH)());o.value=!1,e.data.success&&(u.value=e.data.data)},reloadAll(){p.financeOverview(),p.financePie(),p.financeTrends(),p.financeAccountDetail()},pieItemColorObj(e){const t=S[e];return t?{color:t}:{}},bankBgColor(e){switch(e){case k.A1.alipay:return"#02A9F10D";case k.A1.zhaoshangBank:return"#D600000D";case k.A1.nongyeBank:return"#009B810D";case k.A1.gongshangBank:return"#EF00010D";case k.A1.hangzhouBank:return"#019CE60D";case k.A1.lianheBank:return"#07A74C0D";case k.A1.beijingBank:return"#FE00160D";default:return"#019CE60D"}},bankLogo(e){return e.classify===k.A1.alipay?M:(0,c.E)(e.logo)},formatAmount:c.dN,imgTokenUrl:c.E};return(0,l.onMounted)((()=>{p.reloadAll()})),{overviewLoading:a,pieLoading:n,yearIncomeDetailLoading:r,accountLoading:o,yearIncomeDetailUnit:m,overviewData:i,pieData:s,trendData:d,accountData:u,usePieColors:S,...p}},render(){const e=arguments[0];return e("div",{class:"tg-finance-fund-dashboard-container"},[e("div",{style:"min-width: 1244px; display: flex; flex: 1; flex-direction: column;"},[e("section",{class:"summary-field",directives:[{name:"loading",value:this.overviewLoading}]},[e("div",{class:"summary-item"},[e("div",[e("img",{style:"width: 16px; height: 16px;",attrs:{src:D,alt:""}}),e("div",{class:"summary-title"},["可用余额"])]),e("div",{class:"summary-amount"},[this.formatAmount((this.overviewData?.total_balance??0)/100,"None")]),e("div",{class:"summary-other"},[e("span",{style:"margin-right: 8px;"},["待支付"]),e("span",[this.formatAmount((this.overviewData?.total_unpaid??0)/100,"¥ ")])])]),e("div",{class:"summary-item"},[e("div",[e("img",{style:"width: 16px; height: 16px;",attrs:{src:q,alt:""}}),e("div",{class:"summary-title"},["理财资金"])]),e("div",{class:"summary-amount"},[this.formatAmount((this.overviewData?.financing_balance??0)/100,"None")]),e("div",{class:"summary-other"},[e("span",{style:"margin-right: 8px;"},["累计收益"]),e("span",[this.formatAmount((this.overviewData?.financing_earn??0)/100,"¥ ")])])]),e("div",{class:"summary-item"},[e("div",[e("img",{style:"width: 16px; height: 16px;",attrs:{src:C,alt:""}}),e("div",{class:"summary-title"},["年度收入"])]),e("div",{class:"summary-amount"},[this.formatAmount((this.overviewData?.annual_income??0)/100,"None")]),e("div",{class:"summary-other"},[e("span",{style:"margin-right: 8px;"},["本月收入"]),e("span",[this.formatAmount((this.overviewData?.monthly_income??0)/100,"¥ ")])])]),e("div",{class:"summary-item"},[e("div",[e("img",{style:"width: 16px; height: 16px;",attrs:{src:F,alt:""}}),e("div",{class:"summary-title"},["年度支出"])]),e("div",{class:"summary-amount"},[this.formatAmount((this.overviewData?.annual_cost??0)/100,"None")]),e("div",{class:"summary-other"},[e("span",{style:"margin-right: 8px;"},["本月支出"]),e("span",[this.formatAmount((this.overviewData?.monthly_cost??0)/100,"¥ ")])])])]),e("section",{class:"charts-field"},[e("div",{class:"charts-pie"},[e(g,{style:"height: 293px;",attrs:{loading:this.pieLoading,series:{data:this.pieData?.map(((e,t)=>({name:e.account_name,value:(e.value??0)/100,itemStyle:{...this.pieItemColorObj(t)}})))??[]}}})]),e("div",{class:"charts-bar"},[e("div",{class:"harts-bar-title"},["年度收支明细"]),e(_,{attrs:{yUnit:this.yearIncomeDetailUnit,loading:this.yearIncomeDetailLoading,xData:this.trendData?.months??[],series:[{name:"收入",type:"bar",barMaxWidth:28,barMinWidth:8,barGap:"30%",barCategoryGap:"45%",itemStyle:{color:"#4FCA50",borderRadius:2},data:this.trendData?.datas?.map((e=>(e.income??0)/100))??[],balanceChange:this.trendData?.datas?.map((e=>(e.balance_change??0)/100))??[]},{name:"支出",type:"bar",barMaxWidth:28,barMinWidth:8,barGap:"30%",barCategoryGap:"45%",itemStyle:{color:"#2877FF",borderRadius:2},data:this.trendData?.datas?.map((e=>(e.cost??0)/100))??[]},{name:"余额",type:"line",smooth:!0,showSymbol:!1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:this.trendData?.datas?.map((e=>(e.balance??0)/100))??[]}]},style:"height:298px; margin-top: 24px;"})])]),e("section",{class:"banks-field",directives:[{name:"loading",value:this.accountLoading}]},[(this.accountData??[]).length>0?e("div",{class:"banks-llist"},[(this.accountData??[]).map((t=>e("div",{class:"bank-item",style:`background-color: ${this.bankBgColor(t.classify)}`},[e("el-image",{class:"bank-icon-bg",attrs:{src:this.bankLogo(t)}},[e("div",{slot:"placeholder",class:"project-icon-slot"},[e("img",{attrs:{src:W,alt:""}})]),e("div",{slot:"error",class:"project-icon-slot"},[e("img",{attrs:{src:W,alt:""}})])]),e("el-image",{class:"bank-icon",attrs:{src:this.bankLogo(t)}},[e("div",{slot:"placeholder",class:"project-icon-slot"},[e("img",{attrs:{src:W,alt:""}})]),e("div",{slot:"error",class:"project-icon-slot"},[e("img",{attrs:{src:W,alt:""}})])]),e("div",{class:"bank-info"},[e("el-popover",{attrs:{"open-delay":300,placement:"top-start",trigger:"hover"}},[e("div",{slot:"reference"},[e("div",{class:"bank-name line-clamp-1"},[t.account_name]),e("div",{class:"bank-amount"},[this.formatAmount((t.balance??0)/100,"¥ ")])]),e("div",[e("div",{style:"color: #19232D; font-size: 14px; font-weight: 500; line-height: 18px; height: 18px;"},[t.account_name]),e("div",{class:"mgt-18",style:"font-size: 12px; color: #19232D;"},[e("span",{style:"color: #606974;"},["可用余额："]),e("span",[this.formatAmount((t.available_balance??0)/100,"¥ ")])]),e("div",{class:"mgt-12",style:"font-size: 12px; color: #19232D;"},[e("span",{style:"color: #606974;"},["理财余额："]),e("span",[this.formatAmount((t.financing_balance??0)/100,"¥ ")])])])])])])))]):e("div",{style:"height: 300px; display: flex; flex-direction: column; justify-content: center;"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})])])])])}}),J=$,ee=(0,h.Z)(J,j,O,!1,null,"f3eaef50",null),te=ee.exports,ae=a(36568),ne=a.n(ae),re=a(3293),oe=a(50737),ie=a(56045),se=(0,l.defineComponent)({name:"fundDailyReport",setup(e,t){const a=()=>({page_num:1,num:20,date:[],bank_id:void 0,kind:void 0,company_name:void 0,department_id:void 0,department_name:void 0,project_name:void 0,account_subject_id:void 0,total:0}),n=(0,l.ref)(!1),r=(0,l.ref)(a()),o=(0,l.ref)([]),i=(0,l.ref)([]),s=(0,l.ref)(void 0),d=(0,l.ref)([]),u=(0,l.ref)([]),m=(0,l.ref)(void 0),p={async getOurBankAccounts(){const e=await(0,w.k6)({is_show:1});e.data.success&&(d.value=e.data.data??[])},async maycurListExpenseCategories(){const e=await(0,oe.f8)({num:1e3,page_num:1});e.data.success&&(u.value=e.data.data?.data??[])},async capitalDailyReport(){const{date:e,department_name:a,total:i,...s}=r.value,[l,c]=e??[];n.value=!0;const[d]=await(0,x.Dc)(500,(0,w.ce)({start_date:l,end_date:c,...s}));n.value=!1,d.data.success?(m.value=d.data.data.statistics,r.value.total=d.data.data.total,o.value=d.data.data.data??[]):t.root.$message.error(d.data.message)},onQueryHandler(e=1){r.value.page_num=e,p.capitalDailyReport()},onResetHandler(){r.value=a(),s.value?.setCheckedKeys([]),p.onQueryHandler()},getDPRuningDepartment(e){for(let t=0;t<e?.length;t++){const a=e[t];if("品牌运营部"===a.name)return a;{const e=p.getDPRuningDepartment(a.sons);if(e)return e}}},async getFeishuDepartmentList(e=!1){const a=await(0,re.o1)({});if(a.data.success){const e=a.data.data.data;i.value=e}else t.root.$message.error(a.data.message??"请求失败，请重试")},ondepartmentCleaar(e){s.value?.setCheckedKeys([]),r.value.department_id=void 0,r.value.department_name=void 0,e&&e.stopPropagation()},handleCheckChange:e=>{s.value?.setCheckedKeys([]),r.value.department_id===e.id?(r.value.department_id=void 0,r.value.department_name=void 0):(r.value.department_id=e.id,r.value.department_name=e.name,s.value?.setCheckedKeys([e.id]))},getSummary({columns:e,_:t}){return e.map(((e,t)=>0===t?"合计":"income"===e.property?(0,c.dN)((m.value?.income??0)/100,"None"):"expenditure"===e.property?(0,c.dN)((m.value?.expend??0)/100,"None"):"--"))},formatAmount:c.dN},h=(0,l.ref)([{label:"编号",minWidth:108,fixed:"left",showOverflowTooltip:!0,formatter:e=>e.id?e.id:"--"},{label:"日期",minWidth:150,align:"center",showOverflowTooltip:!0,formatter:e=>e.revenue_date?e.revenue_date.replace(/-/g,"."):"--"},{label:"摘要",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.summary?e.summary:"--"},{label:"账户名称",minWidth:150,showOverflowTooltip:!0,formatter:e=>e.bank_name?e.bank_name:"--"},{label:"往来单位",minWidth:180,showOverflowTooltip:!0,formatter:e=>e.company_name?e.company_name:"--"},{label:"收入 (元)",minWidth:130,property:"income",align:"right",showOverflowTooltip:!0,formatter:e=>p.formatAmount((e.income??0)/100,"None")},{label:"支出 (元)",minWidth:130,property:"expenditure",align:"right",showOverflowTooltip:!0,formatter:e=>p.formatAmount((e.expenditure??0)/100,"None")},{label:"可用余额 (元)",minWidth:130,property:"balance",align:"right",showOverflowTooltip:!0,formatter:e=>p.formatAmount((e.balance??0)/100,"None")},{label:"备注",minWidth:110,showOverflowTooltip:!0,formatter:e=>e.remark?e.remark:"--"},{label:"归属部门",minWidth:110,showOverflowTooltip:!0,formatter:e=>e.department_name?e.department_name:"--"},{label:"关联项目",minWidth:110,showOverflowTooltip:!0,formatter:e=>e.project_name?e.project_name:"--"},{label:"会计科目",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.expense_type_name?e.expense_type_name:"--"}]);return(0,l.onMounted)((async()=>{p.getOurBankAccounts(),p.maycurListExpenseCategories(),p.getFeishuDepartmentList(!1),p.onQueryHandler()})),{loading:n,department_tree:s,feishuDepartmentList:i,bankList:d,categoryList:u,tableData:o,columns:h,queryForm:r,selectControlPopoverHide:ie.TP,...p}},render(){const e=arguments[0],t={label:"name",children:"sons"};return e("div",{class:"tg-finance-fund-daily-report-container"},[e("section",{class:"query-field"},[e("el-form",{attrs:{size:"small","label-width":"60px"}},[e("el-form-item",{attrs:{label:"时间周期："}},[e("el-date-picker",{style:"width: 210px;",attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd",editable:!1},model:{value:this.queryForm.date,callback:e=>{this.$set(this.queryForm,"date",e)}}})]),e("el-form-item",{attrs:{label:"账户名称："}},[e("el-select",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请选择账户名称"},on:{focus:this.selectControlPopoverHide},model:{value:this.queryForm.bank_id,callback:e=>{this.$set(this.queryForm,"bank_id",e)}}},[this.bankList.map((t=>e("el-option",{attrs:{label:t.bank_name,value:t.id},key:t.id})))])]),e("el-form-item",{attrs:{label:"往来单位："}},[e("el-input",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请输入往来单位"},model:{value:this.queryForm.company_name,callback:e=>{this.$set(this.queryForm,"company_name",e)}}})]),e("el-form-item",{attrs:{label:"数据类型："}},[e("el-select",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请选择数据类型"},on:{focus:this.selectControlPopoverHide},model:{value:this.queryForm.kind,callback:e=>{this.$set(this.queryForm,"kind",e)}}},[e("el-option",{attrs:{label:"全部",value:void 0},key:void 0}),e("el-option",{attrs:{label:"收入",value:k.MK.income},key:k.MK.income}),e("el-option",{attrs:{label:"支出",value:k.MK.cost},key:k.MK.cost})])]),e("el-form-item",{attrs:{label:"归属部门："}},[e("div",{style:"display: flex; align-items: center;"},[e("el-popover",{attrs:{placement:"bottom-start",trigger:"click",width:"370","popper-class":"fund-daily-report-tree-popper"}},[e("div",{slot:"reference",class:"department-tree-select",style:"display: block; cursor: pointer;"},[this.queryForm.department_name&&e("div",{class:"depart-select-box"},[e("span",{style:"height: 30px; line-height: 30px;"},[this.queryForm.department_name]),e("i",{style:"margin-top: 10px; color: white",class:"el-icon-circle-close",on:{click:this.ondepartmentCleaar}})]),!this.queryForm.department_name&&e("div",{class:"depart-select-box"},[e("span",{style:"color:rgba(164, 178, 194, 1); height: 30px; line-height: 30px;"},["请选择所属部门"]),e("i",{style:"margin-top: 10px; color: #c0c4cc",class:"el-icon-arrow-down"})])]),e("div",{class:"department-tree"},[e("el-tree",ne()([{ref:"department_tree"},{props:{props:t}},{attrs:{"check-strictly":!0,"node-key":"id",data:this.feishuDepartmentList,"show-checkbox":!0,"check-on-click-node":!0,"default-expanded-keys":this.queryForm.department_id?[this.queryForm.department_id]:[]},on:{check:this.handleCheckChange}}]))])])]),e("li",{style:"display: none",class:"controlPopoverHide"})]),e("el-form-item",{attrs:{label:"关联项目："}},[e("el-input",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请输入关联项目"},model:{value:this.queryForm.project_name,callback:e=>{this.$set(this.queryForm,"project_name",e)}}})]),e("el-form-item",{attrs:{label:"会计科目："}},[e("el-select",{style:"width: 210px;",attrs:{clearable:!0,filterable:!0,placeholder:"请选择会计科目"},on:{focus:this.selectControlPopoverHide},model:{value:this.queryForm.account_subject_id,callback:e=>{this.$set(this.queryForm,"account_subject_id",e)}}},[this.categoryList.map((t=>e("el-option",{attrs:{label:t.expense_category_name,value:t.expense_category_code},key:t.expense_category_code})))])]),e("el-form-item",{attrs:{label:"","label-width":"0"}},[e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:()=>this.onQueryHandler()}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:()=>this.onResetHandler()}},["重置"])])])])]),e("section",{class:"table-field"},[e("div",{style:"height: 100%;"},[e("el-table",{attrs:{border:!0,"show-summary":!0,"summary-method":this.getSummary,height:"100%",data:this.tableData},directives:[{name:"loading",value:this.loading}]},[this.columns.map(((t,a)=>e("el-table-column",ne()([{},{props:{...t}},{key:a}])))),e("template",{slot:"empty"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})])])])]),this.tableData.length>0&&e("section",{class:"pagination-field"},[e("el-pagination",{style:"margin: 8px 0;",attrs:{"current-page":this.queryForm.page_num,"page-sizes":[20,30,50,100],pageSize:this.queryForm.num,total:this.queryForm.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"current-change":e=>{this.queryForm.page_num=e,this.onQueryHandler(e)},"size-change":e=>{this.queryForm.num=e,this.onQueryHandler()}}})])])}}),le=se,ce=(0,h.Z)(le,P,N,!1,null,"4584314f",null),de=ce.exports,ue=a(85937),me=a.n(ue),pe=(0,l.defineComponent)({name:"fundYearReport",setup(e,t){const a=(0,l.ref)(!1),n=(0,l.ref)(void 0),r=(0,l.computed)((()=>{if(!n.value?.data.length)return[];const e=[];for(let t=1;t<=12;t++)e.push({title:`${t}月`,month:t});return e})),o={async capitalYearReport(){a.value=!0;const[e]=await(0,x.Dc)(500,(0,w.h)());a.value=!1,e.data.success?n.value=e.data.data:t.root.$message.error(e.data.message)},footerMethod({columns:e}){const t=[];return e.forEach(((e,a)=>{if(0===a)t.push("合计");else if(1===a)t.push("--");else if("income"===e.field||"expenditure"===e.field){const r=e.field,o=Math.floor((a-2)/4),i=n.value?.data[o].data.reduce(((e,t)=>e.add(new(me())((t[r]??0)/100))),new(me())(0)).toFixed(2);t.push((0,c.dN)(i??"0","None"))}else t.push("--")})),[t]},formatAmount:c.dN},i=(0,l.computed)((()=>{const e=[];for(let t=1;t<=12;t++)e.push(`${t}月`);return n.value?.data.map(((e,t)=>{const a=t%2===0;return{title:e.bank_name,headerClassName:"department-fund-statement-group-head-"+(a?"even":"odd"),align:"center",subColumns:[{label:"期初数 (元)",align:"right",headerAlign:"center",width:130,field:"open_balance",className:"department-fund-statement-head-"+(a?"even":"odd"),formatter:({row:t})=>{const a=t.month,n=e.data.find((e=>e.month===a));return void 0!==n?.open_balance&&null!==n?.open_balance?(0,c.dN)((n?.open_balance??0)/100,"None"):""}},{label:"收入 (元)",align:"right",headerAlign:"center",width:130,field:"income",className:"department-fund-statement-head-"+(a?"even":"odd"),formatter:({row:t})=>{const a=t.month,n=e.data.find((e=>e.month===a));return void 0!==n?.income&&null!==n?.income?(0,c.dN)((n?.income??0)/100,"None"):""}},{label:"支出 (元)",align:"right",headerAlign:"center",width:130,field:"expenditure",className:"department-fund-statement-head-"+(a?"even":"odd"),formatter:({row:t})=>{const a=t.month,n=e.data.find((e=>e.month===a));return void 0!==n?.expenditure&&null!==n?.expenditure?(0,c.dN)((n?.expenditure??0)/100,"None"):""}},{label:"余额 (元)",align:"right",headerAlign:"center",width:130,field:"balance",className:"department-fund-statement-head-"+(a?"even":"odd"),formatter:({row:t})=>{const a=t.month,n=e.data.find((e=>e.month===a));return void 0!==n?.balance&&null!==n?.balance?(0,c.dN)((n?.balance??0)/100,"None"):""}}]}}))??[]})),s=(0,l.computed)((()=>{if(n.value)return{label:"余额 (元)",align:"right",headerAlign:"center",width:130,formatter:({row:e})=>{const t=e.month,a=n.value?.balance_data.find((e=>e.month===t));return void 0!==a?.balance&&null!==a?.balance?o.formatAmount((a?.balance??0)/100,"None"):""}}}));return(0,l.onMounted)((()=>{o.capitalYearReport()})),{loading:a,tableData:n,tableRowData:r,balanceCol:s,colGroups:i,...o}},render(){const e=arguments[0];return e("div",{class:"tg-finance-fund-year-report-container"},[e("section",{class:"table-field"},[e("div",{style:"height: 100%; max-height: 478px;"},[e("vxe-table",{attrs:{border:!0,"show-footer":(this.tableRowData??[]).length>0,"highlight-hover-row":!0,"tooltip-config":{theme:"light"},"show-overflow":!0,height:"100%",data:this.tableRowData,"footer-method":this.footerMethod},directives:[{name:"loading",value:this.loading}]},[e("template",{slot:"empty"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})]),(this.tableRowData??[]).length>0&&e("vxe-column",{attrs:{width:60,title:"月份",align:"center",fixed:"left","show-overflow":!0,formatter:({row:e})=>e.title}}),this.balanceCol?e("vxe-column",{attrs:{fixed:"left",width:this.balanceCol.width,title:this.balanceCol.label,align:this.balanceCol.align,headerAlign:this.balanceCol.headerAlign,"show-overflow":!0,formatter:this.balanceCol.formatter}}):"",this.colGroups.map((t=>e("vxe-colgroup",{attrs:{title:t.title,"header-class-name":t.headerClassName,align:t.align}},[t.subColumns.map((t=>e("vxe-column",{attrs:{"header-class-name":t.className,title:t.label,field:t.field,align:t.align,headerAlign:t.headerAlign,minWidth:t.width,formatter:t.formatter}})))])))])])])])}}),he=pe,fe=(0,h.Z)(he,B,E,!1,null,"3496251a",null),ge=fe.exports,ye=a(41572),ve=a(6933),be=a.n(ve),Ae=(0,l.defineComponent)({name:"projectFundStatement",setup(e,t){const a=()=>({kind:k.MK.cost,date:void 0,bank_id:void 0,product_name:void 0,purchase:void 0,redeem:void 0,flow_id:void 0,profit:void 0}),n=(0,l.ref)(!1),r=(0,l.ref)(!1),o=(0,l.ref)(a()),i=(0,l.ref)(void 0),s=(0,l.ref)([]),d=(0,l.ref)([]),u={show(){r.value=!0}},m={onCloseHandler(){r.value=!1,setTimeout((()=>{o.value=a(),i.value?.clearValidate()}),500)},onSubmitHandler(){i.value?.validate((e=>{e&&m.addFinancialLedger()}))},async addFinancialLedger(){const{purchase:e,redeem:a,flow_id:r,profit:i,...s}=o.value,l=s.kind===k.MK.cost?{purchase:e}:{redeem:a,flow_id:r,profit:i};n.value=!0;const c=await(0,w.Hw)({...l,...s});n.value=!1,c.data.success?(t.root.$message.success(c.data.message),t.emit("save"),m.onCloseHandler()):t.root.$message.error(c.data.message)},async getOurBankAccounts(){const e=await(0,w.k6)({status:0,is_show:1});e.data.success&&(s.value=e.data.data??[])},async queryRevenueFlow(e){const a=await(0,w.LZ)({bank_id:e,status:0,num:1e3,page_num:1});a.data.success?d.value=a.data.data.data??[]:t.root.$message.error(a.data.message)},onAmountInput(e){const t=(/(?:0|[1-9]\d{0,7})(?:\.\d{0,2})?/u.exec(e.replace(/[^.\d]+/gu,"").replace(ye.Pj,""))??[""])[0];return t||void 0},recordDate(e){return e?be()(e).format("M.D"):"--"},formatAmount:c.dN};return(0,l.onMounted)((()=>{m.getOurBankAccounts()})),(0,l.watch)((()=>o.value.kind),(()=>{i.value?.clearValidate()})),(0,l.watch)([()=>o.value.bank_id,()=>o.value.kind],(([e,t])=>{e?m.queryRevenueFlow(e):d.value=[]})),(0,l.watch)([()=>o.value.flow_id,()=>o.value.redeem],(([e,t])=>{if(!e)return void(o.value.profit=void 0);const a=d.value?.find((t=>t.id===e));if(!a)return void(o.value.profit=void 0);const n=new(me())((a.income??0)/100).sub(new(me())(t||0)).toFixed(2);o.value.profit=n})),{bankList:s,elFormRef:i,saveLoading:n,dataForm:o,flowData:d,visible:r,...u,...m}},render(){const e=arguments[0];return e("div",[e("el-dialog",{attrs:{title:"理财台账登记",width:"350px",visible:this.visible,"close-on-click-modal":!1,"close-on-press-escape":!1},class:"tg-dialog-classic tg-dialog-vcenter-new tg-standing-book-register-container",on:{close:this.onCloseHandler}},[e("el-form",ne()([{ref:"elFormRef",attrs:{size:"small","label-width":"80px"}},{props:{model:this.dataForm}}]),[e("el-form-item",{attrs:{label:"登记类型："}},[e("el-radio-group",{style:"height: 32px; line-height: 32px;",model:{value:this.dataForm.kind,callback:e=>{this.$set(this.dataForm,"kind",e)}}},[e("el-radio",{attrs:{label:k.MK.cost}},["买入登记"]),e("el-radio",{attrs:{label:k.MK.income}},["到账登记"])])]),e("el-form-item",{attrs:{label:"日期：",prop:"date",rules:[{required:!0,message:"请选择日期",trigger:"change"}]}},[e("el-date-picker",{attrs:{editable:!1,clearable:!1,"value-format":"yyyy-MM-dd",format:"yyyy.MM.dd",type:"date",placeholder:"选择日期"},model:{value:this.dataForm.date,callback:e=>{this.$set(this.dataForm,"date",e)}}})]),this.dataForm.kind===k.MK.cost?e("el-form-item",{attrs:{label:"买入账户：",prop:"bank_id",rules:[{required:!0,message:"请选择买入账户",trigger:"change"}]}},[e("el-select",{style:"width: 220px;",attrs:{placeholder:"请选择"},model:{value:this.dataForm.bank_id,callback:e=>{this.$set(this.dataForm,"bank_id",e)}}},[this.bankList.map((t=>e("el-option",{attrs:{label:t.bank_name,value:t.id},key:t.id})))])]):e("el-form-item",{attrs:{label:"所属账户：",prop:"bank_id",rules:[{required:!0,message:"请选择所属银行",trigger:"change"}]}},[e("el-select",{style:"width: 220px;",attrs:{placeholder:"请选择"},on:{change:()=>{this.flowData=[],this.dataForm.flow_id=void 0}},model:{value:this.dataForm.bank_id,callback:e=>{this.$set(this.dataForm,"bank_id",e)}}},[this.bankList.map((t=>e("el-option",{attrs:{label:t.bank_name,value:t.id},key:t.id})))])]),e("el-form-item",{attrs:{label:"产品名称：",prop:"product_name",rules:[{required:!0,message:"请输入产品名称",trigger:"blur"}]}},[e("el-input",{model:{value:this.dataForm.product_name,callback:e=>{this.$set(this.dataForm,"product_name",e)}}})]),this.dataForm.kind===k.MK.cost?e("el-form-item",{attrs:{label:"买入金额：",prop:"purchase",rules:[{required:!0,message:"请输入买入金额",trigger:"blur"}]}},[e("el-input",{on:{input:e=>{this.dataForm.purchase=this.onAmountInput(e)}},model:{value:this.dataForm.purchase,callback:e=>{this.$set(this.dataForm,"purchase",e)}}},[e("template",{slot:"append"},["元"])])]):e("fragments",[e("el-form-item",{attrs:{label:"到账记录：",prop:"flow_id",rules:[{required:!0,message:"请选择到账记录",trigger:"change"}]}},[e("el-select",{style:"width: 220px;",attrs:{placeholder:"请选择"},model:{value:this.dataForm.flow_id,callback:e=>{this.$set(this.dataForm,"flow_id",e)}}},[this.flowData.map((t=>e("el-option",{attrs:{label:`${this.recordDate(t.revenue_date)} ${t.account_type===k.Qm.bank?t.payer||"--":t.payment_account||"--"}: ${this.formatAmount((t.income??0)/100,"None")}元`,value:t.id},key:t.id})))])]),e("el-form-item",{attrs:{label:"赎回金额：",prop:"redeem",rules:[{required:!0,message:"请输入赎回金额",trigger:"blur"}]}},[e("el-input",{on:{input:e=>{this.dataForm.redeem=this.onAmountInput(e)}},model:{value:this.dataForm.redeem,callback:e=>{this.$set(this.dataForm,"redeem",e)}}},[e("template",{slot:"append"},["元"])])]),e("el-form-item",{attrs:{label:"产品收益：",prop:"profit"}},[e("el-input",{attrs:{value:this.dataForm.profit?(0,c.dN)(this.dataForm.profit,"None"):"",disabled:!0}},[e("template",{slot:"append"},["元"])])])])]),e("template",{slot:"footer"},[e("tg-button",{attrs:{type:"primary"},on:{click:this.onSubmitHandler}},["保存"]),e("tg-button",{on:{click:this.onCloseHandler}},["取消"])])]),e("tg-mask-loading",{attrs:{visible:this.saveLoading,content:"正在保存，请稍候..."}})])}}),_e=Ae,we=(0,h.Z)(_e,T,H,!1,null,"86d635d6",null),xe=we.exports,ke=a(82741),Fe=a(21757),Ce=(0,l.defineComponent)({name:"financialStandingBook",components:{standingBookRegister:xe},setup(e,t){const a=()=>({page_num:1,num:20,date:[],bank_id:void 0,total:0}),n=(0,l.ref)(!1),r=(0,l.ref)(!1),o=(0,l.ref)(a()),i=(0,l.ref)([]),s=(0,l.ref)([]),d=(0,l.ref)(void 0),u=(0,l.ref)(void 0),m=(0,Fe.gI)(),p={onQueryHandler(e=1){o.value.page_num=e,p.queryFinancialLedger()},onResetHandler(){o.value=a(),p.onQueryHandler()},onRegisterHandler(){d.value?.show()},async onDeleteHandler(e){const a=await(0,ke.I)(t,{title:"确认要删除这条理财记录吗？",confirmText:"确认"});a&&p.deleteFinancial(e.id)},async deleteFinancial(e){r.value=!0;const a=await(0,w.kf)(e);r.value=!1,a.data.success?(t.root.$message.success(a.data.message),p.onQueryHandler()):t.root.$message.error(a.data.message)},async queryFinancialLedger(){const{date:e,total:a,...r}=o.value,[s,l]=e??[];n.value=!0;const[c]=await(0,x.Dc)(500,(0,w.qp)({start_date:s,end_date:l,...r}));n.value=!1,c.data.success?(o.value.total=c.data.data.total,u.value=c.data.data.statistics,i.value=c.data.data.data):t.root.$message.error(c.data.message)},async getOurBankAccounts(){const e=await(0,w.k6)({is_show:1});e.data.success&&(s.value=e.data.data??[])},getSummary({columns:e,_:t}){return e.map(((e,t)=>{if(0===t)return"合计";if("buy_in_amount"===e.property||"redeem_amount"===e.property||"profit"===e.property){const t=e.property;return(0,c.dN)((u.value?.[t]??0)/100,"None")}return"--"}))},formatAmount:c.dN},h=(0,l.ref)([{label:"日期",minWidth:90,align:"center",showOverflowTooltip:!0,formatter:e=>e.record_time?e.record_time.replace(/-/g,"."):"--"},{label:"买入金额 (元)",minWidth:130,align:"right",property:"buy_in_amount",showOverflowTooltip:!0,formatter:e=>void 0!==e.buy_in_amount&&null!==e.buy_in_amount?(0,c.dN)(e.buy_in_amount/100,"None"):""},{label:"赎回金额 (元)",minWidth:130,align:"right",property:"redeem_amount",showOverflowTooltip:!0,formatter:e=>void 0!==e.redeem_amount&&null!==e.redeem_amount?(0,c.dN)(e.redeem_amount/100,"None"):""},{label:"收益金额 (元)",minWidth:130,align:"right",property:"profit",showOverflowTooltip:!0,formatter:e=>void 0!==e.profit&&null!==e.profit?(0,c.dN)(e.profit/100,"None"):""},{label:"所属银行",minWidth:90,showOverflowTooltip:!0,formatter:e=>e.bank_name?e.bank_name:"--"},{label:"产品名称",minWidth:90,showOverflowTooltip:!0,formatter:e=>e.product_name?e.product_name:"--"},{label:"操作",width:100,align:"center",showOverflowTooltip:!0,formatter:e=>(0,l.h)("div",[(0,l.h)("tg-button",{props:{type:"link"},on:{click:()=>p.onDeleteHandler(e)}},["删除"])])}]);return(0,l.onMounted)((()=>{p.getOurBankAccounts(),p.onQueryHandler()})),{loading:n,deleteLoading:r,standingBookRegisterRef:d,bankList:s,tableData:i,columns:h,queryForm:o,permission:m,...p}},render(){const e=arguments[0];return e("div",{class:"tg-finance-fund-statement-container"},[e("section",{class:"query-field"},[e("el-form",{attrs:{size:"small","label-width":"60px"}},[e("el-form-item",{attrs:{label:"买卖日期："}},[e("el-date-picker",{style:"width: 210px;",attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd",editable:!1},model:{value:this.queryForm.date,callback:e=>{this.$set(this.queryForm,"date",e)}}})]),e("el-form-item",{attrs:{label:"所属银行："}},[e("el-select",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请选择所属银行"},model:{value:this.queryForm.bank_id,callback:e=>{this.$set(this.queryForm,"bank_id",e)}}},[this.bankList.map((t=>e("el-option",{attrs:{label:t.bank_name,value:t.id},key:t.id})))])]),e("el-form-item",{attrs:{label:"","label-width":"0"}},[e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:()=>this.onQueryHandler()}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:()=>this.onResetHandler()}},["重置"]),this.permission.financal_standing_book_register?e("tg-button",{class:"mgl-12",on:{click:this.onRegisterHandler}},["台账登记"]):""])])])]),e("section",{class:"table-field"},[e("div",{style:"height: 100%;"},[e("el-table",{directives:[{name:"loading",value:this.loading}],attrs:{border:!0,"show-summary":!0,height:"100%",data:this.tableData,"summary-method":this.getSummary}},[e("template",{slot:"empty"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})]),this.columns.map(((t,a)=>e("el-table-column",ne()([{},{props:{...t}},{key:a}]))))])])]),this.tableData.length>0&&e("section",{class:"pagination-field"},[e("el-pagination",{style:"margin: 8px 0;",attrs:{"current-page":this.queryForm.page_num,"page-sizes":[20,30,50,100],pageSize:this.queryForm.num,total:this.queryForm.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"current-change":e=>{this.queryForm.page_num=e,this.onQueryHandler(e)},"size-change":e=>{this.queryForm.num=e,this.onQueryHandler()}}})]),e(xe,{ref:"standingBookRegisterRef",on:{save:()=>this.onQueryHandler()}}),e("tg-mask-loading",{attrs:{visible:this.deleteLoading,content:"正在删除，请稍候..."}})])}}),De=Ce,qe=(0,h.Z)(De,R,L,!1,null,"5b242a44",null),We=qe.exports,Me=a(29625),Se=(0,l.defineComponent)({name:"projectFundStatement",setup(e,t){const a=()=>({page_num:1,num:20,business_id:void 0,department_id:void 0,department_name:void 0,project_name:void 0,total:0}),n=(0,l.ref)(!1),r=(0,l.ref)(a()),o=(0,l.ref)([]),i=(0,l.ref)([]),s=(0,l.ref)(void 0),d=(0,l.ref)(void 0),u=(0,l.computed)((()=>[{label:"全部",value:void 0},{label:"抖音店播",value:Me.WD.douyin},{label:"淘宝店播",value:Me.WD.taobao},{label:"S2B2C",value:Me.WD.mcn},{label:"营销业务",value:Me.WD.marketing}])),m={onQueryHandler(e=1){r.value.page_num=e,m.queryProjectFund()},onResetHandler(){r.value=a(),s.value?.setCheckedKeys([]),m.onQueryHandler()},getDPRuningDepartment(e){for(let t=0;t<e?.length;t++){const a=e[t];if("品牌运营部"===a.name)return a;{const e=m.getDPRuningDepartment(a.sons);if(e)return e}}},async getFeishuDepartmentList(e=!1){const a=await(0,re.o1)({});if(a.data.success){const e=a.data.data.data;i.value=e}else t.root.$message.error(a.data.message??"请求失败，请重试")},handleCheckChange:e=>{s.value?.setCheckedKeys([]),r.value.department_id===e.id?(r.value.department_id=void 0,r.value.department_name=void 0):(r.value.department_id=e.id,r.value.department_name=e.name,s.value?.setCheckedKeys([e.id]))},ondepartmentCleaar(e){s.value?.setCheckedKeys([]),r.value.department_id=void 0,r.value.department_name=void 0,e&&e.stopPropagation()},async queryProjectFund(){const{department_name:e,total:a,...i}=r.value;n.value=!0;const[s]=await(0,x.Dc)(500,(0,w._)({...i}));n.value=!1,s.data.success?(d.value=s.data.data.statistics,o.value=s.data.data.data??[],r.value.total=s.data.data.total):t.root.$message.error(s.data.message)},businessTypeStr(e){const t=u.value.find((t=>t.value===e));return t?.value?t.label:"--"},footerMethod({columns:e}){const t=[];return e.forEach(((e,a)=>{if(0===a)t.push("合计");else if("project_type"===e.field||"project_name"===e.field)t.push("--");else if("total_income"===e.field||"total_expense"===e.field){const a=e.field;t.push((0,c.dN)((d.value?.[a]??0)/100,"None"))}else if(!e.field||-1===e.field.indexOf("-total_income")&&-1===e.field.indexOf("-total_expense"))t.push("--");else{const a=e.field.split("-")[0],n=e.field.split("-")[1],r=d.value?.month_data?.find((e=>`${e.month}`===a));t.push((0,c.dN)((r?.[n]??0)/100,"None"))}})),[t]},formatAmount:c.dN},p=(0,l.computed)((()=>{const e=["合计"];for(let t=1;t<=12;t++)e.push(`${t}月`);return e.map(((e,t)=>{const a=t%2===0;return{title:e,headerClassName:"department-fund-statement-group-head-"+(a?"even":"odd"),align:"center",subColumns:[{label:"收入 (元)",align:"right",headerAlign:"center",width:130,field:0===t?"total_income":`${t}-total_income`,className:"department-fund-statement-head-"+(a?"even":"odd"),formatter:({row:e})=>{let a;if(0===t)a=e.total_income;else{const n=e.data?.find((e=>e.record_month===t));a=n?.total_income}return void 0===a||null===a?"":(0,c.dN)(a/100,"None")}},{label:"支出 (元)",align:"right",headerAlign:"center",width:130,field:0===t?"total_expense":`${t}-total_expense`,className:"department-fund-statement-head-"+(a?"even":"odd"),formatter:({row:e})=>{let a;if(0===t)a=e.total_expense;else{const n=e.data?.find((e=>e.record_month===t));a=n?.total_expense}return void 0===a||null===a?"":(0,c.dN)(a/100,"None")}}]}}))}));return(0,l.onMounted)((async()=>{m.getFeishuDepartmentList(!1),m.onQueryHandler()})),{loading:n,businessList:u,colGroups:p,tableData:o,queryForm:r,feishuDepartmentList:i,department_tree:s,selectControlPopoverHide:ie.TP,...m}},render(){const e=arguments[0],t={label:"name",children:"sons"};return e("div",{class:"tg-finance-project-fund-statement-container"},[e("section",{class:"query-field"},[e("el-form",{attrs:{size:"small","label-width":"60px"}},[e("el-form-item",{attrs:{label:"项目名称："}},[e("el-input",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请输入项目名称"},model:{value:this.queryForm.project_name,callback:e=>{this.$set(this.queryForm,"project_name",e)}}})]),e("el-form-item",{attrs:{label:"业务类型："}},[e("el-select",{style:"width: 210px;",attrs:{clearable:!0},on:{focus:this.selectControlPopoverHide},model:{value:this.queryForm.business_id,callback:e=>{this.$set(this.queryForm,"business_id",e)}}},[this.businessList.map((t=>e("el-option",{attrs:{label:t.label,value:t.value},key:t.value})))])]),e("el-form-item",{attrs:{label:"归属部门："}},[e("el-popover",{attrs:{placement:"bottom-start",trigger:"click",width:"370","popper-class":"project-fund-statement-tree-popper"}},[e("div",{slot:"reference",class:"department-tree-select",style:"display: block; cursor: pointer;"},[this.queryForm.department_name&&e("div",{class:"depart-select-box"},[e("span",{style:"height: 30px; line-height: 30px;"},[this.queryForm.department_name]),e("i",{style:"margin-top: 10px; color: white",class:"el-icon-circle-close",on:{click:this.ondepartmentCleaar}})]),!this.queryForm.department_name&&e("div",{class:"depart-select-box"},[e("span",{style:"color:rgba(164, 178, 194, 1); height: 30px; line-height: 30px;"},["请选择所属部门"]),e("i",{style:"margin-top: 10px; color: #c0c4cc",class:"el-icon-arrow-down"})])]),e("div",{class:"department-tree"},[e("el-tree",ne()([{ref:"department_tree"},{props:{props:t}},{attrs:{"check-strictly":!0,"node-key":"id",data:this.feishuDepartmentList,"show-checkbox":!0,"check-on-click-node":!0,"default-expanded-keys":this.queryForm.department_id?[this.queryForm.department_id]:[]},on:{check:this.handleCheckChange}}]))])]),e("li",{style:"display: none",class:"controlPopoverHide"})]),e("el-form-item",{attrs:{label:"","label-width":"0"}},[e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:()=>this.onQueryHandler()}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:()=>this.onResetHandler()}},["重置"])])])])]),e("section",{class:"table-field"},[e("div",{style:"height: 100%;"},[e("vxe-table",{attrs:{border:!0,"show-footer":(this.tableData??[]).length>0,"highlight-hover-row":!0,"tooltip-config":{theme:"light"},"show-overflow":!0,height:"100%",data:this.tableData,"footer-method":this.footerMethod},directives:[{name:"loading",value:this.loading}]},[e("template",{slot:"empty"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})]),e("vxe-column",{attrs:{width:180,title:"项目名称",fixed:"left",field:"project_name","show-overflow":!0,formatter:({row:e})=>e.project_name?e.project_name:"--"}}),e("vxe-column",{attrs:{width:100,title:"业务类型",field:"project_type",align:"center","show-overflow":!0,formatter:({row:e})=>this.businessTypeStr(e.project_type)}}),e("vxe-column",{attrs:{width:150,title:"项目编号","show-overflow":!0,formatter:({row:e})=>e.project_uid?e.project_uid:"--"}}),this.colGroups.map((t=>e("vxe-colgroup",{attrs:{title:t.title,"header-class-name":t.headerClassName,align:t.align}},[t.subColumns.map((t=>e("vxe-column",{attrs:{"header-class-name":t.className,title:t.label,field:t.field,align:t.align,headerAlign:t.headerAlign,minWidth:t.width,formatter:t.formatter}})))])))])])]),this.tableData.length>0&&e("section",{class:"pagination-field"},[e("el-pagination",{style:"margin: 8px 0;",attrs:{"current-page":this.queryForm.page_num,"page-sizes":[20,30,50,100],pageSize:this.queryForm.num,total:this.queryForm.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"current-change":e=>{this.queryForm.page_num=e,this.onQueryHandler(e)},"size-change":e=>{this.queryForm.num=e,this.onQueryHandler()}}})])])}}),je=Se,Oe=(0,h.Z)(je,I,z,!1,null,"4fe50f5a",null),Pe=Oe.exports,Ne=(0,l.defineComponent)({name:"departmentFundStatement",setup(e,t){const a=(0,l.ref)(!1),n=(0,l.ref)([]),r={async queryDepartmentFund(){a.value=!0;const[e]=await(0,x.Dc)(500,(0,w.cN)());a.value=!1,e.data.success?n.value=e.data.data.data:t.root.$message.error(e.data.message)},footerMethod({columns:e}){const t=[];return e.forEach(((e,a)=>{if(0===a)t.push("合计");else if("project_type"===e.field||"project_name"===e.field)t.push("--");else if("total_income"===e.field||"total_expense"===e.field){const a=n.value.reduce(((t,a)=>t.add(new(me())((a[e.field]??0)/100))),new(me())(0)).toFixed(2);t.push((0,c.dN)(a,"None"))}else if(!e.field||-1===e.field.indexOf("-total_income")&&-1===e.field.indexOf("-total_expense"))t.push("--");else{const a=e.field.split("-")[0],r=e.field.split("-")[1],o=n.value.reduce(((e,t)=>{const n=t.data?.find((e=>`${e.record_month}`===a)),o=n?.[r]??0;return e.add(new(me())(o/100))}),new(me())(0)).toFixed(2);t.push((0,c.dN)(o,"None"))}})),[t]},formatAmount:c.dN},o=(0,l.computed)((()=>{const e=["合计"];for(let t=1;t<=12;t++)e.push(`${t}月`);return e.map(((e,t)=>{const a=t%2===0;return{title:e,headerClassName:"department-fund-statement-group-head-"+(a?"even":"odd"),align:"center",subColumns:[{label:"收入 (元)",align:"right",headerAlign:"center",width:130,field:0===t?"total_income":`${t}-total_income`,className:"department-fund-statement-head-"+(a?"even":"odd"),formatter:({row:e})=>{let a;if(0===t)a=e.total_income;else{const n=e.data?.find((e=>e.record_month===t));a=n?.total_income}return void 0===a||null===a?"":(0,c.dN)(a/100,"None")}},{label:"支出 (元)",align:"right",headerAlign:"center",width:130,field:0===t?"total_expense":`${t}-total_expense`,className:"department-fund-statement-head-"+(a?"even":"odd"),formatter:({row:e})=>{let a;if(0===t)a=e.total_expense;else{const n=e.data?.find((e=>e.record_month===t));a=n?.total_expense}return void 0===a||null===a?"":(0,c.dN)(a/100,"None")}}]}}))}));return(0,l.onMounted)((()=>{r.queryDepartmentFund()})),{loading:a,tableData:n,colGroups:o,...r}},render(){const e=arguments[0];return e("div",{class:"tg-finance-department-fund-statement-container"},[e("section",{class:"table-field"},[e("div",{style:"height: calc(100% - 32px);"},[e("vxe-table",{attrs:{border:!0,"show-footer":(this.tableData??[]).length>0,"highlight-hover-row":!0,"tooltip-config":{theme:"light"},"show-overflow":!0,"max-height":"100%",data:this.tableData,"footer-method":this.footerMethod},directives:[{name:"loading",value:this.loading}]},[e("template",{slot:"empty"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})]),e("vxe-column",{attrs:{width:135,title:"部门",fixed:"left","show-overflow":!0,formatter:({row:e})=>e.department_name?e.department_name:"--"}}),this.colGroups.map((t=>e("vxe-colgroup",{attrs:{title:t.title,"header-class-name":t.headerClassName,align:t.align}},[t.subColumns.map((t=>e("vxe-column",{attrs:{"header-class-name":t.className,title:t.label,field:t.field,align:t.align,headerAlign:t.headerAlign,minWidth:t.width,formatter:t.formatter}})))])))])])])])}}),Be=Ne,Ee=(0,h.Z)(Be,Q,X,!1,null,"f9a1fbfa",null),Te=Ee.exports,He=(0,l.defineComponent)({name:"pendingPayDetail",setup(e,t){const a=()=>({page_num:1,num:20,date:[],add_by:void 0,department_id:void 0,department_name:void 0,bank_name:void 0,pay_type:void 0,project_name:void 0,expense_category_code:void 0,total:0}),n=(0,l.ref)(!1),r=(0,l.ref)(a()),o=(0,l.ref)([]),i=(0,l.ref)([]),s=(0,l.ref)(void 0),d=(0,l.ref)([]),u=(0,l.ref)(void 0),m=(0,l.computed)((()=>{const e=[];return k.Ly.forEach(((t,a)=>{e.push({label:t,value:a})})),e})),p={onQueryHandler(e=1){r.value.page_num=e,p.queryUnpaidCost()},onResetHandler(){r.value=a(),s.value?.setCheckedKeys([]),p.onQueryHandler()},getDPRuningDepartment(e){for(let t=0;t<e?.length;t++){const a=e[t];if("品牌运营部"===a.name)return a;{const e=p.getDPRuningDepartment(a.sons);if(e)return e}}},async getFeishuDepartmentList(e=!1){const a=await(0,re.o1)({});if(a.data.success){const e=a.data.data.data;i.value=e}else t.root.$message.error(a.data.message??"请求失败，请重试")},ondepartmentCleaar(e){s.value?.setCheckedKeys([]),r.value.department_id=void 0,r.value.department_name=void 0,e&&e.stopPropagation()},handleCheckChange:e=>{s.value?.setCheckedKeys([]),r.value.department_id===e.id?(r.value.department_id=void 0,r.value.department_name=void 0):(r.value.department_id=e.id,r.value.department_name=e.name,s.value?.setCheckedKeys([e.id]))},async queryUnpaidCost(){const{date:e,total:a,department_name:i,...s}=r.value,[l,c]=e??[];n.value=!0;const[d]=await(0,x.Dc)(500,(0,w.$W)({start_date:l,end_date:c,...s}));n.value=!1,d.data.success?(r.value.total=d.data.data.total,u.value=d.data.data?.statistics,o.value=d.data.data.data??[]):t.root.$message.error(d.data.message)},async maycurListExpenseCategories(){const e=await(0,oe.f8)({num:1e3,page_num:1});e.data.success&&(d.value=e.data.data?.data??[])},getSummary({columns:e,_:t}){return e.map(((e,t)=>0===t?"合计":"amount"===e.property?(0,c.dN)((u.value?.total_amount??0)/100,"None"):"--"))},formatAmount:c.dN},h=(0,l.ref)([{label:"日期",minWidth:90,align:"center",showOverflowTooltip:!0,formatter:e=>e.date?.replace(/-/g,".")},{label:"付款事由",minWidth:90,showOverflowTooltip:!0,formatter:e=>e.reimburse_reason?e.reimburse_reason:"--"},{label:"申请人",minWidth:100,showOverflowTooltip:!0,formatter:e=>e.reimburse_employee_name?e.reimburse_employee_name:"--"},{label:"费用归属部门",minWidth:180,showOverflowTooltip:!0,formatter:e=>e.department_name?e.department_name:"--"},{label:"户名",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.bank_acct_name?e.bank_acct_name:"--"},{label:"账号",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.bank_acct_number?e.bank_acct_number:"--"},{label:"支出类型",minWidth:90,align:"center",showOverflowTooltip:!0,formatter:e=>e.pay_type?k.Ly.get(e.pay_type):"--"},{label:"金额 (元)",minWidth:120,property:"amount",align:"right",showOverflowTooltip:!0,formatter:e=>p.formatAmount((e.amount??0)/100,"None")},{label:"会计科目",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.expense_category_name?e.expense_category_name:"--"},{label:"备注",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.remark?e.remark:"--"},{label:"项目",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.project_name?e.project_name:"--"}]);return(0,l.onMounted)((async()=>{p.getFeishuDepartmentList(!1),p.maycurListExpenseCategories(),p.onQueryHandler()})),{loading:n,payTypes:m,feishuDepartmentList:i,department_tree:s,categoryList:d,tableData:o,columns:h,queryForm:r,selectControlPopoverHide:ie.TP,...p}},render(){const e=arguments[0],t={label:"name",children:"sons"};return e("div",{class:"tg-finance-pending-pay-detail-container"},[e("section",{class:"query-field"},[e("el-form",{attrs:{size:"small","label-width":"60px"}},[e("el-form-item",{attrs:{label:"时间周期："}},[e("el-date-picker",{style:"width: 210px;",attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd",editable:!1},model:{value:this.queryForm.date,callback:e=>{this.$set(this.queryForm,"date",e)}}})]),e("el-form-item",{attrs:{label:"申请人："}},[e("el-input",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请输入申请人"},model:{value:this.queryForm.add_by,callback:e=>{this.$set(this.queryForm,"add_by",e)}}})]),e("el-form-item",{attrs:{label:"归属部门："}},[e("el-popover",{attrs:{placement:"bottom-start",trigger:"click",width:"370","popper-class":"pending-pay-detail-tree-popper"}},[e("div",{slot:"reference",class:"department-tree-select",style:"display: block; cursor: pointer;"},[this.queryForm.department_name&&e("div",{class:"depart-select-box"},[e("span",{style:"height: 30px; line-height: 30px;"},[this.queryForm.department_name]),e("i",{style:"margin-top: 10px; color: white",class:"el-icon-circle-close",on:{click:this.ondepartmentCleaar}})]),!this.queryForm.department_name&&e("div",{class:"depart-select-box"},[e("span",{style:"color:rgba(164, 178, 194, 1); height: 30px; line-height: 30px;"},["请选择所属部门"]),e("i",{style:"margin-top: 10px; color: #c0c4cc",class:"el-icon-arrow-down"})])]),e("div",{class:"department-tree"},[e("el-tree",ne()([{ref:"department_tree"},{props:{props:t}},{attrs:{"check-strictly":!0,"node-key":"id",data:this.feishuDepartmentList,"show-checkbox":!0,"check-on-click-node":!0,"default-expanded-keys":this.queryForm.department_id?[this.queryForm.department_id]:[]},on:{check:this.handleCheckChange}}]))])]),e("li",{style:"display: none",class:"controlPopoverHide"})]),e("el-form-item",{attrs:{label:"收款户名："}},[e("el-input",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请输入收款户名"},model:{value:this.queryForm.bank_name,callback:e=>{this.$set(this.queryForm,"bank_name",e)}}})]),e("el-form-item",{attrs:{label:"支出类型："}},[e("el-select",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请选择支出类型"},on:{focus:this.selectControlPopoverHide},model:{value:this.queryForm.pay_type,callback:e=>{this.$set(this.queryForm,"pay_type",e)}}},[this.payTypes.map((t=>e("el-option",{attrs:{label:t.label,value:t.value},key:t.value})))])]),e("el-form-item",{attrs:{label:"关联项目："}},[e("el-input",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请输入关联项目"},model:{value:this.queryForm.project_name,callback:e=>{this.$set(this.queryForm,"project_name",e)}}})]),e("el-form-item",{attrs:{label:"会计科目："}},[e("el-select",{style:"width: 210px;",attrs:{clearable:!0,filterable:!0,placeholder:"请选择会计科目"},on:{focus:this.selectControlPopoverHide},model:{value:this.queryForm.expense_category_code,callback:e=>{this.$set(this.queryForm,"expense_category_code",e)}}},[this.categoryList.map((t=>e("el-option",{attrs:{label:t.expense_category_name,value:t.expense_category_code},key:t.expense_category_code})))])]),e("el-form-item",{attrs:{label:"","label-width":"0"}},[e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:()=>this.onQueryHandler()}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:()=>this.onResetHandler()}},["重置"])])])])]),e("section",{class:"table-field"},[e("div",{style:"height: 100%;"},[e("el-table",{attrs:{"show-summary":!0,border:!0,height:"100%",data:this.tableData,"summary-method":this.getSummary},directives:[{name:"loading",value:this.loading}]},[this.columns.map(((t,a)=>e("el-table-column",ne()([{},{props:{...t}},{key:a}])))),e("template",{slot:"empty"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})])])])]),this.tableData.length>0&&e("section",{class:"pagination-field"},[e("el-pagination",{style:"margin: 8px 0;",attrs:{"current-page":this.queryForm.page_num,"page-sizes":[20,30,50,100],pageSize:this.queryForm.num,total:this.queryForm.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"current-change":e=>{this.queryForm.page_num=e,this.onQueryHandler(e)},"size-change":e=>{this.queryForm.num=e,this.onQueryHandler()}}})])])}}),Re=He,Le=(0,h.Z)(Re,K,G,!1,null,"67e9d4ae",null),Ie=Le.exports,ze=(0,l.defineComponent)({name:"pendingClaimIncome",setup(e,t){const a=()=>({page_num:1,num:20,date:[],bank_id:void 0,company_name:void 0,total:0}),n=(0,l.ref)(!1),r=(0,l.ref)(a()),o=(0,l.ref)([]),i=(0,l.ref)([]),s=(0,l.ref)(void 0),d={onQueryHandler(e=1){r.value.page_num=e,d.pendingIncomeClaim()},onResetHandler(){r.value=a(),d.onQueryHandler()},async pendingIncomeClaim(){const{date:e,total:a,...i}=r.value,[l,c]=e??[];n.value=!0;const[d]=await(0,x.Dc)(500,(0,w.XY)({start_date:l,end_date:c,...i}));n.value=!1,d.data.success?(s.value=d.data.data?.statistics,o.value=d.data.data.data??[],r.value.total=d.data.data.total):t.root.$message.error(d.data.message)},async getOurBankAccounts(){const e=await(0,w.k6)({is_show:1});e.data.success&&(i.value=e.data.data??[])},getSummary({columns:e,_:t}){return e.map(((e,t)=>0===t?"合计":"income"===e.property?(0,c.dN)((s.value?.total_income??0)/100,"None"):"--"))},formatAmount:c.dN},u=(0,l.ref)([{label:"收款日期",minWidth:90,align:"center",showOverflowTooltip:!0,formatter:e=>e.revenue_date?e.revenue_date.replace(/-/g,"."):"."},{label:"摘要",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.summary?e.summary:"--"},{label:"收款账户",minWidth:120,showOverflowTooltip:!0,formatter:e=>e.bank_name?e.bank_name:"--"},{label:"打款单位",minWidth:150,showOverflowTooltip:!0,formatter:e=>e.payer?e.payer:"--"},{label:"打款账号",minWidth:180,showOverflowTooltip:!0,formatter:e=>e.account_number?e.account_number:"--"},{label:"金额 (元)",minWidth:130,property:"income",align:"right",showOverflowTooltip:!0,formatter:e=>(0,c.dN)((e.income??0)/100,"None")},{label:"备注",minWidth:110,showOverflowTooltip:!0,formatter:e=>e.remark?e.remark:"--"}]);return(0,l.onMounted)((()=>{d.getOurBankAccounts(),d.onQueryHandler()})),{loading:n,tableData:o,columns:u,queryForm:r,bankList:i,...d}},render(){const e=arguments[0];return e("div",{class:"tg-finance-pending-claim-income-container"},[e("section",{class:"query-field"},[e("el-form",{attrs:{size:"small","label-width":"60px"}},[e("el-form-item",{attrs:{label:"收款日期："}},[e("el-date-picker",{style:"width: 210px;",attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd",editable:!1},model:{value:this.queryForm.date,callback:e=>{this.$set(this.queryForm,"date",e)}}})]),e("el-form-item",{attrs:{label:"收款账户："}},[e("el-select",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请选择收款户名"},model:{value:this.queryForm.bank_id,callback:e=>{this.$set(this.queryForm,"bank_id",e)}}},[this.bankList.map((t=>e("el-option",{attrs:{label:t.bank_name,value:t.id},key:t.id})))])]),e("el-form-item",{attrs:{label:"打款单位："}},[e("el-input",{style:"width: 210px;",attrs:{clearable:!0,placeholder:"请输入打款单位"},model:{value:this.queryForm.company_name,callback:e=>{this.$set(this.queryForm,"company_name",e)}}})]),e("el-form-item",{attrs:{label:"","label-width":"0"}},[e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:()=>this.onQueryHandler()}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:()=>this.onResetHandler()}},["重置"])])])])]),e("section",{class:"table-field"},[e("div",{style:"height: 100%;"},[e("el-table",{directives:[{name:"loading",value:this.loading}],attrs:{border:!0,"show-summary":!0,"summary-method":this.getSummary,height:"100%",data:this.tableData}},[this.columns.map(((t,a)=>e("el-table-column",ne()([{},{props:{...t}},{key:a}])))),e("template",{slot:"empty"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})])])])]),this.tableData.length>0&&e("section",{class:"pagination-field"},[e("el-pagination",{style:"margin: 8px 0;",attrs:{"current-page":this.queryForm.page_num,"page-sizes":[20,30,50,100],pageSize:this.queryForm.num,total:this.queryForm.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"current-change":e=>{this.queryForm.page_num=e,this.onQueryHandler(e)},"size-change":e=>{this.queryForm.num=e,this.onQueryHandler()}}})])])}}),Qe=ze,Xe=(0,h.Z)(Qe,U,V,!1,null,"05978a6e",null),Ke=Xe.exports,Ge=(0,l.defineComponent)({components:{fundDashboard:te,fundDailyReport:de,fundYearReport:ge,financialStandingBook:We,projectFundStatement:Pe,departmentFundStatement:Te,pendingPayDetail:Ie,pendingClaimIncome:Ke},setup(){const e=(0,Fe.gI)(),t=()=>{const t=[];return e.fund_dashboard_view&&t.push({label:"资金看板",value:te.name}),e.fund_daily_report_view&&t.push({label:"资金日报",value:de.name}),e.fund_year_report_view&&t.push({label:"资金年报",value:ge.name}),e.financal_standing_book_view&&t.push({label:"理财台帐",value:We.name}),e.project_fund_statement_view&&t.push({label:"项目资金报表",value:Pe.name}),e.department_fund_statement_view&&t.push({label:"部门资金报表",value:Te.name}),e.pending_pay_detail_view&&t.push({label:"待支付明细",value:Ie.name}),e.pending_claim_income_view&&t.push({label:"待认领收入",value:Ke.name}),t},a=t(),n=(0,s.pK)(a,a[0]?.name),r={};return{...n,...r}},render(){const e=arguments[0];return e("div",{class:"tg-finance-fund-statement-container"},[e("tg-tabs",{attrs:{tabs:this.tabs},model:{value:this.checkedTab,callback:e=>{this.checkedTab=e}}}),e(this.checkedTab)])}}),Ue=Ge,Ve=(0,h.Z)(Ue,Z,Y,!1,null,"55414743",null),Ze=Ve.exports},50709:function(e,t,a){"use strict";a.d(t,{AY:function(){return u},Cm:function(){return R},Dd:function(){return M},Dl:function(){return d},Do:function(){return I},ED:function(){return _},EG:function(){return D},EJ:function(){return b},EN:function(){return m},ER:function(){return H},HW:function(){return l},Hn:function(){return K},L7:function(){return Y},LS:function(){return h},Oo:function(){return v},Ou:function(){return p},Q9:function(){return k},TL:function(){return N},Ui:function(){return r},V5:function(){return i},VE:function(){return n},Vv:function(){return L},Zp:function(){return A},_2:function(){return s},bf:function(){return y},bp:function(){return Q},cR:function(){return O},ed:function(){return q},ei:function(){return C},g8:function(){return o},gC:function(){return f},gV:function(){return X},gh:function(){return c},hv:function(){return Z},jH:function(){return x},kJ:function(){return W},li:function(){return B},ly:function(){return T},m0:function(){return U},oE:function(){return V},po:function(){return g},qM:function(){return S},rm:function(){return F},td:function(){return G},u8:function(){return E},us:function(){return P},vr:function(){return j},xn:function(){return w},y$:function(){return J},y8:function(){return z},zI:function(){return $}});const n="/api/settlement/refuse_settlement/:id",r="/api/settlement/approve_settlement/:id",o="/api/receivable/query_financial_receivables",i="/api/payable/query_financial_payables",s="/api/financial/query_invoice",l="/api/shop_live/query_project_uid",c="/api/financial/void_invoice",d="/api/financial/write_off_invoice",u="/api/financial/red_invoice_approval",m="/api/financial/upload_invoice_approval",p="/api/financial/query_daily_pay",h="/api/data_center/operating/overview",f="/api/data_center/operating/gmv_percent_sunburst",g="/api/data_center/operating/gmv_team_trend",y="/api/data_center/operating/profit_margin_statistics",v="/api/data_center/operating/labor_efficiency_trend",b="/api/data_center/operating/project_distribution_bubble",A="/api/data_center/operating/gmv_completion_rate",_="/api/data_center/operating/gmv_completion_trend",w="/api/data_center/operating/cost_percent_sunburst",x="/api/data_center/operating/income_percent_sunburst",k="/api/data_center/operating/profit_percent_sunburst",F="/api/data_center/operating/cost_team_trend",C="/api/data_center/operating/income_team_trend",D="/api/data_center/operating/profit_team_trend",q="/api/data_center/operating/cost_project_detail",W="/api/data_center/operating/income_project_detail",M="/api/data_center/operating/profit_project_detail",S="/api/data_center/operating/profit_loss_detail",j="/api/shop_live/query_operating_projects",O="/api/data_center/operating/gmv_project_detail",P="/api/financial/statistics/finance_overview",N="/api/financial/statistics/finance_pie",B="/api/financial/statistics/finance_trends",E="/api/financial/statistics/account_details",T="/api/financial/financing/query_financial_ledger",H="/api/financial/financing/add_financial_ledger",R="/api/financial/financing/delete_financial_ledger",L="/api/financial/statistics/project_project_fund",I="/api/financial/statistics/department_fund",z="/api/financial/statistics/unpaid_cost",Q="/api/financial/statistics/pending_income_claim",X="/api/financial/statistics/capital_daily_report",K="/api/financial/statistics/capital_year_report",G="/api/financial/revenue/query_revenue_flow",U="/api/settlement/query_revenue_flow",V="/api/financial/revenue/get_revenue_flow_detail",Z="/api/settlement/get_revenue_flow_detail",Y="/api/financial/revenue/claim_revenue_flow",$="/api/financial/revenue/delete_revenue_flow_detail",J="/api/financial/parse_bank_excel_data"},60492:function(e,t,a){"use strict";var n;a.d(t,{r:function(){return n}}),function(e){e["yuan"]="元",e["wan"]="万"}(n||(n={}))},42386:function(e,t,a){"use strict";a.d(t,{$W:function(){return Q},BN:function(){return x},BT:function(){return A},Bu:function(){return q},DR:function(){return M},FT:function(){return U},Hw:function(){return R},Hz:function(){return y},I2:function(){return S},JQ:function(){return w},KH:function(){return B},LZ:function(){return K},Ml:function(){return $},NW:function(){return k},Oi:function(){return D},R5:function(){return _},R7:function(){return P},Sg:function(){return N},T_:function(){return O},Tu:function(){return m},UI:function(){return u},UW:function(){return d},Un:function(){return f},Ux:function(){return b},V$:function(){return l},XV:function(){return c},XY:function(){return X},Xz:function(){return p},_:function(){return I},_u:function(){return Z},aH:function(){return h},b:function(){return C},cN:function(){return z},ce:function(){return E},f2:function(){return F},g8:function(){return s},h:function(){return T},hE:function(){return j},k:function(){return i},k6:function(){return g},kf:function(){return L},md:function(){return v},oY:function(){return W},or:function(){return Y},qp:function(){return H},w1:function(){return V},xW:function(){return G}});var n=a(76012),r=a(50709),o=a(64236);const i=async({id:e,refuse_reason:t})=>(0,n.SO)(r.VE.replace(":id",`${e}`),{refuse_reason:t}),s=async e=>(0,n.dX)(r.Ui.replace(":id",`${e}`)),l=async e=>(0,n.dX)(`/api/settlement/approve_cost_settlement/${e}`),c=({id:e,refuse_reason:t})=>(0,n.SO)(`/api/settlement/refuse_cost_settlement/${e}`,{refuse_reason:t}),d=async e=>(0,n.dX)(r.g8,{params:{...(0,o.jG)(e)}}),u=async e=>(0,n.dX)(r.V5,{params:{...(0,o.jG)(e)}}),m=async e=>(0,n.SO)("/api/financial/reverse",e),p=async e=>(0,n.SO)("/api/financial/reverse_again",e),h=async e=>(0,n.SO)("/api/financial/confirm_reverse",{...(0,o.jG)(e)}),f=async e=>(0,n.SO)("/api/financial/merchant_confirm_reverse",{...(0,o.jG)(e)}),g=async e=>(0,n.dX)("/api/financial/query_our_bank_accounts",{params:{...(0,o.jG)(e??{})}}),y=async e=>(0,n.dX)(r.Ou,{params:{...(0,o.jG)(e)}}),v=async e=>(0,n.SO)("/api/financial/add_manually_pay_info",{...(0,o.jG)(e)}),b=async(e,t)=>(0,n.dX)("/api/financial/query_all_project",{params:{...(0,o.jG)({...e,...t})}}),A=async e=>(0,n.dX)(r.LS,{params:{...(0,o.jG)(e)}}),_=async e=>(0,n.dX)(r.gC,{params:{...(0,o.jG)(e)}}),w=async e=>(0,n.dX)(r.po,{params:{...(0,o.jG)(e)}}),x=async e=>(0,n.dX)(r.bf,{params:{...(0,o.jG)(e)}}),k=async e=>(0,n.dX)(r.Oo,{params:{...(0,o.jG)(e)}}),F=async e=>(0,n.dX)(r.EJ,{params:{...(0,o.jG)(e)}}),C=async e=>(0,n.dX)(r.Zp,{params:{...(0,o.jG)(e)}}),D=async e=>(0,n.dX)(r.ED,{params:{...(0,o.jG)(e)}}),q=async(e,t)=>2===t?(0,n.dX)(r.xn,{params:{...(0,o.jG)(e)}}):1===t?(0,n.dX)(r.jH,{params:{...(0,o.jG)(e)}}):(0,n.dX)(r.Q9,{params:{...(0,o.jG)(e)}}),W=async(e,t)=>2===t?(0,n.dX)(r.rm,{params:{...(0,o.jG)(e)}}):1===t?(0,n.dX)(r.ei,{params:{...(0,o.jG)(e)}}):(0,n.dX)(r.EG,{params:{...(0,o.jG)(e)}}),M=async(e,t)=>2===t?(0,n.dX)(r.ed,{params:{...(0,o.jG)(e)}}):1===t?(0,n.dX)(r.kJ,{params:{...(0,o.jG)(e)}}):3===t?(0,n.dX)(r.Dd,{params:{...(0,o.jG)(e)}}):(0,n.dX)(r.cR,{params:{...(0,o.jG)(e)}}),S=async e=>(0,n.dX)(r.vr,{params:{...(0,o.jG)(e)}}),j=async e=>(0,n.dX)(r.qM,{params:{...(0,o.jG)(e)}}),O=async()=>(0,n.dX)(r.us),P=async()=>(0,n.dX)(r.TL),N=async()=>(0,n.dX)(r.li),B=async()=>(0,n.dX)(r.u8),E=async e=>(0,n.dX)(r.gV,{params:{...(0,o.jG)(e)}}),T=async()=>(0,n.dX)(r.Hn),H=async e=>(0,n.dX)(r.ly,{params:{...(0,o.jG)(e)}}),R=async e=>(0,n.SO)(r.ER,{...(0,o.jG)(e)}),L=async e=>(0,n.HG)(`${r.Cm}/${e}`),I=async e=>(0,n.dX)(r.Vv,{params:{...(0,o.jG)(e)}}),z=async()=>(0,n.dX)(r.Do),Q=async e=>(0,n.dX)(r.y8,{params:{...(0,o.jG)(e)}}),X=async e=>(0,n.dX)(r.bp,{params:{...(0,o.jG)(e)}}),K=async e=>(0,n.dX)(r.td,{params:{...(0,o.jG)(e)}}),G=async e=>(0,n.dX)(`${r.hv}/${e}`),U=async e=>(0,n.dX)(r.m0,{params:{...(0,o.jG)(e)}}),V=async e=>(0,n.dX)(`${r.oE}/${e}`),Z=async e=>(0,n.SO)(r.L7,{...(0,o.jG)(e)}),Y=async e=>(0,n.HG)(`${r.zI}/${e}`),$=e=>(0,n.SO)(r.y$,e)},50737:function(e,t,a){"use strict";a.d(t,{SL:function(){return l},bO:function(){return i},f8:function(){return o},sR:function(){return s}});var n=a(76012),r=a(64236);const o=(e={})=>(0,n.dX)("/api/maycur/list_expense_categories",{params:{...(0,r.jG)(e)}}),i=e=>(0,n.SO)("/api/maycur/save_expense_category",(0,r.jG)(e)),s=(e={})=>(0,n.dX)("/api/maycur/list_expense_types",{params:{...(0,r.jG)(e)}}),l=e=>(0,n.SO)("/api/maycur/save_expense_type",(0,r.jG)(e))},67578:function(e,t,a){"use strict";var n,r,o;a.d(t,{A1:function(){return f},Bn:function(){return n},Fq:function(){return h},Jd:function(){return r},LQ:function(){return i},Ly:function(){return _},MK:function(){return w},Qm:function(){return c},SN:function(){return p},XB:function(){return g},b7:function(){return d},go:function(){return v},h0:function(){return o},rt:function(){return l},sc:function(){return b},yW:function(){return y}}),function(e){e[e["none"]=0]="none",e[e["part"]=1]="part",e[e["done"]=2]="done"}(n||(n={})),function(e){e[e["receive"]=1]="receive",e[e["payment"]=2]="payment",e[e["settlement_income"]=3]="settlement_income",e[e["settlement_cost"]=4]="settlement_cost"}(r||(r={})),function(e){e[e["wait_confirm"]=1]="wait_confirm",e[e["confirmed"]=2]="confirmed",e[e["refused"]=3]="refused"}(o||(o={}));const i=new Map([[o.wait_confirm,"待确认"],[o.confirmed,"已确认"],[o.refused,"退回"]]);var s;(function(e){e[e["Salary"]=1]="Salary",e[e["AnchorServiceFee"]=2]="AnchorServiceFee",e[e["AssetPurchase"]=3]="AssetPurchase",e[e["WaterAndElectricity"]=4]="WaterAndElectricity",e[e["Decorate"]=5]="Decorate",e[e["HouseRent"]=6]="HouseRent",e[e["MarketingCost"]=7]="MarketingCost",e[e["Rebate"]=8]="Rebate",e[e["Reverse"]=9]="Reverse"})(s||(s={}));const l=new Map([[s.Salary,"人员工资"],[s.AnchorServiceFee,"主播服务费"],[s.AssetPurchase,"固定资产采购"],[s.WaterAndElectricity,"水电"],[s.Decorate,"装修"],[s.HouseRent,"房租"],[s.MarketingCost,"营销成本"],[s.Rebate,"返点"],[s.Reverse,"冲销"]]);var c;(function(e){e[e["bank"]=1]="bank",e[e["zfb"]=2]="zfb"})(c||(c={}));const d=new Map([[c.bank,"银行账户"],[c.zfb,"支付宝"]]);var u,m;(function(e){e["FixedAssets"]="01",e["OfficeExpenses"]="02",e["TravelExpenses"]="03",e["CityTransportationFee"]="04",e["BusinessEntertainmentExpenses"]="05",e["LogisticsFee"]="06",e["IntermediaryConsultingFee"]="07",e["CommunicationCost"]="08",e["CarCost"]="09",e["ConferenceExpenses"]="10",e["AssetUseFee"]="11",e["PromotionExpenses"]="13",e["TechnicalServiceFee"]="14",e["SampleFee"]="15",e["LowValueConsumables"]="16",e["MainBusinessCost"]="999999",e["Loan"]="999998"})(u||(u={})),function(e){e[e["Cost"]=1]="Cost",e[e["Refund"]=2]="Refund",e[e["Fee"]=3]="Fee",e[e["Loan"]=4]="Loan",e[e["Other"]=5]="Other",e[e["FundTransfer"]=6]="FundTransfer",e[e["financeBuy"]=7]="financeBuy",e[e["Release"]=8]="Release"}(m||(m={}));const p=new Map([[m.Cost,"成本"],[m.Refund,"退款"],[m.Fee,"费用"],[m.Loan,"借款"],[m.Other,"其他"],[m.FundTransfer,"资金划转"],[m.financeBuy,"理财买入"],[m.Release,"煜丰投放（收量）"]]),h=new Map([[u.FixedAssets,"固定资产"],[u.OfficeExpenses,"办公费"],[u.TravelExpenses,"差旅费"],[u.CityTransportationFee,"市内交通费"],[u.BusinessEntertainmentExpenses,"业务招待费"],[u.LogisticsFee,"物流费"],[u.IntermediaryConsultingFee,"中介咨询费"],[u.CommunicationCost,"通讯费用"],[u.CarCost,"汽车费用"],[u.ConferenceExpenses,"会议费"],[u.AssetUseFee,"资产使用费"],[u.PromotionExpenses,"促销费用"],[u.TechnicalServiceFee,"技术服务费"],[u.SampleFee,"样品费"],[u.LowValueConsumables,"低值易耗品"],[u.MainBusinessCost,"主营业务成本"],[u.Loan,"借款"]]);var f,g;(function(e){e[e["alipay"]=0]="alipay",e[e["zhaoshangBank"]=1]="zhaoshangBank",e[e["nongyeBank"]=2]="nongyeBank",e[e["gongshangBank"]=3]="gongshangBank",e[e["hangzhouBank"]=4]="hangzhouBank",e[e["lianheBank"]=5]="lianheBank",e[e["beijingBank"]=6]="beijingBank"})(f||(f={})),function(e){e[e["watigingClaim"]=0]="watigingClaim",e[e["claimed"]=1]="claimed"}(g||(g={}));const y=new Map([[g.watigingClaim,"待认领"],[g.claimed,"已认领"]]);var v;(function(e){e[e["otherIncome"]=0]="otherIncome",e[e["fundTransfer"]=1]="fundTransfer",e[e["ProjectIncome"]=2]="ProjectIncome",e[e["zfbWithdraw"]=3]="zfbWithdraw",e[e["financialIncome"]=4]="financialIncome",e[e["taobaoCpsIncome"]=5]="taobaoCpsIncome",e[e["vTaskIncome"]=6]="vTaskIncome",e[e["staffRepayment"]=7]="staffRepayment",e[e["damageIndemnity"]=8]="damageIndemnity",e[e["yulibaoRedemption"]=9]="yulibaoRedemption"})(v||(v={}));const b=new Map([[v.otherIncome,"其它收入"],[v.fundTransfer,"资金划转"],[v.ProjectIncome,"项目收入"],[v.zfbWithdraw,"支付宝提现"],[v.financialIncome,"理财收入"],[v.taobaoCpsIncome,"淘宝CPS收入"],[v.vTaskIncome,"V任务收入"],[v.staffRepayment,"员工还款"],[v.damageIndemnity,"公物损坏赔偿"],[v.yulibaoRedemption,"余利宝赎回"]]);var A;(function(e){e[e["cost"]=1]="cost",e[e["refund"]=2]="refund",e[e["fee"]=3]="fee",e[e["loan"]=4]="loan",e[e["other"]=5]="other",e[e["fundTransfer"]=6]="fundTransfer"})(A||(A={}));const _=new Map([[A.cost,"成本"],[A.refund,"退款"],[A.fee,"费用"],[A.loan,"借款"],[A.other,"其他"],[A.fundTransfer,"资金划转"]]);var w;(function(e){e[e["income"]=1]="income",e[e["cost"]=-1]="cost"})(w||(w={}))},82741:function(e,t,a){"use strict";a.d(t,{I:function(){return r},u:function(){return o}});var n=a(71340);const r=(e,t)=>{const a="string"===typeof t?{title:t}:t;return new Promise((t=>{e.root.$TDialog({...a,onConfirm:()=>t(!0),onCancel:()=>t(!1)})}))},o=e=>{const t="string"===typeof e?{title:e}:e;return new Promise(((e,a)=>{(0,n.t)({...t,onConfirm:()=>e(!0),onCancel:()=>a()})}))}},23812:function(e,t,a){"use strict";a.d(t,{GQ:function(){return s},YE:function(){return o},cY:function(){return l},pK:function(){return i}});var n=a(97434),r=a(44928);const o=(e,t)=>({tabs:(0,n.reactive)([...e]),checkedTab:(0,n.ref)(t??(e.length<1?"":e[0].value))}),i=(e,t)=>{const a=(0,n.isRef)(e)?e:(0,n.ref)(e),r=(0,n.isRef)(t)?(0,n.unref)(t):t,o=a.value.length<1?"":a.value[0].value,i=(0,n.ref)(r??o);return{tabs:a,checkedTab:i}},s=(e,t,a)=>{const r=(0,n.reactive)([...t]),o=(0,n.ref)(a??(t.length<1?"":`${t[0].value}`)),i=t=>{e.root.$router.push({path:e.root.$route.path,query:{tab:`${t.value}`}})};return(0,n.onBeforeMount)((()=>{const n=e.root.$route.query.tab;o.value="string"===typeof n?n:a??(t.length<1?"":`${t[0].value}`)})),{tabs:r,checkedTab:o,onTabChange:i}},l=(e,t)=>{const a=(0,n.reactive)([...e]),o=(0,n.ref)(t??(e.length<1?"":`${e[0].value}`)),i=(0,r.t)(),s=e=>{const t=i.currentRoute,a={...t.params,tab:e.value};i.push({name:t.name,params:a})};return o.value=i.currentRoute.params.tab||t||o.value,{tabs:a,checkedTab:o,onTabChange:s}}},44928:function(e,t,a){"use strict";a.d(t,{t:function(){return r}});var n=a(86834);const r=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(n.Z,t)}});return e}},56045:function(e,t,a){"use strict";a.d(t,{EG:function(){return r},TP:function(){return o},en:function(){return n}});const n=(e="select-icon")=>{document.querySelector(`.${e}`).className+=" select-icon-rotate"},r=(e="select-icon")=>{document.querySelector(`.${e}`).classList.remove("select-icon-rotate")},o=()=>{document.querySelector(".controlPopoverHide").click()}},4096:function(e,t,a){e.exports=a(70680)(12996)}}]);
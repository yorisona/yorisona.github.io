(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[6381],{71075:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i,s,r=a(97434),n=(0,r.defineComponent)({name:"Fold",props:{show:{type:Boolean,default:!1}},setup(e,t){return{}},render(){const e=arguments[0];return e("span",{class:"folder-box"},[this.show?"收起更多筛选":"展开更多筛选",this.show?e("tgIcon",{attrs:{name:"ico-arrow-up"},style:"font-size: 17px;margin-top: 1px;margin-left: 2px"}):e("tgIcon",{attrs:{name:"ico-arrow-down"},style:"font-size: 15px;margin-top: 1px;margin-left: 2px"})])}}),o=n,l=a(1001),c=(0,l.Z)(o,i,s,!1,null,"7f2632d6",null),p=c.exports},39591:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i,s,r=a(97434),n=(0,r.defineComponent)({props:{item:{type:Object,default:()=>{}},cover:{type:String,default:""},isEdit:{type:Boolean,default:!1},isShow:{type:Boolean,default:!0},showPreview:{type:Boolean,default:!1},isReview:{type:Boolean,default:!1},isDelete:{type:Boolean,default:!1}},render(){const e=arguments[0];return e("div",{class:"model-picture"},[e("div",{class:"cover"},[e("tg-image",{attrs:{src:this.cover,alt:this.item.flower_name}})]),e("div",{class:"name"},["verify_status"in this.item&&e("span",{class:"point point-"+this.item.verify_status}),e("span",{class:"nickname"},[this.item.flower_name]),e("span",{class:"realname"},["(",this.item.real_name,")"])]),e("div",{class:"action"},[this.showPreview&&e("tg-icon",{attrs:{name:"ico-icon_zhaopian",title:"预览"},on:{click:()=>{this.$emit("preview",this.item)}}}),this.isShow&&e("tg-icon",{attrs:{name:"ico-icon_chakan",title:"查看"},on:{click:()=>{this.$emit("show",this.item)}}}),this.isEdit&&e("tg-icon",{attrs:{name:"ico-icon_bianji",title:"编辑"},on:{click:()=>{this.$emit("edit",this.item)}}}),this.isReview&&e("tg-icon",{attrs:{name:"ico-icon_shenhe",title:"审核"},on:{click:()=>{this.$emit("review",this.item)}}}),this.isDelete&&e("tg-icon",{attrs:{name:"ico-btn-delete",title:"删除"},on:{click:()=>{this.$emit("delete",this.item)}}})])])}}),o=n,l=a(1001),c=(0,l.Z)(o,i,s,!1,null,"aeb070dc",null),p=c.exports},31428:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i,s,r=a(97434),n=(0,r.defineComponent)({props:{value:{type:Array,default:()=>[]},separator:{type:String,default:"～"},startPlaceholder:{type:String},endPlaceholder:{type:String},maxLength:{type:Array,default:()=>[]}},render(){const e=arguments[0];return e("div",{class:"tg-input-range"},[e("el-input",{attrs:{maxLength:this.maxLength[0],value:this.value[0],placeholder:this.startPlaceholder},on:{input:e=>{const t=[...this.value];t[0]=e,this.$emit("input",t)}}}),e("span",[this.separator]),e("el-input",{attrs:{maxLength:this.maxLength[1],value:this.value[1],placeholder:this.endPlaceholder},on:{input:e=>{const t=[...this.value];t[1]=e,this.$emit("input",t)}}})])}}),o=n,l=a(1001),c=(0,l.Z)(o,i,s,!1,null,"1be24118",null),p=c.exports},77248:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var i=a(97434),s=a(53451),r=a.n(s),n=a(48606),o=a(21910);a(28038);const{debounce:l}=r();var c,p,u=(0,i.defineComponent)({props:{save:{type:Function},cancel:{type:Function}},setup:function(e,t){const a=(0,i.ref)(null),s=(0,i.ref)(""),r=(0,i.ref)(!1),c=(0,i.ref)(0),p=(0,i.ref)({}),u=(0,i.ref)([]),d=()=>{p.value={}},m=()=>{c.value=0,t.emit("close"),t.root.$nextTick(d),r.value=!1},h=(e,t)=>{s.value=e,p.value={images:t||[]},r.value=!0,(0,i.nextTick)((()=>{new o["default"](".swiper-container",{loop:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"my-button-disabled"},on:{slideChangeTransitionEnd:function(e){c.value=e.realIndex}}})}))},y=()=>{const e=t.refs.mySwiper;e.swiper.slidePrev()},f=()=>{const e=t.refs.mySwiper;e.swiper.slideNext()},v=()=>{const t=e.save;t(p.value).then((()=>{r.value=!1})).catch((e=>{n.Message.error(e.message)}))},_=()=>{const t=e.cancel;t(p.value).then((()=>{r.value=!1})).catch((e=>{n.Message.error(e.message)}))},g=l(v,200);return{show:h,title:s,visible:r,formData:p,months:u,onCloseBtnClick:m,onCancel:_,onSaveBtnClick:g,formRef:a,currIdx:c,prev:y,next:f}},render(){const e=arguments[0];return e("el-dialog",{class:"tg-dialog-classic",attrs:{width:"700px",visible:this.visible,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1},on:{close:this.onCloseBtnClick}},[e("fragments",{slot:"title"},[this.title]),e("div",{class:"dialog-content"},[e("div",{class:"swiper-container",ref:"mySwiper"},[e("div",{class:"swiper-wrapper"},[this.formData.images?.map(((t,a)=>e("div",{class:"swiper-slide",key:a},[e("tg-image",{class:"img",attrs:{src:t}})])))]),e("div",{class:0===this.currIdx?"swiper-button-prev my-button-disabled":"swiper-button-prev",on:{click:this.prev}}),e("div",{class:this.currIdx===this.formData.images?.length-1?"swiper-button-next my-button-disabled":"swiper-button-next",on:{click:this.next}})]),e("div",{class:"pagenation"},[e("span",[this.currIdx+1," / ",this.formData.images?.length])])])])}}),d=u,m=a(1001),h=(0,m.Z)(d,c,p,!1,null,"02f1680c",null),y=h.exports},56381:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var i=a(97434),s=a(57412),r=a(1763),n=a(318);const o=()=>{const e=(0,i.ref)([]),t=(0,i.ref)(),a=(0,i.ref)(0),s=t=>e.value.find((e=>e.date+""===t.format("YYYYMMDD"))),r=(0,i.ref)({good_at_category:"",flower_name:"",real_name:"",gender:"",verify_status:"",live_year_from:"",live_year_to:"",anchor_type:"",cooperation_status:"",num:50,page_num:1,live_years:[],add_by:"",anchor_tag:""}),o=(0,i.ref)([]),l=(0,i.ref)([]),c=a=>{const i={...a};void 0!==a.live_years[0]&&(i.live_year_from=a.live_years[0]),void 0!==a.live_years[1]&&(i.live_year_to=a.live_years[1]),delete i.live_years,n.ZP.GetAnchorList(i).then((i=>{e.value=i.data,t.value=i.total,r.value.page_num=a.page_num}))},p=()=>{c({...r.value,page_num:1,gmt_create_from:o.value[0],gmt_create_to:o.value[1]})},u=()=>{r.value={...r.value,flower_name:"",real_name:"",gender:"",verify_status:"",good_at_category:"",live_year_from:"",live_year_to:"",anchor_type:"",cooperation_status:"",num:50,page_num:1,live_years:[],add_by:"",anchor_tag:""},o.value=[],p()};return n.ZP.GetAnchorGoodAtCategories().then((e=>{l.value=[{label:"全部",value:""},...e.data.data.map((e=>({label:e.name,value:e.code})))]})),(0,i.reactive)({reset:u,queryStart:p,queryForm:r,catesList:l,query:c,list:e,gmt_create:o,total:t,page_num:a,find:s})};var l,c,p=a(31428),u=a(71075),d=a(21757),m=a(44928),h=a(39591),y=a(77248),f=a(82741),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"tg-dialog-classic playermanager-record-dialog tg-dialog-vcenter-new",attrs:{visible:e.dialogVisible,width:"990px",title:"敏感信息查看记录","lock-scroll":"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{close:e.close}},[a("div",{staticClass:"filter-area"},[a("div",{staticClass:"filter-one"},[a("span",{staticClass:"label"},[e._v("操作人：")]),a("el-input",{staticStyle:{width:"112px"},attrs:{size:"mini",clearable:!1,placeholder:"请输入操作人"},model:{value:e.filterForm.add_by_name,callback:function(t){e.$set(e.filterForm,"add_by_name",t)},expression:"filterForm.add_by_name"}})],1),a("div",{staticClass:"filter-one"},[a("span",{staticClass:"label"},[e._v("主播真名：")]),a("el-input",{staticStyle:{width:"112px"},attrs:{clearable:!1,size:"mini",placeholder:"请输入主播真名"},model:{value:e.filterForm.real_name,callback:function(t){e.$set(e.filterForm,"real_name",t)},expression:"filterForm.real_name"}})],1),a("div",{staticClass:"filter-one"},[a("span",{staticClass:"label"},[e._v("主播花名：")]),a("el-input",{staticStyle:{width:"112px"},attrs:{clearable:!1,size:"mini",placeholder:"请输入主播花名"},model:{value:e.filterForm.flower_name,callback:function(t){e.$set(e.filterForm,"flower_name",t)},expression:"filterForm.flower_name"}})],1),a("div",{staticClass:"filter-one"},[a("span",{staticClass:"label"},[e._v("查询日期：")]),a("el-date-picker",{staticStyle:{width:"190px"},attrs:{type:"daterange",size:"mini",editable:!1,clearable:!1,"range-separator":"～","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{blur:e.onDateBlur},model:{value:e.filterForm.dates,callback:function(t){e.$set(e.filterForm,"dates",t)},expression:"filterForm.dates"}})],1),a("tg-button",{staticClass:"mgl-18",attrs:{size:"mini",type:"primary"},on:{click:e.onQueryClick}},[e._v("查询")]),a("tg-button",{staticStyle:{"margin-left":"8px"},attrs:{size:"mini"},on:{click:e.onResetClick}},[e._v("重置")])],1),a("div",{staticStyle:{background:"#f6f6f6",height:"12px"}}),a("div",{staticClass:"data-table"},[a("el-table",{class:e.list.length?"":"hidden-table",attrs:{border:!!e.list.length,"max-height":390,data:e.list},scopedSlots:e._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{"detial-text":"暂无查看记录"}})]},proxy:!0}])},e._l(e.columns,(function(t,i){return a("el-table-column",e._b({key:i},"el-table-column",t,!1))})),1)],1),a("div",{staticClass:"data-pagination",style:e.list.length?"visibility: visible":"visibility: hidden"},[a("el-pagination",{staticStyle:{margin:"8px 0"},attrs:{"current-page":e.filterForm.page_num,"page-sizes":[10,20,50,100,200],"page-size":e.filterForm.num,layout:"total, prev, pager, next, sizes",total:e.filterForm.total},on:{"update:currentPage":function(t){return e.$set(e.filterForm,"page_num",t)},"update:current-page":function(t){return e.$set(e.filterForm,"page_num",t)},"update:pageSize":function(t){return e.$set(e.filterForm,"num",t)},"update:page-size":function(t){return e.$set(e.filterForm,"num",t)},"current-change":e.onCurrentChange,"size-change":e.onSizeChange}})],1)])},_=[],g=a(6933),b=a.n(g),w=a(45186),k=(0,i.defineComponent)({setup(e,t){const a=(e=0)=>{const t=b()(),a=b()().add(-4,"days"),i="yyyy-MM-DD";return{add_by_name:void 0,flower_name:void 0,real_name:void 0,num:20,page_num:1,total:e,dates:[a.format(i),t.format(i)]}},s=(0,i.ref)(void 0),r=(0,i.ref)(!1),o=(0,i.ref)(a()),l=(0,i.ref)([]),c=(0,i.computed)((()=>[{label:"序号",align:"center",width:100,formatter:(e,t,a,i)=>`${i+1}`},{label:"操作人",align:"center",width:190,formatter:e=>e.add_by_name?e.add_by_name:"--"},{label:"查看时间",align:"center",width:200,formatter:e=>e.gmt_create?e.gmt_create:"--"},{label:"查看主播",align:"center",width:254,formatter:e=>{const t=e.flower_name?e.flower_name:"--",a=e.real_name?e.real_name:"--";return`${t}（${a}）`}},{label:"查看信息",align:"center",minWidth:209,formatter:e=>{switch(e.search_type){case w.J.Wechat:return"微信号";case w.J.Phone:return"手机号";default:return"--"}}}])),p=(0,i.ref)({shortcuts:[{text:"最近一周",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-5184e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-25056e5),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick(e){const t=new Date,a=new Date;a.setTime(a.getTime()-76896e5),e.$emit("pick",[a,t])}}],onPick:({minDate:e})=>{s.value=e},disabledDate(e){if(s.value){const t=b()(s.value),a=b()(s.value),i=b()(e);return t.add(89,"days"),a.add(-89,"days"),i.isBefore(a)||i.isAfter(t)}return!1}}),u={close:()=>{r.value=!1},show:()=>{u.onResetClick(),r.value=!0},onQueryClick:()=>{o.value.page_num=1,u.getAnchorKeyInfoLog()},onResetClick:()=>{o.value=a(o.value.total),u.getAnchorKeyInfoLog()},onSizeChange:e=>{o.value.num=e,u.getAnchorKeyInfoLog()},onCurrentChange:e=>{o.value.page_num=e,u.getAnchorKeyInfoLog()},onDateBlur:()=>{s.value=void 0},getAnchorKeyInfoLog:async()=>{const e={end_time:o.value.dates?.[1],start_time:o.value.dates?.[0],add_by_name:o.value.add_by_name,flower_name:o.value.flower_name,real_name:o.value.real_name,num:o.value.num,page_num:o.value.page_num},a=await(0,n.aw)(e);a.data.success?(o.value.total=a.data.data.total,l.value=a.data.data.data):t.root.$message.error(a.data.message)}};return{filterForm:o,list:l,columns:c,dialogVisible:r,pickerOptions:p,...u}}}),x=k,C=a(1001),S=(0,C.Z)(x,v,_,!1,null,null,null),F=S.exports,$=a(31973),A=(0,i.defineComponent)({components:{InputRange:p.Z,Folder:u.Z,liverModel:h.Z,dialogImageView:y.Z,record:F},setup(e,t){const a=(0,m.t)(),s=o(),r=window.localStorage.getItem("isDisplay"),l=(0,i.ref)(!r||!!(1*r)),c=(0,i.ref)();let p=null;const u=2592e6,h={onPick:e=>{e.minDate&&p?p=null:e.minDate&&(p=e.minDate.getTime())},disabledDate:e=>p&&(e.getTime()>p+u||e.getTime()<p-u)||e.getTime()>Date.now()};(0,i.onActivated)((()=>{s.query(s.queryForm)}));const y=e=>{13===e.which&&s.queryStart()},v=(0,d.gI)(),_=(0,i.ref)(!1),g=()=>{_.value=!_.value};"console_anchor_apply"===a.currentRoute.query.source&&(s.queryForm.verify_status=1),s.query(s.queryForm);const b=async e=>{const a=await(0,f.I)(t,"是否确定删除此主播？");if(a){const a=await(0,n.Zn)(e.id);a.data.success?(t.root.$message.success(a.data.message),s.query(s.queryForm)):t.root.$message.error(a.data.message)}},w=(0,i.ref)(void 0),k=e=>(0,$.nT)((0,i.ref)(e)).value;return{onDeleteModel:b,data:s,permission:v,pickerOptions:h,onKeyPress:y,show:_,displayType:l,handleFolderClick:g,dialogImageViewRef:c,recordRef:w,isCreatorMaintainer:k}},render(){const e=arguments[0],{data:t}=this;return e("div",{class:"tg-page-container flex-auto",style:"min-width: 1260px"},[e("tg-card",{class:"mgb-12",attrs:{padding:[18,18,6,18]}},[e("el-form",{attrs:{size:"small","show-message":!1,"label-width":"70px"}},[e("div",{class:"filter-form-div no-wrap"},[e("div",{class:"filter-form-item "},[e("el-form-item",{attrs:{label:"主播名称："},nativeOn:{keypress:this.onKeyPress}},[e("el-input",{attrs:{placeholder:"请输入主播名称"},model:{value:t.queryForm.flower_name,callback:e=>{this.$set(t.queryForm,"flower_name",e)}}})])]),e("div",{class:"filter-form-item "},[e("el-form-item",{attrs:{label:"主播真名："},nativeOn:{keypress:this.onKeyPress}},[e("el-input",{attrs:{placeholder:"请输入真名"},model:{value:t.queryForm.real_name,callback:e=>{this.$set(t.queryForm,"real_name",e)}}})])]),e("div",{class:"filter-form-item "},[e("el-form-item",{attrs:{label:"合作状态："}},[e("el-select",{style:{width:"100%"},model:{value:t.queryForm.cooperation_status,callback:e=>{this.$set(t.queryForm,"cooperation_status",e)}}},[e("el-option",{attrs:{label:"全部",value:""}}),e("el-option",{attrs:{label:"合作中",value:"1"}}),e("el-option",{attrs:{label:"未合作",value:"2"}})])])]),e("div",{class:"filter-form-item "},[e("el-form-item",{attrs:{label:"审核状态："}},[e("el-select",{style:{width:"100%"},model:{value:t.queryForm.verify_status,callback:e=>{this.$set(t.queryForm,"verify_status",e)}}},[e("el-option",{attrs:{label:"全部",value:""}}),e("el-option",{attrs:{label:"基础信息已完善",value:0}}),e("el-option",{attrs:{label:"审核中",value:1}}),e("el-option",{attrs:{label:"已通过",value:2}}),e("el-option",{attrs:{label:"未通过",value:-1}})])])]),e("div",{class:"filter-form-item",style:"min-width: 250px; max-width: 250px;"},[e("el-form-item",{attrs:{"label-width":"0"}},[e("div",{class:"filter-item-btn-more"},[e("tg-button",{on:{click:this.handleFolderClick}},["高级筛选"]),e("tg-button",{attrs:{type:"primary"},on:{click:this.data.queryStart}},["查询"]),e("tg-button",{on:{click:this.data.reset}},["重置"])])])])]),this.show&&e("span",[e("div",{class:"filter-form-div no-wrap"},[e("div",{class:"filter-form-item"},[e("el-form-item",{attrs:{label:"主播类型："}},[e("el-select",{style:{width:"100%"},model:{value:t.queryForm.anchor_type,callback:e=>{this.$set(t.queryForm,"anchor_type",e)}}},[e("el-option",{attrs:{label:"全部",value:""}}),e("el-option",{attrs:{label:"网络营销师",value:"1"}}),e("el-option",{attrs:{label:"练习生",value:"2"}})])])]),e("div",{class:"filter-form-item "},[e("el-form-item",{attrs:{label:"主播性别："}},[e("el-select",{style:{width:"100%"},model:{value:t.queryForm.gender,callback:e=>{this.$set(t.queryForm,"gender",e)}}},[e("el-option",{attrs:{label:"全部",value:""}}),e("el-option",{attrs:{label:"男",value:"1"}}),e("el-option",{attrs:{label:"女",value:"2"}})])])]),e("div",{class:"filter-form-item "},[e("el-form-item",{attrs:{label:"直播年限：",prop:"live_years"}},[e("div",{class:"range-box"},[e("input-range",{style:{width:"100%"},model:{value:t.queryForm.live_years,callback:e=>{this.$set(t.queryForm,"live_years",e)}}})])])]),e("div",{class:"filter-form-item "},[e("el-form-item",{attrs:{label:"创建人："},nativeOn:{keypress:this.onKeyPress}},[e("el-input",{attrs:{placeholder:"请输入创建人"},model:{value:t.queryForm.add_by,callback:e=>{this.$set(t.queryForm,"add_by",e)}}})])]),e("div",{class:"filter-form-item",style:"min-width: 250px; max-width: 250px"},[e("el-form-item",{attrs:{label:"个人标签："},nativeOn:{keypress:this.onKeyPress}},[e("el-input",{attrs:{placeholder:"请输入个人标签"},model:{value:t.queryForm.anchor_tag,callback:e=>{this.$set(t.queryForm,"anchor_tag",e)}}})])])]),e("div",{class:"filter-form-div no-wrap"},[e("div",{class:"filter-form-item more"},[e("el-form-item",{attrs:{label:"创建时间："}},[e("el-date-picker",{attrs:{"picker-options":this.pickerOptions,"value-format":"yyyy-MM-dd",type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期"},style:{width:"322px"},model:{value:t.gmt_create,callback:e=>{this.$set(t,"gmt_create",e)}}})])])])])]),this.show&&e("tg-label-group",{style:"margin-top: 5px",attrs:{label:"擅长类目",options:this.data.catesList},on:{change:this.data.queryStart},model:{value:this.data.queryForm.good_at_category,callback:e=>{this.$set(this.data.queryForm,"good_at_category",e)}}})]),e("div",{class:"mtg-card ",style:"padding: 0;minWidth:1200px"},[this.permission.supplier_anchor_detail&&e("tg-button-line",{style:this.displayType?"justify-content: space-between; padding: 12px 18px 0 18px":"justify-content: space-between; padding: 12px 18px 12px 18px"},[e("div",{style:"display: flex; align-items: center;"},[e("tg-button",{attrs:{icon:"ico-btn-add",type:"primary"},on:{click:()=>{this.$router.push({name:r.bv.player_add})}}},["新增主播"]),e("tg-button",{class:"mgl-18",attrs:{type:"link"},on:{click:()=>{this.recordRef?.show()}}},["查看记录"])]),e("div",{class:"check-list-picture"},[e("button",{class:this.displayType&&"isActive",attrs:{size:"small",type:"primary"},on:{click:()=>{this.displayType=!0,window.localStorage.setItem("isDisplay","1")}}},[e("tg-icon",{attrs:{name:"ico-list"}}),e("span",["列表样式"])]),e("button",{class:!this.displayType&&"isActive",attrs:{size:"small",type:"primary"},on:{click:()=>{this.displayType=!1,window.localStorage.setItem("isDisplay","0")}}},[e("tg-icon",{attrs:{name:"ico-icon_suolvetu"}}),e("span",["缩略图"])])])]),this.displayType?e("div",{class:"table-box",style:this.permission.supplier_anchor_detail?"padding:12px 18px 0 18px":"padding:18px 18px 0 18px",ref:"tableRef"},[e("tg-table",{attrs:{stripe:!0,height:"100%",data:this.data.list},on:{"row-click":e=>{this.$router.push({name:r.bv.player_detail,params:{id:e.id}})}}},[e("el-table-column",{attrs:{label:"主播名称",minWidth:160},scopedSlots:{default:({row:e})=>s.Z.ellipsisText(e.flower_name,20)}}),e("el-table-column",{attrs:{label:"主播ID",minWidth:100,prop:"id"}}),e("el-table-column",{attrs:{label:"真名",prop:"real_name",minWidth:120,align:"center"}}),e("el-table-column",{attrs:{label:"性别",prop:"gender",align:"center",minWidth:60}}),e("el-table-column",{attrs:{label:"直播年限",minWidth:80,align:"center"},scopedSlots:{default:({row:t})=>e("div",[t.live_year,"年"])}}),e("el-table-column",{attrs:{label:"",minWidth:10}}),e("el-table-column",{attrs:{label:"主播类型",minWidth:120,prop:"anchor_type",align:"center"}}),e("el-table-column",{attrs:{label:"个人标签",prop:"name",minWidth:202},scopedSlots:{default:({row:t})=>0===t.anchor_tag.length?e("span",["--"]):e("el-popover",{attrs:{placement:"bottom",trigger:"hover"},scopedSlots:{reference:()=>e("p",{class:"good-area-line"},[t.anchor_tag.join("、")])}},[e("div",{class:"popover-container"},[t.anchor_tag.map(((t,a)=>e("span",{key:a},[t])))])])}}),e("el-table-column",{attrs:{label:"擅长类目",prop:"name",minWidth:202},scopedSlots:{default:({row:t})=>{if(0===t.good_at_categories.length)return e("span",["--"]);const a=t.good_at_categories.join("、").length;return a<=12?e("p",{class:"good-area-line"},[t.good_at_categories.join("、")]):e("el-popover",{attrs:{placement:"bottom",trigger:"hover"},scopedSlots:{reference:()=>e("p",{class:"good-area-line"},[t.good_at_categories.join("、")])}},[e("div",{class:"popover-container"},[t.good_at_categories.map(((t,a)=>e("span",{key:a},[t])))])])}}}),e("el-table-column",{attrs:{label:"创建时间",minWidth:100,align:"center"},scopedSlots:{default:({row:e})=>e.gmt_create?e.gmt_create:"--"}}),e("el-table-column",{attrs:{label:"创建人",minWidth:80,align:"center"},scopedSlots:{default:({row:e})=>e.add_by?e.add_by:"--"}}),e("el-table-column",{attrs:{label:"审核状态",minWidth:135},scopedSlots:{default:({row:t})=>0===t.verify_status?e("div",{class:"co-status"},[e("p",{class:"point fail"}),e("p",["基础信息已完善"])]):1===t.verify_status?e("div",{class:"co-status"},[e("p",{class:"point process"}),e("p",["审核中"])]):2===t.verify_status?e("div",{class:"co-status"},[e("p",{class:"point success"}),e("p",{class:"success"},["已通过"])]):-1===t.verify_status?e("div",{class:"co-status"},[e("p",{class:"point block"}),e("p",["未通过"])]):""}}),e("el-table-column",{attrs:{label:"合作状态",minWidth:80},scopedSlots:{default:({row:t})=>1===t.cooperation_status?e("div",{class:"co-status"},[e("p",{class:"point success"}),e("p",{class:"success"},["合作中"])]):e("div",{class:"co-status"},[e("p",{class:"point fail"}),e("p",{class:"fail"},["未合作"])])}}),e("el-table-column",{attrs:{label:"操作",prop:"name","min-width":120},scopedSlots:{default:({row:t})=>e("div",{class:"operation"},[e("a",["查看"]),this.permission.supplier_anchor_detail&&this.isCreatorMaintainer(t)&&1!==t.verify_status&&2!==t.verify_status&&e("a",{on:{click:e=>{e.stopPropagation(),this.$router.push({name:r.bv.player_modify,params:{id:t.id,verify_status:t.verify_status}})}}},["编辑"]),this.permission.supplier_anchor_check&&1===t.verify_status&&e("a",{on:{click:e=>{e.stopPropagation(),this.$router.push({name:r.bv.player_check,params:{id:t.id}})}}},["审核"]),this.permission.supplier_anchor_delete&&(0===t.verify_status||-1===t.verify_status)&&e("a",{on:{click:e=>{e.stopPropagation(),this.onDeleteModel(t)}}},["删除"])])}}),e("fragments",{slot:"empty"},[e("empty-common",{attrs:{"detial-text":"暂无主播列表~"}})])])]):e("div",{class:"table-box display-picture"},[this.data.list.map((t=>{let a=t.images[0];return a&&-1===a.indexOf("thumbnail=1")&&(a=`${a}?thumbnail=1`),e("liver-model",{attrs:{item:t,isReview:this.permission.supplier_anchor_check&&1===t.verify_status,isEdit:this.permission.supplier_anchor_detail&&this.isCreatorMaintainer(t)&&1!==t.verify_status&&2!==t.verify_status,showPreview:!0,isDelete:this.permission.supplier_anchor_delete&&(0===t.verify_status||-1===t.verify_status),cover:a},on:{preview:e=>{this.dialogImageViewRef?.show("查看照片",e.images)},show:e=>{this.$router.push({name:r.bv.player_detail,params:{id:e.id}})},edit:e=>{this.$router.push({name:r.bv.player_modify,params:{id:e.id,verify_status:e.verify_status}})},review:e=>{this.$router.push({name:r.bv.player_check,params:{id:e.id}})},delete:e=>{this.onDeleteModel(e)}}})})),!this.data.list.length&&e("div",{class:"empty-model",style:"marginTop:150px"},[e("empty-common",{attrs:{"detial-text":"暂无数据"}})])]),this.data.list.length>0&&e("div",{class:"block flex-none",style:"margin: 8px 0 10px 0; padding: 0 18px"},[e("el-pagination",{attrs:{className:"mgt-10","current-page":this.data.page_num,"page-sizes":[10,20,50,100,200],pageSize:this.data.queryForm.num,total:this.data.total,layout:"total, prev, pager, next, sizes, jumper"},on:{"current-change":e=>{this.data.query({...this.data.queryForm,page_num:e})},"size-change":e=>{this.data.queryForm.num=e,this.data.queryStart()}}})])]),e(y.Z,{ref:"dialogImageViewRef"}),e(F,{ref:"recordRef"})])}}),q=A,G=(0,C.Z)(q,l,c,!1,null,"25756b20",null),P=G.exports},28038:function(){},31973:function(e,t,a){"use strict";a.d(t,{PS:function(){return c},YH:function(){return o},nT:function(){return l},zy:function(){return i}});var i,s=a(21757),r=a(43847),n=a(97434);(function(e){e[e["None"]=0]="None",e[e["ViewMask"]=1]="ViewMask",e[e["ViewWithoutMask"]=2]="ViewWithoutMask",e[e["ViewDirectly"]=3]="ViewDirectly"})(i||(i={}));const o=(0,s.gI)(),l=e=>(0,n.computed)((()=>{const t=(0,r.oR)(),a=t.state.user?.userinfo,i=a?.id;return e?.value?.add_user_id===i||e.value?.maintainer_id===i})),c=(e,t)=>(0,n.computed)((()=>l(e).value?i.ViewDirectly:o.view_anchor_key_info&&""!==t.value&&!t.value?i.ViewMask:o.view_anchor_key_info&&(t.value||""===t.value)?i.ViewWithoutMask:i.None))},318:function(e,t,a){"use strict";a.d(t,{Zn:function(){return X},Qv:function(){return R},F9:function(){return K},aw:function(){return E},aI:function(){return I},kg:function(){return L},K:function(){return O},j5:function(){return Z},wu:function(){return b},yz:function(){return W},Mj:function(){return V},id:function(){return B},UK:function(){return g},ZP:function(){return Q}});a(21703);var i=a(76012),s=a(64236);const r="/api/medium/get_company_name_and_id",n="/api/model/del_model",o="/api/anchor/del_anchor",l="/api/auth/query_anchor_maintainer",c="/api/anchor/save_anchor_maintainer",p="/api/anchor/get_anchor_key_info",u="/api/anchor/get_anchor_key_info_log",d="/api/medium/add_tmp_company",m="/api/anchor/contract/associate_project",h=e=>{if(!0!==e.data.success)throw new Error(e.data.message);return e.data.data},y=async()=>(0,i.dX)("/api/anchor/good_at_categories"),f=async()=>(0,i.dX)("/api/anchor/anchor_tags"),v=async e=>(0,i.dX)(`/api/anchor/delete_anchor/${e}`),_=async e=>(0,i.SO)("/api/anchor/verify_anchor",(0,s.jG)(e)),g=async e=>(0,i.SO)(d,(0,s.jG)(e)),b=async e=>(0,i.SO)("/api/medium/add_company",(0,s.jG)(e)),w=async e=>(0,i.SO)("/api/anchor/save_anchor_basic",e).then(h),k=async e=>(0,i.SO)("/api/anchor/save_anchor_other",(0,s.jG)(e)).then(h),x=async e=>(0,i.dX)("/api/anchor/list_anchors",{params:(0,s.jG)(e)}).then(h),C=async e=>(0,i.dX)(`/api/anchor/get_anchor_detail/${e}/`).then(h),S=async e=>(0,i.dX)("/api/anchor/apply/list",{params:(0,s.jG)(e)}).then(h),F=async e=>(0,i.dX)(`/api/anchor/apply/list/${e.anchor_id}`,{params:(0,s.jG)(e)}).then(h),$=async e=>(0,i.dX)("/api/shop_live/query_uncompleted_projects",{params:(0,s.jG)(e)}).then(h),A=async e=>(0,i.dX)("/api/shop_live/query_shop_live_project",{params:(0,s.jG)(e)}).then(h),q=async e=>(0,i.SO)("/api/anchor/apply/schedule",{apply_id:e}).then(h),G=async e=>(0,i.SO)("/api/anchor/apply/cancel",{apply_id:e}).then(h),P=async e=>(0,i.SO)("/api/anchor/apply/feedback",(0,s.jG)(e)).then(h),D=async e=>(0,i.SO)("/api/anchor/save_anchor_cooperation",(0,s.jG)(e)).then(h),j=async e=>(0,i.SO)("/api/anchor/apply/pilot",(0,s.jG)(e)).then(h),M=async e=>(0,i.SO)("/api/anchor/apply/audition",(0,s.jG)(e)).then(h),I=async e=>(0,i.dX)("/api/auth/query_user_v2",{params:(0,s.jG)(e)}).then(h),O=async(e,t)=>(0,i.dX)("/api/anchor/list_settlement_companies",{params:{company_name:e,verify_status:t}}).then(h),z=async e=>(0,i.dX)(`/api/anchor/delete_anchor_cooperation/${e}/`).then(h),T=async e=>(0,i.dX)(`/api/anchor/list_anchor_cooperations/${e}/`).then(h),Z=async e=>(0,i.dX)("/api/model/model_list",{params:(0,s.jG)(e)}).then(h),W=async e=>(0,i.SO)("/api/model/save_model",(0,s.jG)(e)).then(h),L=async e=>(0,i.dX)(r,{params:{...(0,s.jG)(e)}}),R=async e=>(0,i.SO)(n,{id:e}),X=async e=>(0,i.SO)(o,{id:e}),V=async e=>(0,i.dX)(l,{params:{...(0,s.jG)({search_value:e})}}),B=async e=>(0,i.SO)(c,{...(0,s.jG)(e)}),K=async e=>(0,i.dX)(p,{params:{...(0,s.jG)(e)}}),E=async e=>(0,i.dX)(u,{params:{...(0,s.jG)(e)}}),N=async(e,t)=>(0,i.dX)("/api/anchor/check_anchor_wechat",{params:{wechat:e,anchor_id:t}}),Y=async e=>(0,i.SO)(m,{...(0,s.jG)(e)});var Q={GetCheckAnchorWechat:N,GetAnchorGoodAtCategories:y,GetAnchorApplyCancel:G,PostSaveModel:W,GetAnchorApplyList:S,GetModelList:Z,GetAnchorApplyDetail:F,PostAnchorOther:k,GetAnchorTags:f,PostAnchorBasic:w,GetAnchorList:x,GetAnchorDetail:C,GetAnchorDelete:v,PostAnchorVerify:_,GetListSettlementCompanies:O,GetAnchorApplySchedule:q,PostAnchorApplyFedback:P,GetListAnchorCooperations:T,GetUnCompletedProjects:$,PostAnchorCooperation:D,GetAuthQueryUser:I,PostAnchorApplyPilot:j,PostAnchorApplyAudition:M,GetShopLiveProject:A,GetDeleteAnchorCooperation:z,PostModifyCompany:b,SaveAnchorProjectContract:Y}},45186:function(e,t,a){"use strict";var i;a.d(t,{J:function(){return i}}),function(e){e[e["Wechat"]=1]="Wechat",e[e["Phone"]=2]="Phone"}(i||(i={}))},82741:function(e,t,a){"use strict";a.d(t,{I:function(){return s},u:function(){return r}});var i=a(71340);const s=(e,t)=>{const a="string"===typeof t?{title:t}:t;return new Promise((t=>{e.root.$TDialog({...a,onConfirm:()=>t(!0),onCancel:()=>t(!1)})}))},r=e=>{const t="string"===typeof e?{title:e}:e;return new Promise(((e,a)=>{(0,i.t)({...t,onConfirm:()=>e(!0),onCancel:()=>a()})}))}},44928:function(e,t,a){"use strict";a.d(t,{t:function(){return s}});var i=a(86834);const s=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(i.Z,t)}});return e}},43847:function(e,t,a){"use strict";a.d(t,{Pc:function(){return n},oR:function(){return r}});var i=a(77944),s=a(97434);const r=()=>i.Z,n=()=>{const e=r(),t=(0,s.computed)((()=>e.getters["user/getUserInfo"]));return t}},21910:function(e,t,a){e.exports=a(70680)(65206)}}]);
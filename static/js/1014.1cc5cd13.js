"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[1014],{7164:function(e,t,a){a.d(t,{Z:function(){return w}});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.companyFormModalTitle,height:"100vh",size:612,visible:e.companyDrawerVisible,wrapperClosable:!1},on:{close:e.onClose}},[a("div",{staticClass:"company-drawer-content"},[a("el-form",{ref:"formRef",staticClass:"company-form el-form-vertical",attrs:{model:e.companyForm,rules:e.formRules,"label-position":"right",size:"small"}},[a("DrawerHeader",{staticStyle:{padding:"0","margin-left":"-12px"},attrs:{title:"公司基础信息"}}),a("el-form-item",{attrs:{label:"公司名称",prop:"company_name"}},[a("el-input",{ref:"autoFocuseRef",attrs:{placeholder:"请输入公司名称",maxlength:50,clearable:""},model:{value:e.companyForm.company_name,callback:function(t){e.$set(e.companyForm,"company_name","string"===typeof t?t.trim():t)},expression:"companyForm.company_name"}})],1),a("el-form-item",{attrs:{label:"公司LOGO",prop:""}},[a("div",{staticStyle:{width:"100%",display:"flex","align-items":"flex-end"}},[a("Upp",{key:e.timestamp,attrs:{action:"/api/medium/upload_file","min-size-range":[400,400],value:e.logo,"on-before-upload":e.onBeforeLogoUpload,"on-success":e.onLogoUploadSuccess},on:{remove:e.onLogoRemove}}),a("div",{staticClass:"upload-tips mgl-12"},[e._v(" 建议尺寸不小于400*400像素的正方形图片；图片大小不超过2M ")])],1)]),a("DrawerHeader",{staticStyle:{padding:"0","margin-left":"-12px"},attrs:{title:"联系人及地址"}}),a("div",{staticClass:"cols"},[a("el-form-item",{staticClass:"col-1-2",attrs:{label:"业务联系人",prop:"contact"}},[a("el-input",{attrs:{clearable:"",maxlength:20,placeholder:"请输入联系人姓名"},on:{input:function(t){return e.inputContact(t,"contact")}},model:{value:e.companyForm.contact,callback:function(t){e.$set(e.companyForm,"contact","string"===typeof t?t.trim():t)},expression:"companyForm.contact"}})],1),a("el-form-item",{staticClass:"col-2-3",attrs:{label:"微信号",prop:"wechat"}},[a("el-input",{attrs:{placeholder:"请输入微信号",maxlength:20,clearable:""},on:{input:function(t){return e.inputWechat(t,"wechat")}},model:{value:e.companyForm.wechat,callback:function(t){e.$set(e.companyForm,"wechat","string"===typeof t?t.trim():t)},expression:"companyForm.wechat"}})],1),a("el-form-item",{staticClass:"col-1-2",attrs:{label:"联系人电话",prop:"contact_phone"}},[a("el-input",{attrs:{placeholder:"请输入联系人电话",maxlength:18,clearable:""},on:{input:function(t){return e.inputContactPhone(t,"contact_phone")}},model:{value:e.companyForm.contact_phone,callback:function(t){e.$set(e.companyForm,"contact_phone","string"===typeof t?t.trim():t)},expression:"companyForm.contact_phone"}})],1),a("el-form-item",{staticClass:"col-2-3",attrs:{label:"邮箱地址",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱地址",maxlength:32,clearable:""},model:{value:e.companyForm.email,callback:function(t){e.$set(e.companyForm,"email","string"===typeof t?t.trim():t)},expression:"companyForm.email"}})],1),a("el-form-item",{staticClass:"col-1-2",attrs:{label:"财务联系人",prop:"cw_contact"}},[a("el-input",{attrs:{clearable:"",maxlength:20,placeholder:"请输入联系人姓名"},on:{input:function(t){return e.inputContact(t,"cw_contact")}},model:{value:e.companyForm.cw_contact,callback:function(t){e.$set(e.companyForm,"cw_contact","string"===typeof t?t.trim():t)},expression:"companyForm.cw_contact"}})],1),a("el-form-item",{staticClass:"col-2-3",attrs:{label:"微信号",prop:"cw_wechat"}},[a("el-input",{attrs:{placeholder:"请输入微信号",maxlength:20,clearable:""},on:{input:function(t){return e.inputWechat(t,"cw_wechat")}},model:{value:e.companyForm.cw_wechat,callback:function(t){e.$set(e.companyForm,"cw_wechat","string"===typeof t?t.trim():t)},expression:"companyForm.cw_wechat"}})],1),a("el-form-item",{staticClass:"col-1-2",attrs:{label:"联系人电话",prop:"cw_contact_phone"}},[a("el-input",{attrs:{placeholder:"请输入联系人电话",maxlength:18,clearable:""},on:{input:function(t){return e.inputContactPhone(t,"cw_contact_phone")}},model:{value:e.companyForm.cw_contact_phone,callback:function(t){e.$set(e.companyForm,"cw_contact_phone","string"===typeof t?t.trim():t)},expression:"companyForm.cw_contact_phone"}})],1),a("el-form-item",{staticClass:"col-2-3",attrs:{label:"邮箱地址",prop:"cw_email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱地址",maxlength:32,clearable:""},model:{value:e.companyForm.cw_email,callback:function(t){e.$set(e.companyForm,"cw_email","string"===typeof t?t.trim():t)},expression:"companyForm.cw_email"}})],1)],1),a("el-form-item",{attrs:{label:"公司地址",prop:"cities"}},[a("el-cascader",{ref:"cascader",staticStyle:{width:"100%"},attrs:{options:e.city,props:{value:"id",label:"name"},placeholder:"请选择省/市/区"},model:{value:e.companyForm.cities,callback:function(t){e.$set(e.companyForm,"cities",t)},expression:"companyForm.cities"}})],1),a("el-form-item",{attrs:{label:"",prop:"address"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,placeholder:"详细地址",maxlength:100,"show-word-limit":!0,clearable:""},model:{value:e.companyForm.address,callback:function(t){e.$set(e.companyForm,"address","string"===typeof t?t.trim():t)},expression:"companyForm.address"}})],1),a("DrawerHeader",{staticStyle:{padding:"0","margin-left":"-12px"},attrs:{title:"财务信息"}}),a("div",{staticClass:"cols"},[a("el-form-item",{staticClass:"col-1-2",attrs:{label:"是否一般纳税人",prop:"is_taxpayer"}},[a("el-radio-group",{staticStyle:{width:"100%",height:"32px",display:"flex"},model:{value:e.companyForm.is_taxpayer,callback:function(t){e.$set(e.companyForm,"is_taxpayer",t)},expression:"companyForm.is_taxpayer"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1),a("el-form-item",{staticClass:"col-2-3",attrs:{label:"开户行",prop:"bank_name"}},[a("el-input",{attrs:{maxlength:40,placeholder:"请输入开户行名称"},model:{value:e.companyForm.bank_name,callback:function(t){e.$set(e.companyForm,"bank_name","string"===typeof t?t.trim():t)},expression:"companyForm.bank_name"}})],1),a("el-form-item",{staticClass:"col-1-2",attrs:{label:"银行账号",prop:"bank_account"}},[a("el-input",{attrs:{maxlength:30,placeholder:"请输入银行账号"},on:{input:e.onInputBankCount},model:{value:e.companyForm.bank_account,callback:function(t){e.$set(e.companyForm,"bank_account","string"===typeof t?t.trim():t)},expression:"companyForm.bank_account"}})],1),a("el-form-item",{staticClass:"col-2-3",attrs:{label:"纳税人识别号",prop:"tax_id"}},[a("el-input",{attrs:{maxlength:20,placeholder:"请输入纳税人识别号"},on:{input:e.onInputTaxID},model:{value:e.companyForm.tax_id,callback:function(t){e.$set(e.companyForm,"tax_id",t)},expression:"companyForm.tax_id"}})],1),a("el-form-item",{staticClass:"col-1-2",attrs:{label:"注册地址",prop:"cw_register_address"}},[a("el-input",{attrs:{maxlength:100,placeholder:"请输入公司注册地址"},model:{value:e.companyForm.cw_register_address,callback:function(t){e.$set(e.companyForm,"cw_register_address","string"===typeof t?t.trim():t)},expression:"companyForm.cw_register_address"}})],1),a("el-form-item",{staticClass:"col-2-3",attrs:{label:"联系电话",prop:"cw_info_contact_phone"}},[a("el-input",{attrs:{maxlength:18,placeholder:"请输入联系电话"},model:{value:e.companyForm.cw_info_contact_phone,callback:function(t){e.$set(e.companyForm,"cw_info_contact_phone","string"===typeof t?t.trim():t)},expression:"companyForm.cw_info_contact_phone"}})],1),a("el-form-item",{staticClass:"col-1-2",attrs:{label:"接收发票手机",prop:"cw_invoice_phone"}},[a("el-input",{attrs:{placeholder:"请输入接收电子发票的手机"},model:{value:e.companyForm.cw_invoice_phone,callback:function(t){e.$set(e.companyForm,"cw_invoice_phone","string"===typeof t?t.trim():t)},expression:"companyForm.cw_invoice_phone"}})],1),a("el-form-item",{staticClass:"col-2-3",attrs:{label:"接收发票邮箱",prop:"cw_invoice_email"}},[a("el-input",{attrs:{placeholder:"请输入接收电子发票的邮箱"},model:{value:e.companyForm.cw_invoice_email,callback:function(t){e.$set(e.companyForm,"cw_invoice_email","string"===typeof t?t.trim():t)},expression:"companyForm.cw_invoice_email"}})],1)],1),a("DrawerHeader",{staticStyle:{padding:"0","margin-left":"-12px","margin-top":"6px"},attrs:{title:"公司介绍"}}),a("el-form-item",{attrs:{label:"文字介绍",prop:"introduce"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:4,placeholder:"您可以填写公司的文字介绍或公司相关链接",maxlength:1e3,"show-word-limit":!0,clearable:""},model:{value:e.companyForm.introduce,callback:function(t){e.$set(e.companyForm,"introduce","string"===typeof t?t.trim():t)},expression:"companyForm.introduce"}})],1),a("el-form-item",{attrs:{label:"",prop:"introduce_file"}},[a("div",{staticStyle:{display:"inline-flex",height:"32px","align-items":"center"}},[a("Uppf",{key:e.timestamp,staticStyle:{"flex-wrap":"wrap"},attrs:{action:"/api/medium/upload_file","on-success":e.onIntroduceFileUploadSuccess,name:e.filename,value:e.companyForm.introduce_file,showFileList:!1},on:{"file:remove":e.onIntroduceFileRemove}}),a("div",{staticClass:"upload-tips",staticStyle:{"margin-left":"12px","align-self":"flex-end"}},[e._v(" 支持上传一个PDF/图片文件；大小不超过50M ")])],1),""!==e.companyForm.introduce_file?a("div",{staticClass:"introduce-file"},[a("tg-icon",{attrs:{name:e.isIntroduceFilePdf?"ico-pdf":"ico-picture"}}),a("span",{staticClass:"line-clamp-1 filename"},[e._v(e._s(e.introduceFileName))]),a("tg-icon",{attrs:{name:"ico-frm-delete","hover-name":"ico-frm-delete-active"},on:{click:e.removeIntroduceFile}})],1):e._e()])],1)],1),a("div",{staticClass:"el-drawer-footer"},[a("tg-button",{attrs:{type:"default"},on:{click:e.onCancel}},[e._v("取消")]),a("tg-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1),a("tg-mask-loading",{attrs:{visible:e.loading,content:"正在保存数据，请稍候..."}})],1)},n=[],c=(a(21703),a(97434)),r=a(58496),l=a(64236),i=a(3346),u=a(86757),s=a(41572);const m=/^(?:[A-Za-z\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])+$/u,p=/(?![A-Za-z\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]).+/gu,d=/^([\w\-.])+@([\w_\-.])+\.([A-Za-z]{2,4})$/u,_=/^(?:\d{11,18}|\d{3}-\d{5,14}|\d{4}-\d{5,13}|1\d{10})$/,f=32;var v=(0,c.defineComponent)({props:{data:{type:Object}},setup(e,t){const a=(0,c.ref)(!1),o=(0,c.ref)(void 0),n=(e=!1)=>{a.value=e},v=()=>{n(!0)},h=()=>{n()},y=async()=>{n()},g=(0,c.ref)({id:void 0,company_name:"",logo:"",cities:[],address:"",contact:"",contact_phone:"",wechat:"",email:"",introduce:"",introduce_file:"",cw_contact:"",cw_contact_phone:"",cw_wechat:"",cw_email:"",bank_name:"",tax_id:"",bank_account:"",cw_info_contact_phone:"",cw_invoice_phone:"",cw_invoice_email:"",cw_register_address:"",is_taxpayer:0}),w=()=>{g.value.logo=""},F=(0,c.computed)((()=>void 0!==g.value.id)),b=()=>{g.value.id=void 0,g.value.company_name="",g.value.logo="",g.value.cities=[],g.value.address="",g.value.contact="",g.value.contact_phone="",g.value.wechat="",g.value.email="",g.value.introduce="",g.value.introduce_file="",g.value.cw_contact="",g.value.cw_contact_phone="",g.value.cw_wechat="",g.value.cw_email="",g.value.bank_name="",g.value.tax_id="",g.value.bank_account="",g.value.cw_info_contact_phone="",g.value.cw_invoice_phone="",g.value.cw_invoice_email="",g.value.cw_register_address=""},D=(0,c.computed)((()=>F.value?"编辑公司":"新增公司")),C=async e=>{const t=await(0,i.vt)(e);return!!t.data.success&&t.data.data.filter((t=>F.value?t.company_name===e&&t.id!==g.value.id:t.company_name===e)).length>0},x=e=>{if(void 0===e)return void b();const{id:t,province:a,city:o,county:n,...c}=e;g.value.id=t,g.value.cities=(0,r.Io)([a,o,n],T.value),g.value.company_name=c.company_name,g.value.logo=c.logo??"",g.value.address=c.address,g.value.contact=c.contact,g.value.contact_phone=c.contact_phone,g.value.wechat=c.wechat,g.value.email=c.email,g.value.introduce=c.introduce,g.value.introduce_file=c.introduce_file,g.value.is_taxpayer=c.is_taxpayer,g.value.cw_contact=c.cw_contact,g.value.cw_contact_phone=c.cw_contact_phone,g.value.cw_wechat=c.cw_wechat,g.value.cw_email=c.cw_email,g.value.bank_name=c.bank_name,g.value.tax_id=c.tax_id,g.value.bank_account=c.bank_account,g.value.cw_info_contact_phone=c.cw_info_contact_phone,g.value.cw_invoice_phone=c.cw_invoice_phone,g.value.cw_invoice_email=c.cw_invoice_email,g.value.cw_register_address=c.cw_register_address},E=(0,c.ref)({company_name:[{required:!0,message:"请填写公司名称"},{validator:(e,t,a)=>{""===t?a(new Error("请填写公司名称")):a()}},{validator:async(e,t,a)=>{if(""!==t){const e=await C(t);e&&a(new Error("该公司名称已存在"))}a()},trigger:"blur"}],contact:[{validator:(e,t,a)=>{""===t||m.test(t)?a():a(new Error("仅支持输入中英文字符"))}}],contact_phone:[{validator:(e,t,a)=>{""===t||_.test(t)?a():a(new Error("联系电话格式不正确"))},trigger:"blur"}],wechat:[],email:[{validator:(e,t,a)=>{""===t?a():t.length>f?a(new Error(`最多输入${f}个字符`)):d.test(t)?a():a(new Error("请输入正确的邮箱地址"))},trigger:"blur"}],cw_contact:[{validator:(e,t,a)=>{""===t||m.test(t)?a():a(new Error("仅支持输入中英文字符"))}}],cw_contact_phone:[{validator:(e,t,a)=>{""===t||_.test(t)?a():a(new Error("联系电话格式不正确"))},trigger:"blur"}],cw_wechat:[],cw_email:[{validator:(e,t,a)=>{""===t?a():t.length>f?a(new Error(`最多输入${f}个字符`)):d.test(t)?a():a(new Error("请输入正确的邮箱地址"))},trigger:"blur"}],is_taxpayer:[{required:!0,message:"请选择是否一般纳税人"}],bank_name:[{required:!0,message:"请输入开户行名称",trigger:"blur"}],bank_account:[{required:!0,message:"请输入银行账号",trigger:"blur"}],tax_id:[{required:!0,message:"请输入纳税人识别号",trigger:"blur"},{validator(e,t,a){""===t||s.vm.test(t)?a():a(new Error("请输入正确的纳税人识别号"))},trigger:"blur"}],cw_register_address:[{required:!0,message:"请输入公司注册地址",trigger:"blur"}],cw_info_contact_phone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{validator:(e,t,a)=>{_.test(t)?a():a(new Error("联系电话格式不正确"))}}],cw_invoice_phone:[{validator:(e,t,a)=>{const o=/^1\d{10}$/;""===t||o.test(t)?a():a(new Error("手机号码格式不正确"))}}],cw_invoice_email:[{validator:(e,t,a)=>{const o=/^([a-zA-Z]|[0-9])(\w|-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;""===t||o.test(t)?a():a(new Error("邮箱格式不正确"))}}]}),k=(e,t)=>{const a=e.replace(p,"");g.value[t]=a},A=(e,t)=>{const a=e.replace(/[^\d-]+/gu,"");g.value[t]=a},P=(e,t)=>{const a=e.replace(/[^\w-]+/gu,"");g.value[t]=a},R=e=>{const t=e.replace(/\D/g,"");g.value.bank_account=t},O=e=>{const t=e.toUpperCase().trim();g.value.tax_id=t},$=(0,c.ref)([]),T=(0,c.ref)([]),N=(0,c.ref)({leftLabelWidth:"93px",rightLabelWidth:"95px"});(0,c.onBeforeMount)((async()=>{const e=await(0,r.gT)();$.value=e,T.value=(0,r.Ds)((0,l.Qc)(e))}));const S=e=>{g.value.logo=e},I=async e=>{const{width:a,height:o}=await(0,u.D)(e);return a===o||(t.root.$message.warning(`图片应为正方形, 当前${a} * ${o}`),!1)},M=e=>{g.value.introduce_file=e},G=()=>{g.value.introduce_file=""},V=(0,c.ref)(null),j=(0,c.ref)(null),U=(0,c.ref)(0);(0,c.watch)((()=>a.value),((e,t)=>{e&&e!==t&&(U.value=Date.now())}));const L=(0,c.computed)((()=>g.value.introduce_file?.split("/").pop())),X=()=>{setTimeout((()=>{V.value?.clearValidate?.()}),100)},q=()=>{F.value?x():b(),X(),n(!1)},B=async()=>{const{id:e,cities:t,...a}=g.value,[o,n,c]=(0,r.cV)(t,T.value),l={province:o,city:n,county:c,...a};return void 0===e?await(0,i.mb)(l):await(0,i.hk)({...l,id:e})},z=(0,c.ref)(!1),Z=async()=>{const e=await new Promise((e=>{V.value?.validate((t=>e(t)))}));if(!e)return;z.value=!0;const[{data:a}]=await Promise.all([await B(),await(0,l._v)(500)]);if(z.value=!1,a.success)t.root.$message.success((F.value?"编辑":"新增")+"公司成功"),b(),n(),X(),t.emit("form:submit:success");else{const e=a.message??(F.value?"编辑":"新增")+"公司失败";t.root.$message.error(e),t.emit("form:submit:fail")}},H=()=>{F.value?x():b(),X(),n(),t.emit("form:close")},W=(0,c.computed)((()=>g.value?.logo??""));(0,c.watch)((()=>a.value),(t=>{if(t){const t=e.data;if(void 0!==t){const{province:e,city:a,county:o}=t,n=`${e} / ${a} / ${o}`;setTimeout((()=>{null!==j.value&&(j.value.inputValue=" /  / "===n?"":n)}),17)}}}));const Y=e=>{n(!0),void 0!==e?x(e):(0,c.nextTick)((()=>{o.value?.focus()}))},Q=(0,c.computed)((()=>g.value.introduce_file.split("/").pop())),J=(0,c.computed)((()=>/\.pdf/giu.test(g.value.introduce_file??""))),K=()=>{g.value.introduce_file=""};return{autoFocuseRef:o,loading:z,companyDrawerVisible:a,filename:L,onCancel:q,onClose:H,logo:W,timestamp:U,formRef:V,cascaderRef:j,companyForm:g,onLogoRemove:w,isEditMode:F,resetCompanyForm:b,companyFormModalTitle:D,city:$,flatCity:T,formSetting:N,formRules:E,inputContact:k,inputContactPhone:A,inputWechat:P,onLogoUploadSuccess:S,onBeforeLogoUpload:I,onIntroduceFileUploadSuccess:M,onIntroduceFileRemove:G,onSubmit:Z,fillForm:x,onCreateBtnClick:v,onDrawerClose:h,onCompanyFormSubmitSuccess:y,open:Y,onInputBankCount:R,onInputTaxID:O,isIntroduceFilePdf:J,introduceFileName:Q,removeIntroduceFile:K}}}),h=v,y=a(1001),g=(0,y.Z)(h,o,n,!1,null,null,null),w=g.exports},6549:function(e,t,a){a.d(t,{C:function(){return n},j:function(){return o}});const o="/api/auth/query_user_v2",n="/api/auth/get_user_by_role"},93573:function(e,t,a){var o;a.d(t,{A9:function(){return o},Fx:function(){return r},PM:function(){return c},ZN:function(){return n}}),function(e){e[e["PENDING"]=0]="PENDING",e[e["APPROVED"]=1]="APPROVED",e[e["NOT_APPROVED"]=-1]="NOT_APPROVED"}(o||(o={}));const n=[{label:"审核中",value:o.PENDING},{label:"已通过",value:o.APPROVED},{label:"未通过",value:o.NOT_APPROVED}];var c;(function(e){e[e["PENDING"]=0]="PENDING",e[e["APPROVED"]=1]="APPROVED",e[e["NOT_APPROVED"]=-1]="NOT_APPROVED",e[e["NOT_COMMIT"]=2]="NOT_COMMIT"})(c||(c={}));const r=[{label:"审核中",value:c.PENDING},{label:"已通过",value:c.APPROVED},{label:"未通过",value:c.NOT_APPROVED},{label:"未提交",value:c.NOT_COMMIT}]},3897:function(e,t,a){a.d(t,{R:function(){return c}});var o=a(97434),n=a(57680);const c=e=>{const{hasRight:t,RIGHT_CODE:a}=(0,n.s)(e),c=(0,o.computed)((()=>t(a.VIEW_CUSTOMER_COMPANY))),r=(0,o.computed)((()=>t(a.ADD_CUSTOMER_COMPANY))),l=(0,o.computed)((()=>t(a.EXPORT_CUSTOMER_COMPANY))),i=(0,o.computed)((()=>t(a.DEL_CUSTOMER_COMPANY))),u=(0,o.computed)((()=>t(a.UPDATE_CUSTOMER_COMPANY))),s=(0,o.computed)((()=>i.value||l.value)),m=(0,o.computed)((()=>i.value&&!l.value));return{hasRightViewCompany:c,hasRightAddCompany:r,hasRightExportCompany:l,hasRightDelCompany:i,hasRightUpdateCompany:u,hasCheckboxRight:s,hasOnlyDeleteRight:m}}},3346:function(e,t,a){a.d(t,{Ln:function(){return u},Me:function(){return d},OV:function(){return l},Ou:function(){return s},Pp:function(){return v},Tf:function(){return f},_F:function(){return h},eA:function(){return y},fO:function(){return g},hk:function(){return p},kg:function(){return i},mb:function(){return m},qC:function(){return _},vt:function(){return r}});var o=a(76012),n=a(10762),c=a(64236);const r=async(e,t)=>(0,o.dX)(n.y9,{params:{...(0,c.jG)({company_name:e,company_id:t})}}),l=async e=>(0,o.dX)(n.CH,{params:{...(0,c.jG)({project_uid:e})}}),i=async e=>(0,o.dX)(n.hV,{params:{...(0,c.jG)(e)}}),u=async e=>(0,o.dX)(n.yp,{params:{...(0,c.jG)(e)}}),s=async e=>(0,o.SO)(n.IY,{...(0,c.jG)(e)}),m=async e=>(0,o.SO)(n.Gs,{...(0,c.jG)(e)}),p=async e=>(0,o.SO)(n.Gs,{...e}),d=async e=>(0,o.dX)(n.S$.replace(":id",e)),_=async e=>(0,o.dX)(n.ii,{params:{...(0,c.jG)(e)}}),f=async e=>(0,o.dX)(n.AP,{params:{...(0,c.jG)(e)}}),v=async e=>(0,o.dX)(n.L6,{params:{...(0,c.jG)(e)}}),h=async e=>(0,o.SO)("/api/shop_live/save_withdraw",{...e}),y=async e=>(0,o.dX)("/api/settlement/get_settlement_by_shop_id",{params:{...(0,c.jG)(e)}}),g=async e=>(0,o.dX)("/api/settlement/query_settlements_last_achievement",{params:{...(0,c.jG)(e)}})},74234:function(e,t,a){a.d(t,{L:function(){return l},y:function(){return r}});var o=a(76012),n=a(6549),c=a(64236);const r=async()=>(0,o.dX)("/api/auth/get_right_tree"),l=e=>(0,o.dX)(n.j,{params:{...(0,c.jG)(e)}})},82741:function(e,t,a){a.d(t,{I:function(){return n},u:function(){return c}});var o=a(71340);const n=(e,t)=>{const a="string"===typeof t?{title:t}:t;return new Promise((t=>{e.root.$TDialog({...a,onConfirm:()=>t(!0),onCancel:()=>t(!1)})}))},c=e=>{const t="string"===typeof e?{title:e}:e;return new Promise(((e,a)=>{(0,o.t)({...t,onConfirm:()=>e(!0),onCancel:()=>a()})}))}},57680:function(e,t,a){a.d(t,{q:function(){return i},s:function(){return l}});a(26699);var o=a(37808),n=a(74234),c=a(64236),r=a(97434);const l=e=>{const t=t=>e.root.$store.getters["user/getUserRole"].includes(t);return{hasRight:t,RIGHT_CODE:o.H}},i=()=>{const e=(0,r.ref)([]),t=(0,r.ref)([]),a=(0,r.ref)([]),o=e=>e.map((e=>{const{sub_nodes:t,...a}=e;return t.length>0?[{...a},...o(t)]:[{...a}]})).flat(),l=(e,t=0)=>e.filter((e=>e.superior_code===t)),i=(e,t=0)=>l(e,t).filter((t=>0===l(e,t.right_code).length)),u=(e,t=0)=>l(e,t).filter((t=>l(e,t.right_code).length>0)),s=(e,t=0)=>e.filter((e=>e.superior_code===t)).map((t=>({...t,children:s(e,t.right_code)}))).filter((t=>1===t.level||2===t.level&&l(e,t.right_code).length>0)).map((t=>{const a=l(e,t.right_code),o=3===t.level?[t.right_code]:2===t.level?[t.right_code,...a.map((e=>e.right_code))]:[t.right_code,...a.map((e=>e.right_code)).map((t=>{const a=l(e,t);return[t,...a.map((e=>e.right_code))]})).flat()];return{...t,all_code:(0,c.Tw)(o)}})),m=async()=>{const{data:r}=await(0,n.y)();r.success?(e.value=(0,c.Qc)(r.data),t.value=o((0,c.Qc)(r.data)).sort(((e,t)=>e.level-t.level)),a.value=s((0,c.Qc)(t.value))):(e.value=[],t.value=[],a.value=[])},p=(0,r.ref)([]),d=e=>{p.value.find((t=>t===e))?p.value=p.value.filter((t=>t!==e)):p.value.push(e)},_=e=>void 0!==p.value.find((t=>t===e)),f=(0,r.ref)(void 0),v=(0,r.ref)(void 0),h=(0,r.computed)((()=>v.value?.right_code??"")),y=e=>{v.value={...e}},g=e=>e===h.value,w=(0,r.computed)((()=>""===h.value?[]:i(t.value,h.value)));return{rights:t,getRights:m,rightTree:a,checkedRightNode:v,checkedRightCode:h,setRightChecked:y,treeRef:f,checkedRightChildren:w,isCheckedRight:g,setExpanded:d,isExpanded:_,findChildren:l,findLeafChildren:i,findNonLeafChildren:u}}},58496:function(e,t,a){a.d(t,{Ds:function(){return c},Io:function(){return r},cV:function(){return l},gT:function(){return o}});const o=async()=>await fetch("/city.json").then((e=>e.json()));function n(e){const{id:t,name:a,children:o}=e;return[{id:t,name:a},...o??[]]}const c=e=>e.flatMap(n).flatMap(n),r=(e,t)=>e.map((e=>t.find((t=>t.name===e))?.id??"")),l=(e,t)=>e.map((e=>t.find((t=>t.id===e))?.name??""))}}]);
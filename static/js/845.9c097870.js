"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[845],{60845:function(e,n,a){a.r(n),a.d(n,{default:function(){return g}});var r=a(97434),t=a(21495),s=a(59563),o=a(1763),m=a(23624),i=a(44928);const c=[{title:"员工绩效档案",name:o.Gr.report.record},{title:"员工考核详情"}];var u,_,p=(0,r.defineComponent)({setup:()=>{const e=(0,i.t)(),n=e.currentRoute.params.id,a=[{align:"center",label:"考核名称",minWidth:100,prop:"assessment_management_name"},{align:"center",label:"考核周期",prop:"assessment_cycle"},{align:"center",label:"考评组",prop:"evaluation_group_name"},{align:"center",label:"考核结果",prop:"result"},{align:"center",label:"考核等级",prop:"level"},{label:"操作",minWidth:60,formatter:a=>h("div",[h("tg-button",{attrs:{type:"link"},on:{click:()=>{const{href:r}=e.resolve({name:o.Gr.report.detailDetail,params:{id:a.assessment_management_id,userid:a.id},query:{id:n}});window.open(r)}}},["查看"])])}],r=(0,s.h)(m.Z_,{defaultParams:[{num:20,page_num:1},{user_id:n}]});return{columns:a,reqList:r}},render(){const e=arguments[0];return e(t.L,{attrs:{columns:this.columns,service:this.reqList,routes:c}})}}),f=p,l=a(1001),d=(0,l.Z)(f,u,_,!1,null,"a2e68b0c",null),g=d.exports},59563:function(e,n,a){a.d(n,{Q:function(){return s},h:function(){return o}});a(21703);var r=a(97434),t=a(48606);const s=(e,{manual:n,onError:a,onSuccess:s,defaultParams:o,transform:m}={})=>{const i=(0,r.ref)(),c=(0,r.ref)(),u=(0,r.ref)(!1),_=(0,r.ref)([]),p=()=>{f(..._.value)},f=(...n)=>Promise.resolve(n||o).then((()=>{u.value=!0})).then((()=>0===n.length&&o&&o.length>0?o:n)).then((e=>(_.value=e,e))).then((n=>e(...n))).then((e=>{if(!e.data.success)throw new Error(e.data.message);return i.value=m?m(e.data.data):e.data.data,s&&s(i.value,e.data),e})).then((()=>{u.value=!1})).catch((e=>{throw u.value=!1,c.value=e.message,a&&a(e),t.Message.error(e.message),e})),l=f;return n||f(...o||[]),(0,r.reactive)({data:i,error:c,loading:u,reload:p,run:f,runAsync:l,params:_})},o=(e,n={})=>{const{defaultPageSize:a=20,defaultParams:t=[],transform:o,...m}=n,i=(0,r.ref)(),c=(0,r.reactive)({total:0,page_num:1,page_size:a,onCurrentChange:e=>{const n=[...p.params];n[0]?n[0].page_num=e:n[0]={num:a,page_num:e},p.runAsync(...n).then((()=>{c.page_num=e}))},refresh:()=>c.onCurrentChange(1),reQuery(...e){const n=[];return p.params[0]?(n[0]=p.params[0],n[0].page_num=1,c.page_num=1):(n[0]={num:a,page_num:1},c.page_num=1),n.push(...e),p.runAsync(...n)}}),[u={num:a,page_num:1},..._]=t,p=s(e,{defaultParams:[u,..._],...m,onSuccess(e,a){i.value=o?o(e):e.data,c.total=e.total,n.onSuccess&&n.onSuccess(i.value,a)}}),{data:f,...l}=(0,r.toRefs)(p);return(0,r.reactive)({...l,data:i,pagination:c})}},23624:function(e,n,a){a.d(n,{$K:function(){return w},$R:function(){return j},$b:function(){return M},Cl:function(){return R},Dr:function(){return o},EB:function(){return v},Ev:function(){return d},JP:function(){return S},L5:function(){return z},Mz:function(){return E},O5:function(){return G},UX:function(){return l},Y4:function(){return m},ZM:function(){return h},Z_:function(){return $},ao:function(){return H},bV:function(){return Z},bl:function(){return i},dP:function(){return D},g:function(){return q},gb:function(){return L},iC:function(){return X},iL:function(){return f},kT:function(){return y},lI:function(){return g},mS:function(){return c},n5:function(){return b},nQ:function(){return s},oY:function(){return I},o_:function(){return x},q0:function(){return B},s9:function(){return O},vL:function(){return _},vv:function(){return u},wF:function(){return C},wH:function(){return k},y3:function(){return A},yI:function(){return P},zr:function(){return p}});var r=a(76012),t=a(64236);const s=async(e,n)=>(0,r.dX)("/api/performance_management/query_indicators_library",{params:{...e,...(0,t.jG)(n)}}),o=async e=>(0,r.SO)("/api/performance_management/save_or_modify_indicator",(0,t.jG)(e)),m=async e=>(0,r.HG)("/api/performance_management/delete_indicators",{data:{id_list:e}}),i=async e=>(0,r.dX)("/api/performance_management/query_indicator_tag",{params:{...(0,t.jG)(e)}}),c=async e=>(0,r.SO)("/api/performance_management/modify_move_indicator_tag",{indicator_tag_list:e}),u=async e=>(0,r.SO)("/api/performance_management/save_or_modify_indicator_tag",e),_=async e=>(0,r.HG)(`/api/performance_management/delete_indicators_tag/${e}`),p=async()=>(0,r.dX)("/api/feishu/feishu_department_and_user_list"),f=async e=>(0,r.SO)("/api/performance_management/save_or_modify_evaluation_group",e),l=async(e,n)=>(0,r.dX)("/api/performance_management/query_evaluation_group",{params:(0,t.jG)({...e,...n})}),d=async(e,n)=>(0,r.dX)("/api/performance_management/query_evaluation_group_name",{params:(0,t.jG)({...e,...n})}),g=async e=>(0,r.HG)(`/api/performance_management/delete_evaluation_group/${e}`),y=async(e,n)=>(0,r.dX)("/api/performance_management/query_assessment",{params:(0,t.jG)({...e,...n})}),h=async e=>(0,r.SO)("/api/performance_management/save_assessment",e),v=async e=>(0,r.SO)("/api/performance_management/save_assessment_level_config",e),b=async()=>(0,r.dX)("/api/performance_management/query_assessment_level_config"),q=async(e,n)=>(0,r.dX)("/api/performance_management/query_assessment_detail",{params:(0,t.jG)({...e,...n})}),X=async e=>(0,r.dX)("/api/performance_management/get_assessment_detail_by_my_performance",{params:(0,t.jG)(e)}),G=async(e,n)=>(0,r.dX)("/api/performance_management/query_assessment_detail_by_analysis",{params:(0,t.jG)({...e,...n})}),j=async(e,n)=>(0,r.dX)("/api/performance_management/query_assessment_detail_by_performance_record",{params:(0,t.jG)({...e,...n})}),C=async e=>(0,r.SO)("/api/performance_management/modify_start_score",e),S=async e=>(0,r.SO)("/api/performance_management/modify_assessment_result",e),w=async(e,n)=>(0,r.dX)("/api/performance_management/query_my_performance",{params:(0,t.jG)({...e,...n})}),O=async e=>(0,r.dX)("/api/performance_management/query_assessment_by_id",{params:{assessment_management_id:e}}),k=async e=>{const{assessment_dimension_list:n}=e;return n&&n.length>0&&n.forEach((e=>{e.indicator_list&&e.indicator_list?.forEach((e=>{["self_assessment_score","weight","superior_assessment_score"].forEach((n=>{(0,t.xb)(e[n])&&(e[n]=null)}))}))})),console.log("payload",e),(0,r.SO)("/api/performance_management/modify_performance_process",(0,t.jG)(e))},L=async(e,n)=>(0,r.dX)("/api/performance_management/query_user_performance_record",{params:(0,t.jG)({...n,...e})}),$=async(e,n)=>(0,r.dX)("/api/performance_management/query_user_performance_detail_record",{params:(0,t.jG)({...e,...n})}),P=async(e,n)=>(0,r.dX)("/api/performance_management/query_performance_analysis",{params:(0,t.jG)({...e,...n})}),I=async()=>(0,r.dX)("/api/performance_management/query_finish_assessment"),R=async(e,n)=>(0,r.dX)("/api/performance_management/query_with_me_performance",{params:(0,t.jG)({...e,...n})}),E=async(e,n)=>(0,r.dX)("/api/performance_management/query_subordinate_performance",{params:(0,t.jG)({...e,...n})}),B=async e=>(0,r.SO)("/api/performance_management/check_evaluation_group_user_ids",e),D=async e=>(0,r.SO)("/api/performance_management/modify_reset_process",(0,t.jG)(e)),x=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user",{params:e}),z=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_analysis",{params:e}),A=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_performance_record",{params:e}),Z=async(e,n)=>(0,r.dX)("/api/performance_management/query_assessment_name",{params:(0,t.jG)({...e,...n})}),H=async e=>(0,r.dX)("/api/auth/getuser_leader_by_subordinate_id",{params:{user_id:e}}),M=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_my_performance",{params:(0,t.jG)(e)})},44928:function(e,n,a){a.d(n,{t:function(){return t}});var r=a(86834);const t=()=>{const e=new Proxy({},{get(e,n){return Reflect.get(r.Z,n)}});return e}},21495:function(e,n,a){a.d(n,{L:function(){return s}});var r=a(97434),t={template:"template-fe9519",searchBar:"searchBar-c522bd",formItemContainer:"formItemContainer-d53e08",formItem:"formItem-c6ff4c",bodyContainer:"bodyContainer-b06936",btnLine:"btnLine-d428fc",tableContainer:"tableContainer-dd87f4"},s=(0,r.defineComponent)({props:{columns:{type:Array,default:()=>[]},value:{type:Object},routes:{},service:{required:!0,type:Function},config:{type:Object,default:()=>{}}},setup(e,n){const a=(0,r.ref)(),{reset:t}=e.config||{},s=e.service,o=()=>{const n=s.params;return n[0]&&(n[0].page_num=1),s.runAsync(n[0],e.value)},m=()=>{t&&t(),(0,r.nextTick)(o)};return{formRef:a,onReset:m,reqData:s,search:o}},render(){const e=arguments[0];return e("div",{class:["tg-page-container",t.template]},[this.routes&&e("tg-breadcrumbs",{attrs:{routes:this.routes}}),this.$slots.default&&e("div",{class:["tg-card",t.searchBar]},[e("el-form",{attrs:{size:"small","show-message":!1,"hide-required-asterisk":!0,"label-width":"70px"},ref:"formRef"},[e("div",{class:t.formItemContainer},[this.$slots.default?.map((n=>e("div",{class:t.formItem},[n]))),this.$slots.searchBtn?this.$slots.searchBtn:e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:this.search}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:this.onReset}},["重置"])])])])]),this.$slots.middle,e("div",{class:t.bodyContainer},[this.$slots.btnLine&&e("div",{class:t.btnLine},[this.$slots.btnLine]),e("div",{class:t.tableContainer},[e("tg-table",{attrs:{stripe:!0,columns:this.columns,height:"100%",data:this.reqData.data,pagination:this.reqData.pagination},directives:[{name:"loading",value:this.reqData.loading}],on:{"selection-change":this.config?.table?.selectionChange}},[e("div",{class:"tg-page-empty",slot:"empty"},[e("empty-common")])])])])])}})}}]);
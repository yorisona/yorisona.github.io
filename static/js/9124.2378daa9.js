"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[9124],{62068:function(e,t,n){n.d(t,{Z:function(){return p}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{trigger:"hover","popper-class":"pop-receivable",placement:"bottom-end"}},[n("div",{staticClass:"pop-receivable-detail"},[n("div",{staticClass:"receivable-detail-content"},[n("div",{staticClass:"detail-header"},[e.showSettlementUid?n("div",{staticClass:"header column-width"},[e._v("结算单编号")]):e._e(),n("div",{staticClass:"header column-width"},[e._v(e._s(e.firstColumnHeader))]),n("div",{staticClass:"header right column-width"},[e._v("核销金额 (元)")]),n("div",{staticClass:"header column-width"},[e._v("核销人/日期")])]),n("div",{staticClass:"detail-body"},e._l(e.list,(function(t,a){return n("div",{key:a,staticClass:"body-row"},[e.showSettlementUid?n("div",{staticClass:"rg right column-width"},[n("span",[e._v(e._s(t.settlement_uid))])]):e._e(),"receivable"===e.type?n("div",{staticClass:"rg right column-width"},[n("span",{style:String(t.write_off_amount).startsWith("-")?"color: #e91313":""},[e._v(e._s(t.receipt_uid))])]):e._e(),"receive"===e.type?n("div",{staticClass:"rg right column-width"},[n("span",{style:String(t.write_off_amount).startsWith("-")?"color: #e91313":""},[e._v(e._s(t.receivable_uid))])]):e._e(),"payable"===e.type?n("div",{staticClass:"rg right column-width"},[n("span",{style:String(t.write_off_amount).startsWith("-")?"color: #e91313":""},[e._v(" "+e._s(t.cost_id)+" ")])]):e._e(),"commonBusinessPayableActual"===e.type?n("div",{staticClass:"rg right column-width"},[n("span",{style:String(t.write_off_amount).startsWith("-")?"color: #e91313":""},[e._v(" "+e._s(t.payable_uid)+" ")])]):e._e(),n("div",{staticClass:"rg right column-width"},[n("span",{style:t.write_off_amount<0?"color: #e91313":""},[e._v(e._s(e.formatAmount(t.write_off_amount,"")))])]),n("div",{staticClass:"rg column-width"},[n("div",[n("p",[e._v(e._s(t.write_off_user))]),n("span",{staticClass:"write-date"},[e._v(e._s(t.write_off_time))])])])])})),0)])]),n("tg-button",{style:{color:e.btncolor},attrs:{slot:"reference",type:"link"},slot:"reference"},[e._v(e._s(e.btntitle))])],1)},i=[],r=n(97434),o=n(61282),l=(0,r.defineComponent)({props:{list:{type:Array,default:()=>[]},type:{type:String,default:"receivable"},btntitle:{type:String,default:"预览"},btncolor:{type:String,default:"#2877ff"},showSettlementUid:{type:Boolean,default:!1}},setup(e,t){const n=(0,r.computed)((()=>{let t="";return"receivable"===e.type?t="单据编号":"receive"===e.type?t="应收编号":"payable"===e.type?t="单据编号":"commonBusinessPayableActual"===e.type&&(t="应付编号"),t}));return{firstColumnHeader:n,formatAmount:o.dN}}}),s=l,u=n(1001),c=(0,u.Z)(s,a,i,!1,null,"6ce85114",null),p=c.exports},89124:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"finance-receivable-page flex-auto",staticStyle:{"padding-bottom":"0px"}},[n("tg-card",{attrs:{padding:[22,18,8,18]},on:{"rect:update":e.onTopCardRectUpdate}},[n("el-form",{attrs:{size:"small","show-message":!1,"label-width":"70px"}},[n("div",{staticClass:"filter-form-div"},[n("div",{staticClass:"filter-form-item",staticStyle:{width:"314px"}},[n("el-form-item",{attrs:{label:"业务类型："}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.queryForm.receivable_type,callback:function(t){e.$set(e.queryForm,"receivable_type",t)},expression:"queryForm.receivable_type"}},[n("el-option",{attrs:{label:"全部",value:""}}),n("el-option",{attrs:{label:"营销业务",value:1}}),n("el-option",{attrs:{label:"抖音店播",value:3}}),n("el-option",{attrs:{label:"淘宝店播",value:2}}),n("el-option",{attrs:{label:"S2B2C",value:5}})],1)],1)],1),n("div",{staticClass:"filter-form-item",staticStyle:{width:"314px"}},[n("el-form-item",{attrs:{label:"核销状态："}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.queryForm.write_off_status,callback:function(t){e.$set(e.queryForm,"write_off_status",t)},expression:"queryForm.write_off_status"}},[n("el-option",{attrs:{label:"全部",value:""}}),n("el-option",{attrs:{label:"已核销",value:2}}),n("el-option",{attrs:{label:"部分核销",value:1}}),n("el-option",{attrs:{label:"未核销",value:0}})],1)],1)],1),n("div",{staticClass:"filter-form-item",staticStyle:{"min-width":"314px"}},[n("el-form-item",{staticClass:"form-item-group",attrs:{label:"项目搜索："},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getList.apply(null,arguments)}}},[n("el-input",{staticClass:"input-with-select",staticStyle:{width:"244px"},attrs:{placeholder:"请输入关键字",maxlength:"100",clearable:""},model:{value:e.queryForm.search_value,callback:function(t){e.$set(e.queryForm,"search_value","string"===typeof t?t.trim():t)},expression:"queryForm.search_value"}},[n("el-select",{staticStyle:{width:"100px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.queryForm.search_type,callback:function(t){e.$set(e.queryForm,"search_type",t)},expression:"queryForm.search_type"}},[n("el-option",{attrs:{label:"应收编号",value:1}}),n("el-option",{attrs:{label:"项目编号",value:2}}),n("el-option",{attrs:{label:"项目名称",value:3}}),n("el-option",{attrs:{label:"结算单号",value:4}})],1)],1)],1)],1),n("div",{staticClass:"filter-form-item",staticStyle:{width:"314px"}},[n("el-form-item",{attrs:{label:"客户经理："}},[n("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:e.queryForm.customer_manager,callback:function(t){e.$set(e.queryForm,"customer_manager",t)},expression:"queryForm.customer_manager"}})],1)],1),n("div",{staticClass:"filter-form-item",staticStyle:{width:"314px"}},[n("el-form-item",{attrs:{label:"结算公司："}},[n("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:e.queryForm.company_name,callback:function(t){e.$set(e.queryForm,"company_name",t)},expression:"queryForm.company_name"}})],1)],1),n("div",{staticClass:"filter-form-item",staticStyle:{width:"314px"}},[n("el-form-item",{attrs:{label:"品牌："}},[n("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:e.queryForm.brand_name,callback:function(t){e.$set(e.queryForm,"brand_name",t)},expression:"queryForm.brand_name"}})],1)],1),n("div",{staticClass:"filter-form-item",staticStyle:{width:"314px"}},[n("el-form-item",{attrs:{label:"结算周期："}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"month",placeholder:"选择月","value-format":"yyyy-MM"},model:{value:e.queryForm.settlement_date,callback:function(t){e.$set(e.queryForm,"settlement_date",t)},expression:"queryForm.settlement_date"}})],1)],1),n("div",{staticClass:"filter-form-item",staticStyle:{width:"314px"}},[n("el-form-item",{attrs:{"label-width":"0"}},[n("div",{staticClass:"filter-form-item-btn"},[n("tg-button",{attrs:{type:"primary"},on:{click:e.onQuerySearchClick}},[e._v("查询")]),n("tg-button",{staticClass:"mgl-12",on:{click:e.onQueryResetClick}},[e._v("重置")]),n("tg-button",{staticClass:"mgl-12",attrs:{disabled:e.isDisabled},on:{click:e.exportQuick}},[e._v("导出")])],1)])],1)])])],1),n("tg-card",e._b({staticClass:"mgt-12",staticStyle:{"flex-grow":"1"},attrs:{padding:[18,18,0,18]},on:{"rect:update":e.onRectUpdate}},"tg-card",e.cardProps,!1),[n("el-table",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{stripe:"",border:"",data:e.list},scopedSlots:e._u([{key:"empty",fn:function(){return[n("empty-common",{attrs:{"detial-text":"暂无应收"}})]},proxy:!0}])},"el-table",e.tableProps,!1),[e._l(e.columns,(function(t,a){return n("el-table-column",e._b({key:a},"el-table-column",t,!1))})),n("el-table-column",{attrs:{label:"业务类型","min-width":"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.business_type?e.BusinessTypeMap.get(t.row.business_type):"--")+" ")]}}])}),n("el-table-column",{attrs:{className:"project-info-column",label:"项目信息","min-width":"192"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{on:{click:function(n){return e.goProjectDetail(t.row)}}},[t.row.project_name&&t.row.project_name.length>12?n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:t.row.project_name}},[n("p",{staticClass:"line-clamp-1 empty-data-line hover-link",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(t.row.project_name)+" ")])]):n("p",{staticClass:"line-clamp-1 empty-data-line hover-link"},[e._v(" "+e._s(e._f("emptyData")(t.row.project_name))+" ")])],1)]}}])}),n("el-table-column",{attrs:{label:"客户经理","min-width":"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.customer_manager||"--"))]}}])}),n("el-table-column",{attrs:{label:"创建日期","min-width":"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.create_date))]}}])}),e._l(e.columns2,(function(t,a){return n("el-table-column",e._b({key:"col2-"+a},"el-table-column",t,!1))})),n("el-table-column",{attrs:{label:"核销状态","min-width":"152",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"line-info"},[(5===t.row.gather_type?2===t.row.refund_write_off_status:2===t.row.write_off_status)?n("p",{staticClass:"write-on"},[e.writeOffPopoverVisible(t.row)?n("write-list-pop",{attrs:{list:e.writeOffPopoverInfo(t.row),btntitle:"已核销",btncolor:"#3c5269"}}):[e._v("已核销")]],2):(5===t.row.gather_type?1===t.row.refund_write_off_status:1===t.row.write_off_status)?n("p",{staticClass:"write-off"},[e.writeOffPopoverVisible(t.row)?n("write-list-pop",{attrs:{list:e.writeOffPopoverInfo(t.row),btntitle:"部分核销",btncolor:"#ff7a36"}}):[e._v("部分核销")]],2):n("p",{staticClass:"write-off"},[e._v("未核销")])])]}}])})],2),e.total>0?n("el-pagination",{staticStyle:{margin:"8px 0"},attrs:{"current-page":e.queryForm.page_num,"page-sizes":[10,20,50,100],"page-size":e.queryForm.num,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"update:currentPage":function(t){return e.$set(e.queryForm,"page_num",t)},"update:current-page":function(t){return e.$set(e.queryForm,"page_num",t)},"current-change":e.handleCurrentChange,"size-change":e.handlePageSizeChange}}):e._e()],1)],1)},i=[],r=n(97434),o=n(17809),l=n(42386),s=n(62068),u=n(29625),c=n(24643),p=n(58302),f=n(67910),d=n(61282),m=n(85937),_=n.n(m),v=n(40290),y=n(74750),b=n(64236),g=n(42963),h=(0,r.defineComponent)({components:{WriteListPop:s.Z},filters:{emptyData(e){return""===e||void 0===e||null===e?"--":e}},setup(e,t){const n=(0,r.ref)(!1),a=(0,r.ref)([]),i=(0,r.ref)(0),s=(0,r.ref)({receivable_type:"",write_off_status:"",search_value:"",search_type:1,customer_manager:"",brand_name:"",company_name:"",settlement_date:void 0,page_num:1,num:20}),m=(0,r.ref)({}),h=(e,t)=>(0,r.h)("div",{class:"number-div"},[(0,r.h)("span",{class:"number-span "+(!t&&null!==e.reversed_id||null!==e.refunded_id?"reverse-red":"")},e.receivable_uid)]),w=(e,t,n)=>{const a=`${(0,d.SJ)(new(_())(e[t]))}`;return!n&&null!==e.reversed_id||null!==e.refunded_id?(0,r.h)("span",{class:"reverse-red"},[a]):a},V=(e,t)=>w(e,"receivable_amount",t),S=(0,f.zY)(a,"应收金额 (元)",V),j=(e,t)=>w(e,"write_off_amount",t),D=(0,f.zY)(a,"实收金额 (元)",j),E=(e,t)=>w(e,"not_write_off_amount",t),C=(0,f.zY)(a,"未核销金额 (元)",E),k=(0,r.computed)((()=>[{label:"应收编号",fixed:"left",align:"center",minWidth:160,formatter:e=>h(e,!1)},{label:"应收金额 (元)",align:"right",fixed:"left",minWidth:S.value,formatter:e=>V(e,!1)},{label:"实收金额 (元)",align:"right",minWidth:D.value,formatter:e=>j(e,!1)},{label:"未核销金额 (元)",align:"right",minWidth:C.value,formatter:e=>E(e,!1)}])),F=(e,t)=>(0,r.h)("div",{class:"number-div"},[(0,r.h)("span",{class:"number-span "+(!t&&null!==e.reversed_id||null!==e.refunded_id?"reverse-red":"")},e.settlement_uid)]),I=(0,r.computed)((()=>[{label:"结算单",minWidth:160,align:"center",formatter:e=>F(e,!1)}])),x=()=>{const e=s.value;return{num:e.num,page_num:e.page_num,receivable_type:e.receivable_type,write_off_status:""===e.write_off_status?void 0:e.write_off_status,receivable_uid:1===e.search_type?e.search_value:"",project_uid:2===e.search_type?e.search_value:"",project_name:3===e.search_type?e.search_value:"",settlement_uid:4===e.search_type?e.search_value:"",customer_manager:e.customer_manager,brand_name:e.brand_name,company_name:e.company_name,settlement_date:e.settlement_date}},L=async()=>{n.value=!0;const e=x();m.value={...e},delete m.value.num,delete m.value.page_num;const r=await(0,l.UW)(e);if(r.data.success){const e=r.data.data;a.value=e.data,i.value=e.total,n.value=!1}else t.root.$message.error(r.data.message)},q=(0,r.computed)((()=>!m.value.receivable_type&&(!m.value.write_off_status&&(!m.value.receivable_uid&&(!m.value.project_uid&&(!m.value.project_name&&(!m.value.settlement_uid&&(!m.value.customer_manager&&(!m.value.brand_name&&(!m.value.company_name&&!m.value.settlement_date)))))))))),A=()=>{s.value.receivable_type="",s.value.write_off_status="",s.value.search_value="",s.value.search_type=1,s.value.page_num=1,s.value.num=20,s.value.customer_manager="",s.value.brand_name="",s.value.company_name="",s.value.settlement_date=void 0,L()},G=async()=>{s.value.page_num=1,L()},X=e=>{s.value.page_num=e,L()},T=e=>{s.value.page_num=1,s.value.num=e,L()},{jumpProjectDetail:$}=(0,v.k)(t),O=async e=>{e.receivable_type===u.WD.marketing?window.open("/marketing/project/"+e.project_id):e.receivable_type===u.WD.taobao||e.receivable_type===u.WD.douyin?$({project_id:e.project_id,newWindow:!0}):window.open("/commonbusiness/project/"+e.project_id)};(0,r.onMounted)((()=>{L(),t.root.$store.hasModule("workbench")||t.root.$store.registerModule("workbench",o.T)}));const R=32,P=34,B=36,M=31,W=(0,r.ref)(0),U=e=>{W.value=e.height},{cardProps:N,tableProps:H,onRectUpdate:z}=(0,p.Z)({compensation:(0,r.computed)((()=>R+P+B+M)),fixedBlockHeightRefs:[W],tableMinHeight:100}),Q=e=>{let t=!1;return t=e.write_off_infos&&e.write_off_infos.length>0||e.refund_write_off_infos&&e.refund_write_off_infos.length>0,t},Z=e=>{let t=[];return t=[...e.write_off_infos??[]],(e.refund_write_off_infos??[]).forEach((e=>{t.push({receipt_uid:`${e.cost_id}`,write_off_amount:-1*(e.write_off_amount??0),write_off_time:e.write_off_time,write_off_user:e.write_off_user})})),t},Y=()=>{const e=g.stringify({...(0,b.jG)(m.value)}),t=(0,y.LP)();console.log(e,s.value,"pr"),window.open(`https://data.goumee.com/api/receivable/query_financial_receivables_export?${e}&Authorization=${t}`)};return{onTopCardRectUpdate:U,queryForm:s,loading:n,getList:L,list:a,total:i,BusinessTypeMap:u.Zb,columns:k,columns2:I,onQuerySearchClick:G,onQueryResetClick:A,handleCurrentChange:X,handlePageSizeChange:T,numberMoneyFormat:c.rH,goProjectDetail:O,cardProps:N,tableProps:H,onRectUpdate:z,writeOffPopoverVisible:Q,writeOffPopoverInfo:Z,exportQuick:Y,isDisabled:q}}}),w=h,V=n(1001),S=(0,V.Z)(w,a,i,!1,null,null,null),j=S.exports},50709:function(e,t,n){n.d(t,{AY:function(){return p},Cm:function(){return R},Dd:function(){return I},Dl:function(){return c},Do:function(){return B},ED:function(){return w},EG:function(){return C},EJ:function(){return g},EN:function(){return f},ER:function(){return O},HW:function(){return s},Hn:function(){return N},L7:function(){return Y},LS:function(){return m},Oo:function(){return b},Ou:function(){return d},Q9:function(){return j},TL:function(){return G},Ui:function(){return i},V5:function(){return o},VE:function(){return a},Vv:function(){return P},Zp:function(){return h},_2:function(){return l},bf:function(){return y},bp:function(){return W},cR:function(){return q},ed:function(){return k},ei:function(){return E},g8:function(){return r},gC:function(){return _},gV:function(){return U},gh:function(){return u},hv:function(){return Z},jH:function(){return S},kJ:function(){return F},li:function(){return X},ly:function(){return $},m0:function(){return z},oE:function(){return Q},po:function(){return v},qM:function(){return x},rm:function(){return D},td:function(){return H},u8:function(){return T},us:function(){return A},vr:function(){return L},xn:function(){return V},y$:function(){return K},y8:function(){return M},zI:function(){return J}});const a="/api/settlement/refuse_settlement/:id",i="/api/settlement/approve_settlement/:id",r="/api/receivable/query_financial_receivables",o="/api/payable/query_financial_payables",l="/api/financial/query_invoice",s="/api/shop_live/query_project_uid",u="/api/financial/void_invoice",c="/api/financial/write_off_invoice",p="/api/financial/red_invoice_approval",f="/api/financial/upload_invoice_approval",d="/api/financial/query_daily_pay",m="/api/data_center/operating/overview",_="/api/data_center/operating/gmv_percent_sunburst",v="/api/data_center/operating/gmv_team_trend",y="/api/data_center/operating/profit_margin_statistics",b="/api/data_center/operating/labor_efficiency_trend",g="/api/data_center/operating/project_distribution_bubble",h="/api/data_center/operating/gmv_completion_rate",w="/api/data_center/operating/gmv_completion_trend",V="/api/data_center/operating/cost_percent_sunburst",S="/api/data_center/operating/income_percent_sunburst",j="/api/data_center/operating/profit_percent_sunburst",D="/api/data_center/operating/cost_team_trend",E="/api/data_center/operating/income_team_trend",C="/api/data_center/operating/profit_team_trend",k="/api/data_center/operating/cost_project_detail",F="/api/data_center/operating/income_project_detail",I="/api/data_center/operating/profit_project_detail",x="/api/data_center/operating/profit_loss_detail",L="/api/shop_live/query_operating_projects",q="/api/data_center/operating/gmv_project_detail",A="/api/financial/statistics/finance_overview",G="/api/financial/statistics/finance_pie",X="/api/financial/statistics/finance_trends",T="/api/financial/statistics/account_details",$="/api/financial/financing/query_financial_ledger",O="/api/financial/financing/add_financial_ledger",R="/api/financial/financing/delete_financial_ledger",P="/api/financial/statistics/project_project_fund",B="/api/financial/statistics/department_fund",M="/api/financial/statistics/unpaid_cost",W="/api/financial/statistics/pending_income_claim",U="/api/financial/statistics/capital_daily_report",N="/api/financial/statistics/capital_year_report",H="/api/financial/revenue/query_revenue_flow",z="/api/settlement/query_revenue_flow",Q="/api/financial/revenue/get_revenue_flow_detail",Z="/api/settlement/get_revenue_flow_detail",Y="/api/financial/revenue/claim_revenue_flow",J="/api/financial/revenue/delete_revenue_flow_detail",K="/api/financial/parse_bank_excel_data"},17809:function(e,t,n){n.d(t,{T:function(){return K}});var a={};n.r(a),n.d(a,{setAdvanceDetailVisible:function(){return X},setAdvanceFormDialogVisible:function(){return A},setAdvanceFormVisible:function(){return G},setApproval:function(){return C},setCustomerDetailVisible:function(){return L},setInvoicingDetailVisible:function(){return $},setInvoicingFormVisible:function(){return T},setLoanDetailVisible:function(){return F},setLoanFormVisible:function(){return k},setProjectApprovalVisible:function(){return B},setRedDetailVisible:function(){return O},setRefundDetailVisible:function(){return x},setRefundFormVisible:function(){return I},setSupplierDetailVisible:function(){return q},setUseSealApplyDetailVisible:function(){return P},setVoidDetailVisible:function(){return R}});var i={};n.r(i),n.d(i,{advanceDetailVisible:function(){return Z},advanceFormDialogVisible:function(){return z},advanceFormVisible:function(){return Q},approval:function(){return M},customerDetailVisible:function(){return Y},loanDetailVisible:function(){return U},loanFormVisible:function(){return W},refundDetailVisible:function(){return H},refundFormVisible:function(){return N},supplierDetailVisible:function(){return J}});const r={approval:void 0,loanFormVisible:!1,loanDetailVisible:!1,refundFormVisible:!1,refundDetailVisible:!1,advanceFormDialogVisible:!1,advanceFormVisible:!1,advanceDetailVisible:!1,invoicingFormVisible:!1,invoicingDetailVisible:!1,customerDetailVisible:!1,supplierDetailVisible:!1,redDetailVisible:!1,voidDetailVisible:!1,useSealApplyDetailVisible:!1,projectApprovalVisible:!1};var o=r;const l="SET_APPROVAL",s="CLEAR_APPROVAL",u="SET_LOAN_FORM_VISIBLE",c="SET_LOAN_DETAIL_VISIBLE",p="SET_REFUND_FORM_VISIBLE",f="SET_REFUND_DETAIL_VISIBLE",d="SET_ADVANCE_FORM_DIALOG_VISIBLE",m="SET_ADVANCE_FORM_VISIBLE",_="SET_ADVANCE_DETAIL_VISIBLE",v="SET_INVOICING_FORM_VISIBLE",y="SET_INVOICING_DETAIL_VISIBLE",b="SET_CUSTOMER_DETAIL_VISIBLE",g="SET_SUPPLIER_DETAIL_VISIBLE",h="SET_RED_DETAIL_VISIBLE",w="SET_VOID_DETAIL_VISIBLE",V="SET_USE_SEAL_DETAIL_VISIBLE",S="SET_PROJECT_APPROVAL_VISIBLE";var j=n(64236);const D={[l]:(e,t)=>{e.approval=(0,j.Qc)(t)},[s]:e=>{e.approval=void 0},[u]:(e,t)=>{e.loanFormVisible=t},[c]:(e,t)=>{e.loanDetailVisible=t},[p]:(e,t)=>{e.refundFormVisible=t},[f]:(e,t)=>{e.refundDetailVisible=t},[b]:(e,t)=>{e.customerDetailVisible=t},[g]:(e,t)=>{e.supplierDetailVisible=t},[d]:(e,t)=>{e.advanceFormDialogVisible=t},[m]:(e,t)=>{e.advanceFormVisible=t},[_]:(e,t)=>{e.advanceDetailVisible=t},[v]:(e,t)=>{e.invoicingFormVisible=t},[y]:(e,t)=>{e.invoicingDetailVisible=t},[h]:(e,t)=>{e.redDetailVisible=t},[w]:(e,t)=>{e.voidDetailVisible=t},[V]:(e,t)=>{e.useSealApplyDetailVisible=t},[S]:(e,t)=>{e.projectApprovalVisible=t}};var E=D;const C=({commit:e},t)=>{e(l,t)},k=({commit:e},t)=>{e(u,t)},F=({commit:e},t)=>{e(c,t)},I=({commit:e},t)=>{e(p,t)},x=({commit:e},t)=>{e(f,t)},L=({commit:e},t)=>{e(b,t)},q=({commit:e},t)=>{e(g,t)},A=({commit:e},t)=>{e(d,t)},G=({commit:e},t)=>{e(m,t)},X=({commit:e},t)=>{e(_,t)},T=({commit:e},t)=>{e(v,t)},$=({commit:e},t)=>{e(y,t)},O=({commit:e},t)=>{e(h,t)},R=({commit:e},t)=>{e(w,t)},P=({commit:e},t)=>{e(V,t)},B=({commit:e},t)=>{e(S,t)},M=e=>e.approval,W=e=>e.loanFormVisible,U=e=>e.loanDetailVisible,N=e=>e.refundFormVisible,H=e=>e.refundDetailVisible,z=e=>e.advanceFormDialogVisible,Q=e=>e.advanceFormVisible,Z=e=>e.advanceDetailVisible,Y=e=>e.customerDetailVisible,J=e=>e.supplierDetailVisible,K={namespaced:!0,state:o,mutations:E,actions:a,getters:i}},42386:function(e,t,n){n.d(t,{$W:function(){return W},BN:function(){return S},BT:function(){return h},Bu:function(){return k},DR:function(){return I},FT:function(){return z},Hw:function(){return R},Hz:function(){return y},I2:function(){return x},JQ:function(){return V},KH:function(){return X},LZ:function(){return N},Ml:function(){return J},NW:function(){return j},Oi:function(){return C},R5:function(){return w},R7:function(){return A},Sg:function(){return G},T_:function(){return q},Tu:function(){return f},UI:function(){return p},UW:function(){return c},Un:function(){return _},Ux:function(){return g},V$:function(){return s},XV:function(){return u},XY:function(){return U},Xz:function(){return d},_:function(){return B},_u:function(){return Z},aH:function(){return m},b:function(){return E},cN:function(){return M},ce:function(){return T},f2:function(){return D},g8:function(){return l},h:function(){return $},hE:function(){return L},k:function(){return o},k6:function(){return v},kf:function(){return P},md:function(){return b},oY:function(){return F},or:function(){return Y},qp:function(){return O},w1:function(){return Q},xW:function(){return H}});var a=n(76012),i=n(50709),r=n(64236);const o=async({id:e,refuse_reason:t})=>(0,a.SO)(i.VE.replace(":id",`${e}`),{refuse_reason:t}),l=async e=>(0,a.dX)(i.Ui.replace(":id",`${e}`)),s=async e=>(0,a.dX)(`/api/settlement/approve_cost_settlement/${e}`),u=({id:e,refuse_reason:t})=>(0,a.SO)(`/api/settlement/refuse_cost_settlement/${e}`,{refuse_reason:t}),c=async e=>(0,a.dX)(i.g8,{params:{...(0,r.jG)(e)}}),p=async e=>(0,a.dX)(i.V5,{params:{...(0,r.jG)(e)}}),f=async e=>(0,a.SO)("/api/financial/reverse",e),d=async e=>(0,a.SO)("/api/financial/reverse_again",e),m=async e=>(0,a.SO)("/api/financial/confirm_reverse",{...(0,r.jG)(e)}),_=async e=>(0,a.SO)("/api/financial/merchant_confirm_reverse",{...(0,r.jG)(e)}),v=async e=>(0,a.dX)("/api/financial/query_our_bank_accounts",{params:{...(0,r.jG)(e??{})}}),y=async e=>(0,a.dX)(i.Ou,{params:{...(0,r.jG)(e)}}),b=async e=>(0,a.SO)("/api/financial/add_manually_pay_info",{...(0,r.jG)(e)}),g=async(e,t)=>(0,a.dX)("/api/financial/query_all_project",{params:{...(0,r.jG)({...e,...t})}}),h=async e=>(0,a.dX)(i.LS,{params:{...(0,r.jG)(e)}}),w=async e=>(0,a.dX)(i.gC,{params:{...(0,r.jG)(e)}}),V=async e=>(0,a.dX)(i.po,{params:{...(0,r.jG)(e)}}),S=async e=>(0,a.dX)(i.bf,{params:{...(0,r.jG)(e)}}),j=async e=>(0,a.dX)(i.Oo,{params:{...(0,r.jG)(e)}}),D=async e=>(0,a.dX)(i.EJ,{params:{...(0,r.jG)(e)}}),E=async e=>(0,a.dX)(i.Zp,{params:{...(0,r.jG)(e)}}),C=async e=>(0,a.dX)(i.ED,{params:{...(0,r.jG)(e)}}),k=async(e,t)=>2===t?(0,a.dX)(i.xn,{params:{...(0,r.jG)(e)}}):1===t?(0,a.dX)(i.jH,{params:{...(0,r.jG)(e)}}):(0,a.dX)(i.Q9,{params:{...(0,r.jG)(e)}}),F=async(e,t)=>2===t?(0,a.dX)(i.rm,{params:{...(0,r.jG)(e)}}):1===t?(0,a.dX)(i.ei,{params:{...(0,r.jG)(e)}}):(0,a.dX)(i.EG,{params:{...(0,r.jG)(e)}}),I=async(e,t)=>2===t?(0,a.dX)(i.ed,{params:{...(0,r.jG)(e)}}):1===t?(0,a.dX)(i.kJ,{params:{...(0,r.jG)(e)}}):3===t?(0,a.dX)(i.Dd,{params:{...(0,r.jG)(e)}}):(0,a.dX)(i.cR,{params:{...(0,r.jG)(e)}}),x=async e=>(0,a.dX)(i.vr,{params:{...(0,r.jG)(e)}}),L=async e=>(0,a.dX)(i.qM,{params:{...(0,r.jG)(e)}}),q=async()=>(0,a.dX)(i.us),A=async()=>(0,a.dX)(i.TL),G=async()=>(0,a.dX)(i.li),X=async()=>(0,a.dX)(i.u8),T=async e=>(0,a.dX)(i.gV,{params:{...(0,r.jG)(e)}}),$=async()=>(0,a.dX)(i.Hn),O=async e=>(0,a.dX)(i.ly,{params:{...(0,r.jG)(e)}}),R=async e=>(0,a.SO)(i.ER,{...(0,r.jG)(e)}),P=async e=>(0,a.HG)(`${i.Cm}/${e}`),B=async e=>(0,a.dX)(i.Vv,{params:{...(0,r.jG)(e)}}),M=async()=>(0,a.dX)(i.Do),W=async e=>(0,a.dX)(i.y8,{params:{...(0,r.jG)(e)}}),U=async e=>(0,a.dX)(i.bp,{params:{...(0,r.jG)(e)}}),N=async e=>(0,a.dX)(i.td,{params:{...(0,r.jG)(e)}}),H=async e=>(0,a.dX)(`${i.hv}/${e}`),z=async e=>(0,a.dX)(i.m0,{params:{...(0,r.jG)(e)}}),Q=async e=>(0,a.dX)(`${i.oE}/${e}`),Z=async e=>(0,a.SO)(i.L7,{...(0,r.jG)(e)}),Y=async e=>(0,a.HG)(`${i.zI}/${e}`),J=e=>(0,a.SO)(i.y$,e)},29625:function(e,t,n){var a,i;n.d(t,{Bs:function(){return d},C_:function(){return l},RB:function(){return m},UN:function(){return c},WD:function(){return a},Wj:function(){return s},Y$:function(){return i},Yh:function(){return o},Zb:function(){return r},i8:function(){return f},kA:function(){return _},x3:function(){return u}}),function(e){e[e["marketing"]=1]="marketing",e[e["taobao"]=2]="taobao",e[e["douyin"]=3]="douyin",e[e["base"]=4]="base",e[e["mcn"]=5]="mcn",e[e["douyinsh"]=7]="douyinsh"}(a||(a={})),function(e){e[e["common"]=1]="common",e[e["system"]=2]="system"}(i||(i={}));const r=new Map([[a.marketing,"营销业务"],[a.douyin,"抖音店播"],[a.taobao,"淘宝店播"],[a.base,"基地业务"],[a.mcn,"S2B2C"],[a.douyinsh,"抖音店播(上海)"]]),o=[{value:a.marketing,label:"整合营销"},{value:a.douyin,label:"抖音店播"},{value:a.taobao,label:"淘宝店播"},{value:a.mcn,label:"S2B2C"},{value:a.douyinsh,label:"抖音店播(上海)"}];var l;(function(e){e[e["creation"]=1]="creation",e[e["tryLive"]=2]="tryLive",e[e["execution"]=3]="execution",e[e["regionExecution"]=4]="regionExecution",e[e["finish"]=5]="finish",e[e["executionEnd"]=6]="executionEnd"})(l||(l={}));const s=new Map([[l.creation,"项目创建"],[l.tryLive,"试播中"],[l.execution,"项目执行中"],[l.regionExecution,"区域执行中"],[l.executionEnd,"执行结束"],[l.finish,"已完结"]]);var u;(function(e){e[e["region"]=2]="region",e[e["selfSupport"]=1]="selfSupport"})(u||(u={}));const c=new Map([[u.region,"区域"],[u.selfSupport,"自营"]]);var p;(function(e){e[e["month"]=1]="month",e[e["quarter"]=2]="quarter",e[e["halfAyear"]=3]="halfAyear"})(p||(p={}));const f=new Map([[p.month,"月结"],[p.quarter,"季结"],[p.halfAyear,"半年"]]),d=new Map([[1,"美妆"],[2,"生活"],[3,"服饰"],[4,"美食"],[5,"母婴"],[6,"数码"],[7,"家装"],[8,"健康"],[9,"宠物"],[10,"时尚"],[11,"配饰"],[12,"家电"],[13,"测评"],[14,"旅行"],[15,"运动"],[16,"摄影"],[17,"情感"],[18,"汽车"],[19,"搞笑"],[20,"教育"],[21,"财经"],[22,"萌娃"],[23,"文化"],[24,"影视"],[25,"娱乐"],[26,"游戏"],[27,"海外"],[28,"才艺"],[29,"三农"],[30,"二次元"],[31,"高颜值"]]);function m(e){return 0===e?"无":d.get(e)??"无"}var _;(function(e){e[e["live"]=1]="live",e[e["marketing"]=2]="marketing",e[e["common_business"]=3]="common_business"})(_||(_={}))},58302:function(e,t,n){var a=n(97434),i=n(77944),r=n(52140);const o=e=>{const t=(0,a.computed)((()=>i.Z.getters["global/scrollbarSetting"])),n=(0,a.computed)((()=>void 0!==e.pagename?!0!==t.value.find((t=>t.key===e.pagename))?.value:e.disable??!1)),o=(0,a.computed)((()=>{const t=(e.fixedBlockHeightRefs??[]).map((e=>(0,a.unref)(e))).reduce(((e,t)=>(0,a.unref)(e)+(0,a.unref)(t)),0);return n.value?"max-content":`calc(100vh - ${(0,a.unref)(t)+56+36}px)`})),l=(0,a.computed)((()=>(n.value,"flex-auto"))),s=(0,a.computed)((()=>({height:o.value,overflowInBody:!n.value}))),u=(0,a.ref)(0),c=(0,a.computed)((()=>n.value?{}:{height:Math.max(u.value-(0,a.unref)((0,a.unref)(e.compensation)),e.tableMinHeight??0)})),p=n.value?()=>{}:e=>{u.value!==e&&(u.value=e,(0,r.S)())},f=n.value?()=>{}:t=>{0===u.value?setTimeout((()=>{p(t.height)}),e.delay??1200):p(t.height)};return{cardHeight:o,tableProps:c,onRectUpdate:f,rectHeight:u,cardFlexClass:l,cardProps:s}};t["Z"]=o},52140:function(e,t,n){n.d(t,{S:function(){return a},n:function(){return i}});const a=()=>{const e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},i=()=>{const{width:e,height:t}=document.body.getBoundingClientRect();return{width:e,height:t}}},40290:function(e,t,n){n.d(t,{k:function(){return i}});var a=n(1763);const i=e=>{const t={jumpProjectDetail:e=>{const n={name:a.FB.project.detail,params:{id:`${e.project_id}`,tab:e.tab??"projectInfo",liveType:e.liveType??"calendar"}},i=e.newWindow??!1;t.jump(n,i)},jumpLiveDisplayDetail:e=>{const n={name:a.FB.display.detail,params:{id:`${e.project_id}`,liveId:`${e.live_id}`,tab:"live",liveType:e.liveType??"calendar"}},i=e.newWindow??!1;t.jump(n,i)},jump:(t,n=!1)=>{if(n){const{href:n}=e.root.$router.resolve(t);window.open(n,"_blank")}else e.root.$router.push(t)}};return{...t}}},67910:function(e,t,n){n.d(t,{P6:function(){return s},zY:function(){return l}});var a=n(97434),i=n(61282),r=n(85937),o=n.n(r);const l=(e,t,n,r=20)=>(0,a.computed)((()=>Math.ceil(Math.max(...e.value.map((e=>(0,i.QN)(n(e,!0)))),(0,i.QN)(t)))+r+6)),s=(e,t=!0)=>{let n;return n=""===e||void 0===e?"--":(0,i.SJ)(new(o())(e??0)),t?(0,a.h)("span",[`￥${n}`]):(0,a.h)("span",[`${n}`])}}}]);
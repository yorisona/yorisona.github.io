(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[7551],{88520:function(t,e,a){"use strict";a.d(e,{Z:function(){return m}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"popular-top-table"},[a("el-table",{attrs:{data:t.list,border:"","row-style":t.rowStyle},scopedSlots:t._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{"detial-text":"暂无数据"}})]},proxy:!0}])},[a("el-table-column",{attrs:{type:"index",label:"排行",width:"50",align:"center"}}),a("el-table-column",{attrs:{label:"商品信息","min-width":"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"commodity-box"},[a("div",{staticClass:"pic-box"},[a("el-image",{staticStyle:{cursor:"pointer"},attrs:{fit:"contain",src:e.row.image_url||t.emptyGoods},on:{click:function(a){return t.openDouyin(e.row.item_id)}}})],1),a("div",{staticClass:"info-box"},[a("div",{staticClass:"id-line"},[a("p",{staticClass:"commodity-id"},[t._v(t._s(e.row.item_id))]),t.rank&&e.row.last_week_rank?a("p",{staticClass:"rank"},[t._v(" 上周第"+t._s(t.rankChinese(e.row.last_week_rank))+" ")]):t._e()]),a("p",{staticClass:"commodity-name",on:{click:function(a){return t.openDouyin(e.row.item_id)}}},[t._v(" "+t._s(e.row.title)+" ")]),a("p",{staticClass:"code"},[t._v(t._s(e.row.item_sn?e.row.item_sn:"--"))])])])]}}])}),a("el-table-column",{attrs:{label:"官方类目","min-width":"82",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.first_tiange_cat+"-"+e.row.second_tiange_cat+"-"+e.row.third_tiange_cat))]}}])}),a("el-table-column",{attrs:{label:"单价 (元)","min-width":"90",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatPriceFormYuan(e.row.discount_price/100,2,!1)))]}}])}),a("el-table-column",{attrs:{label:"销量","min-width":"75",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.numberFormat(e.row.shop_sale_count,0,".",",")))]}}])}),a("el-table-column",{attrs:{label:"销售额 (元)","min-width":"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatPriceFormYuan(e.row.shop_gmv/100,2,!1)))]}}])}),t.rank?a("el-table-column",{attrs:{label:"发货前退款额 (元)",width:"130",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.formatPriceFormYuan(e.row.shop_refund_status21_gmv/100,2,!1)))]}}],null,!1,2988502600)}):t._e(),t.rank?a("el-table-column",{attrs:{label:"发货前退款比例",width:"120",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.shop_refund_status21_gmv_rate)+"%")]}}],null,!1,2811215568)}):t._e(),t.rank?a("el-table-column",{attrs:{width:"100",align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[t._v(t._s(e.column.label)+" "),a("el-popover",{attrs:{placement:"top",trigger:"hover",content:"截止到今日凌晨库存"}},[a("span",{attrs:{slot:"reference"},slot:"reference"},[t._v(" 当日库存 "),a("tg-icon",{staticStyle:{color:"#939393"},attrs:{name:"ico-question"}})],1)])]}},{key:"default",fn:function(e){return[t._v(t._s(e.row.stock_num))]}}],null,!1,3596674283)}):t._e()],1)],1)},o=[],l=a(97434),n=a(45781),s=a(24643),r=a(59760);const{formatPriceFormYuan:d}=n.Z;var c=(0,l.defineComponent)({name:"TgCommodityAnalysisWeekPopularTable",props:{list:{type:Array,default:()=>[]},rowStyle:{type:Function},rank:{type:Boolean,default:!1}},setup(){const t=t=>{window.open(`https://haohuo.jinritemai.com/views/product/item2?id=${t}`)},e=t=>{switch(t){case 1:return"春季";case 2:return"夏季";case 3:return"秋季";case 4:return"冬季";default:return"其他"}},a=t=>{switch(t){case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六";case 7:return"七";case 8:return"八";case 9:return"九";case 10:return"十";default:return t}};return{emptyGoods:r,openDouyin:t,formatPriceFormYuan:d,numberFormat:s.Y4,seasonType:e,rankChinese:a}}}),p=c,u=a(1001),g=(0,u.Z)(p,i,o,!1,null,"3b36b21a",null),m=g.exports},32200:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"chart",staticClass:"chart"})},o=[],l=a(4096),n={props:{options:{type:Object,default:()=>({})},currentIndex:{type:Number,default:-1}},watch:{options:{handler(t){this.updateOptions(t)},deep:!0},currentIndex:{handler:function(t){-1!==t&&this.upAxisPointer()},deep:!0}},mounted(){const{resize:t,...e}=this.$listeners,a=this.$refs.chart;this.chart=l.init(a),Object.keys(e).forEach((t=>{this.chart.on(t,((...e)=>this.$emit(t,this.chart,...e)))})),this.updateOptions(this.options),window.addEventListener("resize",this.resize),this.chart.on("click",this.clickFunc)},destroyed(){window.removeEventListener("resize",this.resize),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{resize(...t){this.chart.resize(),this.$emit("resize",[this.chart,...t])},updateOptions(t){null!==t&&void 0!==t&&this.chart.setOption(t,!0)},clickFunc(t){this.$emit("selectClick",t)},upAxisPointer(){let t={currentIndex:this.currentIndex},e=this.options.series[3].data.length;t.currentIndex>0&&this.chart.dispatchAction({type:"downplay",seriesIndex:3,dataIndex:t.currentIndex-1}),t.currentIndex=t.currentIndex%e,this.chart.dispatchAction({type:"highlight",seriesIndex:3,dataIndex:t.currentIndex}),this.chart.dispatchAction({type:"showTip",seriesIndex:3,dataIndex:t.currentIndex})}}},s=n,r=a(1001),d=(0,r.Z)(s,i,o,!1,null,"67d5f011",null),c=d.exports},99197:function(t,e,a){"use strict";a.d(e,{Z:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty-chart",staticStyle:{"margin-top":"20px"}},[a("empty-common",{attrs:{"detial-text":"暂无数据","img-height":100,"img-width":150}})],1)},o=[],l=a(1001),n={},s=(0,l.Z)(n,i,o,!1,null,"1c4271b8",null),r=s.exports},15899:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"32px 32px 0 32px",height:"80px","text-align":"center"}},[a("div",{staticStyle:{width:"100%",height:"28px",display:"flex"}},[a("div",{staticStyle:{"min-width":"80px",background:"#00b8f0","padding-left":"24px",color:"#ffffff","border-radius":"4px 0 0 4px","line-height":"28px","text-align":"left"},style:{width:(t.obj.people_num_ratio||0)+"%"}},[t._v(" "+t._s(null===t.obj.people_num_ratio||void 0===t.obj.people_num_ratio?"--":(t.obj.people_num_ratio||0)+"%")+" ")]),a("div",{staticStyle:{flex:"1","min-width":"80px",background:"#2877ff","text-align":"right","padding-right":"24px",color:"#ffffff","border-radius":"0 4px 4px 0","line-height":"28px"}},[t._v(" "+t._s(null===t.obj.second_people_num_ratio||void 0===t.obj.second_people_num_ratio?"--":(t.obj.second_people_num_ratio||0)+"%")+" ")])]),a("div",{staticStyle:{"margin-top":"8px",display:"flex","justify-content":"space-between"}},[a("div",{staticStyle:{"font-weight":"400","font-size":"14px",color:"#ffffff","text-align":"left","min-width":"150px","border-bottom-left-radius":"100px","border-top-left-radius":"100px",width:"200px"}},[a("div",{staticStyle:{"font-weight":"400","font-size":"14px",color:"#19232d","line-height":"20px",display:"flex","justify-content":"flex-start"}},[a("span",[t._v(t._s(t.obj.one_lable))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"500",trigger:"hover",content:t.obj.issuccess?t.onesuccessdetailstr:t.onefaildetailstr}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[a("tg-icon",{staticStyle:{"font-size":"16px",color:"#a4b2c2"},attrs:{name:"ico-icon_explain"}})],1)],1)],1),a("div",{staticStyle:{"font-weight":"500","font-size":"14px",color:"#19232d","line-height":"20px"}},[t._v(" "+t._s(null===t.obj.people_num||void 0===t.obj.people_num?"--":t.formatAmount(Number(t.obj.people_num||0).toFixed(0),"None",!0))+" ")])]),a("div",{staticStyle:{"font-weight":"500","font-size":"14px",color:"#ffffff","text-align":"right","min-width":"150px","border-bottom-left-radius":"100px","border-top-left-radius":"100px",flex:"1",width:"200px"}},[a("div",{staticStyle:{"font-weight":"500","font-size":"14px",color:"#19232d","line-height":"20px",display:"flex","justify-content":"flex-end"}},[a("span",[t._v(t._s(t.obj.two_lable))]),a("el-popover",{attrs:{placement:"top-start",title:"",width:"500",trigger:"hover",content:t.obj.issuccess?t.twosuccessdetailstr:t.twofaildetailstr}},[a("el-button",{attrs:{slot:"reference"},slot:"reference"},[a("tg-icon",{staticStyle:{"font-size":"16px",color:"#a4b2c2"},attrs:{name:"ico-icon_explain"}})],1)],1)],1),a("div",{staticStyle:{"font-weight":"400","font-size":"14px",color:"#19232d","line-height":"20px"}},[t._v(" "+t._s(null===t.obj.second_people_num||void 0===t.obj.second_people_num?"--":t.formatAmount(Number(t.obj.second_people_num||0).toFixed(0),"None",!0))+" ")])])])])},o=[],l=a(61282),n={name:"line",props:{obj:{required:!1,type:Object,default:()=>({})}},data(){return{formatAmount:l.dN}},computed:{onesuccessdetailstr(){return"首购人数"===this.obj.one_lable?"在本场直播前的历史时间内没有购买过店铺的商品且在本场直播间的直播过程中购买店铺商品的用户":"有互动人数"===this.obj.one_lable?"在本场直播间有做过“点赞/评论/分享”行为且在本场直播间的直播过程中支付成功的用户":"粉丝人数"===this.obj.one_lable?"在本场直播间的直播过程中支付成功的用户中的粉丝用户，粉丝取的是：在本场直播结束的时间点正在关注抖音/抖音极速版/抖音火山版3端账号的用户，包含本场直播新增的粉丝。":""},twosuccessdetailstr(){return"复购人数"===this.obj.two_lable?"在本场直播前的历史时间内购买过店铺的商品且在本场直播间的直播过程中购买店铺商品的用户":"无互动人数"===this.obj.two_lable?"在本场直播间没有做过“点赞/评论/分享”行为且在本场直播间购买商品的用户，包含退款":"非粉丝人数"===this.obj.two_lable?"在本场直播间的直播过程中支付成功的用户中的非粉丝用户，非粉丝取的是：在本场直播结束的时间点没有关注抖音/抖音极速版/抖音火山版3端账号的用户":""},onefaildetailstr(){return"观看40s+人数"===this.obj.one_lable?"在本场直播间的直播过程中没有支付成功的用户中的观看直播时长大于等于40s 的用户":"有互动人数"===this.obj.one_lable?"在本场直播间有做过“点赞/评论/分享”行为且在本场直播间的直播过程中没有支付成功的用户":"粉丝人数"===this.obj.one_lable?"在本场直播间的直播过程中没有支付成功的用户中的粉丝用户，粉丝取的是：在本场直播结束的时间点正在关注抖音/抖音极速版/抖音火山版3端账号的用户，包含本场直播新增的粉丝。":""},twofaildetailstr(){return"无效观看人数"===this.obj.two_lable?"在本场直播间的直播过程中没有支付成功的用户中的观看直播时长小于40s的用户":"无互动人数"===this.obj.two_lable?"在本场直播间没有做过“点赞/评论/分享”行为且在本场直播间的直播过程中没有支付成功的用户":"非粉丝人数"===this.obj.two_lable?"在本场直播间的直播过程中没有支付成功的用户中的非粉丝用户，非粉丝取的是：在本场直播结束的时间点没有关注抖音/抖音极速版/抖音火山版3端账号的用户":""}},created(){}},s=n,r=a(1001),d=(0,r.Z)(s,i,o,!1,null,"4230346a",null),c=d.exports},28512:function(t,e,a){"use strict";a.d(e,{Z:function(){return u}});var i,o=a(61282),l=a(97434);(function(t){t["project_name"]="project_name",t["department_name"]="department_name",t["goal_gmv"]="goal_gmv",t["gmv"]="gmv",t["gmv_completion_rate"]="gmv_completion_rate",t["live_duration"]="live_duration",t["uv"]="uv",t["gmv_per_uv"]="gmv_per_uv",t["max_uv"]="max_uv",t["avg_stay"]="avg_stay",t["new_fans_count"]="new_fans_count",t["watch_cnt_show_ratio"]="watch_cnt_show_ratio",t["watch_pay_ucnt_ratio"]="watch_pay_ucnt_ratio",t["cost"]="cost",t["ad_live_roi"]="ad_live_roi",t["roi"]="roi",t["refund_order_rate"]="refund_order_rate",t["refund_order_amount"]="refund_order_amount",t["net_sales_amount"]="net_sales_amount",t["project_id"]="project_id",t["total_amount"]="net_sales_amount"})(i||(i={}));var n,s,r=(0,l.defineComponent)({props:{data:{type:Array,default:()=>[]},day_arr:{type:Array,default:()=>[]},department_id:{type:Number},is_total:{type:Boolean,default:!1}},setup(t,e){const a=(0,l.ref)([{key:i.project_name,name:t.is_total?"指标/日期":"项目",formatter:t=>(0,l.h)("tg-textPopover",{props:{text:t,maxWidth:115}})},{key:i.department_name,name:"项目组",value:[],formatter:t=>(0,l.h)("tg-textPopover",{props:{text:t,maxWidth:115}})},{key:i.goal_gmv,name:"目标GMV (元)",value:[],formatter:t=>null!==t&&void 0!==t?(0,o.dN)(t/100,"None"):t},{key:i.gmv,name:"完成GMV (元)",value:[],formatter:t=>null!==t&&void 0!==t?(0,o.dN)(t/100,"None"):t},{key:i.gmv_completion_rate,name:"目标完成度",value:[],formatter:t=>null!==t&&void 0!==t?`${t}%`:t},{key:i.live_duration,name:"直播时长 (分钟)",value:[],formatter:t=>null!==t&&void 0!==t?(t/60).toFixed(2):t},{key:i.uv,name:"总UV",value:[],formatter:t=>null!==t&&void 0!==t?(0,o.dN)(t,"None",!0):t},{key:i.gmv_per_uv,name:"单UV价值 (元)",value:[],formatter:t=>null!==t&&void 0!==t?(0,o.dN)(t/100,"None"):t},{key:i.max_uv,name:"最高在线",value:[],formatter:t=>null!==t&&void 0!==t?(0,o.dN)(t,"None",!0):t},{key:i.avg_stay,name:"平均停留时长 (秒)",value:[],formatter:t=>t},{key:i.new_fans_count,name:"直播增粉",value:[],formatter:t=>t},{key:i.watch_cnt_show_ratio,name:"曝光进入率",value:[],formatter:t=>null!==t&&void 0!==t?`${t}%`:t},{key:i.watch_pay_ucnt_ratio,name:"进入购买率",value:[],formatter:t=>null!==t&&void 0!==t?`${t}%`:t},{key:i.cost,name:"投放金额 (元)",value:[],formatter:t=>null!==t&&void 0!==t?(0,o.dN)(t/100,"None"):t},{key:i.ad_live_roi,name:"广告ROI",value:[],formatter:t=>t},{key:i.roi,name:"整体ROI",value:[],formatter:t=>t},{key:i.refund_order_rate,name:"当前退款率",value:[],formatter:t=>null!==t&&void 0!==t?`${t}%`:t},{key:i.refund_order_amount,name:"当前退款金额 (元)",value:[],formatter:t=>null!==t&&void 0!==t?(0,o.dN)(t/100,"None"):t},{key:i.net_sales_amount,name:"当前净销额 (元)",value:[],formatter:t=>null!==t&&void 0!==t?(0,o.dN)(t/100,"None"):t}]);!1===t.is_total&&a.value.push({key:i.project_id,name:"查看详情",value:[],formatter:(a,i)=>(0,l.h)("a",{style:{fontSize:"12px"},on:{click:()=>{const o=e.root.$router,l=o.resolve({path:"/datacenter/projectDetail/"+a,query:{project_name:i.project_name,start_date:t.day_arr}});window.open(l.href,"_blank")}}},"查看详情")}),t.is_total&&a.value.splice(1,1);const n=(0,l.ref)(!1),s=(0,l.ref)(0),r=(0,l.ref)((t.data??[])[0]),d=(0,l.ref)({key:void 0,type:void 0}),c=(0,l.computed)((()=>{let e=[...t.data??[]];t.is_total&&(e.splice(e.length-1,1),(t.day_arr||[]).map(((t,a)=>{e.length>a&&(e[a].day_name=t)})));const a=d.value.type,i=d.value.key;return i&&a&&(e=e.sort(((t,e)=>{const o=t[i],l=e[i];return null===o&&null===l?0:null===o?"ascending"===a?1:-1:null===l?"ascending"===a?-1:1:"ascending"===a?l-o:o-l}))),e})),p=(0,l.computed)((()=>{const e=[...t.data??[]];return t.is_total&&e.splice(0,e.length-1),e})),u=(0,l.computed)((()=>t.day_arr||[])),g={onSortClick(t){const e=d.value.type;void 0===e?(d.value.key=t.key,d.value.type="ascending"):"ascending"===e?d.value.key===t.key?(d.value.key=t.key,d.value.type="descending"):(d.value.key=t.key,d.value.type="ascending"):d.value.key===t.key?(d.value.key=void 0,d.value.type=void 0):(d.value.key=t.key,d.value.type="ascending")},onColClick(t,a){s.value=t,r.value=c.value[t],e.emit("selectChanged",r.value)}};return(0,l.watch)((()=>c.value),(()=>{const t=c.value.findIndex((t=>t.project_id===r.value?.project_id));t>=0&&!n.value?(s.value=t,r.value=c.value[t]):(s.value=0,r.value=c.value[0]),n.value=!1,e.emit("selectChanged",r.value)})),(0,l.watch)((()=>t.department_id),(()=>{n.value=!0})),{day_list:u,totalData:p,selectedColIndex:s,sortForm:d,projectItems:a,tableData:c,...g}},render(){const t=arguments[0];return t("div",{class:"tg-daily-detail-list-container"},[this.tableData.length>0?t("div",{class:"body"},[t("div",{class:"left"},[t("div",{class:"left-bg"}),this.projectItems.map(((e,a)=>t("div",{class:0===a?"header":"cell"},[a<2?t("div",[e.name]):t("div",{style:"display: flex; cursor: pointer; justify-content: space-between;",on:{click:()=>this.onSortClick(e)}},[t("div",[e.name]),t("div",{class:"sort-container"},[t("i",{style:this.sortForm.key===e.key&&"descending"===this.sortForm.type?"color: #2877ff":"",class:"el-icon-caret-left sort-icon"}),t("i",{style:this.sortForm.key===e.key&&"ascending"===this.sortForm.type?"color: #2877ff":"",class:"el-icon-caret-right sort-icon"})])])])))]),t("div",{class:this.is_total&&this.day_arr.length>10?"center mgRight":"center"},[this.tableData.map(((e,a)=>t("div",{attrs:{selected:!1===this.is_total&&this.selectedColIndex===a},class:"col",on:{click:()=>this.onColClick(a,e)},key:a},[this.projectItems.map(((i,o)=>{let l="";if(e.is_rest)if(2===o){const t=544;l=`height: ${t}px; max-height: ${t}px; line-height: ${t}px; display: flex; align-items: center; justify-content: center; border-bottom: none;`}else o>2&&(l="display: none");return t("div",{class:0===o?"header":"cell",style:l,key:`${a}-${o}`},[0===o&&this.is_total?t("div",[this.tableData[a].day_name||a]):e.is_rest&&2===o?t("div",{style:"font-size: 56px; color: rgba(60,82,105,0.20);"},["休"]):t("div",[i.formatter?.(e[i.key],e)])])}))]))),this.is_total&&this.day_arr.length<10&&t("div",[this.totalData.map(((e,a)=>t("div",{attrs:{selected:!1===this.is_total&&this.selectedColIndex===a},class:"col",on:{click:()=>this.onColClick(a,e)},key:a},[this.projectItems.map(((i,o)=>{let l="";if(e.is_rest)if(2===o){const t=544;l=`height: ${t}px; max-height: ${t}px; line-height: ${t}px; display: flex; align-items: center; justify-content: center; border-bottom: none;`}else o>2&&(l="display: none");return t("div",{class:0===o?"header":"cell",style:l,key:`${a}-${o}`},[0===o&&this.is_total&&this.day_list.length>a?t("div",["合计"]):e.is_rest&&2===o?t("div",{style:"font-size: 56px; color: rgba(60,82,105,0.20);"},["休"]):t("div",[i.formatter?.(e[i.key],e)])])}))])))])]),this.is_total&&this.day_arr.length>10&&t("div",{class:"right"},[t("div",{class:"right-bg"}),this.totalData.map(((e,a)=>t("div",{attrs:{selected:!1===this.is_total&&this.selectedColIndex===a},class:"col",on:{click:()=>this.onColClick(a,e)},key:a},[this.projectItems.map(((i,o)=>{let l="";if(e.is_rest)if(2===o){const t=544;l=`height: ${t}px; max-height: ${t}px; line-height: ${t}px; display: flex; align-items: center; justify-content: center; border-bottom: none;`}else o>2&&(l="display: none");return t("div",{class:0===o?"header":"cell",style:l,key:`${a}-${o}`},[0===o&&this.is_total&&this.day_list.length>a?t("div",["合计"]):e.is_rest&&2===o?t("div",{style:"font-size: 56px; color: rgba(60,82,105,0.20);"},["休"]):t("div",[i.formatter?.(e[i.key],e)])])}))])))])]):t("div",{class:"empth",style:"height: 300px; display: flex; justify-content: center; align-items: center;"},[t("empty-common",{attrs:{"detial-text":"暂无数据"}})])])}}),d=r,c=a(1001),p=(0,c.Z)(d,n,s,!1,null,"0bffad7b",null),u=p.exports},38386:function(t,e,a){"use strict";a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"12px 24px 0 18px",height:"70px","text-align":"center"}},[a("div",{staticClass:"titlediv",staticStyle:{width:"100%","text-align":"left","padding-left":"6px"}},[t._v(" "+t._s(t.obj.one_lable)+t._s(null===t.obj.people_num&&null===t.obj.second_people_num||void 0===t.obj.people_num&&void 0===t.obj.second_people_num?"--":t.formatAmount(Number(t.obj.people_num+t.obj.second_people_num).toFixed(0),"None",!0))+" ")]),"直播间曝光次数："!==t.obj.one_lable?a("div",{staticStyle:{width:"100%",height:"28px",display:"flex","margin-top":"2px"}},[a("div",{staticClass:"titlediv",staticStyle:{width:"60px","text-align":"right","padding-right":"12px"}},[t._v(" "+t._s(null===t.obj.people_num_ratio||void 0===t.obj.people_num_ratio?"--":t.obj.people_num_ratio+"%")+" ")]),a("div",{staticStyle:{"min-width":"80px",background:"#39a1fe","padding-left":"12px",color:"#ffffff","border-radius":"4px 0 0 4px","line-height":"28px","text-align":"left"},style:{width:(t.obj.people_num_ratio||0)+"%"}},[t._v(" "+t._s(null===t.obj.people_num||void 0===t.obj.people_num?"--":t.formatAmount(Number(t.obj.people_num||0).toFixed(0),"None",!0))+" ")]),a("div",{staticStyle:{flex:"1","min-width":"80px",background:"#0fc97c","text-align":"right","padding-right":"12px",color:"#ffffff","border-radius":"0 4px 4px 0","line-height":"28px"}},[t._v(" "+t._s(null===t.obj.second_people_num||void 0===t.obj.second_people_num?"--":t.formatAmount(Number(t.obj.second_people_num||0).toFixed(0),"None",!0))+" ")]),a("div",{staticClass:"titlediv",staticStyle:{width:"60px","text-align":"left","padding-left":"12px"}},[t._v(" "+t._s(null===t.obj.second_people_num_ratio||void 0===t.obj.second_people_num_ratio?"--":t.obj.second_people_num_ratio+"%")+" ")])]):a("div",{staticStyle:{"padding-left":"6px",width:"100%",height:"28px",display:"flex","margin-top":"2px"}},[t._v(" 暂无数据 ")])])},o=[],l=a(61282),n={name:"line",props:{obj:{required:!1,type:Object,defalut:()=>({})}},data(){return{formatAmount:l.dN}},computed:{},created(){}},s=n,r=a(1001),d=(0,r.Z)(s,i,o,!1,null,"03816400",null),c=d.exports},32635:function(t,e,a){"use strict";a.d(e,{Z:function(){return h}});var i,o,l=a(97434),n=a(32200),s=a(99197),r=a(61282),d=a(85937),c=a.n(d),p=(0,l.defineComponent)({props:{loading:{type:Boolean,default:!1},series:{type:Object,default:()=>({data:[],children:[]})},itemName:{type:String}},components:{BaseEcharts:n.Z,Empty:s.Z},setup(t,e){const a=(0,l.computed)((()=>t.itemName)),i=(0,l.ref)({tooltip:{trigger:"item",formatter:e=>{const i=e.data,o=i.name;let l=0;if(t.series.data.map((t=>{l=(t.value||0)+l})),!o||!l)return;const n=new(c())(i.value||0).mul(new(c())(100)).div(new(c())(l)).toFixed(2),s="直播间观看次数"===a.value?(0,r.dN)(Number(i.value).toFixed(0),"None",!0):"¥"+(0,r.dN)(i.value,"None"),d=`\n            <div style="font-size: 12px; line-height: 16px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">${a.value}：</span><span style="font-weight: 400; color: #19232D;"> ${s}</span>\n            </div>\n            <div style="font-size: 12px; line-height: 16px; margin-top: 12px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">占比：</span><span style="font-weight: 400; color: #19232D;">${n}%</span>\n            </div>\n            `;return`\n            <div style="margin: 8px; text-align: left;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${o||"--"}</div>\n              <div style="margin-top: 18px;">\n                ${d}\n              </div>\n            </div>\n          `}},legend:{show:!1,itemGap:20,width:130,itemWidth:20,top:10,left:310},label:{fontSize:10},series:[{type:"pie",data:[],label:{show:!1,minAngle:8,width:50,overflow:"truncate",position:"inside",formatter:e=>{const a=e.data,i=a.name;let o=0;if(t.series.data.map((t=>{o=(t.value||0)+o})),!i||!o)return"";const l=new(c())(a.value||0).mul(new(c())(100)).div(new(c())(o)).toFixed(2);return Number(l)>5?e.data.name:""}},radius:["30%","58%"],itemStyle:{borderWidth:1,borderColor:"#FFFFFF",color:"#91c7ae"},clockwise:!0,animation:!0},{type:"pie",data:[],radius:["58%","86%"],label:{show:!1,minAngle:8,width:50,overflow:"truncate",position:"inside",formatter:e=>{const a=e.data,i=a.name;let o=0;if(t.series.data.map((t=>{o=(t.value||0)+o})),!i||!o)return"";const l=new(c())(a.value||0).mul(new(c())(100)).div(new(c())(o)).toFixed(2);return Number(l)>5?e.data.name:""}},emphasis:{focus:"ancestor"},itemStyle:{borderWidth:1,borderColor:"#FFFFFF",color:"#91c7ae"},clockwise:!0,animation:!0}]}),o={reloadData(){const e=i.value;i.value.series[0]={...e.series[0],data:[...t.series.data]},i.value.series[1]={...e.series[1],data:[...t.series.children]}}};(0,l.onBeforeMount)((()=>{o.reloadData()})),(0,l.watch)((()=>t.series),(()=>{o.reloadData()}));const n=t=>{e.emit("selectParamClick",t)};return{selectClick:n,baseOptions:i,...o}},render(){const t=arguments[0];return t("div",{style:"width: 100%;",directives:[{name:"loading",value:this.loading}]},[(this.series.data.length||0)>0?t("base-echarts",{attrs:{options:this.baseOptions},on:{selectClick:this.selectClick}}):t("empty")])}}),u=p,g=a(1001),m=(0,g.Z)(u,i,o,!1,null,"7ad955d7",null),h=m.exports},97551:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return ge}});var i=a(97434),o=a(23812),l=a(36568),n=a.n(l),s=a(7427),r=a(99575),d=a(92410),c=a(64236),p=a(61282),u=a(85937),g=a.n(u),m=a(6933),h=a.n(m),_=a(59760);const v=t=>{const e=(0,i.ref)([]),a=(0,i.ref)(!1),o=(0,i.ref)(!1),l=(0,i.ref)(!1),n=(0,i.ref)(!1),u=(0,i.ref)([]),m=(0,i.ref)([]),v=(0,i.computed)((()=>({data:u.value}))),f=h()().subtract(1,"days"),x=(0,i.ref)({date:f.format("yyyy-MM-DD"),department_id:void 0}),y=(0,i.computed)((()=>x.value.date??f.format("yyyy-MM-DD"))),w=(0,i.ref)([]),A=(0,i.ref)([]),b=(0,i.ref)(void 0),C=(0,i.ref)([]),S=(0,i.ref)([{label:"排行",type:"index",align:"center",width:52},{label:"商品信息",minWidth:260,formatter:t=>(0,i.h)("div",{class:"product-info"},[(0,i.h)("el-image",{props:{src:t.image_url,"preview-src-list":t.image_url?[t.image_url]:[]},style:{width:"70px",height:"70px",borderRadius:"2px"}},[(0,i.h)("div",{slot:"placeholder"},[(0,i.h)("img",{style:{height:"70px",width:"70px"},domProps:{src:_}})]),(0,i.h)("div",{slot:"error"},[(0,i.h)("img",{style:{height:"70px",width:"70px"},domProps:{src:_}})])]),(0,i.h)("div",{class:"product-items"},[(0,i.h)("div",{style:"color: #3c526999;"},[t.item_id]),(0,i.h)("div",{class:"line-clamp-2 goods-name",on:{click:()=>{window.open(`https://haohuo.jinritemai.com/views/product/item2?id=${t.item_id}`)}}},[t.title]),(0,i.h)("div",[t.item_sn])])])},{label:"价格折扣",minWidth:160,formatter:t=>(0,i.h)("div",{class:"price-items"},[(0,i.h)("div",[(0,i.h)("span",{class:"price-label"},["吊牌价："]),(0,i.h)("span",[t.market_price?(0,p.dN)(t.market_price/100):t.market_price])]),(0,i.h)("div",[(0,i.h)("span",{class:"price-label"},["销售单价："]),(0,i.h)("span",[t.unit_sale_price?(0,p.dN)(t.unit_sale_price/100):t.unit_sale_price])]),(0,i.h)("div",[(0,i.h)("span",{class:"price-label"},["折扣率："]),(0,i.h)("span",[t.discount_percent?`${t.discount_percent}%`:t.discount_percent])])])},{label:"销量",align:"right",minWidth:100,formatter:t=>t.order_cnt?(0,p.dN)(t.order_cnt,"None",!0):t.order_cnt},{label:"销售额 (元)",align:"right",minWidth:128,formatter:t=>t.gmv?(0,p.dN)(t.gmv/100,"None"):t.gmv},{label:"讲解次数",align:"right",minWidth:80,formatter:t=>t.talk_times?(0,p.dN)(t.talk_times,"None",!0):t.talk_times},{label:"曝光人数",align:"right",minWidth:100,formatter:t=>t.watch_ucnt?(0,p.dN)(t.watch_ucnt,"None",!0):t.watch_ucnt},{label:"点击率",align:"right",minWidth:81,formatter:t=>t.click_rate?`${t.click_rate}%`:t.click_rate},{label:"转化率",align:"right",minWidth:81,formatter:t=>t.pay_rate?`${t.pay_rate}%`:t.pay_rate},{label:"退款比例",align:"right",minWidth:81,formatter:t=>t.refund_rate?`${t.refund_rate}%`:t.refund_rate},{label:"退款金额 (元)",align:"right",minWidth:113,formatter:t=>t.refund_gmv?(0,p.dN)(t.refund_gmv/100,"None"):t.refund_gmv}]),B={resetProjectsDataAndColumns(){},selectClick(){},transformFenToYuan(t){return t?+new(g())(t).div(new(g())(100)).toNumber().toFixed(2):t},objSpanMethod({row:t,column:e,rowIndex:a,columnIndex:i}){const o=A.value[i];if(o.rest)return 0===a?{rowspan:1,colspan:1}:1===a?{rowspan:17,colspan:1}:{rowspan:0,colspan:0}},async queryProjectFlowBurst(e){o.value=!0;const[a]=await(0,c.Dc)(500,(0,r.mm)({project_id:`${e}`,start_date:y.value,end_date:y.value}));if(o.value=!1,a.data.success){const t=a.data.data;u.value=(t||[]).filter((t=>t.children?.find((t=>(t.value||0)>0)))).map(((t,e)=>({name:t.name,itemStyle:{color:s.YJ[e]?.color},value:t.value,children:(t.children||[]).filter((t=>(t.value??0)>0)).map(((t,a)=>({name:t.name,itemStyle:{color:s.YJ[e]?.children[a]},value:t.value})))})))}else t.root.$message.error(a.data.message||"数据获取失败")},async queryProjectTradeFunnel(t){l.value=!0;const[e]=await(0,c.Dc)(500,(0,r.G2)({project_id:`${t}`,start_date:y.value,end_date:y.value}));l.value=!1,e.data.success&&(m.value=e.data.data)},async queryDepartmentStatisticsDetail(){a.value=!0;const[e]=await(0,c.Dc)(500,(0,r.v6)({third_department_id:x.value.department_id,start_date:y.value,end_date:y.value}));a.value=!1,e.data.success?A.value=e.data.data??[]:t.root.$message.error(e.data.message??"请求失败")},async getShopLiveProjectGroundList(){const t=await(0,d.h3)({second_department_name:"品牌运营",only_third_department:1});t.data.success&&(e.value=t.data.data.data)},async queryProjectTopProducts(t){n.value=!0;const[e]=await(0,c.Dc)(500,(0,r.Zw)({project_id:`${t}`,start_date:y.value,end_date:y.value,page_num:1,num:10}));n.value=!1,e.data.success&&(C.value=e.data.data)},onSelectChanged(t){b.value=t;const e=t?.project_id;e?(B.queryProjectFlowBurst(e),B.queryProjectTradeFunnel(e),B.queryProjectTopProducts(e)):(u.value=[],m.value=[])}};return(0,i.watch)([()=>x.value.date,()=>x.value.department_id],(()=>{B.queryDepartmentStatisticsDetail()})),(0,i.onMounted)((()=>{B.getShopLiveProjectGroundList(),B.queryDepartmentStatisticsDetail()})),{loading:a,sunBurstLoading:o,funnelLoading:l,topGoodsLoading:n,sunBurstData:u,sunBurstSeries:v,funnelData:m,queryForm:x,oldProjectsData:w,projectsData:A,oneProjectColumns:S,oneProjectData:C,departmentList:e,currentProject:b,...B}};var f,x,y,w,A,b,C=a(32200),S=a(99197),B=(0,i.defineComponent)({props:{loading:{type:Boolean,default:!1},series:{type:Object,default:()=>{}}},components:{BaseEcharts:C.Z,Empty:S.Z},setup(t,e){const a=(0,i.ref)(void 0),o=(0,i.computed)((()=>{if(!a.value)return(t.series.data??[]).map((t=>({color:t.itemStyle.color,name:t.name})));const e=a.value.children??[];return e.length?e.map((t=>({color:t.itemStyle.color,name:t.name}))):[{color:a.value.itemStyle.color,name:a.value.name}]})),l=(0,i.ref)({tooltip:{trigger:"item",formatter(t){const e=t.data,a=e.name,i=t.treePathInfo?.[0]?.value;if(!a||!i)return;const o=new(g())(e.value??0).mul(new(g())(100)).div(new(g())(i)).toFixed(2),l=`\n            <div style="font-size: 12px; line-height: 16px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">流量：</span><span style="font-weight: 400; color: #19232D;">${(0,p.dN)(e.value??0,"None",!0)}</span>\n            </div>\n            <div style="font-size: 12px; line-height: 16px; margin-top: 12px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">占比：</span><span style="font-weight: 400; color: #19232D;">${o}%</span>\n            </div>\n            `;return`\n            <div style="margin: 8px; text-align: left;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${a||"--"}</div>\n              <div style="margin-top: 18px;">\n                ${l}\n              </div>\n            </div>\n          `}},label:{fontSize:10},series:{type:"sunburst",radius:[0,"95%"],sort:void 0,label:{minAngle:8,width:50,overflow:"truncate"},nodeClick:"none",emphasis:{focus:"self",label:{show:!1}},levels:[{},{r0:"21.27%",r:"46.80%",itemStyle:{borderWidth:2},label:{show:!1}},{r0:"46.80%",r:"100%",label:{show:!1}}],data:[]}}),n={reloadData(){n.reloadPage(),a.value=void 0;const e=l.value;l.value.series={...e.series,...t.series}},onAllClick(){a.value=void 0},reloadPage(){r.value.page=1}};(0,i.onBeforeMount)((()=>{n.reloadData()})),(0,i.watch)((()=>t.series),(()=>{n.reloadData()})),(0,i.watch)((()=>a.value),(()=>{n.reloadPage()}));const s=t=>{a.value=t.data,e.emit("selectParamClick",t)},r=(0,i.ref)({page:1,pageSize:9}),d=(0,i.computed)((()=>Math.ceil(o.value.length/r.value.pageSize)));return{selectedItem:a,legendItems:o,selectClick:s,baseOptions:l,pagingForm:r,pageCount:d,...n}},render(){const t=arguments[0],e=this.legendItems.slice((this.pagingForm.page-1)*this.pagingForm.pageSize,this.pagingForm.page*this.pagingForm.pageSize);return t("div",{style:"width: 100%; display: flex; justify-content: center",directives:[{name:"loading",value:this.loading}]},[(this.series.data?.length||0)>0?t("div",{style:"width: 290px; position: relative;"},[t("base-echarts",{attrs:{options:this.baseOptions},on:{selectClick:this.selectClick}}),t("div",{style:"width: 62px; height: 62px; border-radius: 31px; background-color: transparent; position: absolute; cursor: pointer; top: 114px; left: 114px;",on:{click:this.onAllClick}})]):t("empty"),(this.series.data?.length||0)>0&&t("div",{style:"display: flex; margin-left: 45px; flex-direction: column;"},[t("div",{class:"legend-list",style:"flex: 1; margin-top: 12px;"},[e.map(((e,a)=>t("div",{style:0===a?"display: flex; align-items: center; height: 16px; line-height: 16px":"display: flex; align-items: center; margin-top: 12px; height: 16px; line-height: 16px;"},[t("div",{style:`background: ${e.color}; width: 12px; height: 12px; border-radius: 2px;`}),t("tg-textPopover",{attrs:{text:e.name,maxWidth:70},style:"margin-left: 6px; color: #343F4C; font-size: 12px; width: 70px;"})])))]),this.pageCount>1&&t("div",{style:"margin-top: 12px;"},[t("i",{attrs:{disabled:1===this.pagingForm.page},class:"el-icon-caret-left sort-icon",on:{click:()=>{this.pagingForm.page>1&&(this.pagingForm.page=this.pagingForm.page-1)}}}),t("span",{style:"padding: 0 4px"},[`${this.pagingForm.page}/${this.pageCount}`]),t("i",{attrs:{disabled:this.pagingForm.page===this.pageCount},class:"el-icon-caret-right sort-icon",on:{click:()=>{this.pagingForm.page<this.pageCount&&(this.pagingForm.page=this.pagingForm.page+1)}}})])])])}}),F=B,k=a(1001),j=(0,k.Z)(F,f,x,!1,null,"98d06888",null),N=j.exports,D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABDIAAACiCAMAAACEXh1CAAAAh1BMVEUAAAAAf/8AhP8Afv8Afv8Af/8Af/8Af/8Af/8Agv8Apv8Afv8Af/8Afv8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Agf8AgP8AgP8Ahf8Ahv8Aiv8Afv8AgP8Af/8Afv8Agv8Agf8Agf8Afv8Afv8Agf8AgP8Agv8Agv8AgP8Af/8Agf8AgP8Afv/+nZLmAAAALHRSTlMAvxD++F372sY7Au7q1LqpkfOhdmVSl0gLBwTfhX1uNR8a5bNNMCwkFItBKApTMLkAAAQdSURBVHja7N3rThpRFIbhNdMCgoUi1tRaz8eo6/6vTyTEiFFY29/PcxFvJjPfnh2b7s9vptfDBFg6GHWLQR9f+Hf+PwE2Dbuj+MTk8FcCfGJvHB9ddQnwhfkkNjx5xAC2mPXxzvhnAmwx7ePN834CbDWbxNqxLyXATvNYO02Ancax8uBFBlCwFyu/E6DgKJZ6DxlASRdLfxKgYthHxCwBSgYRYfcJFC0i+gSo6SIuEqBmFPE3AWoOIsYJUBRxlwBFEZcJUOQjK9DAEROggcE40JaMqx8JUBIOmQBtyRgkQDkZx36YAdTEq0UCFJPhmAnQlIwTay6gJFYeE6CYDEfTgKZkxDQBysk4TIByMi6NxoGCWOsSoJQMo3GgIRluWQTqyXCXM9CSDKNxoCEZRuNAUbyZJ0AxGS5aBJqSEaMEKCfjLAF2J8NoHGhIhtE40JoMdyABtWQYjQMNyTAaB76TjNsEKCfjZD8BdiTDaBxoSIbRONCQDKNxoCEZRuPwwq69pDQQRAEUfSCKBhRU/ARFiKJGfftfn5klHaqrX2V8ziLu6FIUU98JMC+OXCZANxmmceDEZGxN40A/GaZx4NRkPCRAORlr0zhQT0Y8JkA5GVcJUE5GvCTAfDJM48BAMkzjwEAyTOPAQDJM40BRNGwvEqAlWj4SYC4ZpnFgIBmmcWAgGaZxYCAZpnGgKJpWpnGgJdpeE6CcjL8EaCfDNA4UxYy3BGgmwzQODCTDNA4MJMM0DhTFnPVtAjSSYRoHimLWbwI0kmEaBwaSYRoHimLeVwJMxY5pHBhIhmkcKIqOjWkcmIod0zhQFD3nCVBOxrNpHJiIrrsEOEqGaRwoiq7VewLsRd9PAkyTYRoHimLBdQKUk3GfAOVkbM4SoJqMuEmAw2SYxoGBZJjGgYFkmMaBolj0lAAHyTCNAwPJMI0DRbHsMwH2yTCN89/e3exEEQVhGK7uOH+gOKCMQFCMIeqi7v/67J2syKkeVtTzXMSXWrzdBwqTIRoHCpMhGgcKkyEaBwqTIRoHBsWIuw8JsIghnxNgEQvRODAohjx8TIDMGHNMgMxYiMaBwmSIxoHCZIjGgUEx6KdoHMiMUVMCxKivCRCjZtE4kLEQjQODYthzAu3FQjQOFCZDNA4MinFPCXQXBbsEmouC7wk0FwvROFCYDNE4UJgM0ThQmAzROFCYDNE4UJgM0TgwKEoeLhPoLGpOCTR2HTWHBBrbxUI0DoyZYiEaB8bcRNGfBPraRNU+ga62c1RtEuhqirL7Xwk0dRv/eWoReN0+Vrj3ojM0dYg1nrYJNHSMdX4k0M/VRaz0mEA3n+ZY7Yu/gEIzV3Oc4dlX8NDK8SLO8vfk0IA29oc42++TSwM62E638Sbuvj1Ou0vXBrxb17vpZjPHC/8ACS8NmwY5/UQAAAAASUVORK5CYII=",I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+0AAACiCAMAAAADf9wFAAAAgVBMVEUAAABHvf8Rkv4Rkv4em/8Zmv8Skv4Skv4Tk/8Rkv4Rkv4Tkv8Uk/8Skv4Rkv0SlP8Xlf8Rkv4Rkv4Rkv0Skv8Ul/8Skv8Rkv8Sk/8Rkv4Rkv4Rkv0Rkv0Sk/8Skf4Rkv4Rk/8SlP8Skf4blP8Rkv0Rkf0Skv0Skv8Rl/8Rkv0Rkf3TKknLAAAAKnRSTlMAA/u5EQrZ9T3wv1wyxZpRIenjkHIZfGZKz6+hhkTLw1Yr1ROko493LKZ5baUYAAADzUlEQVR42uzdCU4UQBCG0X9g2IZ9EVHELVGSuv8BhXF6AKMHsPq9S1TSqeovbyxOHnc/XO4U8L872F/dHy/zD3s3VwU0srM6z18sbo8K6Ob0MH+6+FxAR9eLvHFnsENXu8u88uBlDvr6vszWickOne0usrG8LKCz62ycFdDbYdZOCmjuNGu7BXR3nifvCmhvlSc3BbS3s0xiiQ5mcJwsLNbADO6TiwImsEruCpjAfvK1gAkcmO0wi+ShgBnYm4VZJIuDAiZgTR5mkeSxgAkk+VbABGJRHibhCA5m4cAdZuHzGphFnh0X0F6e7Vmwgf6y9qOA7vLEZQzMIGsLsRhoL7/9LKC5yMXAJLKxX0Bv2bgtoLes+Wca+svwpYDWMrwvoLUMS4Eo6C1bHwvoLFvnBXSWrb2jAhrLi7MCGsuLwwIayytXBfSVVz4V0FcGGQloLoOMBDSXQUYCmssgIwHNZZCRgOYyyEhAcxlkJKC5DDIS0FwGGQloLoOMBDSXQUYCmssgIwG/2LtDG4SiAAaA3QEDjgTU239AVB0/wdLcLXLjUhoJGJfSSMC4lEYCxqU0EjAupZGAcSmNBIxLaSRgXEojAeNSGgkYl9JIwLiURgLGpTQSMC6lkYBxKY0EjMtXjwOsSWkkYFxKIwHjUhoJGJfSSMC4lEYCxuXC+wBbcuF+gC0pjQSMy5XbAaakNBIwLqWRgHEpjQSMS2kkYFxKIwHjUhoJGJfSSMC4lEYCxqU0EjAupZGAcSmNBIxLaSRgXEojAeNSGgkYl9JIwLiURgLGpTQSMC6lkYBxKY0EjEtpJGBcSiMB41IaCRiX0kjAuJRGAsalNBIwLqWRgHEpjQSMS2kkYFxKIwHjUhoJGJfSSMC4/OClkYABKY0EjMsvngf4eymNBIxLaSRgXEojwae9O0hpIAjCMPqPRo0jIaKISBBENzr3P6AgFLg0Exfp4r1LNNVU8dFciowENJciIwHN5W8+F2BwKTIS0FyKjAQ0lyIjAc2lyEhAcykyEtBciowENJc/+1qAkaXISEBzKTIS0FyKjAQ0lyIjAc2lyEhAcykyEtBciowENJdj7BZgWCkyEtBciowENJciIwHNpchIQHMpMhLQ222KjAT0dp0iIwG9zSkyEtDbIUVGAnq7S5GRgNYuNkliexb6m3O0/QIMaJ+jTa7cYUC7rPC6AMPZ5ocNG+juMatc+aiDwVxOWefD6A5Ded9krSevOwzkcpP1JrM7DONxykm27wswgN02p5re5gU4bxfzPv/i/vnw8iD0DGfp5no+3G3yyzeymLmK1m9HlgAAAABJRU5ErkJggg==",E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA6gAAACiCAMAAAB77BDhAAAAh1BMVEUAAAAArfYAtP8Ay/8ArfYArvcArfYAvP8ArfYArfUArfYArfYArPcArvgAsPkArfUArfUArvcArfYAtP8ArfYArfYArfUArfYAr/kArPYArfYArfYArfYArfYArvYArvcAr/gAr/kArfYArfYArvcAuf8ArfYArfcArvYArvgA//8ArPYArPUsCAThAAAALHRSTlMA9RAEvzv7CNnTzaKTSS/vuV1RFd+xnGsm/ejjx46BYiAbqolXDMJ4ckICxalqbw0AAAQOSURBVHja7N3ZUhNhFIXRTTogk0hABcEJ1HLgvP/zmQk6iXrtoWqtl+jqqvPvL9uur+6Pbw8K+G/2Dqcns0n+aZgdFtDBwfQif/fpdQFtPOznT5M3BbRyOmTHmc8ptHM+yZbrVwW0czTJhjvfU2jpfMiT4biAlk7z5KqApvazdukHFdp6n7UPBbR1kaXhpoC2pll6WUBfB5MsvC2gsVkWjgpo7CQLewU0Ns3cXQGdHWburIDO9jL3uYDWMndZQGuZe1FAa1nwdAZ6c+oLz4ATQngGsvDNxQO0lqWTAhrzfAaegSwNtwX0lZUvBfSVxLkvdJfEzQN0l7UfBbSVtUtJVOgrj6TcoK88+lpAV3n0wlg+tJUFm6HQW57sF9BURgqp0FVGHwvoKaPrAnrKhocCWkpkx6G9bJhYZIGesum+gI6yYpEFOsum4aaAhrLltICGsmKRBTrLtqMC+sm27wX0k2137wpoJzumBbSTHbMC2slI2A26ykjYDbrKrp8FdJNdv4TdoJ2MhN2gq8w5I4TmMhJ2g66yYpEFOstI2A26ykjYDbrKSNgNuspI2O03e3eLK2UYwGC0wYBAEEIIAgKCP/Huf32IK2pm5g7qqzhnHU0fWJUSdoNVKWE3WJWb3h1gSErYDVblph8HGJLbfh9gR277foAdKWE3WJUSdoNVKWE3WJUSdoNVuefbAVbkhUcWWJYSdoNVKWE3WJUSdoNVue/DATakhN1gVe57a0YII1LCbrAqJewGq1LCbrAqJewGq/LIlwMsyENfDzAgJewGq1LCbrAqJewGq/LYxwNcLyXsBqvyivcHuFxK2A1WpYTdYFVK2A1WpYTdYFVK2A1WpYTdYFVe9csjC1wtJewGq1LCbrAqJewGq1LCbrAqJewGq1LCbrAqz/h7gCulhN1gVUrYDVblKT8PcKGUsBusynM+H+A6KWE3WJUnfTrAZfLCIwssSwm7waqUsBusSgm7wao8642wG1wmJewGq1LCbrAqJewGq1LCbrAqJewGq1LCbrAq/+HPAS6REnbjX3v3jtsgEIVh9BqD41fhh5QmjhIpUopo9r++FC5GrhDYzExxzh5ugYD/o1UxRZ+AGiITdoNWRSbsBq2KSQ4JqCAyYTdoVWTCbtCqmOYnAeVFJuwGrYqJ9gkYU/1Qhd1gXPVDvQq7wajqh2qRBcbVP1RhNxhV/1AtskBxq8iE3aBR27izyAIN6yMTdoNGHSITdoNGnSMTdoM2bbq4s8gC7erjzl+p0LBLzLJLQDG3mGfwwS+UM8RMnwko5Bhzvf0moIjTOmbrPKZCEbsunnD1jgYKOHXxlLVcKizuuI5nDfaTYFG3IV7g73JKwDI2/SVe5fvrff+hSAMvtdr2h3MXD/4BY3LJVHIlGcIAAAAASUVORK5CYII=",T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA2AAAACiCAMAAAAQhF60AAAAh1BMVEUAAAAXvfoXvPkWvPgWvfmU//8Wu/kWu/kWvPkZvfscv/83yf8Wu/gWvPkWvPkWvPoZv/wWvPkWvPkWvPkXvPkYvvkew/8fwf8WvPkWvPkWvPgXvPkWvPgXvPkYvfkfzP8XvPgXvfkXvfoXvfobv/8WvPkWvPkYvfsav/oWvPkWvfsbvvoWu/i95OW4AAAALHRSTlMAjvjpTQH984k7FgTkx7RnI8+tpHQqEAj777+bloJUDN9uYEYb2llAMHw3L5EfZR0AAAQrSURBVHja7N3ZUlNREIbRPoQwhUE0AZVJJkXt938+JYGUOFxYnP9urXf4aley++yuF6bf54fH++8b+G9bk+PDnd1p/cvp9X4DrzI5v6u/mc0nDbzaxs5J/eHuoIFRTHbrN7eOLxjNxk29sLvRwHjm9YvFhwZGtLVZa1efGhjV9qKe7TQwsoN6snCzDOO7rJW3DYzuflaPThxgkLBZj44aCDirRx8bCJhM6yd3YJDxUFV7DURsVtWXBiKOqmqzgYgLJxjkDFX1rYGlRGBvGlhKBDb1Nz1kDEYRIWcZ2HUDCUP5EQYxg2FEWAsFdtPAUiKwE09KQcLgk2aIWQZmHBFWUoGdumuGgKFWzhvIBGbgFzKGeuJpX+hcYF8biARmXAoyhnpm/R5kAvP6KCwFA9vzfjYkArMBAlaSgV02EAvsdLuBVGB11kAssN0GYoFN9xtIBVYXDcQCWzQwemDGpWApGJgXSCEc2N5WA6nA6rCBWGCfG4gFdmVcCnKB1bsGYoHdNhALbGZcCnKB1U4DscAeGogFVscNxAKbNxAL7M64FGQCs7AZgoFZ2AzpwK4sbIYxAzMuBUuZwIxLwVo8sNmkgVRgNTQwWmDGpWAtH1jdNzB6YBY284O9O8hJIIiiKFpGGQhxYoSGgIBGJerf//pIagnd9asm5+zhzl7ySAzMYTO0D8xcCqrkwBw2Q4/AduZS0Dwwh83QJbCnANICmw4BZAVWTgG0DcxhM+QHVl0DaBqYw2ZoH5i5FFTJgTlshvaBmUtB1TOw9T6AhoE5bIZugZ0DSAtsctgMeYGVYwBpgd0CSAts5bAZGgbmsBk6BrYNoFlgDpuhZ2AfAaQFtnbYDEsDM5eCqntgPwGkBXYxl4JWgTlshsTAHDZD38A25lKwLDBzKagGBPYfwJLAzKWgGhHYWwBpgX2ZS0GTwBw2Q/fAPgNIC+zisBkWBGYuBVVyYA6boX9gm8cAsgIrDwGkBfYXQFpg5TuAtMB+A1gamMNmaB+YuRRUyYE5bIYhge3MpSAvsPIawKzAzKWgGhfYdAggK7ByCiAtsOcA0gIr1wDSAnsPYEZg5lJQjQysvASwIDCHzTAssPU+gPmBOWyGcYGdA0gLbHLYDHmBlWMAaYHdAkgLbOWwGeYH5rAZRga2DWBuYA6b7+3dSw6CMBSF4aMF5BFEozJR0fiKA/a/PgfEhESFFkqc/N8ebpr0Pg4wYYER2Az8tcBSApsBxwJjXAqYxlGOHjUAW4UcnRiXAqwFaiOwGfDqKVfXGoAdE8pVxrgUYGmvN65LAd4FcpcStAJYuWdqsBUG+FdpiNTUAHrlatBsBvxb7DTQrAbQLQo0VEi3Geix1XAZaWFAl/lFoxR81gM/mUQjrYhFB76bx6XGSza8YsAHc7jJj7Ka5Wf2V4BGZNbLOAnV9gKwXQUXgW8xtwAAAABJRU5ErkJggg==",G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxgAAACiCAMAAAD1GpvYAAAAhFBMVEUAAAAgyu9P8f8dyeweyeww2/8dyewdyeweyewdyewdyeweyu4gzfEdyeseyewmzfQeyewdyewdye0gzO4n0fIdyewdyewdyesdyeweyu0eye0izO4gzPIeyOwdyeweyeweyu4dye0fyuwdyewdyeweye0ey+0gzO4dyeweyu4eyuwdyOsKU2pjAAAAK3RSTlMAMAP7agjp23btsz4j99YN8Z+MLRL+0cKpf1QeGM27hFhONeHFYkYolzqRfGViugAABAtJREFUeNrs3etW2kAUhuEN5SAK0lqLilaqPVjXvv/7qzRFMkzQ/s/z3MO7WCFfZqIwfDw5XU0+JPTJYnp1PbqNY5Ynk4S++joaRofx5mNCn03XUXlaJfTd6TJKaz8XkHk+j7YHD9ywNXuKvedFAlvTy9i5myXQuB/GP58S2BlF4/lLAjuTZfx1lcDeTWzNE2iZDOPFTQJtZ/HiPIG2i4gYe/SG0ioiPidQmEXEOoHSOOJnAqV5xLcESoOIhwSqMM4SqMIY+xQD6jDiRwJVGJsEqjAeE6jCiGkCbQPzWqgNfJABnWH4Xwq6wxglUIVx5x0f1GHEaQIHYVjYQmcYY0c6Q8vAWYRwPIxfCVRhDF0yBnUYcZFAFcYggTIM5xHCkTBOEmiH4cxz6AjDLRnQFYaJLRwL49LEFoowTGyhOwzHnsNhGCa2UIfhum84GobjnaEzjOH3BF7DMLGFY2G4pxLKMExsoSMME1t4K4xbl+HDaxgmtvBGGC79hlYYJrZQhVG4TuAgDNfhwz4ME1uowij9Tui9JgwTW+gIw8QW6jBKm4S+a8IwsYX3wohVQs81YZjYQkcYJrZQhVG5T+i3JgwTW3g/jOUiodeaMExsoSMME1v4jzDGs4Q+a8IwsYU/7N3balRBEIbR3oMzHhI8JBqJRhAVRev9388kdZNAkb17cje11jt8NHT/0EUYJrawEkYysaW1DMPEFoowTGyhCKPwLaCvDMPEFraFcWNiS2MZhoktFGGY2EIRhoktFGGY2EIRhoktbA1jZ2JLWxmGiS1sDuNvQFPLeMLLgJ4yDBNb2B7Gn4CeMgwTW5gI40VAS0+HceNzY3rKMExsYSaM7wEdZRgmtlCEYWILU2H8DmhoLYzdIaCfZaz4F9DPahg/AvrJMExsYTKM64B21sM4D2hnGat+BXSTYZjYQhGGiS1MhJHeBDSTYZjYwnQYexNbulnGBh8CeskwTGyhCMPEFoowTGyhCMPEFubCSG8DOskwTGyhCMPEFoowTGyhCMPEFo4K46OJLZ1kGCa2UIRhYgvHhbF/H9BGhmFiC0UYJrZQhGFiC/NhpIuALibCWAK6yDBMbOHoMF4FNDETxtdPAT0sY8LngB4yDBNbKMIwsYUiDBNbeEYYXwJayDBMbKEIw8QWnhPGWUAH52PK7mdAA/txx8QWHno9Jl0GnL6rMesq4ORdjHsmtvDQ2XjM58YQcdiNW54y4JHrMe/SkcGJO7wbd9zYwv927hgHQBCKAWhDUBQEB0k0EhxcHLj//VyZwcWfvlu0TVrTaDGYQiTYpdBkmwuRWCaikfOFSKj5QTPHV0ISKizokHIhEsiu6KI0gwaJY050ixPbKRIla4VP3JMNI/c++j1v9kMn1F6d9Wwkn5OOSAAAAABJRU5ErkJggg==",M="data:image/png;base64,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",L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAADDCAYAAAGNJs3oAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAUaADAAQAAAABAAAAwwAAAAAg4NrMAAAFYElEQVR4Ae3dQW7TUBDGcbtiDxwAAQsEGyg3oEfiBpQbcKRyA7pAomwoEntodyCo8UvigF3H73Pmi4nLP1LUOp43b/zL2G6api4KbgggME+B07PPx9nKU9Dph/Mq3bPBKWBUsJTRGpS250DNSOCgFDw3i2fogLB4rpV9W2qKw8f3l3vh4ZMHZboPQS5WDtU2NLi7rqyqo2dPHhx1Hw8tN8VJ2z52JpKOFcvHY5o3GhuB6VixfDymeaOxETM2TeeZ5hzcnHPGbv7ybKr+NC9k33j6jlYqzD0uxPqDRFFVr8ZNn4lOXPbeJGFGXViNoYCUCcEwAySsxlBAyoRgmAESVmMoIGVCMMwACasxFJAyIRhmgITVMzZMrzmELbwWcqv7yLaJmjzrhNFETcJy8frY+Bpt/SvqvsQbXwM35Shf/351r8TLMaFfFaRZXE+KXLEYaGEX5xod1jydaaD9EDG6GmEARQpIUgiSEpMQhKSAJIUgKTEJQUgKSFIIkhKTEISkgCSFICkxCUFICkhSCJISkxCEpIAkhSApMQlBSApIUgiSEpMQhKSAJIUgKTEJQUgKSFIIkhKTEISkgCSFbC35/uOX59IMhqD125S5XN03CX9Wv17XY97lxjnWbyyyW1T9J6yO+bbKMfh26lDGeuDbqixPhmIi69IHhGqWF+m9xXWRKeE1vaFZyvJ1+ozTUIhrXWvHSZOmypt7URfimmiyPM07p+lt54X6ZDMzUVxgsdPs618MpP1heXzcxx1j9ecqrcNO/AnxZVg8qzVc65DjS+/LRIFRSwQRjApEx9ODCEYFouPpQQSjAtHx9CCCUYHoeHoQwahAdDw9iGBUIDqeHkQwKhAdTw8iGBWIjqcHEYwKRMfTgwhGBaLj6UEEowLR8fQgglGB6Hh6EMGoQHQ8PYhgVCA6nh5EMCoQHU8PIhgViI6nBxGMCkTH04MIRgWi4+lBBKMC0fFb9eCnT1/vRCdWx2/8xGJfglTY5Y+L88vvF7fr9ZN8WEYqsFNYX+07e2ywwH9ZWLPFvQXuQ2G9Be5TYa0Ctyls5x+hXH2MuGyKK6oi7Zn7das/trY+VIwtdKr/M7zeSR4+vPut5rszttBdk68LbCbat0KvFbhvhW4scN8KberJfk09enp2nvqVWxJYH2bSws4PvmmSG3Q7ODg4efro3kl7PzH+H/8bZLVxU66urtK6NuJUJ7GNVc1gxWJv7TTbVq+eZrCtk5YIooEbRBANAoYUdCKIBgFDCjoRRIOAIQWdCKJBwJCCTgTRIGBIQSeCaBAwpKATQTQIGFLQiSAaBAwp6EQQDQKGFHQiiAYBQwo6EUSDgCEFnQiiQcCQgk4E0SBgSEEngmgQMKSgE0E0CBhS0IkgGgQMKehEEA0ChhR0IogGAUMKOhFEg4AhBZ0IokHAkIJOBNEgYEhBJ4JoEDCkoBNBNAgYUtCJIBoEDCnoRBANAoYUdCKIBgFDCjoRRIOAIQWdCKJBwJCCTgTRIGBIQSeCaBAwpKATQTQIGFLQiSAaBAwp6EQQDQKGFHQiiAYBQwo6EUSDgCEFnQiiQcCQgk4E0SBgSEEngmgQMKSgE0E0CBhStK8MZEjYl2J54bXLl0VR1ffyzeHj+8d9cXN9bCeILbT6GoD1FTr/+LSuivXn4Tl/Z0EcRJuzjlj7Voj/O1rXVkIErcvWXu5FBK2NlFtaHOa7aLlBrF8J1BepTT9ptM6VU2DWE76tyvLkJjwRzRUkW4jdDdsJ6urZ68415+XeY2KzQauL/x7Xy+le7AQ1JZ75bRCxu22gdkWWy6MQuylANSCC2hWYYDkdU99//PJ8gqkmneI3/UHiG/OvfvEAAAAASUVORK5CYII=",Q="data:image/png;base64,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",O=(0,i.defineComponent)({props:{data:{type:Array,default:()=>[]}},components:{Empty:S.Z},setup(t){const e=(0,i.computed)((()=>{const e=t.data??[],a=e.every((t=>null===t||void 0===t));return a?[]:e})),a={formatAmount:p.dN};return{computedData:e,...a}},render(){const t=arguments[0],[e,a,i,o,l]=this.computedData,n=e?`${this.formatAmount(100*l/e,"None")}%`:"--",s=e?`${this.formatAmount(100*a/e,"None")}%`:"--",r=a?`${this.formatAmount(100*i/a,"None")}%`:"--",d=i?`${this.formatAmount(100*o/i,"None")}%`:"--",c=o?`${this.formatAmount(100*l/o,"None")}%`:"--";return t("div",{class:"tg-datacenter-shoplive-funnel"},[this.computedData.length?t("div",{class:"funnel-data"},[t("section",{class:"funnel-line-left"},[t("img",{class:"line-part-top",attrs:{src:Q,alt:""}}),t("div",{class:"line-text-container"},[t("div",{class:"value"},[n]),t("div",{class:"label"},["曝光-成交转化率(人数)"])]),t("img",{class:"line-part-bottom",attrs:{src:M,alt:""}})]),t("section",{class:"funnel-items"},[t("div",{class:"item",style:"width: 360px;"},[t("img",{class:"img",attrs:{src:D,alt:""}}),t("span",{class:"text"},["直播间曝光人数：",e?this.formatAmount(e,"None",!0):0])]),t("div",{class:"item",style:"width: 337px;"},[t("img",{class:"img",attrs:{src:I,alt:""}}),t("span",{class:"text"},["直播间观看人数：",a?this.formatAmount(a,"None",!0):0])]),t("div",{class:"item",style:"width: 313px;"},[t("img",{class:"img",attrs:{src:E,alt:""}}),t("span",{class:"text"},["商品曝光人数：",i?this.formatAmount(i,"None",!0):0])]),t("div",{class:"item",style:"width: 289px;"},[t("img",{class:"img",attrs:{src:T,alt:""}}),t("span",{class:"text"},["商品点击人数：",o?this.formatAmount(o,"None",!0):0])]),t("div",{class:"item",style:"width: 265px;"},[t("img",{class:"img",attrs:{src:G,alt:""}}),t("span",{class:"text"},["成交人数：",l?this.formatAmount(l,"None",!0):0])])]),t("section",{class:"funnel-line-right"},[t("div",{class:"line-container"},[t("img",{attrs:{src:L,alt:""}}),t("div",[t("div",{class:"value"},[s]),t("div",{class:"label"},["曝光-观看率(人数)"])])]),t("div",{class:"line-container"},[t("img",{attrs:{src:L,alt:""}}),t("div",[t("div",{class:"value"},[r]),t("div",{class:"label"},["观看-商品曝光率(人数)"])])]),t("div",{class:"line-container"},[t("img",{attrs:{src:L,alt:""}}),t("div",[t("div",{class:"value"},[d]),t("div",{class:"label"},["商品曝光-点击率(人数)"])])]),t("div",{class:"line-container"},[t("img",{attrs:{src:L,alt:""}}),t("div",[t("div",{class:"value"},[c]),t("div",{class:"label"},["商品点击-成交转化率(人数)"])])])])]):t("div",{class:"funnel-data"},[t("empty",{style:"margin-top: 37px;"})])])}}),Y=O,z=(0,k.Z)(Y,y,w,!1,null,"2941f17a",null),P=z.exports,W=a(28512),J=(0,i.defineComponent)({components:{sunburst:N,dailyDetailFunnel:P,dailyDetailList:W.Z},setup(t,e){const a=v(e);return{...a}},mounted(){this.onRefresh(),console.log(this.queryForm.date,"date")},methods:{onRefresh(){const t=document.getElementsByClassName("data-field");t[0].scrollTop=0,t[0].scrollLeft=0}},render(){const t=arguments[0];return t("div",{class:"tg-datacenter-shoplive-daily-detail",style:"height: calc(100% - 50px);"},[t("section",{class:"filter-field"},[t("div",{class:"filter-item date"},[t("span",{class:"label"},["选择日期："]),t("el-date-picker",{attrs:{editable:!1,clearable:!1,type:"date",format:"yyyy.MM.dd","value-format":"yyyy-MM-dd",placeholder:"选择日期",size:"small"},model:{value:this.queryForm.date,callback:t=>{this.$set(this.queryForm,"date",t)}}})]),t("div",{class:"filter-item group"},[t("span",{class:"label"},["选择项目组："]),t("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:this.queryForm.department_id,callback:t=>{this.$set(this.queryForm,"department_id",t)}}},[t("el-option",{key:"undefined-1",attrs:{label:"全部",value:void 0}}),this.departmentList.map((e=>t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})))])])]),t("div",{style:"background-color: #F6F6F6; height: 10px;"}),t("section",{class:"data-field"},[t("div",{style:"min-width: 1264px;"},[t("div",{class:"projects-data",directives:[{name:"loading",value:this.loading}]},[t(W.Z,{directives:[{name:"loading",value:this.loading}],attrs:{data:this.projectsData,department_id:this.queryForm.department_id,day_arr:this.queryForm.date},on:{selectChanged:this.onSelectChanged}})]),t("div",{style:"border-bottom: 1px dashed #d1d8e0; margin: 25px 0;"}),t("div",{class:"project-charts-row"},[t("div",{class:"project-title"},[t("span",{class:"project-label"},["当前分析项目："]),t("span",{class:"project-name"},[this.currentProject?this.currentProject.project_name:"--"])]),t("div",{class:"project-charts"},[t("div",{class:"project-sunburst"},[t("div",{class:"charts-title"},["流量构成"]),t(N,{class:"dashboard-chart",style:"height: 290px; margin-top: 16px;",attrs:{loading:this.sunBurstLoading||this.loading,series:this.sunBurstSeries},on:{selectParamClick:this.selectClick}})]),t("div",{class:"project-funnel"},[t("div",{class:"charts-title"},["成交漏斗"]),t(P,{style:"height: 322px;",directives:[{name:"loading",value:this.funnelLoading||this.loading}],attrs:{data:(this.funnelData??[]).map((t=>t.value))}})])])]),t("div",{class:"one-project-table"},[t("div",{class:"one-project-title"},["当日爆款"]),t("el-table",{class:"mgt-12",attrs:{border:!0,data:this.oneProjectData},directives:[{name:"loading",value:this.topGoodsLoading||this.loading}]},[this.oneProjectColumns.map(((e,a)=>t("el-table-column",n()([{},{props:{...e}},{key:a}])))),t("template",{slot:"empty"},[t("empty-common",{attrs:{"detial-text":"暂无数据"}})])])])])])])}}),Z=J,R=(0,k.Z)(Z,A,b,!1,null,"29220ed2",null),V=R.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-week"},[a("div",{staticStyle:{height:"130px"}},[a("div",{staticClass:"fixedselect"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"flex-form-item flex-form-item-time",attrs:{label:"选择周：",prop:"allocated_time","label-width":"78px"}},[a("el-date-picker",{staticStyle:{width:"284px"},attrs:{clearable:!1,type:"week","picker-options":{firstDayOfWeek:1},format:"yyyy第WW周("+t.start_time+"-"+t.end_time+")",placeholder:"选择周"},on:{change:t.selectDateChange},model:{value:t.weekdate,callback:function(e){t.weekdate=e},expression:"weekdate"}})],1),a("el-form-item",{staticClass:"flex-form-item flex-form-item-time",attrs:{label:"选择项目组：","label-width":"100px"}},[a("el-select",{staticStyle:{width:"186px"},attrs:{placeholder:"请选择项目组"},on:{change:t.selectGorund},model:{value:t.project_gound_id,callback:function(e){t.project_gound_id=e},expression:"project_gound_id"}},t._l(t.project_ground_list,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1)],1),a("div",{staticStyle:{width:"100%",height:"10px",background:"rgb(246, 246, 246)"}})],1)]),a("div",{staticClass:"week-div"},[a("div",{staticStyle:{"min-width":"1250px",width:"100%"}},[a("analyse-index",{attrs:{analyseType:1,selectDate:t.weekdate_str,projectGroundId:t.project_gound_id,projectGroundName:t.project_ground_name}}),a("div",{staticClass:"data-center-switch"},[a("div",{class:1==t.fixed?"fixed ":"center"},[a("el-button-group",[a("el-radio-group",{attrs:{size:"small"},on:{change:t.onSwitch},model:{value:t.selectIndex,callback:function(e){t.selectIndex=e},expression:"selectIndex"}},[a("el-radio-button",{attrs:{label:"0"}},[t._v("项目概览")]),a("el-radio-button",{attrs:{label:"1"}},[t._v("销售")]),a("el-radio-button",{attrs:{label:"2"}},[t._v("流量")]),a("el-radio-button",{attrs:{label:"3"}},[t._v("人群")]),a("el-radio-button",{attrs:{label:"4"}},[t._v("转化")]),a("el-radio-button",{attrs:{label:"5"}},[t._v("投放")])],1)],1),1==t.fixed?a("div",{staticStyle:{width:"100%",height:"10px",background:"rgb(246, 246, 246)","margin-top":"18px"}}):t._e()],1)]),a("div",[a(t.switchComponents[t.selectIndex],{tag:"component",style:{marginTop:1==t.fixed?"26px":"0px"},attrs:{analyseType:1,selectDate:t.weekdate_str,projectGroundId:t.project_gound_id}})],1)],1)])])},K=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"20px","min-width":"1200px"}},[a("div",{staticStyle:{display:"flex",height:"376px",padding:"0 18px",width:"100%",gap:"18px"}},[a("div",{staticStyle:{width:"30%","min-width":"490px",padding:"18px 24px 18px 24px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-bottom":"18px","margin-left":"0px"}},[t._v(" "+t._s("全部"===t.projectGroundName?"品牌中心":t.projectGroundName)+" ")]),null!==t.completion_rate_obj.total_gmv||null!==t.completion_rate_obj.total_gmv_incr_rate||null!==t.completion_rate_obj.total_goal_gmv||null!==t.completion_rate_obj.previous_total_gmv||null!==t.completion_rate_obj.completion_rate?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.echartsBurstLoading,expression:"echartsBurstLoading"}],staticStyle:{width:"450px",height:"300px",margin:"10px auto"}},[a("div",{staticStyle:{display:"flex","justify-content":"center",gap:"12px"}},[a("div",{staticStyle:{width:"250px",height:"100px"}},[a("div",{staticClass:"detaildiv"},[t._v("GMV")]),a("div",{staticClass:"titlediv",staticStyle:{"margin-bottom":"2px"}},[t._v(" "+t._s(null===t.completion_rate_obj.total_gmv||void 0===t.completion_rate_obj.total_gmv?"--":t.formatAmount((t.completion_rate_obj.total_gmv||0)/100))+" ")]),a("span",{staticClass:"detaildiv",staticStyle:{padding:"3px 0",height:"26px","border-radius":"4px","font-size":"12px"}},[t._v(" 环比"),t.completion_rate_obj.total_gmv_incr_rate>0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0 5px",color:"#f30220"}},[a("tg-icon",{staticStyle:{margin:"auto 1px",color:"#f30220","font-size":"14px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}}),t._v(t._s(t.completion_rate_obj.total_gmv_incr_rate)+"% ")],1):t.completion_rate_obj.total_gmv_incr_rate<0?a("span",{staticClass:"tgicon",staticStyle:{color:"#0fc97c","text-align":"left",padding:"0 5px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px","font-size":"14px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}}),t._v(t._s(Math.abs(t.completion_rate_obj.total_gmv_incr_rate))+"% ")],1):a("span",[t._v(" --")])])]),a("div",{staticStyle:{width:"170px",height:"62px",background:"#f8fafc","border-radius":"6px","margin-top":"12px",display:"flex","justify-content":"center","flex-direction":"column","padding-left":"12px"}},[a("div",{staticClass:"detaildiv",staticStyle:{"font-size":"12px","margin-top":"7px"}},[t._v("目标GMV")]),a("div",{staticClass:"detaildiv",staticStyle:{color:"#19232d","line-height":"28px","font-size":"16px"}},[t._v(" "+t._s(null===t.completion_rate_obj.total_goal_gmv||void 0===t.completion_rate_obj.total_goal_gmv?"--":t.formatAmount((t.completion_rate_obj.total_goal_gmv||0)/100))+" ")])])]),a("div",{staticStyle:{height:"190px","margin-top":"-14px"}},[a("div",{staticClass:"echarts-baifenbi"},[a("div",{ref:"tagetdeg",staticClass:"zhizhen"}),a("div",{staticClass:"title"},[t._v(" "+t._s(null===t.completion_rate_obj.completion_rate||void 0===t.completion_rate_obj.completion_rate?"--":t.completion_rate_obj.completion_rate+"%")+" ")])])])]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.echartsBurstLoading,expression:"echartsBurstLoading"}],staticStyle:{width:"400px",height:"320px","padding-top":"100px",margin:"10px auto"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.echartsBurstLoading,expression:"echartsBurstLoading"}],staticStyle:{flex:"1",height:"100%",padding:"18px 0px 18px 24px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("div",{staticClass:"echartTitle"},[t._v("完成明细")]),t.completion_rate_daily.length>0?a("div",{staticStyle:{height:"260px","overflow-y":"auto","overflow-x":"hidden","margin-top":"24px",padding:"0"}},t._l(t.completion_rate_daily,(function(e){return a("div",{key:e.name,staticStyle:{"margin-bottom":"16px",height:"60px"}},[a("div",{staticStyle:{display:"flex",height:"32px","line-height":"32px"}},[a("tg-textPopover",{staticStyle:{color:"#343f4c",width:"88px","margin-right":"12px","text-align":"right","line-height":"32px"},attrs:{text:e.name,maxWidth:90}}),a("el-popover",{staticStyle:{flex:"1"},attrs:{placement:"bottom-end",title:e.name,trigger:"hover"}},[a("div",[a("div",{staticStyle:{color:"#606974"}},[a("div",{staticStyle:{height:"32px","line-height":"32px"}},[t._v(" GMV："),a("span",{staticStyle:{color:"#19232d"}},[t._v(t._s(t.formatAmount((e.total_gmv||0)/100)))])]),a("div",{staticStyle:{height:"32px","line-height":"32px"}},[t._v(" 目标GMV："),a("span",{staticStyle:{color:"#19232d"}},[t._v(t._s(t.formatAmount((e.total_goal_gmv||0)/100)))])]),a("div",{staticStyle:{height:"32px","line-height":"32px"}},[t._v(" 完成度："),a("span",{staticStyle:{color:"#19232d"}},[t._v(t._s(null!==e.completion_rate?e.completion_rate+"%":"--"))])])])]),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"progressdiv"},[a("div",{staticStyle:{position:"absolute",left:"0px",background:"#2877ff",width:"118px",height:"16px","margin-top":"10px","border-radius":"3px"},style:{width:100*Number(e.total_gmv)/Number(t.getNewGoal(e.total_gmv,e.total_goal_gmv))+"%"}}),a("div",{staticStyle:{position:"absolute",left:"250px",width:"3px",height:"24px","border-radius":"2px","background-color":"#f30220","margin-top":"6px"},style:{left:100*Number(e.total_goal_gmv)/Number(t.getNewGoal(e.total_gmv,e.total_goal_gmv))+"%"}})])])]),a("div",{staticStyle:{"margin-left":"12px",width:"80px","text-align":"left"},style:{color:(e.completion_rate||0)>100?"#4FCA50":(e.completion_rate||0)>40?"#FF8C00":null!==e.completion_rate?"#F73838":""}},[t._v(" "+t._s(null!==e.completion_rate?e.completion_rate+"%":"--")+" ")])],1),a("div",{staticStyle:{"margin-left":"100px","margin-right":"92px",display:"flex","justify-content":"space-between"}},t._l(t.getGoalList(e.total_gmv,e.total_goal_gmv),(function(t,e){return a("div",{key:e+"span",staticStyle:{width:"1px",height:"10px","text-align":"center",background:"#4d343f4c"}})})),0),a("div",{staticStyle:{"margin-left":"60px","margin-right":"50px",display:"flex","justify-content":"space-between"}},t._l(t.getGoalList(e.total_gmv,e.total_goal_gmv),(function(e,i){return a("div",{key:i+"div",staticStyle:{width:"80px","text-align":"center",color:"#6a7b92","line-height":"20px","font-size":"12px"}},[t._v(" "+t._s(e||0)+" ")])})),0)])})),0):a("div",{staticStyle:{height:"260px","overflow-y":"auto","overflow-x":"hidden","margin-top":"106px",padding:"0"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("div",{staticStyle:{display:"flex",height:"388px",border:"1px solid #d1d8e0","border-radius":"4px",margin:"18px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.sunBurstLoading,expression:"sunBurstLoading"}],staticStyle:{width:"450px",padding:"18px 12px 18px 24px"}},[a("div",{staticClass:"echartTitle"},[t._v("GMV构成")]),0===t.projectGroundId&&t.osunBurstData&&t.osunBurstData.length>0?a("div",{staticStyle:{width:"390px",height:"320px",margin:"0 auto","margin-top":"30px",display:"flex"}},[a("div",{staticStyle:{width:"290px",height:"300px",position:"relative"}},[a("sunburst",{staticStyle:{height:"290px",width:"290px",position:"absolute"},attrs:{itemName:"GMV",series:{data:t.osunBurstData,children:t.osunBurstChildrenData}},on:{selectParamClick:t.selectClick}}),a("div",{staticStyle:{background:"transparent",width:"90px",height:"90px","border-radius":"100px",position:"absolute",cursor:"pointer","margin-top":"100px","margin-left":"100px","z-index":"3"},on:{click:t.onClickAllColor}})],1),t.selectosunBurstData.length>0?a("div",{staticClass:"el-props"},[a("div",{staticStyle:{"padding-left":"5px",width:"100%","text-align":"left",height:"230px",overflow:"hidden"}},t._l(t.selectosunBurstData,(function(e,i){return a("div",{key:e.name},[i<t.select_show_index*t.select_show_size&&i>=(t.select_show_index-1)*t.select_show_size?a("div",{staticStyle:{width:"100%",height:"14px","line-height":"14px",display:"flex","justify-content":"flex-start","margin-bottom":"12px"}},[a("span",{staticStyle:{display:"inline-block",width:"12px",height:"12px","margin-top":"1px","border-radius":"2px"},style:{background:e.itemStyle.color}}),a("tg-textPopover",{staticStyle:{"margin-left":"6px",color:"#343f4c","font-size":"12px","max-width":"90px"},attrs:{text:e.name,maxWidth:90}})],1):t._e()])})),0),t.selectosunBurstData.length>t.select_show_size?a("div",{staticStyle:{display:"flex"}},[a("i",{staticClass:"el-icon-caret-left sort-icon",class:1===t.select_show_index?"disable":"",on:{click:function(){t.select_show_index=1===t.select_show_index?1:t.select_show_index-1}}}),a("span",{staticStyle:{padding:"0 4px"}},[t._v(t._s(t.select_show_index)+"/"+t._s(t.get_total_num()))]),a("i",{staticClass:"el-icon-caret-right sort-icon",class:t.select_show_index===t.get_total_num()?"disable":"",on:{click:function(){t.select_show_index=t.select_show_index<t.get_total_num()?t.select_show_index+1:t.select_show_index}}})]):t._e()]):t._e()]):0!==t.projectGroundId&&t.piearr&&t.piearr.length>0?a("div",{staticStyle:{width:"400px",height:"300px",margin:"auto","margin-top":"30px",display:"flex"}},[a("div",{staticStyle:{width:"300px",height:"320px"}},[a("BaseEcharts",{staticStyle:{width:"290px",height:"290px"},attrs:{options:t.pieOption},on:{selectClick:t.selectClick}})],1),t.selectosunBurstData.length>0?a("div",{staticClass:"el-props"},[a("div",{staticStyle:{"padding-left":"5px",width:"100%","text-align":"left",height:"230px",overflow:"hidden"}},t._l(t.selectosunBurstData,(function(e,i){return a("div",{key:e.name},[i<t.select_show_index*t.select_show_size&&i>=(t.select_show_index-1)*t.select_show_size?a("div",{staticStyle:{width:"100%",height:"14px","line-height":"14px",display:"flex","justify-content":"flex-start","margin-bottom":"12px"}},[a("span",{staticStyle:{display:"inline-block",width:"12px",height:"12px","margin-top":"1px","border-radius":"2px"},style:{background:e.itemStyle.color}}),a("tg-textPopover",{staticStyle:{"margin-left":"6px",color:"#343f4c","font-size":"12px","max-width":"90px"},attrs:{text:e.name,maxWidth:90}})],1):t._e()])})),0),t.selectosunBurstData.length>t.select_show_size?a("div",{staticStyle:{display:"flex"}},[a("i",{staticClass:"el-icon-caret-left sort-icon",class:1===t.select_show_index?"disable":"",on:{click:function(){t.select_show_index=1===t.select_show_index?1:t.select_show_index-1}}}),a("span",{staticStyle:{padding:"0 4px"}},[t._v(t._s(t.select_show_index)+"/"+t._s(t.get_total_num()))]),a("i",{staticClass:"el-icon-caret-right sort-icon",class:t.select_show_index===t.get_total_num()?"disable":"",on:{click:function(){t.select_show_index=t.select_show_index<t.get_total_num()?t.select_show_index+1:t.select_show_index}}})]):t._e()]):t._e()]):a("div",{staticStyle:{width:"200px",margin:"0 auto",height:"320px","padding-top":"100px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{flex:"1",height:"100%"}},[a("div",{staticStyle:{height:"381px",width:"100%",padding:"18px 24px 18px 24px"}},[a("div",{staticClass:"echartTitle"},[t._v(" "+t._s(t.selectOneProjectGroundName||("全部"===t.projectGroundName?"品牌中心":t.projectGroundName))+" GMV"+t._s(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"趋势 ")]),t.baseOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"320px","padding-left":"0px","padding-right":"0px","margin-right":"0px","margin-left":"0px","margin-top":"10px"}},[a("BaseEcharts",{attrs:{options:t.baseOptions}})],1)]):a("div",{staticStyle:{width:"100%",height:"320px","padding-top":"100px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])])])])},X=[],q=a(32635),$=a(60492);const tt=(t,e)=>{if(e||(e=t),t>e&&(e=t),!t&&!e)return 1e4;let a=String((1.2*e).toFixed(0));if(a.length>7){const t=Number(a.substr(0,3)),e=(t+1)*Math.pow(10,Number(a.length-3));return e}{a=Number(a||0)<1e4?"10000":a;const t=Number(a.substr(0,2));return(t+1)*Math.pow(10,Number(a.length-2))}};var et=(0,i.defineComponent)({props:{analyseType:{type:Number,default:1},selectDate:{type:String,default:""},projectGroundId:{type:Number,default:0},projectGroundName:{type:String,default:"品牌中心"}},components:{sunburst:q.Z,BaseEcharts:C.Z},setup(t,e){const a=(0,i.ref)([]),o=(0,i.ref)(void 0),l=(0,i.ref)(void 0),n=(0,i.ref)({}),r=(0,i.ref)({}),u=(0,i.ref)(0),m=(0,i.ref)(!1),_=async()=>{const a=h()(t.selectDate),i="yyyy-MM-DD",o=1===t.analyseType?"w":2===t.analyseType?"M":"y",l=a.startOf(o).format(i),s=a.endOf(o).format(i);m.value=!0;const[p]=await(0,c.Dc)(500,(0,d.nq)({start_date:l,end_date:s,third_department_id:0!==t.projectGroundId?t.projectGroundId:void 0}));m.value=!1,p.data.success?(n.value=p.data.data.total||{},u.value=n.value.completion_rate||0,Q(),r.value=p.data.data.child||[]):(n.value={},u.value=0,r.value=[],e.root.$message.error(p.data.message||"数据获取失败"))};_();const v=(0,i.ref)([]),f=(0,i.ref)({tooltip:{trigger:"item",formatter(t){const e=t.data,a=e.name;let i=0;if(v.value.forEach((t=>{const e=t.value||0;i+=e})),!a||!i)return;const o=new(g())(e.value??0).mul(new(g())(1e4)).div(new(g())(i)).toFixed(2),l=`\n            <div style="font-size: 12px; line-height: 16px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">${a}：</span><span style="font-weight: 400; color: #19232D;">¥ ${(0,p.dN)(e.value,"None")}</span>\n            </div>\n            <div style="font-size: 12px; line-height: 16px; margin-top: 12px;">\n              <span style="display: inline-block; font-weight: 400; color: #606974;">占比：</span><span style="font-weight: 400; color: #19232D;">${o||0}%</span>\n            </div>\n            `;return`\n            <div style="margin: 8px; text-align: left;">\n              <div style="color: #19232D; font-weight: 400; line-height: 18px;">${a||"--"}</div>\n              <div style="margin-top: 18px;">\n                ${l}\n              </div>\n            </div>\n          `}},legend:{show:!1,itemGap:20,width:100,itemWidth:20,top:10,left:400},series:[{name:"Access From",type:"pie",selectedMode:"single",radius:["68","86%"],label:{show:!1,minAngle:8,width:50,overflow:"truncate",position:"inside",formatter:t=>{const e=t.data,a=e.name;let i=0;if((v.value||[]).map((t=>{i=(t.value||0)+i})),!a||!i)return"";const o=new(g())(e.value||0).mul(new(g())(100)).div(new(g())(i/100)).toFixed(2);return Number(o)>5?t.data.name:""}},data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}),x=(0,i.ref)([]),y=(0,i.ref)([]),w=(0,i.ref)([]),A=(0,i.ref)(!1),b=t=>t?+new(g())(t).div(new(g())(100)).toNumber().toFixed(2):t,C=async()=>{A.value=!0;const i=h()(t.selectDate),o="yyyy-MM-DD",l=1===t.analyseType?"w":2===t.analyseType?"M":"y",n=i.startOf(l).format(o),r=i.endOf(l).format(o);if(0===t.projectGroundId){const[t]=await(0,c.Dc)(500,(0,d.GZ)({start_date:n,end_date:r}));A.value=!1,t.data.success?(x.value=t.data.data||[],w.value=[],a.value=[],y.value=(x.value||[]).filter((t=>t.children?.find((t=>(t.value||0)>0)))).map(((t,e)=>{let a=0;return(t.children||[]).map((t=>{const e=(t.value||0)<0?0:t.value;a+=e})),{name:t.department_name,itemStyle:{color:s.YJ[e]?.color},value:b(a)}})),(x.value||[]).filter((t=>t.children?.find((t=>(t.value||0)>0)))).map(((t,e)=>{(t.children||[]).map(((t,a)=>{(t.value||0)>0&&w.value.push({name:t.project_name,itemStyle:{color:s.YJ[e]?.children[a]},value:b(t.value)})}))})),a.value=y.value):(x.value=[],y.value=[],w.value=[],e.root.$message.error(t.data.message||"数据获取失败"))}else{const[i]=await(0,c.Dc)(500,(0,d.Yi)({start_date:n,end_date:r,third_department_id:t.projectGroundId}));A.value=!1,i.data.success?(v.value=i.data.data,f.value.series[0].data=(v.value||[]).map(((t,e)=>({name:t.project_name,itemStyle:{color:s.DS[e]},value:b(t.value)}))),a.value=f.value.series[0].data):(f.value.series[0].data=[],v.value=[],e.root.$message.error(i.data.message||"数据获取失败"))}};C();const S=e=>{if(P.value=1,0===t.projectGroundId){const t=(0,i.ref)(void 0),n=(0,i.ref)(0),r=(x.value||[]).filter((t=>t.children?.find((t=>(t.value||0)>0)))).find(((a,i)=>(a.children.map((a=>{a.project_name===e.data.name&&(t.value=a,n.value=i)})),a.department_name===e.data.name&&(n.value=i),a.department_name===e.data.name)));r?(a.value=[],(r.children||[]).map(((t,e)=>{(t.value||0)>0&&a.value.push({name:t.project_name,itemStyle:{color:s.YJ[n.value]?.children[e]},value:b(t.value)})})),o.value=r.department_id||void 0,l.value=r.department_name||void 0,D()):(a.value=[],a.value=[e.data],o.value=t.value?t.value.project_id:void 0,l.value=t.value.project_name||void 0,D(!1))}else{const t=(v.value||[]).find((t=>t.project_name===e.data.name));t&&(o.value=t.project_id||void 0,l.value=t.project_name||void 0,D(!1))}},B=(0,i.ref)(["周一","周二","周三","周四","周五","周六","周日"]),F=(0,i.ref)([]),k=(0,i.ref)({dataZoom:2===t.analyseType?[{type:"slider",show:!0,start:0,end:50,xAxisIndex:[0],minValueSpan:8,height:18,bottom:10,textStyle:{show:!1,color:"white"},showDataShadow:!1}]:[],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){let a,i,o,l="";if(1===t.analyseType){const t=B.value.findIndex((t=>t===e[0].axisValue)),a=F.value[t]||"";l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue} (${a})</div>`}else if(2===t.analyseType){const a=h()(t.selectDate),i="M",o=a.startOf(i).format("MM"),n=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${o}月${n}</div>`}else if(3===t.analyseType){const a=h()(t.selectDate),i=a.startOf("M").format("YYYY"),o=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${i}月${o}</div>`}for(let t=0;t<e.length;t++)i=e[t].color,a=e[t].seriesName,o=e[t].data,t===e.length-1?l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(o||0),"None")+"% </div></div>":l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;">  ¥ '+(0,p.dN)(Number(o||0),"None")+"</div></div>";return l},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:80,top:12,type:"scroll",width:700,itemGap:20,itemWidth:20},grid:{left:48,right:58,bottom:2===t.analyseType?60:30,containLabel:!1},xAxis:{type:"category",data:B.value,axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"单位：元",axisPointer:{type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,42,15,0]},axisLabel:{formatter(t){return j.value===$.r.wan&&t?parseInt(t,10)/1e4:t}}},{type:"value",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},axisLine:{show:!1},axisLabel:{formatter:"{value}%"}}],series:[]}),j=(0,i.ref)($.r.yuan),N=(0,i.ref)(!1),D=(a=!0)=>{N.value=!0;const l=h()(t.selectDate),n="yyyy-MM-DD",s=1===t.analyseType?"w":2===t.analyseType?"M":"y",r=l.startOf(s).format(n),c=l.endOf(s).format(n);if(2===t.analyseType){const t=(0,i.ref)([]),e=l.endOf(s).format("DD");for(let a=1;a<=Number(e);a++)t.value.push(a+"日");k.value.xAxis.data=t,B.value=t}else 1===t.analyseType?(k.value.xAxis.data=["周一","周二","周三","周四","周五","周六","周日"],B.value=["周一","周二","周三","周四","周五","周六","周日"]):(B.value=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],k.value.xAxis.data=B.value);(0,d.qc)({start_date:r,end_date:c,group_by:3===t.analyseType?"month":void 0,third_department_id:a?0!==t.projectGroundId?t.projectGroundId:o.value:void 0,project_id:!1===a?o.value:void 0},a).then((({data:t})=>{if(N.value=!1,t.success){const e=(0,i.ref)([]),a=(0,i.ref)([]),o=(0,i.ref)([]),l=t.data.datas;l.forEach((t=>{const i=t.gmv||0,l=t.goal_gmv||0,n=Number(i)>1e6||Number(l)>1e6;n&&(j.value=$.r.wan),e.value.push(t.completion_rate||0===t.completion_rate?Number(t.completion_rate||"0"):0);const s=t.gmv||0===t.gmv?t.gmv/100:0,r=t.goal_gmv||0===t.goal_gmv?t.goal_gmv/100:0;a.value.push(s),o.value.push(r)}));const n=[{name:"完成GMV",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#2877FF",data:a.value,itemStyle:{barBorderRadius:3}},{name:"目标GMV",type:"bar",barMaxWidth:"20",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#4FCA50",data:o.value,itemStyle:{barBorderRadius:3}},{name:"目标完成率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:e.value}];k.value.yAxis[0].name="单位："+j.value;const s=l.filter((t=>null!==t.completion_rate||null!==t.gmv||null!==t.goal_gmv));k.value.series=s.length<1?[]:n,F.value=t.data.dates}else j.value=$.r.yuan,k.value.yAxis[0].name="单位："+j.value,k.value.series=[],e.root.$message.error(t.message||"数据获取失败")}))};D(),(0,i.watch)((()=>[t.selectDate]),(()=>{P.value=1,x.value=[],y.value=[],w.value=[],k.value.series=[],v.value=[],f.value.series[0].data=[],a.value=[],_(),C(),o.value?D(!1):D()})),(0,i.watch)((()=>[t.projectGroundId,t.projectGroundName]),(()=>{P.value=1,x.value=[],y.value=[],w.value=[],v.value=[],f.value.series[0].data=[],k.value.series=[],a.value=[],o.value=void 0,l.value=void 0,_(),C(),D()}));const I=(t,e)=>{const a=Number(tt(t,e));return[0,a>1e8?(0,p.dN)(Number(a/5e6).toFixed(0),"None",!0)+"w":(0,p.dN)(Number(a/500).toFixed(0),"None",!0),a>1e8?(0,p.dN)(Number(2*a/5e6).toFixed(0),"None",!0)+"w":(0,p.dN)(Number(2*a/500).toFixed(0),"None",!0),a>1e8?(0,p.dN)(Number(3*a/5e6).toFixed(0),"None",!0)+"w":(0,p.dN)(Number(3*a/500).toFixed(0),"None",!0),a>1e8?(0,p.dN)(Number(4*a/5e6).toFixed(0),"None",!0)+"w":(0,p.dN)(Number(4*a/500).toFixed(0),"None",!0),a>1e8?(0,p.dN)(Number(a/1e6).toFixed(0),"None",!0)+"w":(0,p.dN)(Number(a/100).toFixed(0),"None",!0)]},E=(0,i.ref)(),T=(0,i.ref)(),G=(0,i.ref)(void 0),M=(0,i.ref)(0),L=(0,i.ref)(0),Q=()=>{E.value&&clearInterval(E.value),T.value&&clearInterval(T.value),M.value=0,L.value=0,E.value=setInterval(O,10),T.value=setInterval(Y,10)},O=()=>{const t=G.value;if(t){const e=M.value;if(t.style.transform=`rotate(${e}deg)`,t.style.transformOrigin="120px 6px",Number(u.value||0)<=0)return void clearInterval(E.value);M.value=e+1;const a=180*Number(u.value||0)/120,i=[];let o=a;for(let t=1;t<=24;t++)if(i.push(7.5*t),a<7.5*t){o=7.5*(t-1),a>7.5*(t-1)+4&&(o=7.5*t);break}o>=180&&(o=183),(M.value>=o+1||M.value>184)&&clearInterval(E.value)}},Y=()=>{if(L.value>=Number(u.value||0)-1&&L.value<=Number(u.value||0)||L.value>200)return L.value=Number(u.value||0),void clearInterval(T.value);L.value=L.value+1},z=()=>{a.value=y.value},P=(0,i.ref)(1),W=(0,i.ref)(9),J=()=>{const t=a.value.length,e=Number((t/W.value).toFixed(0)||0);return e*W.value>=a.value.length?e:e+1};return{select_show_size:W,select_show_index:P,get_total_num:J,onClickAllColor:z,selectOneProjectGroundName:l,completion_rate_daily:r,completion_rate_obj:n,targetIndex:L,tagetdeg:G,parentClick:Q,funTarget:O,funTargetIndex:Y,getNewGoal:tt,getGoalList:I,pieOption:f,selectClick:S,baseOptions:k,sunBurstData:x,osunBurstData:y,sunBurstLoading:A,trendLoading:N,formatAmount:p.dN,piearr:v,echartsBurstLoading:m,osunBurstChildrenData:w,selectosunBurstData:a}}}),at=et,it=(0,k.Z)(at,U,X,!1,null,"13c33c60",null),ot=it.exports,lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"tg-datacenter-shoplive-general"},[t._l(t.projectList,(function(e,o){return i("div",{key:o,staticClass:"general-item"},[i("div",{staticClass:"department-name"},[i("div",[t._v(t._s(e.department_name?e.department_name:"--"))]),i("div",{staticClass:"depart-name-line"})]),t._l(e.projects?e.projects:[],(function(e,o){return i("section",{key:o,staticClass:"department-projects"},[i("div",{staticClass:"project-desc-info",class:""+e.live_status==="0"?"live":""},[i("div",{staticClass:"project-icon-container",on:{click:function(a){return t.gotoClick(e)}}},[i("el-image",{staticClass:"project-icon",attrs:{src:e.shop_logo}},[i("div",{staticClass:"project-icon-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("img",{attrs:{src:a(23818),alt:""}})]),i("div",{staticClass:"project-icon-slot",attrs:{slot:"error"},slot:"error"},[i("img",{attrs:{src:a(23818),alt:""}})])]),i("div",{staticClass:"project-icon-container-animation"}),i("div",{staticClass:"live-tag"},[t._v("直播中")])],1),i("div",{staticClass:"project-name",on:{click:function(a){return t.gotoClick(e)}}},[t._v(" "+t._s(e.project_name?e.project_name:"--")+" ")])]),i("el-progress",{staticClass:"project-rate",class:t.progressTextColorClass(e.gmv_completion_rate),attrs:{percentage:e.gmv_completion_rate?e.gmv_completion_rate>100?100:e.gmv_completion_rate:0,"stroke-width":10,color:"#2877FF",format:function(){return t.progressTextFormat(e.gmv_completion_rate)}}}),i("div",{staticClass:"live-info"},[i("div",{staticClass:"live-info-item"},[i("div",{staticClass:"label top"},[t._v("开播场次")]),i("div",{staticClass:"value"},[t._v(" "+t._s(null!==e.live_count&&void 0!==e.live_count?t.formatAmount(e.live_count,"None",!0):"--")+" ")]),i("div",{staticClass:"label bottom"},[t._v("直播时长")]),i("div",{staticClass:"value"},[t._v(" "+t._s(t.transformSecond(e.live_duration))+" ")])]),i("div",{staticClass:"live-info-item"},[i("div",{staticClass:"label top"},[t._v("成交金额（元）")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.gmv&&null!==e.gmv?t.formatAmount(e.gmv/100,"None"):"--")+" ")]),i("div",{staticClass:"label bottom"},[t._v("成交订单")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.pay_order_cnt&&null!==e.pay_order_cnt?t.formatAmount(e.pay_order_cnt,"None",!0):"--")+" ")])]),i("div",{staticClass:"live-info-item"},[i("div",{staticClass:"label top"},[t._v("观看人数")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.watch_ucnt&&null!==e.watch_ucnt?t.formatAmount(e.watch_ucnt,"None",!0):"--")+" ")]),i("div",{staticClass:"label bottom"},[t._v("人均观看时长")]),i("div",{staticClass:"value"},[t._v(" "+t._s(t.transformSecond(e.avg_watch_duration))+" ")])]),i("div",{staticClass:"live-info-item"},[i("div",{staticClass:"label top"},[t._v("新增粉丝数量")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.new_fans_count&&null!==e.new_fans_count?t.formatAmount(e.new_fans_count,"None",!0):"--")+" ")]),i("div",{staticClass:"label bottom"},[t._v("涨粉率")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.incr_fans_ratio&&null!==e.incr_fans_ratio?e.incr_fans_ratio+"%":"--")+" ")])]),i("div",{staticClass:"live-info-item"},[i("div",{staticClass:"label top"},[t._v("曝光-进入率")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.watch_cnt_show_ratio&&null!==e.watch_cnt_show_ratio?e.watch_cnt_show_ratio+"%":"--")+" ")]),i("div",{staticClass:"label bottom"},[t._v("观看-付款率")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.watch_pay_ucnt_ratio&&null!==e.watch_pay_ucnt_ratio?e.watch_pay_ucnt_ratio+"%":"--")+" ")])]),i("div",{staticClass:"live-info-item"},[i("div",{staticClass:"label top"},[t._v("投放金额")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.ad_cost&&null!==e.ad_cost?t.formatAmount(e.ad_cost,"None"):"--")+" ")]),i("div",{staticClass:"label bottom"},[t._v("ROI")]),i("div",{staticClass:"value"},[t._v(" "+t._s(void 0!==e.roi&&null!==e.roi?e.roi:"--")+" ")])])])],1)}))],2)})),0===t.projectList.length?i("div",{staticClass:"empty"},[i("empty-common",{attrs:{"detial-text":"暂无数据"}})],1):t._e()],2)},nt=[],st=(0,i.defineComponent)({name:"generalIndex",components:{BaseEcharts:C.Z},props:{analyseType:{type:Number,default:1},selectDate:{type:String,default:""},projectGroundId:{type:Number,default:0}},setup(t,e){const a=(0,i.ref)([]),o=(0,i.ref)(!1),l={async queryDepartmentProjectStatistics(){const e=h()(t.selectDate),i="yyyy-MM-DD",l=1===t.analyseType?"w":"M",n=e.startOf(l).format(i),s=e.endOf(l).format(i);o.value=!0;const[d]=await(0,c.Dc)(500,(0,r.Zn)({third_department_id:0!==t.projectGroundId?t.projectGroundId:void 0,start_date:n,end_date:s}));o.value=!1,d.data.success&&(a.value=d.data.data??[])},progressTextFormat(t){return t?`${t}%`:"0%"},progressTextColorClass(t){const e=t||0;return e<40?"low":e<100?"medium":"high"},formatAmount:p.dN,transformSecond:p.Kf};(0,i.onMounted)((()=>{l.queryDepartmentProjectStatistics()})),(0,i.watch)((()=>[t.selectDate,t.projectGroundId]),(()=>{l.queryDepartmentProjectStatistics()}));const n=t=>{const a=e.root.$router,i=a.resolve({path:"/datacenter/projectDetail/"+t.project_id,query:{project_name:t.project_name}});window.open(i.href,"_blank")};return{gotoClick:n,loading:o,projectList:a,...l}}}),rt=st,dt=(0,k.Z)(rt,lt,nt,!1,null,"69ee29f0",null),ct=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"0 18px 12px 18px"}},[a("div",{staticStyle:{"margin-bottom":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"404px",width:"100%","padding-top":"0px"}},[a("div",{staticStyle:{height:"404px",padding:"24px 12px 12px 0","margin-right":"0px","margin-left":"0px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"24px"}},[t._v("GMV订单对比趋势")]),t.baseOptions.series.length>0?a("div",[a("BaseEcharts",{staticStyle:{height:"330px"},attrs:{options:t.baseOptions}})],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"340px",padding:"120px 12px 12px 0","margin-right":"0px","margin-left":"0px","margin-top":"0px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}],ref:"singleTable",staticClass:"table-div",attrs:{"highlight-current-row":"",border:"",data:t.list,"default-sort":{prop:"gmv_completion_rate",order:"descending"}},on:{"cell-click":function(e){return t.onViewBtnClick(e)}},scopedSlots:t._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})]},proxy:!0}])},[a("el-table-column",{attrs:{prop:"project_name",label:"项目",align:"left","min-width":"100px","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"two"},[a("span",{staticClass:"left"},[t._v(t._s(e.row.project_name||"--"))])])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"department_name",label:"所属项目组","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"two"},[a("span",{staticClass:"left"},[t._v(" "+t._s(e.row.department_name||"--")+" ")])])]}}])}),a("el-table-column",{attrs:{prop:"goal_gmv",label:"目标GMV (元)",align:"right","min-width":"120px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.goal_gmv?t.formatAmount((Number(e.row.goal_gmv||0)/100).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"gmv",label:"完成GMV (元)",align:"right","min-width":"140px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.gmv?t.formatAmount(Number(e.row.gmv||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"gmv_completion_rate",label:"完成率",align:"right","min-width":"90px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"two",staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.gmv_completion_rate?e.row.gmv_completion_rate+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"distance_to_goal_gmv",label:"差额 (元)",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"two"},[e.row.distance_to_goal_gmv?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"},style:{color:e.row.distance_to_goal_gmv>0?"#f30220":""}},[t._v(t._s(null!==e.row.distance_to_goal_gmv?t.formatAmount(Number(e.row.distance_to_goal_gmv||0)/100,"None"):"--")+" ")]):a("span",[t._v("--")])])]}}])}),a("el-table-column",{attrs:{prop:"gmv_incr_rate",label:"GMV环比",align:"right","min-width":"100px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"two huanbi"},[e.row.gmv_incr_rate>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.gmv_incr_rate<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.gmv_incr_rate?t.formatAmount(Math.abs(e.row.gmv_incr_rate),"None")+"%":"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"current_week_daily_gmv",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"日均GMV (元)",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.current_week_daily_gmv?t.formatAmount(Number(e.row.current_week_daily_gmv||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"last_week_daily_gmv",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"日均GMV (元)",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.last_week_daily_gmv?t.formatAmount(Number(e.row.last_week_daily_gmv||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"daily_gmv_incr_rate",label:"日均增长",align:"right","min-width":"120px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"two",staticStyle:{"padding-right":"12px"}},[e.row.daily_gmv_incr_rate?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"},style:{color:e.row.daily_gmv_incr_rate<0?"#f30220":""}},[t._v(t._s(null!==e.row.daily_gmv_incr_rate?t.formatAmount(Number(e.row.daily_gmv_incr_rate||0),"None")+"%":"--")+" ")]):a("span",[t._v("--")])])]}}])})],1),a("div",{staticStyle:{flex:"1","margin-top":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{height:"356px",width:"100%","padding-top":"0px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-bottom":"18px"}},[a("span",{staticStyle:{color:"#6a7b92","font-weight":"400"}},[t._v("当前分析项目：")]),t._v(t._s(t.project_name||"--")+" ")]),t.baseProjectOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"320px",border:"1px solid #d1d8e0","border-radius":"4px",padding:"8px 12px 18px 0px"}},[a("BaseEcharts",{attrs:{options:t.baseProjectOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"padding-top":"100px",height:"320px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("tg-card",{staticClass:"flex-auto",staticStyle:{"margin-top":"24px"},attrs:{padding:0}},[a("div",{ref:"imageTofile",staticClass:"main-table"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main-item",class:0===t.lastData.length&&0===t.lastLastData.length?"isnodata":""},[a("h3",{staticClass:"main-item-title"},[t._v(" "+t._s(1===t.analyseType?"第"+t.lastLastWeekNum+"周":"第"+t.lastLastWeekNum+"月")+"TOP ")]),a("Table",{attrs:{list:t.lastLastData,"row-style":t.rowColors}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main-item last-week",class:0===t.lastData.length&&0===t.lastLastData.length?"isnodata":"",staticStyle:{"padding-right":"2px"}},[a("h3",{staticClass:"main-item-title"},[t._v(" "+t._s(1===t.analyseType?"第"+t.lastWeekNum+"周":"第"+t.lastWeekNum+"月")+"TOP ")]),a("Table",{attrs:{list:t.lastData,"row-style":t.rowColors,rank:!0}})],1)])])],1)},ut=[],gt=a(88520);const mt=["#fdf9df","#e9f9fc","#f0f8f3","#eff3fd","#fef3e7","#fef0fb","#e5fdf3","#deedff","#f5f4da","#fee2e2"];var ht,_t,vt=(0,i.defineComponent)({name:"sellIndex",props:{analyseType:{type:Number,default:1},selectDate:{type:String,default:""},projectGroundId:{type:Number,default:0}},components:{BaseEcharts:C.Z,Table:gt.Z},setup(t,e){const a=(0,i.ref)(null),o=(0,i.ref)(0),l=(0,i.ref)(""),n=(0,i.ref)([]),s=(0,i.ref)([]),u=(0,i.ref)({dataZoom:[{type:"slider",show:!0,start:0,end:80,xAxisIndex:[0],minValueSpan:8,height:18,bottom:10,textStyle:{show:!1,color:"white"},showDataShadow:!1}],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(t){let e,a,i,o=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t[0].axisValue}</div>`;for(let l=0;l<t.length;l++)a=t[l].color,e=t[l].seriesName,i=t[l].data,l===t.length-1||l===t.length-2?o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;"> '+Number(i||0)+" </div></div>":o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;">  ¥ '+(0,p.dN)(Number(i||0),"None")+"</div></div>";return o},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:68,bottom:60,containLabel:!1},xAxis:{type:"category",data:[],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92",formatter(t){return s.value.length>10&&t.length>3?t.slice(0,3)+"...":s.value.length>6&&t.length>4?t.slice(0,4)+"...":t}}},yAxis:[{type:"value",name:"GMV：元",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,30,12,6]},axisLabel:{formatter(t){return v.value===$.r.wan&&t?parseInt(t,10)/1e4:t}}},{type:"value",name:"订单数",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{type:"line",show:!1},axisLine:{show:!1},axisLabel:{formatter:"{value}"},nameTextStyle:{padding:[0,0,12,40]}}],series:[]}),g=(0,i.ref)(["周一","周二","周三","周四","周五","周六","周日"]),m=(0,i.ref)([]),_=(0,i.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){let a,i,o,l="";if(1===t.analyseType){const t=g.value.findIndex((t=>t===e[0].axisValue)),a=m.value[t]||"";l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue} (${a})</div>`}else{const a=h()(t.selectDate),i=1===t.analyseType?"w":"M",o=a.startOf(i).format("MM"),n=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${o}月${n}</div>`}for(let t=0;t<e.length;t++)i=e[t].color,a=e[t].seriesName,o=e[t].data,t===e.length-1?l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(o||0),"None")+"% </div></div>":l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;">  ¥ '+(0,p.dN)(Number(o||0),"None")+"</div></div>";return l},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:24,containLabel:!1},xAxis:{type:"category",data:g.value,axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"单位：元",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,24,12,0]},axisLabel:{formatter(t){return f.value===$.r.wan&&t?parseInt(t,10)/1e4:t}}},{type:"value",name:"目标完成率",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{type:"line",show:!1},axisLine:{show:!1},axisLabel:{formatter:"{value}%"},nameTextStyle:{padding:[0,6,12,20]}}],series:[]}),v=(0,i.ref)($.r.yuan),f=(0,i.ref)($.r.yuan),x=(0,i.ref)(!1),y=(0,i.ref)(!1),w=(0,i.ref)(!1),A=()=>{v.value=$.r.yuan,x.value=!0;const r=h()(t.selectDate),c="yyyy-MM-DD",p=1===t.analyseType?"w":"M",g=r.startOf(p).format(c),m=r.endOf(p).format(c);s.value=[],(0,d.vi)({start_date:g,end_date:m,third_department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:a})=>{if(x.value=!1,a.success){const e=(0,i.ref)([]),o=(0,i.ref)([]),l=(0,i.ref)([]),n=(0,i.ref)([]),r=a.data.datas;r.forEach((t=>{const a=t[0]||0,i=t[1]||0,s=Number(a)>1e6||Number(i)>1e6;s&&(v.value=$.r.wan);const r=t[0]?t[0]/100:0,d=t[1]?t[1]/100:0,c=t[2]?t[2]:0,p=t[3]?t[3]:0;e.value.push(r),o.value.push(d),l.value.push(c),n.value.push(p)}));const d=[{name:2===t.analyseType?"本月GMV":"本周GMV",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#2877FF",data:e.value,itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"上月GMV":"上周GMV",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#4FCA50",data:o.value,itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"本月订单数":"本周订单数",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:l.value},{name:2===t.analyseType?"上月订单数":"上周订单数",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FFBF00"},lineStyle:{width:3,shadowColor:"#FFBF003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:n.value}];s.value=a.data.projects||[],u.value.xAxis.data=a.data.projects||[],u.value.yAxis[0].name="GMV："+v.value;const c=r.filter((t=>null!==t[0]||null!==t[1]||null!==t[2]||null!==t[3]));u.value.series=c.length>0?d:[],u.value.dataZoom[0].end=s.value.length>18?50:s.value.length>10?70:100}else u.value.series=[],e.root.$message.error(a.message||"数据获取失败")})),y.value=!0,(0,d.Fz)({start_date:g,end_date:m,statistics_cycle:1===t.analyseType?2:3,third_department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:t})=>{y.value=!1,t.success?(n.value=t.data||[],n.value.length>0&&(o.value=n.value[0].project_id,l.value=n.value[0].project_name,a.value.setCurrentRow(n.value[0]),C(),D())):(n.value=[],j.value=[],n.value=[],o.value=0,l.value="",_.value.series=[],e.root.$message.error(t.message||"数据获取失败"))}))};A();const b=(0,i.ref)(!1),C=()=>{const a=h()(t.selectDate),l="yyyy-MM-DD",n=1===t.analyseType?"w":"M",s=a.startOf(n).format(l),r=a.endOf(n).format(l);if(w.value=!0,2===t.analyseType){const t=(0,i.ref)([]),e=a.endOf(n).format("DD");for(let a=1;a<=Number(e);a++)t.value.push(a+"日");_.value.xAxis.data=t,g.value=t}(0,d.j4)({start_date:s,end_date:r,project_id:0!==o.value?o.value:void 0}).then((({data:t})=>{if(w.value=!1,t.success){const e=(0,i.ref)([]),a=(0,i.ref)([]),o=(0,i.ref)([]),l=t.data.datas;f.value=$.r.yuan,l.forEach((t=>{const i=t[0]||0,l=t[1]||0,n=Number(i)>1e6||Number(l)>1e6;n&&(f.value=$.r.wan);const s=t[0]?t[0]/100:0,r=t[1]?t[1]/100:0,d=t[2]?t[2]:0;e.value.push(s),a.value.push(r),o.value.push(d)}));const n=[{name:"完成GMV",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#2877FF",data:e.value,itemStyle:{barBorderRadius:3}},{name:"目标GMV",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#4FCA50",data:a.value,itemStyle:{barBorderRadius:3}},{name:"目标完成率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:o.value}];_.value.yAxis[0].name="单位："+f.value;const s=l.filter((t=>null!==t[0]||null!==t[1]||null!==t[2]));_.value.series=s.length>0?n:[],m.value=t.data.dates||[]}else _.value.series=[],e.root.$message.error(t.message||"数据获取失败")}))},S=(0,i.ref)([]),B=(0,i.ref)(h()().weekday(-7).format("WW")),F=(0,i.ref)(h()().weekday(-14).format("WW")),k=(0,i.ref)([]),j=(0,i.ref)([]),N=({row:t})=>{let e={};if(k.value.length>0&&j.value.length>0){const a=new Set(k.value),i=new Set(j.value),o=[...i].filter((t=>[...a].some((e=>e.item_id===t.item_id))));return o.map(((a,i)=>{t.item_id===a.item_id&&(e={"background-color":`${mt[i]}`})})),e}},D=async()=>{const a=h()(t.selectDate),i=h()(t.selectDate);B.value=1===t.analyseType?i.format("WW"):i.format("MM"),F.value=1===t.analyseType?i.weekday(-7).format("WW"):i.add(-1,"months").format("MM");const l="yyyy-MM-DD",n=1===t.analyseType?"w":"M",s=a.startOf(n).format(l),d=a.endOf(n).format(l),p={project_id:String(o.value||""),start_date:s,end_date:2===t.analyseType?d:void 0,sort:"shop_gmv"};b.value=!0;const[{data:u}]=await(0,c.Dc)(500,(0,r.PG)(p,2===t.analyseType));b.value=!1,u.success?(j.value=u.data.shop_live_douyin_items||[],k.value=u.data.last_week_shop_live_douyin_items||[]):(j.value=[],k.value=[],e.root.$message({type:"warning",message:u.message||"查询失败，稍后重试",duration:2e3,showClose:!0}))};(0,i.watch)((()=>[t.selectDate,t.projectGroundId]),(()=>{k.value=[],j.value=[],_.value.series=[],l.value="",o.value=0,u.value.series=[],n.value=[],_.value.series=[],A()}));const I=t=>{a.value.setCurrentRow(t),o.value=t.project_id,l.value=t.project_name,k.value=[],j.value=[],_.value.series=[],C(),D()};return{singleTable:a,daytrendLoading:w,onViewBtnClick:I,project_name:l,project_id:o,detailLoading:y,getList:D,baseProjectOptions:_,lastLastWeekNum:F,lastWeekNum:B,lastLastData:k,lastData:j,rowColors:N,cateList:S,loading:b,list:n,baseOptions:u,trendLoading:x,formatAmount:p.dN}}}),ft=vt,xt=(0,k.Z)(ft,pt,ut,!1,null,"17cd895e",null),yt=xt.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"0 18px 12px 18px"}},[a("div",{staticStyle:{"margin-bottom":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"360px",width:"100%","padding-top":"0px"}},[t.baseOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"360px",padding:"6px 12px 12px 6px","margin-right":"0px","margin-left":"0px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("BaseEcharts",{staticStyle:{height:"320px"},attrs:{options:t.baseOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.teamTrendLoading,expression:"teamTrendLoading"}],staticStyle:{height:"360px",padding:"120px 12px 12px 0","margin-right":"0px","margin-left":"0px","margin-top":"0px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}],ref:"singleTable",staticClass:"table-div",attrs:{"highlight-current-row":"",border:"",data:t.list,"default-sort":{prop:"present_watch_ucnt",order:"descending"}},on:{"cell-click":function(e){return t.onViewBtnClick(e)}},scopedSlots:t._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})]},proxy:!0}])},[a("el-table-column",{attrs:{prop:"project_name",label:"项目",align:"left","min-width":"100px","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"left"},[t._v(" "+t._s(e.row.project_name||"--"))])])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"department_name",label:"所属项目组","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"left"},[t._v(" "+t._s(e.row.department_name||"--")+" ")])])]}}])}),a("el-table-column",{attrs:{prop:"present_watch_ucnt",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"总观看人数",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_watch_ucnt?t.formatAmount(Number(e.row.present_watch_ucnt||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"history_watch_ucnt",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"总观看人数",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.history_watch_ucnt?t.formatAmount(Number(e.row.history_watch_ucnt||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"watch_ucnt_link_ratio",label:"观看人数环比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.watch_ucnt_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.watch_ucnt_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.watch_ucnt_link_ratio?t.formatAmount(Math.abs(e.row.watch_ucnt_link_ratio),"None")+"%":"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"present_avg_gmv",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"人均价值",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_avg_gmv?t.formatAmount(e.row.present_avg_gmv||0,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"history_avg_gmv",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"人均价值",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.history_avg_gmv?t.formatAmount(e.row.history_avg_gmv||0,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"avg_gmv_link_ratio",label:"人均价值环比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.avg_gmv_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.avg_gmv_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.avg_gmv_link_ratio?t.formatAmount(Math.abs(e.row.avg_gmv_link_ratio),"None")+"%":"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"present_max_online_cnt",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"最高在线",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_max_online_cnt?t.formatAmount(Number(e.row.present_max_online_cnt||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"history_max_online_cnt",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"最高在线",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.history_max_online_cnt?t.formatAmount(Number(e.row.history_max_online_cnt||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"present_natural_flow",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"自然流量",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_natural_flow?t.formatAmount(Number(e.row.present_natural_flow||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"present_at_flow",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"付费流量",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_at_flow?t.formatAmount(Number(e.row.present_at_flow||0).toFixed(0),"None",!0):"--")+" ")]}}])})],1),a("div",{staticStyle:{flex:"1","margin-top":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{height:"354px",width:"100%","padding-top":"0px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-bottom":"18px"}},[a("span",{staticStyle:{color:"#6a7b92","font-weight":"400"}},[t._v("当前分析项目：")]),t._v(t._s(t.project_name)+" ")]),t.baseProjectOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"320px",border:"1px solid #d1d8e0","border-radius":"4px",padding:"8px 12px 18px 6px"}},[a("BaseEcharts",{attrs:{options:t.baseProjectOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{"padding-top":"100px",height:"320px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("div",{staticStyle:{height:"464px","margin-top":"24px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"32px","padding-top":"24px"}},[t._v("流量构成")]),a("div",{staticStyle:{display:"flex",height:"340px","justify-content":"center"}},[a("div",{staticStyle:{width:"490px","margin-top":"10px"}},[t.osunBurstData.length>0?a("div",{staticStyle:{width:"560px",height:"440px",margin:"auto",display:"flex","flex-direction":"column"}},[a("div",{staticStyle:{"padding-left":"50px",width:"426px",height:"320px",position:"relative"}},[a("sunburst",{staticStyle:{width:"320px",height:"320px",position:"absolute"},attrs:{itemName:"直播间观看次数",loading:t.sunBurstLoading,series:{data:t.osunBurstData,children:t.osunBurstChildrenData}},on:{selectParamClick:t.selectClick}}),a("div",{staticStyle:{background:"transparent",width:"88px",height:"88px","border-radius":"100px",position:"absolute",cursor:"pointer","margin-top":"106px","margin-left":"106px","z-index":"3"},on:{click:t.onClickAllColor}})],1)]):a("div",{staticStyle:{width:"320px",height:"320px",margin:"auto","padding-top":"120px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.sunBurstDetailLoading,expression:"sunBurstDetailLoading"}],staticStyle:{"margin-left":"-108px",width:"640px",height:"100%",display:"flex"}},[t._m(0),a("div",{staticClass:"sundetail"},[a("div",{staticClass:"echartTitle",staticStyle:{"font-weight":"400",margin:"24px 0 12px 0",width:"400px"}},[a("span",{staticStyle:{display:"inline-block"}},[t._v(" 流量来源："+t._s(t.select_flow_name||"--")+" ")]),a("span",{staticStyle:{display:"inline-block","margin-left":"48px"}},[t._v(" 直播间观看次数："+t._s(t.sunBurstDetail||t.watch_cnt?t.formatAmount(Number(t.sunBurstDetail?t.sunBurstDetail.watch_cnt:t.watch_cnt).toFixed(0),"None",!0):"--")+" ")])]),t.sunBurstDetail&&null!==t.sunBurstDetail.watch_cnt?a("div",[a("div",{staticClass:"detailspan",staticStyle:{"margin-bottom":"4px"}},[t._v("流量承接分析")]),a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"0px","margin-bottom":"12px",width:"440px"}},[a("span",{staticClass:"detailtitle"},[t._v(" 平均观看时长： "+t._s(t.getSecondsabe(t.sunBurstDetail.avg_watch_duration,0,"秒"))+" ")]),a("span",{staticClass:"detailtitle",staticStyle:{"margin-left":"18px"}},[t._v(" 观看互动率："+t._s(t.getSecondsabe(t.sunBurstDetail.watch_interact_ratio,2,"%"))+" ")])]),a("div",{staticClass:"detailspan",staticStyle:{"margin-bottom":"4px"}},[t._v("流量转化分析")]),a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"0px","margin-bottom":"12px",width:"440px"}},[a("span",{staticClass:"detailtitle"},[t._v(" 成交金额：¥ "+t._s(t.formatAmount((t.sunBurstDetail.pay_amt||0)/100,"None"))+" ")]),a("span",{staticClass:"detailtitle",staticStyle:{"margin-left":"18px"}},[t._v(" 客单价：¥ "+t._s(t.formatAmount((t.sunBurstDetail.cnt_unit_amt||0)/100,"None"))+" ")])]),a("div",{staticClass:"echartTitle",staticStyle:{"margin-left":"0px","margin-bottom":"12px",width:"440px"}},[a("span",{staticClass:"detailtitle"},[t._v(" 成交次数："+t._s(t.formatAmount(Number(t.sunBurstDetail.pay_cnt||0).toFixed(0),"None",!0))+" ")]),a("span",{staticClass:"detailtitle",staticStyle:{"margin-left":"18px"}},[t._v(" 观看-成交转化率："+t._s(t.sunBurstDetail.watch_pay_ratio)+"% ")])])]):a("div",{staticStyle:{"margin-top":"18px"}},[a("div",{staticStyle:{"margin-right":"50px","margin-top":"60px"}},[a("empty-common",{staticStyle:{width:"260px",margin:"auto"},attrs:{imgWidth:200,imgHeight:100}})],1)])])])]),t.selectosunBurstData.length>0?a("div",{staticClass:"el-props"},[a("div",{staticStyle:{width:"100%","text-align":"left",display:"flex","justify-content":"flex-start","flex-wrap":"wrap"}},t._l(t.selectosunBurstData,(function(e){return a("div",{key:e.name,staticStyle:{"margin-left":"6px","margin-bottom":"6px",display:"inline-block"}},[a("div",{staticStyle:{display:"inline-block",width:"80px",height:"14px","line-height":"14px","padding-right":"6px"},style:{width:t.selectosunBurstData.length>6?"80px":1===t.selectosunBurstData.length?"180px":"120px"}},[a("span",{staticStyle:{display:"inline-block",width:"12px",height:"12px","margin-top":"1px","border-radius":"2px"},style:{background:e.itemStyle.color}}),a("tg-textPopover",{staticStyle:{display:"inline-block","margin-left":"4px",color:"#343f4c","font-size":"12px",width:"56px"},style:{width:t.selectosunBurstData.length>6?"56px":1===t.selectosunBurstData.length?"150px":"90px"},attrs:{text:e.name,maxWidth:t.selectosunBurstData.length>6?56:1===t.selectosunBurstData.length?150:90}})],1)])})),0)]):t._e()])],1)},At=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"toptrianglediv"}),a("div",{staticClass:"bottomtrianglediv"})])}],bt=(0,i.defineComponent)({name:"flowIndex",props:{analyseType:{type:Number,default:1},selectDate:{type:String,default:""},projectGroundId:{type:Number,default:0}},components:{BaseEcharts:C.Z,sunburst:q.Z},setup(t,e){const a=(0,i.ref)([]),o=(0,i.ref)(null),l=(0,i.ref)([]),n=(0,i.ref)(0),r=(0,i.ref)(""),c=(0,i.ref)([]),u=(0,i.ref)({dataZoom:[{type:"slider",show:!0,start:0,end:80,xAxisIndex:[0],minValueSpan:8,height:18,bottom:10,textStyle:{show:!1,color:"white"},showDataShadow:!1}],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(t){let e,a,i,o=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t[0].axisValue}</div>`;for(let l=0;l<t.length;l++)a=t[l].color,e=t[l].seriesName,i=t[l].data,l===t.length-1||l===t.length-2?o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(i||0),"None")+" </div></div>":o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;">  '+(0,p.dN)(Number(i||0).toFixed(0),"None",!0)+"</div></div>";return o},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:60,containLabel:!1},xAxis:{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92",formatter(t){return c.value.length>10&&t.length>3?t.slice(0,3)+"...":c.value.length>6&&t.length>4?t.slice(0,4)+"...":t}}},yAxis:[{type:"value",name:"总观看人数",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},axisPointer:{type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{formatter(t){return v.value===$.r.wan&&t?parseInt(t,10)/1e4:t}}},{type:"value",name:"人均价值",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},axisLine:{show:!1},axisLabel:{formatter:"{value}"},nameTextStyle:{padding:[0,12,12,12]}}],series:[]}),g=(0,i.ref)(["周一","周二","周三","周四","周五","周六","周日"]),m=(0,i.ref)([]),_=(0,i.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"red"}},formatter(e){let a,i,o,l="";if(1===t.analyseType){const t=g.value.findIndex((t=>t===e[0].axisValue)),a=String(m.value[t]).replaceAll("-",".")||"";l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue} (${a})</div>`}else{const a=h()(t.selectDate),i=1===t.analyseType?"w":"M",o=a.startOf(i).format("MM"),n=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${o}月${n}</div>`}for(let t=0;t<e.length;t++)i=e[t].color,a=e[t].seriesName,o=e[t].data,t===e.length-1?l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(o||0),"None")+"</div></div>":l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;">  '+(0,p.dN)(Number(o||0).toFixed(0),"None",!0)+"</div></div>";return l},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:24,containLabel:!1},xAxis:{type:"category",data:g.value,axisPointer:{type:"line",label:{show:!1},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"总观看人数",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},alignTicks:!0,axisLine:{show:!1},axisLabel:{formatter(t){return f.value===$.r.wan&&t?parseInt(t,10)/1e4:t}},nameTextStyle:{padding:[0,12,12,12]}},{type:"value",name:"人均价值",position:"right",axisPointer:{show:!1},splitLine:{show:!1},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{formatter(t){return t}}}],series:[]}),v=(0,i.ref)(""),f=(0,i.ref)(""),x=(0,i.ref)(!1),y=(0,i.ref)(!1),w=(0,i.ref)(!1),A=(0,i.ref)(!1),b=(0,i.ref)(!1),C=(0,i.ref)(void 0),S=()=>{v.value="",x.value=!0;const a=h()(t.selectDate),i="yyyy-MM-DD",s=1===t.analyseType?"w":"M",p=a.startOf(s).format(i),g=a.endOf(s).format(i);c.value=[],(0,d.f$)({start_date:p,end_date:g,statistics_cycle:1===t.analyseType?2:3,department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:a})=>{if(x.value=!1,a.success){v.value="",(a.data.present_watch_ucnt||[]).forEach((t=>{const e=t||0,a=Number(e)>1e4;a&&(v.value="万")})),(a.data.history_watch_ucnt||[]).forEach((t=>{const e=t||0,a=Number(e)>1e4;a&&(v.value="万")}));const e=[{name:2===t.analyseType?"本月总观看人数":"本周总观看人数",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#2877FF",data:(a.data.present_watch_ucnt||[]).map((t=>t||0)),itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"上月总观看人数":"上周总观看人数",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#4FCA50",data:(a.data.history_watch_ucnt||[]).map((t=>t||0)),itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"本月人均价值":"本周人均价值",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(a.data.present_avg_gmv||[]).map((t=>t||0))},{name:2===t.analyseType?"上月人均价格":"上周人均价值",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FFBF00"},lineStyle:{width:3,shadowColor:"#FFBF003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(a.data.history_avg_gmv||[]).map((t=>t||0))}];c.value=a.data.project_names||[],u.value.yAxis[0].name="总观看人数"+(v.value?"："+v.value:""),u.value.xAxis.data=a.data.project_names||[],u.value.series=a.data.is_show?e:[],u.value.dataZoom[0].end=c.value.length>18?50:c.value.length>10?70:100}else u.value.series=[],e.root.$message.error(a.message||"数据获取失败")})),w.value=!0,(0,d.Cy)({start_date:p,end_date:g,statistics_cycle:1===t.analyseType?2:3,department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:t})=>{w.value=!1,t.success?(l.value=t.data||[],l.value.length>0&&(o.value.setCurrentRow(l.value[0]),n.value=l.value[0].project_id,r.value=l.value[0].project_name,E())):(l.value=[],r.value="",n.value=0,F.value=[],k.value=[],_.value.series=[],e.root.$message.error(t.message||"数据获取失败"))}))},B=(0,i.ref)(void 0),F=(0,i.ref)([]),k=(0,i.ref)([]),j=(0,i.ref)(void 0),N=(0,i.ref)(void 0),D=(0,i.ref)(""),I=(0,i.ref)(""),E=()=>{const o=h()(t.selectDate),l="yyyy-MM-DD",r=1===t.analyseType?"w":"M",c=o.startOf(r).format(l),p=o.endOf(r).format(l);if(y.value=!0,2===t.analyseType){const t=(0,i.ref)([]),e=o.endOf(r).format("DD");for(let a=1;a<=Number(e);a++)t.value.push(a+"日");_.value.xAxis.data=t,g.value=t}(0,d.QA)({start_date:c,end_date:p,statistics_cycle:1===t.analyseType?2:3,project_id:0!==n.value?n.value:void 0}).then((({data:t})=>{if(y.value=!1,t.success){f.value="",(t.data.watch_ucnt||[]).forEach((t=>{const e=t||0,a=Number(e)>1e4;a&&(f.value="万")}));const e=[{name:"总观看人数",type:"line",smooth:!0,showSymbol:!1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(t.data.watch_ucnt||[]).map((t=>t||0))},{name:"人均价值",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(t.data.avg_gmv||[]).map((t=>t||0))}];_.value.yAxis[0].name="总观看人数"+(f.value?"："+f.value:""),_.value.series=t.data.is_show?e:[],m.value=t.data.dates||[]}else _.value.series=[],e.root.$message.error(t.message||"数据获取失败")})),A.value=!0,I.value="",(0,d.lu)({start_date:c,end_date:p,statistics_cycle:1===t.analyseType?2:3,project_id:0!==n.value?n.value:void 0}).then((({data:t})=>{A.value=!1,t.success?(B.value=t.data,a.value=[],k.value=[],F.value=(B.value||[]).filter((t=>(t.source_data||[]).find((t=>(t.value||0)>0)))).map(((t,e)=>{0===e&&(N.value=t.flow_type,D.value=t.flow_type_name,M.value=t.flow_type_name,I.value=t.sum_flow,G());const a=(0,i.ref)([]);return(t.source_data||[]).map(((i,o)=>{(i.value||0)>0&&a.value.push({name:i.source_name,itemStyle:{color:s.YJ[e]?.children[o]},key:i.source_key,value:i.value,superName:t.flow_type_name})})),{name:t.flow_type_name,itemStyle:{color:s.YJ[e]?.color},key:t.flow_type,value:t.sum_flow,children:a.value}})),(B.value||[]).filter((t=>(t.source_data||[]).find((t=>(t.value||0)>0)))).map(((t,e)=>{(t.source_data||[]).map(((a,i)=>{(a.value||0)>0&&k.value.push({name:a.source_name,itemStyle:{color:s.YJ[e]?.children[i]},key:a.source_key,value:a.value,superName:t.flow_type_name})}))})),a.value=F.value):(B.value=[],F.value=[],k.value=[],C.value=void 0,e.root.$message.error(t.message||"数据获取失败"))}))};S();const T=t=>{D.value="",I.value="",o.value.setCurrentRow(t),N.value=void 0,j.value=void 0,n.value=t.project_id,r.value=t.project_name,_.value.series=[],a.value=[],F.value=[],k.value=[],C.value=void 0,E()},G=()=>{const a=h()(t.selectDate),i="yyyy-MM-DD",o=1===t.analyseType?"w":"M",l=a.startOf(o).format(i),s=a.endOf(o).format(i);b.value=!0,(0,d.g1)({start_date:l,end_date:s,statistics_cycle:1===t.analyseType?2:3,project_id:0!==n.value?n.value:void 0,flow_source:j.value,flow_type:N.value}).then((({data:t})=>{b.value=!1,t.success?C.value="{}"===JSON.stringify(t.data)?void 0:t.data:(C.value=void 0,e.root.$message.error(t.message||"数据获取失败"))}))};(0,i.watch)((()=>[t.selectDate,t.projectGroundId]),(()=>{D.value="",I.value="",r.value="",n.value=0,u.value.series=[],l.value=[],_.value.series=[],a.value=[],F.value=[],k.value=[],C.value=void 0,S()}));const M=(0,i.ref)(""),L=t=>{I.value=t.data.value||"",D.value=t.data.name,M.value=t.data.name,a.value=[],t.data.children?(a.value=t.data.children||[],j.value=void 0,N.value=t.data.key,G()):(j.value=t.data.key,N.value=void 0,M.value=t.data.superName||"",a.value=[t.data],G())},Q=(t,e,a)=>"string"===typeof t?t:(0,p.dN)(Number(t||0).toFixed(e),"None",0===e)+a,O=()=>{a.value=F.value};return{onClickAllColor:O,singleTable:o,getSecondsabe:Q,select_flow_type_name:M,watch_cnt:I,flow_type:N,project_name:r,onViewBtnClick:T,selectClick:L,sunBurstData:B,osunBurstData:F,sunBurstLoading:A,sunBurstDetail:C,sunBurstDetailLoading:b,baseProjectOptions:_,list:l,baseOptions:u,trendLoading:x,daytrendLoading:y,detailLoading:w,select_flow_name:D,formatAmount:p.dN,osunBurstChildrenData:k,selectosunBurstData:a}}}),Ct=bt,St=(0,k.Z)(Ct,wt,At,!1,null,"75ebff68",null),Bt=St.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"0 18px 12px 18px"}},[a("div",{staticStyle:{"margin-bottom":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"360px",width:"100%","padding-top":"0px"}},[t.baseOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"360px",padding:"6px 12px 12px 6px","margin-right":"0px","margin-left":"0px","margin-top":"0px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("BaseEcharts",{staticStyle:{height:"320px"},attrs:{options:t.baseOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"360px",padding:"120px 12px 12px 0",width:"100%",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}],ref:"singleTable",staticClass:"table-div",attrs:{"highlight-current-row":"",border:"",data:t.list,"default-sort":{prop:"present_incr_fans",order:"descending"}},on:{"cell-click":function(e){return t.onViewBtnClick(e)}},scopedSlots:t._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})]},proxy:!0}])},[a("el-table-column",{attrs:{prop:"project_name",label:"项目",align:"left","min-width":"100px","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"left"},[t._v(t._s(e.row.project_name||"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"department_name",label:"所属项目组","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"left"},[t._v(t._s(e.row.department_name||"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"present_incr_fans",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"新增粉丝",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_incr_fans?t.formatAmount(Number(e.row.present_incr_fans||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"history_incr_fans",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"新增粉丝",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.history_incr_fans?t.formatAmount(Number(e.row.history_incr_fans||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"incr_fans_link_ratio",label:"新增粉丝环比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.incr_fans_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.incr_fans_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.incr_fans_link_ratio?t.formatAmount(Math.abs(e.row.incr_fans_link_ratio),"None")+"%":"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"present_incr_fans_ratio",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"涨粉率",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.present_incr_fans_ratio?t.formatAmount(Number(e.row.present_incr_fans_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"history_incr_fans_ratio",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"涨粉率",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.history_incr_fans_ratio?t.formatAmount(Number(e.row.history_incr_fans_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"incr_fans_ratio_link_ratio",label:"涨粉率环比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.incr_fans_ratio_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.incr_fans_ratio_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.incr_fans_ratio_link_ratio?t.formatAmount(Math.abs(e.row.incr_fans_ratio_link_ratio),"None")+"%":"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"purchase_num_ratio",label:"成交人数占比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.purchase_num_ratio?t.formatAmount(Number(e.row.purchase_num_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"purchase_fans_num_ratio",label:"成交粉丝占比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.purchase_fans_num_ratio?t.formatAmount(Number(e.row.purchase_fans_num_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"interact_num_ratio",label:"互动人数占比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.interact_num_ratio?t.formatAmount(Number(e.row.interact_num_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"interact_fans_num_ratio",label:"互动粉丝占比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.interact_fans_num_ratio?t.formatAmount(Number(e.row.interact_fans_num_ratio||0),"None")+"%":"--")+" ")])]}}])})],1),a("div",{staticStyle:{flex:"1","margin-top":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{height:"354px",width:"100%","padding-top":"0px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-bottom":"18px"}},[a("span",{staticStyle:{color:"#6a7b92","font-weight":"400"}},[t._v("当前分析项目：")]),t._v(t._s(t.project_name)+" ")]),t.baseProjectOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"320px",margin:"18px 0",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("BaseEcharts",{attrs:{options:t.baseProjectOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{"padding-top":"100px",height:"320px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("div",{staticStyle:{height:"531px",border:"1px solid #d1d8e0","border-radius":"4px","margin-top":"24px"}},[a("div",{staticStyle:{margin:"32px auto",width:"968px",height:"56px","border-radius":"10px",display:"flex",background:"#ff8c00"}},[a("div",{staticStyle:{width:"0px",background:"#2877ff","font-weight":"400","font-size":"18px",color:"#ffffff","padding-left":"70px","text-align":"left","min-width":"250px","border-bottom-left-radius":"10px","border-top-left-radius":"10px"},style:{width:t.getWidthperent(t.detail_obj.purchase_people_num,t.detail_obj.not_purchase_people_num)}},[a("div",{staticStyle:{"line-height":"56px"}},[t._v(" 成交人数："+t._s(null===t.detail_obj.purchase_people_num||void 0===t.detail_obj.purchase_people_num?"--":t.formatAmount(Number(t.detail_obj.purchase_people_num||0).toFixed(0),"None",!0))+" ")])]),a("div",{staticStyle:{flex:"1","font-weight":"400","font-size":"18px",color:"#ffffff","padding-right":"70px","text-align":"right","min-width":"250px","border-bottom-right-radius":"10px","border-top-right-radius":"10px"}},[a("div",{staticStyle:{"line-height":"56px"}},[t._v(" 未成交人数："+t._s(null===t.detail_obj.not_purchase_people_num||void 0===t.detail_obj.not_purchase_people_num?"--":t.formatAmount(Number(t.detail_obj.not_purchase_people_num||0).toFixed(0),"None",!0))+" ")])])]),a("div",{staticStyle:{margin:"32px auto",width:"968px",display:"flex","justify-content":"space-between","padding-top":"0px"}},[a("div",{staticStyle:{width:"520px",height:"376px",background:"#fafafa",border:"1px solid #d1d8e0"}},[a("div",{staticStyle:{height:"20px",width:"20px","background-color":"#fafafa","z-index":"1","border-left":"1px solid #d1d8e0","border-top":"1px solid #d1d8e0",transform:"rotate(45deg)","margin-left":"150px","margin-top":"-11px"}}),a("line-div",{attrs:{obj:{people_num_ratio:t.detail_obj.first_purchase_people_num_ratio,people_num:t.detail_obj.first_purchase_people_num,one_lable:"首购人数",two_lable:"复购人数",second_people_num_ratio:t.detail_obj.second_purchase_people_num_ratio,second_people_num:t.detail_obj.second_purchase_people_num,issuccess:!0}}}),a("line-div",{attrs:{obj:{people_num_ratio:t.detail_obj.purchase_interact_num_ratio,people_num:t.detail_obj.purchase_interact_num,one_lable:"有互动人数",two_lable:"无互动人数",second_people_num_ratio:t.detail_obj.purchase_not_interact_num_ratio,second_people_num:t.detail_obj.purchase_not_interact_num,issuccess:!0}}}),a("line-div",{attrs:{obj:{people_num_ratio:t.detail_obj.purchase_fans_num_ratio,people_num:t.detail_obj.purchase_fans_num,one_lable:"粉丝人数",two_lable:"非粉丝人数",second_people_num_ratio:t.detail_obj.purchase_not_fans_num_ratio,second_people_num:t.detail_obj.purchase_not_fans_num,issuccess:!0}}})],1),a("div",{staticStyle:{"margin-left":"24px",width:"520px",height:"376px",background:"#fafafa",border:"1px solid #d1d8e0"}},[a("div",{staticStyle:{height:"20px",width:"20px","background-color":"#fafafa","z-index":"1","border-left":"1px solid #d1d8e0","border-top":"1px solid #d1d8e0",transform:"rotate(45deg)","margin-left":"350px","margin-top":"-11px"}}),a("line-div",{attrs:{obj:{people_num_ratio:t.detail_obj.watch_time_40_seconds_more_ratio,people_num:t.detail_obj.watch_time_40_seconds_more,one_lable:"观看40s+人数",two_lable:"无效观看人数",second_people_num_ratio:t.detail_obj.invalid_watch_people_num_ratio,second_people_num:t.detail_obj.invalid_watch_people_num,issuccess:!1}}}),a("line-div",{attrs:{obj:{people_num_ratio:t.detail_obj.interact_people_num_ratio,people_num:t.detail_obj.interact_people_num,one_lable:"有互动人数",two_lable:"无互动人数",second_people_num_ratio:t.detail_obj.not_interact_people_num_ratio,second_people_num:t.detail_obj.not_interact_people_num,issuccess:!1}}}),a("line-div",{attrs:{obj:{people_num_ratio:t.detail_obj.not_purchase_fans_num_ratio,people_num:t.detail_obj.not_purchase_fans_num,one_lable:"粉丝人数",two_lable:"非粉丝人数",second_people_num_ratio:t.detail_obj.not_purchase_not_fans_num_ratio,second_people_num:t.detail_obj.not_purchase_not_fans_num,issuccess:!1}}})],1)])])],1)},kt=[],jt=a(15899),Nt=(0,i.defineComponent)({name:"crowdIndex",props:{analyseType:{type:Number,default:1},selectDate:{type:String,default:""},projectGroundId:{type:Number,default:0}},components:{BaseEcharts:C.Z,sunburst:q.Z,lineDiv:jt.Z},setup(t,e){const a=(0,i.ref)(null),o=(0,i.ref)(0),l=(0,i.ref)(""),n=(0,i.ref)([]),s=(0,i.ref)([]),r=(0,i.ref)({dataZoom:[{type:"slider",show:!0,start:0,end:80,xAxisIndex:[0],minValueSpan:8,height:18,bottom:10,textStyle:{show:!1,color:"white"},showDataShadow:!1}],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(t){let e,a,i,o=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t[0].axisValue}</div>`;for(let l=0;l<t.length;l++)a=t[l].color,e=t[l].seriesName,i=t[l].data,l===t.length-1||l===t.length-2?o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(i||0),"None")+"% </div></div>":o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;">  '+(0,p.dN)(Number(i||0).toFixed(0),"None",!0)+"</div></div>";return o},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:60,containLabel:!1},xAxis:{type:"category",data:[],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92",formatter(t){return s.value.length>10&&t.length>3?t.slice(0,3)+"...":s.value.length>6&&t.length>4?t.slice(0,4)+"...":t}}},yAxis:[{type:"value",name:"新增粉丝",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{formatter(t){return m.value===$.r.wan&&t?parseInt(t,10)/1e4:t}}},{type:"value",name:"涨粉率",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},axisLine:{show:!1},axisLabel:{formatter:"{value}%"},nameTextStyle:{padding:[0,12,12,40]}}],series:[]}),c=(0,i.ref)(["周一","周二","周三","周四","周五","周六","周日"]),u=(0,i.ref)([]),g=(0,i.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){let a,i,o,l="";if(1===t.analyseType){const t=c.value.findIndex((t=>t===e[0].axisValue)),a=String(u.value[t]).replaceAll("-",".")||"";l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue} (${a})</div>`}else{const a=h()(t.selectDate),i=1===t.analyseType?"w":"M",o=a.startOf(i).format("MM"),n=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${o}月${n}</div>`}for(let t=0;t<e.length;t++)i=e[t].color,a=e[t].seriesName,o=e[t].data,t===e.length-1?l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(o||0),"None")+"% </div></div>":l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(o||0).toFixed(0),"None",!0)+" </div></div>";return l},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:24,containLabel:!1},xAxis:{type:"category",data:c.value,axisPointer:{type:"line",label:{show:!1},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,24,12,6]},axisLabel:{formatter(t){return _.value===$.r.wan&&t?parseInt(t,10)/1e4+"万":t}}},{type:"value",name:"涨粉率",axisPointer:{show:!1},splitLine:{show:!1},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,6,12,40]},axisLabel:{formatter(t){return t+"%"}}}],series:[]}),m=(0,i.ref)(""),_=(0,i.ref)(""),v=(0,i.ref)(!1),f=(0,i.ref)(!1),x=(0,i.ref)(!1),y=(0,i.ref)({}),w=()=>{m.value="",v.value=!0;const i=h()(t.selectDate),c="yyyy-MM-DD",p=1===t.analyseType?"w":"M",u=i.startOf(p).format(c),_=i.endOf(p).format(c);s.value=[],(0,d.G9)({start_date:u,end_date:_,statistics_cycle:1===t.analyseType?2:3,department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:a})=>{if(v.value=!1,a.success){m.value="",(a.data.present_incr_fans||[]).forEach((t=>{const e=t||0,a=Number(e)>1e4;a&&(m.value="万")})),(a.data.history_incr_fans||[]).forEach((t=>{const e=t||0,a=Number(e)>1e4;a&&(m.value="万")}));const e=[{name:2===t.analyseType?"本月新增粉丝":"本周新增粉丝",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#2877FF",data:a.data.present_incr_fans||[],itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"上月新增粉丝":"上周新增粉丝",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#4FCA50",data:a.data.history_incr_fans||[],itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"本月涨粉率":"本周涨粉率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(a.data.present_incr_fans_ratio||[]).map((t=>t||0))},{name:2===t.analyseType?"上月涨粉率":"上周涨粉率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FFBF00"},lineStyle:{width:3,shadowColor:"#FFBF003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(a.data.history_incr_fans_ratio||[]).map((t=>t||0))}];s.value=a.data.project_names||[],r.value.yAxis[0].name="新增粉丝"+(m.value?"："+m.value:""),r.value.xAxis.data=a.data.project_names||[],r.value.series=a.data.is_show?e:[],r.value.dataZoom[0].end=s.value.length>18?50:s.value.length>10?70:100}else r.value.series=[],e.root.$message.error(a.message||"数据获取失败")})),x.value=!0,(0,d.Bv)({start_date:u,end_date:_,statistics_cycle:1===t.analyseType?2:3,department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:t})=>{x.value=!1,t.success?(n.value=t.data||[],n.value.length>0&&(a.value.setCurrentRow(n.value[0]),o.value=n.value[0].project_id,l.value=n.value[0].project_name,A())):(n.value=[],g.value.series=[],y.value={},e.root.$message.error(t.message||"数据获取失败"))}))},A=()=>{const a=h()(t.selectDate),l="yyyy-MM-DD",n=1===t.analyseType?"w":"M",s=a.startOf(n).format(l),r=a.endOf(n).format(l);if(f.value=!0,2===t.analyseType){const t=(0,i.ref)([]),e=a.endOf(n).format("DD");for(let a=1;a<=Number(e);a++)t.value.push(a+"日");g.value.xAxis.data=t,c.value=t}(0,d.ZE)({start_date:s,end_date:r,statistics_cycle:1===t.analyseType?2:3,project_id:0!==o.value?o.value:void 0}).then((({data:t})=>{if(f.value=!1,t.success){_.value="",(t.data.incr_fans||[]).forEach((t=>{const e=t||0,a=Number(e)>1e4;a&&(_.value="万")}));const e=[{name:"新增粉丝数",type:"line",smooth:!0,showSymbol:!1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(t.data.incr_fans||[]).map((t=>t||0))},{name:"涨粉率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(t.data.incr_fans_ratio||[]).map((t=>t||0))}];g.value.yAxis[0].name="新增粉丝"+(_.value?"："+_.value:""),g.value.series=t.data.is_show?e:[],u.value=t.data.dates||[]}else g.value.series=[],e.root.$message.error(t.message||"数据获取失败")})),f.value=!0,(0,d.WX)({start_date:s,end_date:r,statistics_cycle:1===t.analyseType?2:3,project_id:0!==o.value?o.value:void 0}).then((({data:t})=>{f.value=!1,t.success?y.value=t.data:(y.value={},e.root.$message.error(t.message||"数据获取失败"))}))};w();const b=t=>{a.value.setCurrentRow(t),o.value=t.project_id,l.value=t.project_name,g.value.series=[],y.value={},A()};(0,i.watch)((()=>[t.selectDate,t.projectGroundId]),(()=>{l.value="",o.value=0,r.value.series=[],n.value=[],g.value.series=[],y.value={},w()}));const C=(t,e)=>{if(!e&&!t)return"0%";if(!e)return"100%";const a=t+e;return 100*t/a+"%"};return{singleTable:a,getWidthperent:C,detail_obj:y,project_name:l,project_id:o,onViewBtnClick:b,baseProjectOptions:g,list:n,baseOptions:r,trendLoading:v,daytrendLoading:f,detailLoading:x,formatAmount:p.dN}}}),Dt=Nt,It=(0,k.Z)(Dt,Ft,kt,!1,null,"0771233b",null),Et=It.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"0 18px 12px 18px"}},[a("div",{staticStyle:{"margin-bottom":"25px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"360px",width:"100%","padding-top":"0px"}},[t.baseOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"360px",padding:"6px 12px 12px 6px","margin-right":"0px","margin-left":"0px","margin-top":"0px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("BaseEcharts",{staticStyle:{height:"320px"},attrs:{options:t.baseOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"360px",padding:"120px 12px 12px 0","margin-right":"0px","margin-left":"0px","margin-top":"0px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}],ref:"singleTable",staticClass:"table-div",attrs:{"highlight-current-row":"",border:"",data:t.list,"default-sort":{prop:"present_watch_pay_ratio",order:"descending"}},on:{"cell-click":function(e){return t.onViewBtnClick(e)}},scopedSlots:t._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})]},proxy:!0}])},[a("el-table-column",{attrs:{prop:"project_name",label:"项目",align:"left","min-width":"100px","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"left"},[t._v(t._s(e.row.project_name||"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"department_name",label:"所属项目组","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"left"},[t._v(" "+t._s(e.row.department_name||"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"present_exposure",label:"曝光人数",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_exposure?t.formatAmount(Number(e.row.present_exposure||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"present_watch",label:"观看人数",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_watch?t.formatAmount(Number(e.row.present_watch||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"present_product_watch",label:"商品曝光人数",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_product_watch?t.formatAmount(Number(e.row.present_product_watch||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"present_product_click",label:"商品点击人数",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_product_click?t.formatAmount(Number(e.row.present_product_click||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"present_pay",label:"成交人数",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_pay?t.formatAmount(Number(e.row.present_pay||0).toFixed(0),"None",!0):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"present_watch_click_ratio",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"观看-点击率",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.present_watch_click_ratio?t.formatAmount(Number(e.row.present_watch_click_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"history_watch_click_ratio",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"观看-点击率",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.history_watch_click_ratio?t.formatAmount(Number(e.row.history_watch_click_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"watch_click_ratio_link_ratio",label:"观看-点击率环比",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.watch_click_ratio_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.watch_click_ratio_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.watch_click_ratio_link_ratio?t.formatAmount(Math.abs(e.row.watch_click_ratio_link_ratio),"None")+"%":"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"present_watch_pay_ratio",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"观看-成交率",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.present_watch_pay_ratio?t.formatAmount(Number(e.row.present_watch_pay_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"history_watch_pay_ratio",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"观看-成交率",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"padding-right":"12px"}},[t._v(" "+t._s(null!==e.row.history_watch_pay_ratio?t.formatAmount(Number(e.row.history_watch_pay_ratio||0),"None")+"%":"--")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"watch_pay_ratio_link_ratio",label:"观看-成交率环比",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.watch_pay_ratio_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.watch_pay_ratio_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.watch_pay_ratio_link_ratio?t.formatAmount(Math.abs(e.row.watch_pay_ratio_link_ratio),"None")+"%":"--"))])])]}}])})],1),a("div",{staticStyle:{flex:"1","margin-top":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{height:"354px",width:"100%","padding-top":"0px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-bottom":"18px","margin-left":"0px"}},[a("span",{staticStyle:{color:"#6a7b92","font-weight":"400"}},[t._v("当前分析项目：")]),t._v(t._s(t.project_name)+" ")]),t.baseProjectOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"320px",border:"1px solid #d1d8e0","border-radius":"4px",padding:"8px 12px 18px 6px"}},[a("BaseEcharts",{attrs:{options:t.baseProjectOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{"padding-top":"100px",height:"320px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("div",{staticStyle:{"margin-top":"24px",display:"flex",padding:"18px 24px","justify-content":"space-between",height:"412px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("div",{staticStyle:{flex:"1"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-bottom":"24px","margin-left":"0px"}},[t._v(" 本"+t._s(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"成交转化漏斗(人数) ")]),t.project_trends.present?a("div",{staticClass:"tg-datacenter-shoplive-funnel"},[a("section",{staticClass:"funnel-line-left"},[a("img",{staticClass:"line-part-top",attrs:{src:t.funnel_item_arrow_top,alt:""}}),a("div",{staticClass:"line-text-container"},[a("div",[t._v(" "+t._s(null===t.project_trends.present.exposure_pay_ratio?"--":Number(t.project_trends.present.exposure_pay_ratio||0)+"%")+" "),a("span",{staticStyle:{"font-size":"12px"}},[t.project_trends.present.exposure_pay_ratio_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px",color:"#f30220","font-size":"14px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}}),t._v(t._s(t.project_trends.present.exposure_pay_ratio_link_ratio)+"% ")],1):t.project_trends.present.exposure_pay_ratio_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px","font-size":"14px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}}),t._v(t._s(Math.abs(t.project_trends.present.exposure_pay_ratio_link_ratio))+"% ")],1):t._e()])]),a("div",[t._v("曝光-成交转化率")])]),a("img",{staticClass:"line-part-bottom",attrs:{src:t.funnel_item_arrow_bottom,alt:""}})]),a("section",{staticClass:"funnel-items"},[a("div",{staticClass:"item",staticStyle:{width:"300px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_1,alt:""}}),a("span",{staticClass:"text"},[t._v("直播间曝光人数："+t._s(null===t.project_trends.present.exposure?"--":t.formatPriceToThousand(Number(t.project_trends.present.exposure||0).toFixed(0),2,!1,!0)))])]),a("div",{staticClass:"item",staticStyle:{width:"277px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_2,alt:""}}),a("span",{staticClass:"text"},[t._v("直播间观看人数："+t._s(null===t.project_trends.present.watch?"--":t.formatPriceToThousand(Number(t.project_trends.present.watch||0).toFixed(0),2,!1,!0)))])]),a("div",{staticClass:"item",staticStyle:{width:"253px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_3,alt:""}}),a("span",{staticClass:"text"},[t._v("商品曝光人数："+t._s(null===t.project_trends.present.product_watch?"--":t.formatPriceToThousand(Number(t.project_trends.present.product_watch||0).toFixed(0),2,!1,!0)))])]),a("div",{staticClass:"item",staticStyle:{width:"230px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_4,alt:""}}),a("span",{staticClass:"text"},[t._v("商品点击人数："+t._s(null===t.project_trends.present.product_click?"--":t.formatPriceToThousand(Number(t.project_trends.present.product_click||0).toFixed(0),2,!1,!0)))])]),a("div",{staticClass:"item",staticStyle:{width:"206px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_5,alt:""}}),a("span",{staticClass:"text"},[t._v("成交人数："+t._s(null===t.project_trends.present.pay?"--":t.formatPriceToThousand(Number(t.project_trends.present.pay||0).toFixed(0),2,!1,!0)))])])]),a("section",{staticClass:"funnel-line-right"},[a("div",{staticClass:"line-container"},[a("img",{attrs:{src:t.funnel_item_arrow_right,alt:""}}),a("div",[a("div",[t._v(" "+t._s(null===t.project_trends.present.exposure_watch_ratio?"--":t.project_trends.present.exposure_watch_ratio+"%")+" "),a("span",{staticStyle:{"font-size":"12px"}},[t.project_trends.present.exposure_watch_ratio_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px","font-size":"14px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}}),t._v(t._s(t.project_trends.present.exposure_watch_ratio_link_ratio)+"% ")],1):t.project_trends.present.exposure_watch_ratio_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px","font-size":"14px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}}),t._v(t._s(Math.abs(t.project_trends.present.exposure_watch_ratio_link_ratio))+"% ")],1):t._e()])]),a("div",[t._v("曝光-观看率")])])]),a("div",{staticClass:"line-container"},[a("img",{attrs:{src:t.funnel_item_arrow_right,alt:""}}),a("div",[a("div",[t._v(" "+t._s(null===t.project_trends.present.watch_product_watch_ratio?"--":t.project_trends.present.watch_product_watch_ratio+"%")+" "),a("span",{staticStyle:{"font-size":"12px"}},[t.project_trends.present.watch_product_watch_ratio_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px",color:"#f30220","font-size":"14px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}}),t._v(t._s(t.project_trends.present.watch_product_watch_ratio_link_ratio)+"% ")],1):t.project_trends.present.watch_product_watch_ratio_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px","font-size":"14px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}}),t._v(t._s(Math.abs(t.project_trends.present.watch_product_watch_ratio_link_ratio))+"% ")],1):t._e()])]),a("div",[t._v("观看-商品曝光率")])])]),a("div",{staticClass:"line-container"},[a("img",{attrs:{src:t.funnel_item_arrow_right,alt:""}}),a("div",[a("div",[t._v(" "+t._s(null===t.project_trends.present.product_watch_product_click_ratio?"--":t.project_trends.present.product_watch_product_click_ratio+"%")+" "),a("span",{staticStyle:{"font-size":"12px"}},[t.project_trends.present.product_watch_product_click_ratio_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px",color:"#f30220","font-size":"14px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}}),t._v(t._s(t.project_trends.present.product_watch_product_click_ratio_link_ratio)+"% ")],1):t.project_trends.present.product_watch_product_click_ratio_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px","font-size":"14px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}}),t._v(t._s(Math.abs(t.project_trends.present.product_watch_product_click_ratio_link_ratio))+"% ")],1):t._e()])]),a("div",[t._v("商品曝光-点击率")])])]),a("div",{staticClass:"line-container"},[a("img",{attrs:{src:t.funnel_item_arrow_right,alt:""}}),a("div",[a("div",[t._v(" "+t._s(null===t.project_trends.present.product_click_pay_ratio?"--":t.project_trends.present.product_click_pay_ratio+"%")+" "),a("span",{staticStyle:{"font-size":"12px"}},[t.project_trends.present.product_click_pay_ratio_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px",color:"#f30220","font-size":"14px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}}),t._v(t._s(t.project_trends.present.product_click_pay_ratio_link_ratio)+"% ")],1):t.project_trends.present.product_click_pay_ratio_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{"text-align":"left",padding:"0"}},[a("tg-icon",{staticStyle:{margin:"auto 1px","font-size":"14px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}}),t._v(t._s(Math.abs(t.project_trends.present.product_click_pay_ratio_link_ratio))+"% ")],1):t._e()])]),a("div",[t._v("商品点击-成交转化率")])])])])]):a("div",{staticClass:"tg-datacenter-shoplive-funnel",staticStyle:{"padding-top":"100px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)]),a("div",{staticStyle:{"margin-left":"8px","margin-top":"48px","margin-bottom":"32px",width:"1px","border-left":"1px dashed #d1d8e0"}}),a("div",{staticStyle:{"margin-left":"8px",flex:"1"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-bottom":"24px","margin-left":"0px"}},[t._v(" 上"+t._s(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"成交转化漏斗(人数) ")]),t.project_trends.history?a("div",{staticClass:"tg-datacenter-shoplive-funnel"},[a("section",{staticClass:"funnel-line-left"},[a("img",{staticClass:"line-part-top",attrs:{src:t.funnel_item_arrow_top,alt:""}}),a("div",{staticClass:"line-text-container"},[a("div",[t._v(" "+t._s(null===t.project_trends.history.exposure_pay_ratio?"--":Number(t.project_trends.history.exposure_pay_ratio||0)+"%")+" ")]),a("div",[t._v("曝光-成交转化率")])]),a("img",{staticClass:"line-part-bottom",attrs:{src:t.funnel_item_arrow_bottom,alt:""}})]),a("section",{staticClass:"funnel-items"},[a("div",{staticClass:"item",staticStyle:{width:"300px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_1,alt:""}}),a("span",{staticClass:"text"},[t._v("直播间曝光人数："+t._s(null===t.project_trends.history.exposure?"--":t.formatPriceToThousand(Number(t.project_trends.history.exposure||0).toFixed(0),2,!1,!0)))])]),a("div",{staticClass:"item",staticStyle:{width:"277px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_2,alt:""}}),a("span",{staticClass:"text"},[t._v("直播间观看人数："+t._s(null===t.project_trends.history.watch?"--":t.formatPriceToThousand(Number(t.project_trends.history.watch||0).toFixed(0),2,!1,!0)))])]),a("div",{staticClass:"item",staticStyle:{width:"253px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_3,alt:""}}),a("span",{staticClass:"text"},[t._v("商品曝光人数："+t._s(null===t.project_trends.history.product_watch?"--":t.formatPriceToThousand(Number(t.project_trends.history.product_watch||0).toFixed(0),2,!1,!0)))])]),a("div",{staticClass:"item",staticStyle:{width:"230px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_4,alt:""}}),a("span",{staticClass:"text"},[t._v("商品点击人数："+t._s(null===t.project_trends.history.product_click?"--":t.formatPriceToThousand(Number(t.project_trends.history.product_click||0).toFixed(0),2,!1,!0)))])]),a("div",{staticClass:"item",staticStyle:{width:"206px"}},[a("img",{staticClass:"img",attrs:{src:t.funnel_item_5,alt:""}}),a("span",{staticClass:"text"},[t._v("成交人数："+t._s(null===t.project_trends.history.pay?"--":t.formatPriceToThousand(Number(t.project_trends.history.pay||0).toFixed(0),2,!1,!0)))])])]),a("section",{staticClass:"funnel-line-right"},[a("div",{staticClass:"line-container"},[a("img",{attrs:{src:t.funnel_item_arrow_right,alt:""}}),a("div",[a("div",[t._v(" "+t._s(null===t.project_trends.history.exposure_watch_ratio?"--":t.formatAmount(Number(t.project_trends.history.exposure_watch_ratio||0),"None")+"%")+" ")]),a("div",[t._v("曝光-观看率")])])]),a("div",{staticClass:"line-container"},[a("img",{attrs:{src:t.funnel_item_arrow_right,alt:""}}),a("div",[a("div",[t._v(" "+t._s(null===t.project_trends.history.watch_product_watch_ratio?"--":t.formatAmount(Number(t.project_trends.history.watch_product_watch_ratio||0),"None")+"%")+" ")]),a("div",[t._v("观看-商品曝光率")])])]),a("div",{staticClass:"line-container"},[a("img",{attrs:{src:t.funnel_item_arrow_right,alt:""}}),a("div",[a("div",[t._v(" "+t._s(null===t.project_trends.history.product_watch_product_click_ratio?"--":t.formatAmount(Number(t.project_trends.history.product_watch_product_click_ratio||0),"None")+"%")+" ")]),a("div",[t._v("商品曝光-点击率")])])]),a("div",{staticClass:"line-container"},[a("img",{attrs:{src:t.funnel_item_arrow_right,alt:""}}),a("div",[a("div",[t._v(" "+t._s(null===t.project_trends.history.product_click_pay_ratio?"--":t.formatAmount(Number(t.project_trends.history.product_click_pay_ratio||0),"None")+"%")+" ")]),a("div",[t._v("商品点击-成交转化率")])])])])]):a("div",{staticClass:"tg-datacenter-shoplive-funnel",staticStyle:{"padding-top":"100px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])])],1)},Gt=[],Mt=a(45781),Lt=(0,i.defineComponent)({name:"changeIndex",props:{analyseType:{type:Number,default:1},selectDate:{type:String,default:""},projectGroundId:{type:Number,default:0}},components:{BaseEcharts:C.Z,sunburst:q.Z},setup(t,e){const a=(0,i.ref)(null),o=(0,i.ref)(0),l=(0,i.ref)(""),n=(0,i.ref)([]),s=(0,i.ref)({}),r=(0,i.ref)([]),c=(0,i.ref)({dataZoom:[{type:"slider",show:!0,start:0,end:80,xAxisIndex:[0],minValueSpan:8,height:18,bottom:10,textStyle:{show:!1,color:"white"},showDataShadow:!1}],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(t){let e,a,i,o=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t[0].axisValue}</div>`;for(let l=0;l<t.length;l++)a=t[l].color,e=t[l].seriesName,i=t[l].data,o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(i||0),"None")+"% </div></div>";return o},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:60,containLabel:!1},xAxis:{type:"category",data:[],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92",formatter(t){return r.value.length>10&&t.length>3?t.slice(0,3)+"...":r.value.length>6&&t.length>4?t.slice(0,4)+"...":t}}},yAxis:[{type:"value",name:"观看-点击率",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{formatter:"{value}%"}},{type:"value",name:"观看-成交率",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisLine:{show:!1},axisPointer:{show:!1},axisLabel:{formatter:"{value}%"},nameTextStyle:{padding:[0,6,12,12]}}],series:[]}),u=(0,i.ref)(["周一","周二","周三","周四","周五","周六","周日"]),g=(0,i.ref)([]),m=(0,i.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){let a,i,o,l="";if(1===t.analyseType){const t=u.value.findIndex((t=>t===e[0].axisValue)),a=String(g.value[t]).replaceAll("-",".")||"";l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue} (${a})</div>`}else{const a=h()(t.selectDate),i=1===t.analyseType?"w":"M",o=a.startOf(i).format("MM"),n=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${o}月${n}</div>`}for(let t=0;t<e.length;t++)i=e[t].color,a=e[t].seriesName,o=e[t].data,l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(o||0),"None")+"% </div></div>";return l},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:24,containLabel:!1},xAxis:{type:"category",data:u.value,axisPointer:{type:"line",label:{show:!1},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"观看-点击率",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{formatter:"{value}%"}},{type:"value",name:"观看-成交率",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},axisLine:{show:!1},nameTextStyle:{padding:[0,6,12,12]},axisLabel:{formatter:"{value}%"}}],series:[]}),_=(0,i.ref)($.r.yuan),v=(0,i.ref)(!1),f=(0,i.ref)(!1),x=(0,i.ref)(!1),y=(0,i.ref)(!1),w=()=>{_.value=$.r.yuan,v.value=!0;const i=h()(t.selectDate),p="yyyy-MM-DD",u=1===t.analyseType?"w":"M",g=i.startOf(u).format(p),f=i.endOf(u).format(p);r.value=[],(0,d.yJ)({start_date:g,end_date:f,statistics_cycle:1===t.analyseType?2:3,department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:a})=>{if(v.value=!1,a.success){const e=[{name:2===t.analyseType?"本月观看-点击率":"本周观看-点击率",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#2877FF",data:(a.data.present_watch_click_ratio||[]).map((t=>t||0)),itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"上月观看-点击率":"上周观看-点击率",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#4FCA50",data:(a.data.history_watch_click_ratio||[]).map((t=>t||0)),itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"本月观看-成交率":"本周观看-成交率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(a.data.present_watch_pay_ratio||[]).map((t=>t||0))},{name:2===t.analyseType?"上月观看-成交率":"上周观看-成交率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FFBF00"},lineStyle:{width:3,shadowColor:"#FFBF003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(a.data.history_watch_pay_ratio||[]).map((t=>t||0))}];r.value=a.data.project_names||[],c.value.xAxis.data=a.data.project_names||[],c.value.series=a.data.is_show?e:[],c.value.dataZoom[0].end=r.value.length>18?50:r.value.length>10?70:100}else c.value.series=[],e.root.$message.error(a.message||"数据获取失败")})),x.value=!0,(0,d.qP)({start_date:g,end_date:f,statistics_cycle:1===t.analyseType?2:3,department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:t})=>{x.value=!1,t.success?(n.value=t.data||[],n.value.length>0&&(a.value.setCurrentRow(n.value[0]),l.value=n.value[0].project_name,o.value=n.value[0].project_id,A())):(n.value=[],l.value="",o.value=0,s.value={history:void 0,present:void 0},m.value.series=[],e.root.$message.error(t.message||"数据获取失败"))}))},A=()=>{const a=h()(t.selectDate),l="yyyy-MM-DD",n=1===t.analyseType?"w":"M",r=a.startOf(n).format(l),c=a.endOf(n).format(l);if(f.value=!0,2===t.analyseType){const t=(0,i.ref)([]),e=a.endOf(n).format("DD");for(let a=1;a<=Number(e);a++)t.value.push(a+"日");m.value.xAxis.data=t,u.value=t}(0,d.lP)({start_date:r,end_date:c,statistics_cycle:1===t.analyseType?2:3,project_id:0!==o.value?o.value:void 0}).then((({data:t})=>{if(f.value=!1,t.success){const e=[{name:"观看-点击率",type:"line",smooth:!0,showSymbol:!1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(t.data.watch_click_ratio||[]).map((t=>t||0))},{name:"观看-成交率",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(t.data.watch_pay_ratio||[]).map((t=>t||0))}];m.value.series=t.data.is_show?e:[],g.value=t.data.dates||[]}else m.value.series=[],e.root.$message.error(t.message||"数据获取失败")})),y.value=!0,(0,d.Mg)({start_date:r,end_date:c,statistics_cycle:1===t.analyseType?2:3,project_id:0!==o.value?o.value:void 0}).then((({data:t})=>{y.value=!1,t.success?s.value={history:t.data.history,present:t.data.present}:(s.value={history:void 0,present:void 0},e.root.$message.error(t.message||"数据获取失败"))}))};w();const b=t=>{a.value.setCurrentRow(t),o.value=t.project_id,l.value=t.project_name,s.value={history:void 0,present:void 0},m.value.series=[],A()};(0,i.watch)((()=>[t.selectDate,t.projectGroundId]),(()=>{n.value=[],l.value="",o.value=0,s.value={history:void 0,present:void 0},c.value.series=[],m.value.series=[],w()}));const{formatPriceToThousand:C}=Mt.Z;return{singleTable:a,project_name:l,project_trends:s,project_id:o,funnel_item_1:D,funnel_item_2:I,funnel_item_3:E,funnel_item_4:T,funnel_item_5:G,funnel_item_arrow_bottom:M,funnel_item_arrow_right:L,funnel_item_arrow_top:Q,onViewBtnClick:b,baseProjectOptions:m,list:n,baseOptions:c,trendLoading:v,daytrendLoading:f,detailLoading:x,formatAmount:p.dN,formatPriceToThousand:C}}}),Qt=Lt,Ot=(0,k.Z)(Qt,Tt,Gt,!1,null,"57bdf458",null),Yt=Ot.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"0 18px 12px 18px"}},[a("div",{staticStyle:{"margin-bottom":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"360px",width:"100%","padding-top":"0px"}},[t.baseOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"360px",padding:"6px 12px 12px 6px","margin-right":"0px","margin-left":"0px","margin-top":"0px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("BaseEcharts",{staticStyle:{height:"320px"},attrs:{options:t.baseOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.trendLoading,expression:"trendLoading"}],staticStyle:{height:"360px",padding:"120px 12px 12px 0","margin-right":"0px","margin-left":"0px","margin-top":"0px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.detailLoading,expression:"detailLoading"}],ref:"singleTable",staticClass:"table-div",attrs:{"highlight-current-row":"",border:"",data:t.list,"default-sort":{prop:"present_cost",order:"descending"}},on:{"cell-click":function(e){return t.onViewBtnClick(e)}},scopedSlots:t._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{"detial-text":"暂无数据"}})]},proxy:!0}])},[a("el-table-column",{attrs:{prop:"project_name",label:"项目",align:"left","min-width":"100px","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"left"},[t._v(t._s(e.row.project_name||"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"department_name",label:"所属项目组","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("span",{staticClass:"left"},[t._v(t._s(e.row.department_name||"--")+" ")])])]}}])}),a("el-table-column",{attrs:{prop:"present_cost",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"投放金额 (元)",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_cost?t.formatAmount(Number(e.row.present_cost||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"history_cost",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"投放金额 (元)",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.history_cost?t.formatAmount(Number(e.row.history_cost||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"cost_link_ratio",label:"投放金额环比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.cost_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.cost_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.cost_link_ratio?t.formatAmount(Math.abs(e.row.cost_link_ratio),"None")+"%":"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"present_ad_roi",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"付费ROI",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.cost_link_ratio?t.formatAmount(Number(e.row.present_ad_roi||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"history_ad_roi",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"付费ROI",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_pay?t.formatAmount(Number(e.row.history_ad_roi||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"ad_roi_link_ratio",label:"付费ROI环比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.ad_roi_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.ad_roi_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.ad_roi_link_ratio?t.formatAmount(Math.abs(e.row.ad_roi_link_ratio),"None")+"%":"--"))])])]}}])}),a("el-table-column",{attrs:{prop:"present_roi",label:"本"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"整体ROI",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(null!==e.row.present_roi?t.formatAmount(Number(e.row.present_roi||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"history_roi",label:"上"+(1===t.analyseType?"周":2===t.analyseType?"月":"年")+"整体ROI",align:"right","min-width":"150px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.history_roi?t.formatAmount(Number(e.row.history_roi||0)/100,"None"):"--")+" ")]}}])}),a("el-table-column",{attrs:{prop:"roi_link_ratio",label:"整体ROI环比",align:"right","min-width":"130px",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"huanbi"},[e.row.roi_link_ratio>0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_shangsheng_16_red"}})],1):e.row.roi_link_ratio<0?a("span",{staticClass:"tgicon",staticStyle:{display:"inline-block","text-align":"left","padding-top":"0px"}},[a("tg-icon",{staticStyle:{margin:"auto 1px"},attrs:{name:"ico-icon_tongyong_xiajiang_16_green"}})],1):t._e(),a("span",[t._v(t._s(null!==e.row.roi_link_ratio?t.formatAmount(Math.abs(e.row.roi_link_ratio),"None")+"%":"--"))])])]}}])})],1),a("div",{staticStyle:{flex:"1","margin-top":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{height:"354px",width:"100%","padding-top":"0px"}},[a("div",{staticClass:"echartTitle",staticStyle:{"margin-bottom":"18px"}},[a("span",{staticStyle:{color:"#6a7b92","font-weight":"400"}},[t._v("当前分析项目：")]),t._v(t._s(t.project_name)+" ")]),t.baseProjectOptions.series.length>0?a("div",[a("div",{staticStyle:{height:"320px",border:"1px solid #d1d8e0","border-radius":"4px",padding:"8px 12px 18px 6px"}},[a("BaseEcharts",{attrs:{options:t.baseProjectOptions}})],1)]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.daytrendLoading,expression:"daytrendLoading"}],staticStyle:{"padding-top":"100px",height:"320px",border:"1px solid #d1d8e0","border-radius":"4px"}},[a("empty-common",{attrs:{imgWidth:200,imgHeight:100}})],1)])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loudouLoading,expression:"loudouLoading"}],staticStyle:{"margin-top":"24px",padding:"28px",height:"564px",border:"1px solid #d1d8e0","border-radius":"4px"}},[t._m(0),a("div",{staticClass:"loudoudiv"},[a("div",{staticStyle:{width:"520px"}},[a("line-div",{attrs:{obj:{people_num_ratio:t.detail_obj.ad_exposure_ratio,people_num:t.detail_obj.ad_exposure,one_lable:"直播间曝光次数：",second_people_num_ratio:t.detail_obj.nature_exposure_ratio,second_people_num:t.detail_obj.nature_exposure}}}),a("line-div",{staticStyle:{"padding-top":"12px"},attrs:{obj:{people_num_ratio:t.detail_obj.ad_watch_ratio,people_num:t.detail_obj.ad_watch,one_lable:"直播间观看次数：",second_people_num_ratio:t.detail_obj.nature_watch_ratio,second_people_num:t.detail_obj.nature_watch}}}),a("line-div",{staticStyle:{"padding-top":"24px"},attrs:{obj:{people_num_ratio:t.detail_obj.ad_click_ratio,people_num:t.detail_obj.ad_click,one_lable:"商品点击次数：",second_people_num_ratio:t.detail_obj.nature_click_ratio,second_people_num:t.detail_obj.nature_click}}}),a("line-div",{staticStyle:{"padding-top":"36px"},attrs:{obj:{people_num_ratio:t.detail_obj.ad_order_ratio,people_num:t.detail_obj.ad_order,one_lable:"创建订单：",second_people_num_ratio:t.detail_obj.nature_order_ratio,second_people_num:t.detail_obj.nature_order}}}),a("line-div",{staticStyle:{"padding-top":"48px"},attrs:{obj:{people_num_ratio:t.detail_obj.ad_pay_ratio,people_num:t.detail_obj.ad_pay,one_lable:"成交：",second_people_num_ratio:t.detail_obj.nature_pay_ratio,second_people_num:t.detail_obj.nature_pay}}})],1),a("div",{staticStyle:{width:"230px",height:"100%","margin-left":"-14px"}},[a("div",{staticClass:"titlediv",staticStyle:{"padding-right":"18px","margin-top":"173px",height:"20px","line-height":"20px","margin-bottom":"0px","font-size":"14px"}},[t._v(" "+t._s(null===t.detail_obj.ad_watch_click_ratio||void 0===t.detail_obj.ad_watch_click_ratio?"--":t.detail_obj.ad_watch_click_ratio+"%")+" ")]),a("div",{staticClass:"titlediv",staticStyle:{"margin-top":"75px",height:"20px","line-height":"20px","margin-bottom":"0px","text-align":"left","font-size":"14px"}},[a("div",{staticStyle:{display:"inline-block",width:"90px","padding-right":"26px","text-align":"center"}},[t._v(" "+t._s(null===t.detail_obj.ad_watch_pay_ratio||void 0===t.detail_obj.ad_watch_pay_ratio?"--":t.detail_obj.ad_watch_pay_ratio+"%")+" ")]),a("div",{staticStyle:{display:"inline-block",width:"74px","text-align":"center","margin-left":"-35px"}},[t._v(" "+t._s(null===t.detail_obj.ad_click_order_ratio||void 0===t.detail_obj.ad_click_order_ratio?"--":t.detail_obj.ad_click_order_ratio+"%")+" ")])]),a("div",{staticClass:"titlediv",staticStyle:{"padding-right":"18px","margin-top":"75px",height:"20px","line-height":"20px","margin-bottom":"0px","font-size":"14px"}},[t._v(" "+t._s(null===t.detail_obj.ad_order_pay_ratio||void 0===t.detail_obj.ad_order_pay_ratio?"--":t.detail_obj.ad_order_pay_ratio+"%")+" ")])]),t._m(1),a("div",{staticStyle:{width:"225px",height:"100%"}},[a("div",{staticClass:"titlediv",staticStyle:{"padding-left":"28px","margin-top":"173px",height:"20px","line-height":"20px","margin-bottom":"0px","font-size":"14px"}},[t._v(" "+t._s(null===t.detail_obj.nature_watch_click_ratio||void 0===t.detail_obj.nature_watch_click_ratio?"--":t.detail_obj.nature_watch_click_ratio+"%")+" ")]),a("div",{staticClass:"titlediv",staticStyle:{"margin-top":"75px",height:"20px","line-height":"20px","margin-bottom":"0px","text-align":"right","padding-left":"10px","font-size":"14px"}},[a("div",{staticStyle:{display:"inline-block",width:"60px","text-align":"center","margin-right":"-23px"}},[t._v(" "+t._s(null===t.detail_obj.nature_click_order_ratio||void 0===t.detail_obj.nature_click_order_ratio?"--":t.detail_obj.nature_click_order_ratio+"%")+" ")]),a("div",{staticStyle:{display:"inline-block",width:"80px","padding-left":"20px","text-align":"center"}},[t._v(" "+t._s(null===t.detail_obj.nature_watch_pay_ratio||void 0===t.detail_obj.nature_watch_pay_ratio?"--":t.detail_obj.nature_watch_pay_ratio+"%")+" ")])]),a("div",{staticClass:"titlediv",staticStyle:{"padding-left":"28px","margin-top":"75px",height:"20px","line-height":"20px","margin-bottom":"0px","font-size":"14px"}},[t._v(" "+t._s(null===t.detail_obj.nature_order_pay_ratio||void 0===t.detail_obj.nature_order_pay_ratio?"--":t.detail_obj.nature_order_pay_ratio+"%")+" ")])])])])],1)},Pt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex","justify-content":"flex-end",width:"1100px",margin:"0 auto"}},[a("div",{staticStyle:{margin:"3px 12px 3px 24px",width:"12px",height:"12px",background:"#0285ff","border-radius":"2px"}}),a("div",{staticStyle:{"font-weight":"400","font-size":"12px",color:"#343f4c","line-height":"18px"}},[t._v(" 广告流量 ")]),a("div",{staticStyle:{margin:"3px 12px 3px 24px",width:"12px",height:"12px",background:"#02c38f","border-radius":"2px"}}),a("div",{staticStyle:{"margin-right":"100px","font-weight":"400","font-size":"12px",color:"#343f4c","line-height":"18px"}},[t._v(" 自然流量 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"265px"}},[a("div",{staticClass:"titlediv"},[t._v("直播间曝光")]),a("div",{staticClass:"titlediv"},[t._v("进入直播间")]),a("div",{staticClass:"titlediv"},[t._v("商品点击")]),a("div",{staticClass:"titlediv"},[t._v("创建订单")]),a("div",{staticClass:"titlediv",staticStyle:{"line-height":"72px"}},[t._v("成交")])])}],Wt=a(38386),Jt=(0,i.defineComponent)({name:"putIndex",props:{analyseType:{type:Number,default:1},selectDate:{type:String,default:""},projectGroundId:{type:Number,default:0}},components:{BaseEcharts:C.Z,sunburst:q.Z,lineDiv:Wt.Z},setup(t,e){const a=(0,i.ref)(null),o=(0,i.ref)(0),l=(0,i.ref)(""),n=(0,i.ref)([]),s=(0,i.ref)($.r.yuan),r=(0,i.ref)($.r.yuan),c=(0,i.ref)([]),u=(0,i.ref)({dataZoom:[{type:"slider",show:!0,start:0,end:80,xAxisIndex:[0],minValueSpan:8,height:18,bottom:10,textStyle:{show:!1,color:"white"},showDataShadow:!1}],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(t){let e,a,i,o=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${t[0].axisValue}</div>`;for(let l=0;l<t.length;l++)a=t[l].color,e=t[l].seriesName,i=t[l].data,l===t.length-1||l===t.length-2?o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(i||0),"None")+" </div></div>":o+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+a+'"></div>'+e+'：<div style="color: #19232D;font-weight: 400;">  '+(0,p.dN)(Number(i||0))+"</div></div>";return o},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:60,containLabel:!1},xAxis:{type:"category",data:[],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92",formatter(t){return c.value.length>10&&t.length>3?t.slice(0,3)+"...":c.value.length>6&&t.length>4?t.slice(0,4)+"...":t}}},yAxis:[{type:"value",name:"投放金额 (元)",axisPointer:{type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{formatter(t){return r.value===$.r.wan&&t?parseInt(t,10)/1e4:t}}},{type:"value",name:"付费ROI",axisPointer:{show:!1},position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},nameTextStyle:{padding:[0,12,12,12]},axisLine:{show:!1},axisLabel:{formatter(t){return t>=1e4?parseInt(t,10)/1e4+"万":t}}}],series:[]}),g=(0,i.ref)(["周一","周二","周三","周四","周五","周六","周日"]),m=(0,i.ref)([]),_=(0,i.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},formatter(e){let a,i,o,l="";if(1===t.analyseType){const t=g.value.findIndex((t=>t===e[0].axisValue)),a=String(m.value[t]).replaceAll("-",".")||"";l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${e[0].axisValue} (${a})</div>`}else{const a=h()(t.selectDate),i=1===t.analyseType?"w":"M",o=a.startOf(i).format("MM"),n=2===e[0].axisValue.length?"0"+e[0].axisValue:e[0].axisValue;l=`<div style="color:#19232D;font-size:14px;font-weight:400;text-align: left;line-height: 30px;margin-bottom: 12px">${o}月${n}</div>`}for(let t=0;t<e.length;t++)i=e[t].color,a=e[t].seriesName,o=e[t].data,t===e.length-1?l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(o||0),"None")+" </div></div>":l+='<div style="display: flex;margin-bottom: 10px;height: 20px;line-height: 20px;font-size: 12px;color:#606974;font-weight: 400;"><div style="margin:5px;border-radius: 5px;height: 10px;width: 10px;background:'+i+'"></div>'+a+'：<div style="color: #19232D;font-weight: 400;"> '+(0,p.dN)(Number(o||0))+" </div></div>";return l},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:!0,right:120,top:15,type:"scroll",width:800,itemGap:30,itemWidth:17,itemHeight:14},grid:{left:68,right:58,bottom:24,containLabel:!1},xAxis:{type:"category",data:g.value,axisPointer:{type:"line",label:{show:!1},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",name:"投放金额 (元)",position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{formatter(t){return s.value===$.r.wan&&t?parseInt(t,10)/1e4:t}}},{type:"value",name:"付费ROI",position:"right",axisPointer:{show:!1},splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,12,12,12]},axisLabel:{formatter(t){return t>=1e4?parseInt(t,10)/1e4+"万":t}}}],series:[]}),v=(0,i.ref)(!1),f=(0,i.ref)(!1),x=(0,i.ref)(!1),y=(0,i.ref)(!1),w=(0,i.ref)({}),A=()=>{r.value=$.r.yuan,v.value=!0;const i=h()(t.selectDate),s="yyyy-MM-DD",p=1===t.analyseType?"w":"M",g=i.startOf(p).format(s),m=i.endOf(p).format(s);c.value=[],(0,d.jh)({start_date:g,end_date:m,statistics_cycle:1===t.analyseType?2:3,department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:a})=>{if(v.value=!1,a.success){r.value=$.r.yuan,(a.data.present_cost||[]).forEach((t=>{const e=t||0,a=Number(e)>1e6;a&&(r.value=$.r.wan)})),(a.data.history_cost||[]).forEach((t=>{const e=t||0,a=Number(e)>1e6;a&&(r.value=$.r.wan)}));const e=[{name:2===t.analyseType?"本月投放金额":"本周投放金额",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#2877FF",data:(a.data.present_cost||[]).map((t=>(t||0)/100)),itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"上月投放金额":"上周投放金额",type:"bar",barMaxWidth:"22",barMinWidth:"8",barGap:.2,barCategoryGap:"45%",color:"#4FCA50",data:(a.data.history_cost||[]).map((t=>(t||0)/100)),itemStyle:{barBorderRadius:3}},{name:2===t.analyseType?"本月付费ROI":"本周付费ROI",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(a.data.present_ad_roi||[]).map((t=>(t||0)/100))},{name:2===t.analyseType?"上月付费ROI":"上周付费ROI",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FFBF00"},lineStyle:{width:3,shadowColor:"#FFBF003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(a.data.history_ad_roi||[]).map((t=>(t||0)/100))}];c.value=a.data.project_names||[],u.value.yAxis[0].name="投放金额 ("+r.value+")",u.value.xAxis.data=a.data.project_names||[],u.value.series=a.data.is_show?e:[],u.value.dataZoom[0].end=c.value.length>18?50:c.value.length>10?70:100}else e.root.$message.error(a.message||"数据获取失败")})),y.value=!0,(0,d.LV)({start_date:g,end_date:m,statistics_cycle:1===t.analyseType?2:3,department_id:0!==t.projectGroundId?t.projectGroundId:void 0}).then((({data:t})=>{y.value=!1,t.success?(n.value=t.data||[],n.value.length>0&&(o.value=n.value[0].project_id,l.value=n.value[0].project_name,a.value.setCurrentRow(n.value[0]),b())):(n.value=[],o.value=0,l.value="",w.value={},_.value.series=[],e.root.$message.error(t.message||"数据获取失败"))}))},b=()=>{const a=h()(t.selectDate),l="yyyy-MM-DD",n=1===t.analyseType?"w":"M",r=a.startOf(n).format(l),c=a.endOf(n).format(l);if(f.value=!0,2===t.analyseType){const t=(0,i.ref)([]),e=a.endOf(n).format("DD");for(let a=1;a<=Number(e);a++)t.value.push(a+"日");_.value.xAxis.data=t,g.value=t}(0,d.wK)({start_date:r,end_date:c,statistics_cycle:1===t.analyseType?2:3,project_id:0!==o.value?o.value:void 0}).then((({data:t})=>{if(f.value=!1,t.success){(t.data.cost||[]).forEach((t=>{const e=t||0,a=Number(e)>1e6;a&&(s.value=$.r.wan)}));const e=[{name:"投放金额",type:"line",smooth:!0,showSymbol:!1,itemStyle:{color:"#9273F8"},lineStyle:{width:3,shadowColor:"#9273F83d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(t.data.cost||[]).map((t=>(t||0)/100))},{name:"付费ROI",type:"line",smooth:!0,showSymbol:!1,yAxisIndex:1,itemStyle:{color:"#FF7F00"},lineStyle:{width:3,shadowColor:"#FF7F003d",shadowOffsetX:0,shadowOffsetY:11,shadowBlur:11},data:(t.data.ad_roi||[]).map((t=>(t||0)/100))}];_.value.yAxis[0].name="投放金额 ("+s.value+")",_.value.series=t.data.is_show?e:[],m.value=t.data.dates||[]}else _.value.series=[],e.root.$message.error(t.message||"数据获取失败")})),x.value=!0,(0,d.dB)({start_date:r,end_date:c,statistics_cycle:1===t.analyseType?2:3,project_id:0!==o.value?o.value:void 0}).then((({data:t})=>{x.value=!1,t.success?w.value=t.data||{}:(w.value={},e.root.$message.error(t.message||"数据获取失败"))}))};A();const C=t=>{a.value.setCurrentRow(t),o.value=t.project_id,l.value=t.project_name,_.value.series=[],w.value={},b()};return(0,i.watch)((()=>[t.selectDate,t.projectGroundId]),(()=>{l.value="",o.value=0,n.value=[],_.value.series=[],u.value.series=[],w.value={},A()})),{singleTable:a,project_name:l,project_id:o,onViewBtnClick:C,baseProjectOptions:_,list:n,baseOptions:u,trendLoading:v,daytrendLoading:f,detailLoading:y,formatAmount:p.dN,loudouLoading:x,detail_obj:w}}}),Zt=Jt,Rt=(0,k.Z)(Zt,zt,Pt,!1,null,"1d4977b4",null),Vt=Rt.exports,Ht=(0,i.defineComponent)({components:{analyseIndex:ot,generalIndex:ct,sellIndex:yt,flowIndex:Bt,crowdIndex:Et,changeIndex:Yt,putIndex:Vt},setup(t,e){const a=(0,i.ref)(!1),o=(0,i.ref)(0),l=[ct.name,yt.name,Bt.name,Et.name,Yt.name,Vt.name],n=(0,i.ref)(h()()),s=(0,i.ref)(""),r="yyyy-MM-DD";s.value=h()(n.value).format(r);const c=n.value,p="MM月DD日",u=(0,i.ref)(""),g=(0,i.ref)("");u.value=c.startOf("w").format(p),g.value=c.endOf("w").format(p);const m=t=>{if(t){const e=h()(t),a="MM月DD日";u.value=e.startOf("w").format(a),g.value=e.endOf("w").format(a),s.value=h()(n.value).format(r)}else s.value=""},_=(0,i.ref)(0),v=(0,i.ref)("品牌中心"),f=(0,i.ref)([{id:0,name:"全部"}]),x=()=>{(0,d.h3)({only_third_department:1,second_department_name:"品牌运营"}).then((({data:t})=>{t.success&&(f.value=t.data.data,f.value.unshift({id:0,name:"全部"}))}))};x();const y=t=>{0===t&&(v.value="品牌中心");const e=f.value.find((e=>e.id===t));v.value=e?e.name:"品牌中心"};return{selectGorund:y,weekdate_str:s,start_time:u,end_time:g,project_ground_list:f,project_gound_id:_,project_ground_name:v,selectDateChange:m,weekdate:n,switchComponents:l,selectIndex:o,saveLoading:a,fixed:!1,selectfixed:!1}},mounted(){this.onRefresh(),window.addEventListener("scroll",this.fixedActiveBtn,!0)},beforeDestroy(){window.removeEventListener("scroll",this.fixedActiveBtn,!0)},methods:{fixedActiveBtn(t){const e=t.target.scrollTop||document.documentElement.scrollTop||document.body.scrollTop,a=String(t.target.className||"");0===e&&!0===this.fixed||(a.indexOf("el-table")<0&&a.indexOf("main-table")<0&&a.indexOf("el-props")<0&&(this.fixed=e>=760,this.selectfixed=e>=760),!1!==this.fixed&&0!==e||(this.selectfixed=!1))},onSwitch(t){this.selectIndex=t,this.fixed&&this.$nextTick((()=>{const t=document.getElementsByClassName("week-div");t[0].scrollTop=760,t[0].scrollLeft=0}))},onRefresh(){const t=document.getElementsByClassName("week-div");t[0].scrollTop=0,t[0].scrollLeft=0}}}),Kt=Ht,Ut=(0,k.Z)(Kt,H,K,!1,null,"53625be0",null),Xt=Ut.exports,qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-month"},[a("div",{staticStyle:{height:"130px"}},[a("div",{staticClass:"fixedselect"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"flex-form-item flex-form-item-time",attrs:{label:"选择月：",prop:"allocated_time","label-width":"78px"}},[a("el-date-picker",{staticStyle:{width:"186px"},attrs:{clearable:!1,type:"month",format:"yyyy 年 第 MM 月",placeholder:t.currentYear+" 年 第 "+(t.currentMonth<10?"0"+t.currentMonth:t.currentMonth)+" 月"},on:{change:t.selectMonthDateChange},model:{value:t.weekdate,callback:function(e){t.weekdate=e},expression:"weekdate"}})],1),a("el-form-item",{staticClass:"flex-form-item flex-form-item-time",attrs:{label:"选择项目组：","label-width":"100px"}},[a("el-select",{staticStyle:{width:"186px"},attrs:{placeholder:"请选择项目组"},on:{change:t.selectGorund},model:{value:t.project_gound_id,callback:function(e){t.project_gound_id=e},expression:"project_gound_id"}},t._l(t.project_ground_list,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1)],1),a("div",{staticStyle:{width:"100%",height:"10px",background:"rgb(246, 246, 246)"}})],1)]),a("div",{staticClass:"month-div"},[a("div",{staticStyle:{"min-width":"1250px",width:"100%"}},[a("analyse-index",{attrs:{analyseType:2,selectDate:t.weekdate_str,projectGroundId:t.project_gound_id,projectGroundName:t.project_ground_name}}),a("div",{staticClass:"data-center-switch"},[a("div",{class:1==t.fixed?"fixed ":"center"},[a("el-button-group",[a("el-radio-group",{attrs:{size:"small"},on:{change:t.onSwitch},model:{value:t.selectIndex,callback:function(e){t.selectIndex=e},expression:"selectIndex"}},[a("el-radio-button",{attrs:{label:"0"}},[t._v("项目概览")]),a("el-radio-button",{attrs:{label:"1"}},[t._v("销售")]),a("el-radio-button",{attrs:{label:"2"}},[t._v("流量")]),a("el-radio-button",{attrs:{label:"3"}},[t._v("人群")]),a("el-radio-button",{attrs:{label:"4"}},[t._v("转化")]),a("el-radio-button",{attrs:{label:"5"}},[t._v("投放")])],1)],1),1==t.fixed?a("div",{staticStyle:{width:"100%",height:"10px",background:"rgb(246, 246, 246)","margin-top":"18px"}}):t._e()],1)]),a("div",[a(t.switchComponents[t.selectIndex],{tag:"component",style:{marginTop:1==t.fixed?"26px":"0px"},attrs:{analyseType:2,selectDate:t.weekdate_str,projectGroundId:t.project_gound_id}})],1)],1)])])},$t=[],te=(0,i.defineComponent)({components:{analyseIndex:ot,generalIndex:ct,sellIndex:yt,flowIndex:Bt,crowdIndex:Et,changeIndex:Yt,putIndex:Vt},setup(t,e){const a=(0,i.ref)(!1),o=(0,i.ref)(0),l=[ct.name,yt.name,Bt.name,Et.name,Yt.name,Vt.name],n=(0,i.ref)(h()()),s=(0,i.ref)(""),r="yyyy-MM-DD";s.value=h()(n.value).format(r);const c=n.value,p="MM月DD日",u=(0,i.ref)(""),g=(0,i.ref)("");u.value=c.startOf("w").format(p),g.value=c.endOf("w").format(p);const m=t=>{s.value=t?h()(n.value).format(r):""},_=(0,i.ref)(0),v=(0,i.ref)("品牌中心"),f=(0,i.ref)([{id:0,name:"全部"}]),x=()=>{(0,d.h3)({only_third_department:1,second_department_name:"品牌运营"}).then((({data:t})=>{t.success&&(f.value=t.data.data,f.value.unshift({id:0,name:"全部"}))}))};x();const y=t=>{0===t&&(v.value="品牌中心");const e=f.value.find((e=>e.id===t));v.value=e?e.name:"品牌中心"},w=h()().add(1,"months").get("month"),A=h()().add(1,"years");return{currentYear:A,currentMonth:w,selectGorund:y,weekdate_str:s,start_time:u,end_time:g,project_ground_list:f,project_gound_id:_,project_ground_name:v,selectMonthDateChange:m,weekdate:n,switchComponents:l,selectIndex:o,saveLoading:a,fixed:!1,selectfixed:!1}},mounted(){this.onRefresh(),window.addEventListener("scroll",this.fixedActiveBtn,!0)},beforeDestroy(){window.removeEventListener("scroll",this.fixedActiveBtn,!0)},methods:{fixedActiveBtn(t){const e=t.target.scrollTop||document.documentElement.scrollTop||document.body.scrollTop,a=String(t.target.className||"");0===e&&!0===this.fixed||(a.indexOf("el-table")<0&&a.indexOf("main-table")<0&&a.indexOf("el-props")<0&&(this.fixed=e>=760,this.selectfixed=e>=760),!1!==this.fixed&&0!==e||(this.selectfixed=!1))},onSwitch(t){this.selectIndex=t,this.fixed&&this.$nextTick((()=>{const t=document.getElementsByClassName("month-div");t[0].scrollTop=760,t[0].scrollLeft=0}))},onRefresh(){const t=document.getElementsByClassName("month-div");t[0].scrollTop=0,t[0].scrollLeft=0}}}),ee=te,ae=(0,k.Z)(ee,qt,$t,!1,null,"2ff5afe0",null),ie=ae.exports,oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-year"},[a("div",{staticStyle:{height:"130px"}},[a("div",{staticClass:"fixedselect"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"flex-form-item flex-form-item-time",attrs:{clearable:!1,label:"选择年：",prop:"allocated_time","label-width":"78px"}},[a("el-date-picker",{staticStyle:{width:"186px"},attrs:{clearable:!1,type:"year",format:"yyyy 年"},on:{change:t.selectDateChange},model:{value:t.weekdate,callback:function(e){t.weekdate=e},expression:"weekdate"}})],1),a("el-form-item",{staticClass:"flex-form-item flex-form-item-time",attrs:{label:"选择项目组：","label-width":"100px"}},[a("el-select",{staticStyle:{width:"186px"},attrs:{placeholder:"请选择项目组"},on:{change:t.selectGorund},model:{value:t.project_gound_id,callback:function(e){t.project_gound_id=e},expression:"project_gound_id"}},t._l(t.project_ground_list,(function(t){return a("el-option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1)],1),a("div",{staticStyle:{width:"100%",height:"10px",background:"rgb(246, 246, 246)"}})],1)]),a("div",{staticClass:"year-div"},[a("div",{staticStyle:{"min-width":"1200px",width:"100%"}},[a("analyse-index",{staticStyle:{"margin-top":"20px"},attrs:{analyseType:3,selectDate:t.weekdate_str,projectGroundId:t.project_gound_id,projectGroundName:t.project_ground_name}})],1)])])},le=[],ne=(0,i.defineComponent)({components:{analyseIndex:ot},setup(t,e){const a=(0,i.ref)(h()()),o=(0,i.ref)(""),l=(0,i.ref)("品牌中心"),n="yyyy-MM-DD";o.value=h()(a.value).format(n);const s=a.value,r="MM月DD日",c=(0,i.ref)(""),p=(0,i.ref)("");c.value=s.startOf("w").format(r),p.value=s.endOf("w").format(r);const u=(0,i.ref)(0),g=(0,i.ref)([{id:0,name:"全部"}]),m=()=>{(0,d.h3)({only_third_department:1,second_department_name:"品牌运营"}).then((({data:t})=>{t.success&&(g.value=t.data.data,g.value.unshift({id:0,name:"全部"}))}))};m();const _=t=>{o.value=t?h()(a.value).format(n):""},v=t=>{0===t&&(l.value="品牌中心");const e=g.value.find((e=>e.id===t));l.value=e?e.name:"品牌中心"};return{selectGorund:v,selectDateChange:_,weekdate:a,weekdate_str:o,start_time:c,end_time:p,project_ground_list:g,project_gound_id:u,project_ground_name:l}},mounted(){this.onRefresh()},methods:{onRefresh(){const t=document.getElementsByClassName("tg-datacenter-shoplive");t[0].scrollTop=0,t[0].scrollLeft=0}}}),se=ne,re=(0,k.Z)(se,oe,le,!1,null,"62cc1732",null),de=re.exports,ce=(0,i.defineComponent)({components:{dailyDetail:V,week:Xt,month:ie,year:de},setup(t,e){const a=(0,o.pK)([{label:"每日明细",value:"dailyDetail"},{label:"周分析",value:"week"},{label:"月分析",value:"month"},{label:"年度分析",value:"year"}],"dailyDetail"),l=(0,i.ref)(void 0),n=(0,i.computed)((()=>l.value?.replace(/-/g,".")??"--")),s={async getLastUpdateTime(){const t=await(0,r.wf)();t.data.success&&(l.value=t.data.data)}};return(0,i.onMounted)((()=>{s.getLastUpdateTime()})),{updateTimeStr:n,...a,...s}},render(){const t=arguments[0];return t("div",{class:"tg-datacenter-shoplive"},[t("tg-tabs",{attrs:{tabs:this.tabs},class:"tabs",model:{value:this.checkedTab,callback:t=>{this.checkedTab=t}}},[t("div",{class:"update-time"},["数据更新时间：",this.updateTimeStr])]),t(this.checkedTab,{style:"height: calc(100% - 50px);"})])}}),pe=ce,ue=(0,k.Z)(pe,ht,_t,!1,null,"6c803bab",null),ge=ue.exports},7427:function(t,e,a){"use strict";a.d(e,{DS:function(){return s},UP:function(){return o},YJ:function(){return i},gd:function(){return n},zW:function(){return l}});const i=[{color:"#2877FF",children:["#1E8DFF","#00A3FF","#00BBFF","#00D2FF","#62E5FF","#ACF1FF","#CFFBFF","#72EDD5","#85EEDA","#A0EDDE","#00B942","#02CA64","#53D66F","#7DDE89","#A8E8AC","#C3F4C6","#3AD08E","#4DD79A","#81E5B1","#C4F1DA"]},{color:"#FF8C00",children:["#FE9C25","#FFC073","#FFD7A7","#FFBF00","#FFE186","#FFEBB0","#FFE82A","#FFF486","#F0EC88","#FFF15F","#FBEB2D","#FDD866","#FFE376","#FFCD39","#FFE186","#FFEBB0","#F5F2AD","#F0EC88","#FFF4AC","#F5F2AD"]},{color:"#996DFF",children:["#845EF7","#9775FA","#B197FC","#D0BFFF","#E2D5FF","#F3D9FA","#EEBEFA","#E599F8","#D977F2","#CC5DE8","#BE4BDB","#FF8BEF","#FCBFF3","#FFDCFA","#FDE8FA","#F7F0FC","#BAC8FF","#DBE4FF","#E8F7FF","#CCEDFF"]},{color:"#FF6767",children:["#FF7E7E","#FF9696","#FFB3B3","#FFC9C9","#FF6D8C","#FF829D","#FF97AD","#FFACBE","#FEBDCB","#FFD2DC","#F5C7CB","#EFC0BE","#FD9BA9","#FFB0C9","#F7A0B8","#F5C7CB","#F0D2CD","#FFE1DC","#FDD9F3","#FFEAF9"]}],o=["#0C6FE1","#22B2FF","#00EBDB","#3FD489","#9446FF","#B598FF","#FD996E","#FFB218","#FFE869","#F73434","#FF8DA3","#FF69F9","#E8684A","#269A99","#5AD8A6","#D09C10","#D13808","#4C00FF","#0040FF","#E85285","#FACDAA","#942D93","#FACA3E","#FF8C00","#FF6500","#B5AC23","#6A9A48","#20876B","#99ADD1","#BBE800","#4C6080","#4045B2","#0C8AFF","#B22C00","#794012","#00562F","#0047A5","#83BC99","#FF745A","#EB4185"],l=[{color:"#9273F8",areaColor:"#DED4FF"},{color:"#4FCA50",areaColor:"#98FFF9"},{color:"#2877FF",areaColor:"#D6E5FF"},{color:"#FF7F00",areaColor:"#FFEFDF"},{color:"#EFF000",areaColor:"#FCFCA0"},{color:"#31CC33",areaColor:"#B5F6B6"},{color:"#FFCC00",areaColor:"#FFEB99"},{color:"#CCFF02",areaColor:"#EBFF9B"},{color:"#009999",areaColor:"#D2F3F3"}],n=[{color:"#FF7F00",areaColor:"#FFEFDF"},{color:"#2877FF",areaColor:"#D6E5FF"},{color:"#4FCA50",areaColor:"#98FFF9"},{color:"#9273F8",areaColor:"#DED4FF"},{color:"#EFF000",areaColor:"#FCFCA0"},{color:"#31CC33",areaColor:"#B5F6B6"},{color:"#FFCC00",areaColor:"#FFEB99"},{color:"#CCFF02",areaColor:"#EBFF9B"},{color:"#009999",areaColor:"#D2F3F3"}],s=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"]},60492:function(t,e,a){"use strict";var i;a.d(e,{r:function(){return i}}),function(t){t["yuan"]="元",t["wan"]="万"}(i||(i={}))},23812:function(t,e,a){"use strict";a.d(e,{GQ:function(){return s},YE:function(){return l},cY:function(){return r},pK:function(){return n}});var i=a(97434),o=a(44928);const l=(t,e)=>({tabs:(0,i.reactive)([...t]),checkedTab:(0,i.ref)(e??(t.length<1?"":t[0].value))}),n=(t,e)=>{const a=(0,i.isRef)(t)?t:(0,i.ref)(t),o=(0,i.isRef)(e)?(0,i.unref)(e):e,l=a.value.length<1?"":a.value[0].value,n=(0,i.ref)(o??l);return{tabs:a,checkedTab:n}},s=(t,e,a)=>{const o=(0,i.reactive)([...e]),l=(0,i.ref)(a??(e.length<1?"":`${e[0].value}`)),n=e=>{t.root.$router.push({path:t.root.$route.path,query:{tab:`${e.value}`}})};return(0,i.onBeforeMount)((()=>{const i=t.root.$route.query.tab;l.value="string"===typeof i?i:a??(e.length<1?"":`${e[0].value}`)})),{tabs:o,checkedTab:l,onTabChange:n}},r=(t,e)=>{const a=(0,i.reactive)([...t]),l=(0,i.ref)(e??(t.length<1?"":`${t[0].value}`)),n=(0,o.t)(),s=t=>{const e=n.currentRoute,a={...e.params,tab:t.value};n.push({name:e.name,params:a})};return l.value=n.currentRoute.params.tab||e||l.value,{tabs:a,checkedTab:l,onTabChange:s}}},44928:function(t,e,a){"use strict";a.d(e,{t:function(){return o}});var i=a(86834);const o=()=>{const t=new Proxy({},{get(t,e){return Reflect.get(i.Z,e)}});return t}},45781:function(t,e,a){"use strict";var i=a(49187),o=a(8581),l=a(61282);const n=new i.ZP;e["Z"]={formatEmpty(t,e){return null===t||void 0===t||""===t||t instanceof Array&&t.length<=0?"--":void 0!==e?`${t}${e}`:t},formatTime(t){try{return null===t||void 0===t||""===t?"--":t.replace(/-/g,".")}catch(e){return t}},formatTimespan(t){try{if(null===t||void 0===t||""===t)return"--";const e=new Date;return e.setTime(1e3*t),(0,o.WU)(e,"YYYY.mm.dd")}catch(e){return t}},formatPrice(t,e=i.WL.Fen,a=!0){try{if(null===t||void 0===t||""===t)return"--";const i=n.format(n.parse(t,e));return a?`￥${i}`:i}catch(o){return t}},formatPriceFormYuan(t,e=2,a=!0){try{if(null===t||void 0===t||""===t)return"--";let i=t;return i=t>1e8?(t/1e8).toFixed(e)+"亿":t>1e4?(t/1e4).toFixed(e)+"w":(t-0).toFixed(e),a&&(i=`￥${i}`),i}catch(i){return t}},formatPriceToThousand(t,e=2,a=!0,i=!1){try{if(null===t||void 0===t||""===t)return"--";let o=t;return t>1e4?o=(t/1e4).toFixed(e)+"w":(o=(t-0).toFixed(e),i&&(o=(t-0).toFixed(0))),a&&(o=`￥${o}`),o}catch(o){return t}},formatPriceToThousandformatAmount(t,e=2,a=!0,i=!1){try{if(null===t||void 0===t||""===t)return"--";let o=t;return t>1e4?o=(0,l.dN)((t/1e4).toFixed(2),"None")+"w":(o=(0,l.dN)((t-0).toFixed(e),"None",0===e),i&&(o=(t-0).toFixed(0))),a&&(o=`￥${o}`),o}catch(o){return t}},tranNumber(t,e=2){if(null===t||void 0===t||""===t)return"--";if(!(t>=0))return t||"-";t+="";const a=t.toString(),i=a.split(".")[0],o=i.length;if(o<5)return a;if(o>8){const t=i.substring(i.length-8,i.length-8+e);return parseFloat(parseInt(i/1e8+"",10)+"."+t)+"亿"}if(o>4){const t=i.substring(i.length-4,i.length-4+e);return parseFloat(parseInt(i/1e4+"",10)+"."+t)+"w"}}}},23818:function(t){"use strict";t.exports="data:image/png;base64,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"},4096:function(t,e,a){t.exports=a(70680)(12996)}}]);
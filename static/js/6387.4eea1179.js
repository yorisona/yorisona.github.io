(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[6387],{24186:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Ce}});var l=a(97434),i=a(1763),r=a(5648),s=a(83468),n=a(86121),o=(a(26699),a(36568)),c=a.n(o),p=a(29625),m=a(54433),u=a(57046),_=a(8136),d=a(53451),h=a.n(d),v=a(64236);const{debounce:g}=h();var f,b,k,y,x,D,F,w,q,C,B,z,P,N,j,R,A,L,O,$,T=(0,l.defineComponent)({components:{},setup(e,t){const a=(0,l.ref)({kol_name:"",kol_tag:"",business_type:"",areas:[],kol_company_id:void 0}),i=(0,l.ref)(m.kolTagList),s=(0,l.ref)([{value:p.WD.marketing,label:"整合营销"},{value:p.WD.mcn,label:"S2B2C"}]),n=(0,l.ref)(null),o="docx,pdf,jpg,xlsx,doc,png",c=(0,l.ref)([]),d=(0,l.inject)("kolTag"),h=()=>{d.value=a.value.kol_tag},f=async()=>{const e={num:1e4,page:1},[t,{data:a}]=await Promise.all([await(0,v._v)(500),await(0,r.fd)(e)]);a.success&&(c.value=a.data)},b=(0,l.ref)([]),k=(0,l.ref)(!1),y=(0,l.ref)(!1),x=(0,l.ref)((0,u.I8)(m.areaType)),D=(0,l.ref)({brand:"",key:-1}),F={kol_name:[{required:!0,message:"请输入花名",maxlength:20,trigger:"blur"}],kol_tag:[{required:!0,message:"请选择达人标签",trigger:"change"}],business_type:[{required:!0,message:"请选择业务类型",trigger:"change"}],areas:[{required:!0,message:"请选择擅长类目",trigger:"change"}],kol_company_id:[{required:!0,message:"请选择关联供应商管理中的公司",trigger:"change"}]},w=(0,l.ref)(!1),q=(0,l.inject)("editData"),C=e=>{const t=e.length;k.value=t>0&&t<x.value.length},B=async e=>{const a=e.file,l=5,i=a.name.split(".")[a.name.split(".").length-1],s=o.includes(i.toLowerCase());if(!s)return void t.root.$message.warning("上传格式不正确！");if(l&&a.size>1024*l*1024)return void t.root.$message.warning(`上传文件大小不能超过 ${l}MB!`);y.value=!0;const n=new FormData;n.append("file",a);const{data:c}=await(0,r.WW)(n);y.value=!1,c.success?z.value.push({name:a.name,url:c.data.source}):t.root.$message.warning(c.message)},z=(0,l.ref)([]),P=(e,a)=>{t.root.$message.warning(`当前限制选择 5 个文件，本次选择了 ${e.length} 个文件，共选择了 ${e.length+a.length} 个文件`)},N=async()=>{try{const e=await t.refs.formRef.validate();if(e){if(b.value.length<1)return t.root.$message.warning("请添加合作品牌"),Promise.reject();const e={...a.value};return e.areas=e.areas.toString(),e.cooperation_brand=b.value.filter((e=>!!e&&e)),e.case=z.value.map((e=>e.url)).toString(),Promise.resolve(e)}return Promise.reject()}catch(e){return t.root.$message.warning("请完善表单信息"),Promise.reject()}},j=(e,t,a,l)=>{let i=e.replace(/\D/g,"");""===i?a[t]="":(i=parseInt(i,10),i>l&&(i=l)),a[t]=i+""},R=e=>{b.value.splice(e)},A=(e,t)=>{D.value.brand=e,D.value.key=t,w.value=!0},L=()=>{D.value.brand="",D.value.key=-1,w.value=!0},O=()=>{w.value=!0},$=()=>{D.value.brand="",D.value.key=-1},T=()=>{t.emit("close"),t.root.$nextTick($),w.value=!1},I=(e,t)=>{-1!==t?(0,l.set)(b.value,t,e):b.value.push(e)},E=()=>{n.value?.validate((e=>{if(!e)return!1;-1!==D.value.key?(0,l.set)(b.value,D.value.key,D.value.brand):b.value.push(D.value.brand),w.value=!1}))},K=g(E,200),S=(0,l.ref)(null);return(0,l.watch)((()=>q),(e=>{const{kol_name:t,kol_tag:l,cooperation_brand:i,areas:r,kol_company_id:s}=e.value.kol_info;let{business_type:n}=e.value.kol_info;n=1===n.length?n[0]:"";let o=x.value.filter((e=>r.includes(e.value))).map((e=>e.key));if(o.length>3&&(o=[]),a.value={kol_name:t,kol_tag:l,business_type:n,kol_company_id:s,areas:o},null!==e.value.kol_info.case){const t=e.value.kol_info.case.split(",");if(t.length){const e=[];t.forEach((t=>{if(t){const a=t.split("/");e.push({name:a[a.length-1],url:t})}})),z.value=e}}b.value=i.map((e=>e))}),{deep:!0}),(0,l.watch)((()=>a.value.business_type),(e=>{e===p.WD.marketing?i.value=[{value:m.KolTagEnum.GRASS_KOL,label:"种草达人"},{value:m.KolTagEnum.LIVE_KOL,label:"直播达人"}]:e===p.WD.mcn&&(i.value=[{value:m.KolTagEnum.TAOBAO_KOL,label:"淘宝KOL"},{value:m.KolTagEnum.TAOBAO_KOC,label:"淘宝KOC"},{value:m.KolTagEnum.DOUYIN_KOL,label:"抖音KOL"},{value:m.KolTagEnum.DOUYIN_KOC,label:"抖音KOC"}]),i.value.find((e=>e.value===a.value.kol_tag))||(a.value.kol_tag="",d.value="")})),(0,l.onMounted)((()=>{f()})),{kolForm:a,BusinessTypeOptions:p.Yh,myAreaType:x,validate:N,handleExceed:P,handleCheckedChange:C,uploadFile:B,fileList:z,formRules:F,loadLoading:y,brandList:b,companyList:c,kolTagList:m.kolTagList,isIndeterminate:k,descriptionAccepts:o,inputHandler:j,handleBrandDelete:R,handleBrandEdit:A,addBrandVisiable:w,onAddBrandModalClose:O,currentBrand:D,showBrandCardForm:L,dialogRef:S,getFirstAvatarName:_.Ps,onCloseBtnClick:T,brandFormRef:n,saveCurrentBrand:I,onSaveBtnClick:K,editData:q,kolTag:d,changeKolTag:h,kolBusinessTypeOptions:s,currentTagList:i}},render(){const e=arguments[0];return e("div",{class:"base-info"},[this.editData?.kol_info&&this.editData?.kol_info?.verify_reason&&-1===this.editData?.kol_info?.verify_status&&e("div",{class:"warning-box"},[e("i",{class:"el-icon-warning"}),e("span",{style:"font-weight: 600"},[this.editData?.kol_info?.verify_reason])]),e("el-form",c()([{},{attrs:{model:this.kolForm}},{attrs:{rules:this.formRules,"label-position":"top",size:"small"},ref:"formRef"}]),[e("div",{class:"form-container"},[e("div",{class:"base-item-title",style:"margin-top: 0"},[e("span",{class:"star"},["* "]),e("span",{class:"title"},["达人基础信息"])]),e("div",{class:"flex-line-box"},[e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"达人名称",prop:"kol_name"}},[e("el-input",{attrs:{placeholder:"请输入达人名称",maxlength:20,"show-word-limit":!0},model:{value:this.kolForm.kol_name,callback:e=>{this.$set(this.kolForm,"kol_name",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"业务类型",prop:"business_type"}},[e("el-select",{attrs:{placeholder:"请选择业务类型"},style:{width:"100%"},model:{value:this.kolForm.business_type,callback:e=>{this.$set(this.kolForm,"business_type",e)}}},[this.kolBusinessTypeOptions.map((t=>e("el-option",{attrs:{label:t.label,value:t.value}})))])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"达人标签：",prop:"kol_tag"}},[e("el-select",{attrs:{placeholder:"请选择达人标签"},style:{width:"100%"},on:{change:this.changeKolTag},model:{value:this.kolForm.kol_tag,callback:e=>{this.$set(this.kolForm,"kol_tag",e)}}},[this.currentTagList.map((t=>e("el-option",{attrs:{label:t.label,value:t.value}})))])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"所属公司：",prop:"kol_company_id"}},[e("el-select",{attrs:{placeholder:"请选择",filterable:!0},style:{width:"100%"},model:{value:this.kolForm.kol_company_id,callback:e=>{this.$set(this.kolForm,"kol_company_id",e)}}},[this.companyList.map((t=>e("el-option",{attrs:{label:t.company_name,value:t.company_id}})))])])])]),e("span",{slot:"label",class:"base-item-title"},[e("span",{class:"star"},["* "]),e("span",{class:"title"},["擅长类目"]),e("span",{class:"tips"},["（最多选3项）"])]),e("div",{class:"flex-line-box"},[e("el-form-item",{attrs:{prop:"areas"}},[e("el-checkbox-group",{style:"margin-left: 7px",on:{change:this.handleCheckedChange},attrs:{max:3},model:{value:this.kolForm.areas,callback:e=>{this.$set(this.kolForm,"areas",e)}}},[this.myAreaType.map((t=>e("el-checkbox",{attrs:{label:t.key},key:t.key},[e("p",{class:"checkbox-p"},[t.value])])))])])]),e("span",{slot:"label",class:"base-item-title"},[e("span",{class:"star"},["* "]),e("span",{class:"title"},["已合作品牌"]),e("span",{class:"tips"},["（最少添加1个）"])]),e("div",{class:"flex-line-box",style:"margin-bottom: 16px; column-gap: 30px;"},[this.brandList.map(((t,a)=>{const l=(0,_.Ps)(t);return e("div",[e("el-form-item",[e("div",{class:"brand-item-card"},[e("div",{class:"item-avatar"},[l]),e("div",{class:"item-content"},[e("div",{class:"item-brand-name"},[t])]),e("div",{class:"operation-area"},[e("tg-icon",{class:"ico-btn",attrs:{name:"ico-delete"},on:{click:()=>this.brandList.splice(a,1)}}),e("tg-icon",{class:"ico-btn",attrs:{name:"ico-edit-lite"},on:{click:()=>this.handleBrandEdit(t,a)}})])])])])})),e("div",[this.brandList.length<5?e("div",{class:"add-brand-btn",attrs:{icon:"ico-btn-add"},style:"margin-top: 0",on:{click:this.showBrandCardForm}},[e("i",{class:"el-icon-plus avatar-uploader-icon"}),e("span",["点击添加"])]):""])]),e("el-dialog",{attrs:{visible:this.addBrandVisiable,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1,width:"478px",top:"20vh"},class:"customer-dialog brand-form-modal tg-dialog-vcenter",on:{close:this.onCloseBtnClick}},[e("fragments",{slot:"title"},[-1!==this.currentBrand.key?"编辑品牌":"添加品牌"]),e("div",{class:"dialog-content"},[e("el-form",c()([{},{attrs:{model:this.currentBrand}},{ref:"brandFormRef",attrs:{"label-position":"top",size:"small","label-width":"98px","label-height":"18px"}}]),[e("el-form-item",{class:"brand",attrs:{label:"品牌名称：",prop:"brand",rules:{required:!0,message:"请输入品牌名称",trigger:"blur"}}},[e("el-input",{attrs:{maxlength:"10",size:"medium",placeholder:"请输入品牌名称"},style:"width: 360px",ref:"brandFormRef",model:{value:this.currentBrand.brand,callback:e=>{this.$set(this.currentBrand,"brand",e)}}})])])]),e("template",{slot:"footer",style:"height: 50px"},[e("tg-button",{attrs:{size:"small"},on:{click:this.onCloseBtnClick}},["取消"]),e("tg-button",{attrs:{size:"small",type:"primary"},on:{click:this.onSaveBtnClick}},["保存"])])]),e("br"),e("el-form-item",{style:"margin-left: 9px"},[e("span",{slot:"label",class:"base-item-title add-kol-case"},[e("span",{class:"title"},["达人案例"])]),this.fileList.length<5&&e("el-upload",{class:"upload-demo",attrs:{action:"",httpRequest:this.uploadFile,accept:this.descriptionAccepts,"show-file-list":!1,"before-remove":this.beforeRemove,multiple:!0,max:5},on:{exceed:this.handleExceed}},[e("tg-button",{directives:[{name:"loading",value:this.loadLoading}],attrs:{icon:"ico-btn-upload",className:"mgb-12"},style:" display: block",on:{click:()=>{this.dialogRef?.show("添加案例")}}},["添加案例"]),e("span",{slot:"tip",class:"el-upload__tip",style:"margin-left: 20px"},["支持扩展名：.docx .doc .pdf .jpg .xlsx .png"])]),e("div",{class:"file-list"},[this.fileList.map(((t,a)=>{const l=t.name?t.name:t.url;return e("el-col",{attrs:{span:8}},[e("div",{class:"cases",key:a},[e("p",{class:"labels"},["案例",a+1,"："]),e("p",{class:"text"},[l]),e("span",{class:"mgr-12 operation",on:{click:()=>{void 0===t.lid&&(t.lid=Date.now()),this.dialogRef?.show("编辑案例",{...t})}}}),e("span",{class:"operation",on:{click:()=>{this.fileList.splice(a,1)}}},[e("tg-icon",{attrs:{name:"ico-btn-delete",className:"case-delete"}})])])])}))])])])])])}}),I=T,E=a(1001),K=(0,E.Z)(I,f,b,!1,null,"09d267f4",null),S=K.exports,M=(a(21703),a(68675)),W=(0,l.defineComponent)({setup(e,t){const{city:a,flatCity:i,fetchCityData:r}=(0,M.s)(t),s=(0,l.ref)({contacts:"",contact_wechat:"",contact_phone:"",contact_qq:"",area:[],address:""}),n=(e,t,a)=>s.value.contact_wechat||s.value.contact_phone||s.value.contact_qq?a():a(new Error("电话、微信、QQ至少填一个")),o=(0,l.ref)({contact_wechat:[{validator:n,message:"电话、微信、QQ至少填一个",maxlength:30,trigger:"blur"}],contact_phone:[{validator:n,message:"电话、微信、QQ至少填一个",maxlength:30,trigger:"blur"}],contact_qq:[{validator:n,message:"电话、微信、QQ至少填一个",maxlength:30,trigger:"blur"}],contacts:[{required:!0,message:"请输入联系人",maxlength:30,trigger:"blur"}]}),c=async()=>{try{const e=await t.refs.contactRef.validate();if(e){const{area:e,contacts:t,contact_wechat:a,contact_phone:l,contact_qq:i,address:r}=s.value;return Promise.resolve({contacts:t,contact_wechat:a,contact_phone:l,contact_qq:i,address:r,province:e[0],city:e[1],county:e[2]})}return Promise.reject()}catch(e){return t.root.$message.warning("请完善表单信息"),Promise.reject()}},p=(0,l.inject)("editData");return(0,l.watch)((()=>p),(e=>{const{contacts:t,contact_wechat:a,contact_phone:l,contact_qq:i,address:r,province:n,city:o,county:c}=e.value.kol_info,p=[n,o,c];s.value={contacts:t,contact_wechat:a,contact_phone:l,contact_qq:i,address:r,area:p}}),{deep:!0}),(0,l.onMounted)((()=>{r()})),{contractForm:s,contractRules:o,city:a,flatCity:i,validate:c}},render(){const e=arguments[0];return e("div",{class:"base-info",style:"padding-top: 18px"},[e("el-form",c()([{},{attrs:{model:this.contractForm}},{attrs:{rules:this.contractRules,"label-position":"top",size:"small","label-width":"106px"},ref:"contactRef"}]),[e("div",{class:"form-container",style:"row-gap: 24px"},[e("div",{class:"base-item-title",style:"margin: 0"},[e("span",{class:"star"},["* "]),e("span",{class:"title"},["联系方式"])]),e("div",{class:"flex-line-box"},[e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"联系人：",prop:"contacts"}},[e("el-input",{attrs:{placeholder:"请输入联系人",size:"small",maxlength:20,"show-word-limit":!0},model:{value:this.contractForm.contacts,callback:e=>{this.$set(this.contractForm,"contacts",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"联系电话：",prop:"contact_phone"}},[e("el-input",{attrs:{placeholder:"请输入联系电话",size:"small",maxlength:20,"show-word-limit":!0},on:{input:e=>{this.contractForm.contact_phone=e.replace(/[^\d]/g,"")}},model:{value:this.contractForm.contact_phone,callback:e=>{this.$set(this.contractForm,"contact_phone",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"微信号：",prop:"contact_wechat"}},[e("el-input",{attrs:{placeholder:"请输入微信号",size:"small",maxlength:20,"show-word-limit":!0},model:{value:this.contractForm.contact_wechat,callback:e=>{this.$set(this.contractForm,"contact_wechat",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"QQ号：",prop:"contact_qq"}},[e("el-input",{attrs:{placeholder:"请输入QQ号",size:"small",maxlength:20,"show-word-limit":!0},on:{input:e=>{this.contractForm.contact_qq=e.replace(/[^\d]/g,"")}},model:{value:this.contractForm.contact_qq,callback:e=>{this.$set(this.contractForm,"contact_qq",e)}}})])])]),e("div",{class:"flex-line-box"},[e("div",{class:"double"},[e("el-form-item",{attrs:{label:"寄样地址："}},[e("el-cascader",c()([{ref:"cascader",attrs:{options:this.city},style:"width: 100%"},{attrs:{props:{value:"name",label:"name",checkStrictly:!0}}},{attrs:{placeholder:"请选择省/市/区"},model:{value:this.contractForm.area,callback:e=>{this.$set(this.contractForm,"area",e)}}}]))])]),e("div",{class:"double"},[e("el-form-item",{attrs:{label:"详细地址："}},[e("el-input",{attrs:{placeholder:"请填写详细地址",size:"small",maxlength:50,"show-word-limit":!0},model:{value:this.contractForm.address,callback:e=>{this.$set(this.contractForm,"address",e)}}})])])])])])])}}),Y=W,Q=(0,E.Z)(Y,k,y,!1,null,"3c17aca6",null),Z=Q.exports,H=(0,l.defineComponent)({components:{kolDouyin:ae,kolKuaishou:se,kolXiaohongshu:pe,kolTaobao:de},setup:((e,t)=>{const a=(0,l.ref)([]),i=m.newPlatformList.slice(1);a.value=i.map((e=>({...e,checked:!1})));const r=(0,l.inject)("editData"),s=(0,l.ref)("0"),n=e=>{switch(e){case"tb":return(0,l.h)(de,{ref:"kol_"+e,attrs:{checked:a.value[1].checked}});case"douyin":return(0,l.h)(ae,{ref:"kol_"+e,attrs:{checked:a.value[0].checked}});case"xhs":return(0,l.h)(pe,{ref:"kol_"+e,attrs:{checked:a.value[2].checked}});case"kuaishou":return(0,l.h)(se,{ref:"kol_"+e,attrs:{checked:a.value[3].checked}});default:return(0,l.h)(ae,{ref:"kol_"+e,attrs:{checked:a.value[0].checked}})}},o=async()=>{const e=a.value.filter((e=>e.checked));if(!e.length)return t.root.$message.warning("至少勾选一个平台"),Promise.reject();try{const a=await Promise.all(e.map((async e=>await t.refs["kol_"+e.value].validate()))),l={};for(let e=0;e<a.length;e++){const t=Object.keys(a[e])[0],i=a[e];l[t]=i[t]}return Promise.resolve(l)}catch(l){return t.root.$message.warning("请完善平台表单信息"),Promise.reject()}};return(0,l.watch)((()=>r),(e=>{const{star_info:t,kol_douyin_info:l,kol_xhs_info:i,kol_kuaishou_info:r}=e.value;l&&(a.value[0].checked=!0),t&&(a.value[1].checked=!0,l||(s.value="1")),i&&(a.value[2].checked=!0,l||t||(s.value="2")),r&&(a.value[3].checked=!0,l||t||i||(s.value="3"))}),{deep:!0}),{platformList:a,renderPlatform:n,validate:o,selectvalue:s}}).bind({$createElement:l.h}),render(){const e=arguments[0];return e("div",{class:"base-info"},[e("div",{class:"form-container"},[e("div",{class:"base-item-title",style:"margin-top: 0"},[e("span",{class:"star"},["* "]),e("span",{class:"title"},["擅长平台"]),e("span",{class:"subtitle"},["(至少勾选一个平台)"])]),e("div",{class:"generator-kol-platform"},[e("el-tabs",{attrs:{type:"border-card"},model:{value:this.selectvalue,callback:e=>{this.selectvalue=e}}},[this.platformList.map((t=>e("el-tab-pane",[e("div",{slot:"label"},[e("el-checkbox",{on:{change:e=>{t.checked=e}},key:t.value,class:"platform-checkbox ",model:{value:t.checked,callback:e=>{this.$set(t,"checked",e)}}}),e("span",{class:"platform-checkbox-p"},[t.label])]),this.renderPlatform(t.value)])))])])])])}}),U=H,V=(0,E.Z)(U,x,D,!1,null,"00791bbe",null),G=V.exports,X=a(61282),J=(0,l.defineComponent)({name:"kolDouyin",props:{checked:{type:Boolean,default:!1}},components:{platformForm:fe},setup(e,t){const a=(0,l.ref)({douyin_name:"",douyin_id:"",baiying_id:"",qianchuan_uid:"",fans_number:"",praise_number:""}),i=(0,l.ref)({}),r=(0,l.inject)("editData"),s=(0,l.inject)("companyList"),n=(0,l.ref)({live_special_price:"",live_special_publish_price:"",special_commission_min_percent:"",avg_sales_amount:"",live_pit_price:"",live_pit_publish_price:"",mix_min_commission_percent:"",pure_min_commission_percent:""}),o=(0,l.ref)({video_1_20_star_map_price:"",video_21_60_star_map_price:"",video_gt_60_star_map_price:"",shopcart_without_fee_price:"",shopcart_min_commission_percent:""}),c=(0,l.ref)({checked:!1,kolTag:"",pure_min_commission_percent:"",video_1_20_star_map_price:"",video_21_60_star_map_price:"",video_gt_60_star_map_price:""}),p=e=>{d.value={live_pit_price:[{required:e,message:"坑位费成本价必填",trigger:"blur"}],live_pit_publish_price:[{required:e,message:"坑位费刊例价必填",trigger:"blur"}],mix_min_commission_percent:[{required:e,message:"混播佣金必填",trigger:"blur"}]}},u=e=>{h.value={video_1_20_star_map_price:[{required:e,message:"种草达人星图报价至少填1项",trigger:"blur"}],video_21_60_star_map_price:[{required:e,message:"种草达人星图报价至少填1项",trigger:"blur"}],video_gt_60_star_map_price:[{required:e,message:"种草达人星图报价至少填1项",trigger:"blur"}]}},_=(0,l.ref)({douyin_name:[{required:!0,message:"请输入昵称",trigger:"blur"}],douyin_id:[{required:!0,message:"请输入抖音号",trigger:"blur"}],fans_number:[{required:!0,message:"请输入粉丝数",trigger:"blur"}],praise_number:[{required:!0,message:"请输入获赞数",trigger:"blur"}]}),d=(0,l.ref)({}),h=(0,l.ref)({}),v=(0,l.ref)([{component:"el-input",className:"common-input",prop:"douyin_name",label:"昵称",children:{value:"",key:"douyin_name",attrs:{size:"small",placeholder:"请输入昵称",maxlength:30}}},{component:"el-input",className:"common-input",prop:"douyin_id",label:"抖音号",children:{value:"",key:"douyin_id",attrs:{size:"small",placeholder:"请输入抖音号",maxlength:20}}},{component:"el-input",className:"common-input",prop:"baiying_id",label:"百应ID",children:{value:"",key:"baiying_id",attrs:{size:"small",placeholder:"请输入百应ID",maxlength:20}}},{component:"el-input",className:"common-input",prop:"qianchuan_uid",label:"UID",children:{value:"",key:"qianchuan_uid",attrs:{size:"small",placeholder:"请输入UID",maxlength:20}}},{component:"el-input",className:"common-input",prop:"fans_number",label:"粉丝数",children:{value:"",key:"fans_number",attrs:{maxlength:11,size:"small",placeholder:"请输入粉丝数"}},on:{input:function(e,t,a){t[a]=(0,X.nA)(e)}},unit:"万"},{component:"el-input",className:"common-input",prop:"praise_number",label:"获赞数",children:{value:"",key:"praise_number",attrs:{maxlength:11,size:"small",placeholder:"请输入获赞数"}},on:{input:function(e,t,a){t[a]=(0,X.nA)(e)}},unit:"万"}]),g=(0,l.ref)([{component:"el-input",className:"common-input",prop:"live_pit_price",label:"坑位费成本价",children:{value:"",key:"live_pit_price",attrs:{maxlength:11,size:"small",placeholder:"请输入坑位费成本价"}}},{component:"el-input",className:"common-input",prop:"live_pit_publish_price",label:"坑位费刊例价",children:{value:"",key:"live_pit_publish_price",attrs:{maxlength:11,size:"small",placeholder:"请输入坑位费刊例价"}}},{component:"el-input",className:"common-input",prop:"mix_min_commission_percent",label:"混播佣金",children:{value:"",key:"mix_min_commission_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入混播佣金"}}},{component:"el-input",className:"common-input",prop:"pure_min_commission_percent",label:"纯佣金",children:{value:"",key:"pure_min_commission_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入纯佣金"}},on:{input:function(e,t,a){c.value.pure_min_commission_percent=e,t[a]=e}}},{component:"el-input",className:"common-input",prop:"live_special_price",label:"专场成本价",children:{value:"",key:"live_special_price",attrs:{maxlength:11,size:"small",placeholder:"请输入专场成本价"}}},{component:"el-input",className:"common-input",prop:"live_special_publish_price",label:"专场刊例价",children:{value:"",key:"live_special_publish_price",attrs:{maxlength:11,size:"small",placeholder:"请输入专场刊例价"}}},{component:"el-input",className:"common-input",prop:"special_commission_min_percent",label:"专场佣金比例",children:{value:"",key:"special_commission_min_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入专场佣金比例"}}},{component:"el-input",className:"common-input",prop:"avg_sales_amount",label:"场均销售额（万）",children:{value:"",key:"avg_sales_amount",attrs:{maxlength:11,size:"small",placeholder:"请输入场均销售额（万）"}}}]),f=(0,l.ref)([{component:"el-input",className:"common-input",prop:"video_1_20_star_map_price",label:"星图20秒成本价",children:{value:"",key:"video_1_20_star_map_price",attrs:{maxlength:11,size:"small",placeholder:"请输入星图20秒成本价"}},on:{input:function(e,t,a){c.value.video_1_20_star_map_price=e,t[a]=e}}},{component:"el-input",className:"common-input",prop:"video_21_60_star_map_price",label:"星图20-60秒成本价",children:{value:"",key:"video_21_60_star_map_price",attrs:{maxlength:11,size:"small",placeholder:"请输入星图20-60秒成本价"}},on:{input:function(e,t,a){c.value.video_21_60_star_map_price=e,t[a]=e}}},{component:"el-input",className:"common-input",prop:"video_gt_60_star_map_price",label:"星图60秒以上成本价",children:{value:"",key:"video_gt_60_star_map_price",attrs:{maxlength:11,size:"small",placeholder:"请输入星图60秒以上成本价"}},on:{input:function(e,t,a){c.value.video_gt_60_star_map_price=e,t[a]=e}}},{component:"el-input",className:"common-input",prop:"shopcart_without_fee_price",label:"购物车费用（不含税）",children:{value:"",key:"shopcart_without_fee_price",attrs:{maxlength:11,size:"small",placeholder:"请输入购物车费用（不含税）"}}},{component:"el-input",className:"common-input",prop:"shopcart_min_commission_percent",label:"购物车佣金",children:{value:"",key:"shopcart_min_commission_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入购物车佣金"}}}]),b=(0,l.inject)("kolTag"),k=(0,l.ref)(""),y=async()=>{try{const e=await t.refs.douyinPlatform.validate(),a=await t.refs.douyinLivePlatform.validate(),l=await t.refs.kolPlatform.validate(),r=Object.assign(i.value,e,a,l);return Promise.resolve({douyin:r})}catch(e){return Promise.reject()}};return(0,l.watch)((()=>b),(e=>{c.value.kolTag=e.value}),{deep:!0}),(0,l.watch)((()=>r),(e=>{const{kol_douyin_info:t}=e.value;if(t){i.value=t;const{douyin_name:e,douyin_id:l,baiying_id:r,qianchuan_uid:s,fans_number:p,praise_number:m,live_pit_price:u,live_pit_publish_price:_,mix_min_commission_percent:d,pure_min_commission_percent:h,live_special_price:v,live_special_publish_price:g,special_commission_min_percent:f,avg_sales_amount:b,video_1_20_star_map_price:k,video_21_60_star_map_price:y,video_gt_60_star_map_price:x,shopcart_without_fee_price:D,shopcart_min_commission_percent:F}=t;a.value={douyin_name:e,douyin_id:l,baiying_id:r,qianchuan_uid:s,fans_number:p,praise_number:m},n.value={live_pit_price:u,live_pit_publish_price:_,mix_min_commission_percent:d,pure_min_commission_percent:h,live_special_price:v,live_special_publish_price:g,special_commission_min_percent:f,avg_sales_amount:b},o.value={video_1_20_star_map_price:k,video_21_60_star_map_price:y,video_gt_60_star_map_price:x,shopcart_without_fee_price:D,shopcart_min_commission_percent:F},c.value.pure_min_commission_percent=h,c.value.video_1_20_star_map_price=k,c.value.video_21_60_star_map_price=y,c.value.video_gt_60_star_map_price=x}}),{deep:!0}),(0,l.watch)((()=>e.checked),(e=>{c.value.checked=e,_.value={douyin_name:[{required:e,message:"请输入昵称",trigger:"blur"}],douyin_id:[{required:e,message:"请输入抖音号",trigger:"blur"}],fans_number:[{required:e,message:"请输入粉丝数",trigger:"blur"}],praise_number:[{required:e,message:"请输入获赞数",trigger:"blur"}]}}),{deep:!0}),(0,l.watch)((()=>c.value),(e=>{if(e.kolTag===m.KolTagEnum.GRASS_KOL){const t=c.value.checked&&!(e.video_1_20_star_map_price||e.video_21_60_star_map_price||e.video_gt_60_star_map_price);u(t),p(!1),k.value="(种草达人星图报价至少填1项)"}else e.kolTag===m.KolTagEnum.LIVE_KOL?(c.value.checked&&!e.pure_min_commission_percent?p(!0):p(!1),u(!1),k.value=""):(p(!1),u(!1),k.value="")}),{deep:!0}),{formData:a,formRules:_,structData:v,liveStructData:g,companyList:s,liveFormData:n,kolFormData:o,validate:y,kolStructData:f,kolTips:k,liveFormRules:d,kolFormRules:h,props:e}},render(){const e=arguments[0];return e("div",{class:"base-info",style:"padding-left: 3px"},[e(fe,{ref:"douyinPlatform",attrs:{labelWidth:"106px",rules:this.formRules,title:"基础信息",formData:this.formData,structData:this.structData,required:this.props.checked}}),e(fe,{ref:"douyinLivePlatform",attrs:{labelWidth:"106px",title:"直播报价",structData:this.liveStructData,formData:this.liveFormData,rules:this.liveFormRules}}),e(fe,{ref:"kolPlatform",attrs:{labelWidth:"106px",title:"种草成本",tips:this.kolTips,structData:this.kolStructData,formData:this.kolFormData,rules:this.kolFormRules}})])}}),ee=J,te=(0,E.Z)(ee,F,w,!1,null,null,null),ae=te.exports,le=(0,l.defineComponent)({name:"kolKuaishou",props:{checked:{type:Boolean,default:!1}},components:{platformForm:fe},setup(e,t){const a=(0,l.inject)("editData"),i=(0,l.inject)("companyList"),r=(0,l.ref)({}),s=(0,l.ref)({kuaishou_name:"",kuaishou_id:"",fans_number:""}),n=(0,l.ref)({live_pit_price:"",live_pit_publish_price:"",mix_min_commission_percent:"",pure_min_commission_percent:"",live_special_price:"",live_special_publish_price:"",special_commission_min_percent:"",avg_sales_amount:""}),o=(0,l.ref)({kuaishou_name:[{required:!0,message:"请输入昵称",trigger:"blur"}],kuaishou_id:[{required:!0,message:"请输入快手号",trigger:"blur"}],fans_number:[{required:!0,message:"请输入粉丝数",trigger:"blur"}]}),c=(0,l.ref)([{component:"el-input",className:"common-input",prop:"kuaishou_name",label:"昵称",children:{value:"",key:"kuaishou_name",attrs:{size:"small",placeholder:"请输入昵称",maxlength:30}}},{component:"el-input",className:"common-input",prop:"kuaishou_id",label:"快手号",children:{value:"",key:"kuaishou_id",attrs:{size:"small",placeholder:"请输入快手号",maxlength:20}}},{component:"el-input",className:"common-input",prop:"fans_number",label:"粉丝数",children:{value:"",key:"fans_number",attrs:{maxlength:11,size:"small",placeholder:"请输入粉丝数"}},on:{input:function(e,t,a){t[a]=(0,X.nA)(e)}},unit:"万"}]),p=(0,l.ref)({live_pit_price:[{required:!0,message:"请输入坑位费成本价",trigger:"blur"}],live_pit_publish_price:[{required:!0,message:"请输入坑位费刊例价",trigger:"blur"}],mix_min_commission_percent:[{required:!0,message:"请输入混播佣金",trigger:"blur"}],pure_min_commission_percent:[{required:!0,message:"请输入纯佣金",trigger:"blur"}]}),m=(0,l.ref)([{component:"el-input",className:"common-input",prop:"live_pit_price",label:"坑位费成本价",children:{value:"",key:"live_pit_price",attrs:{maxlength:11,size:"small",placeholder:"请输入坑位费成本价"}}},{component:"el-input",className:"common-input",prop:"live_pit_publish_price",label:"坑位费刊例价",children:{value:"",key:"live_pit_publish_price",attrs:{maxlength:11,size:"small",placeholder:"请输入坑位费刊例价"}}},{component:"el-input",className:"common-input",prop:"mix_min_commission_percent",label:"混播佣金",children:{value:"",key:"mix_min_commission_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入混播佣金"}}},{component:"el-input",className:"common-input",prop:"pure_min_commission_percent",label:"纯佣金",children:{value:"",key:"pure_min_commission_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入纯佣金"}}},{component:"el-input",className:"common-input",prop:"live_special_price",label:"专场成本价",children:{value:"",key:"live_special_price",attrs:{maxlength:11,size:"small",placeholder:"请输入专场成本价"}}},{component:"el-input",className:"common-input",prop:"live_special_publish_price",label:"专场刊例价",children:{value:"",key:"live_special_publish_price",attrs:{maxlength:11,size:"small",placeholder:"请输入专场刊例价"}}},{component:"el-input",className:"common-input",prop:"special_commission_min_percent",label:"专场佣金",children:{value:"",key:"special_commission_min_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入专场佣金"}}},{component:"el-input",className:"common-input",prop:"avg_sales_amount",label:"场均销售额（万）",children:{value:"",key:"avg_sales_amount",attrs:{maxlength:11,size:"small",placeholder:"请输入场均销售额（万）"}}}]),u=async()=>{try{const e=await t.refs.ksPlatform.validate(),a=await t.refs.ksLivePlatform.validate();return Promise.resolve({kuaishou:Object.assign({},e,a)})}catch(e){return Promise.reject()}};return(0,l.watch)((()=>a),(e=>{const{kol_kuaishou_info:t}=e.value;if(t){r.value=t;const{kuaishou_name:e,kuaishou_id:a,fans_number:l,live_pit_price:i,live_pit_publish_price:o,mix_min_commission_percent:c,pure_min_commission_percent:p,live_special_price:m,live_special_publish_price:u,special_commission_min_percent:_,avg_sales_amount:d}=t;s.value={kuaishou_name:e,kuaishou_id:a,fans_number:l},n.value={live_pit_price:i,live_pit_publish_price:o,mix_min_commission_percent:c,pure_min_commission_percent:p,live_special_price:m,live_special_publish_price:u,special_commission_min_percent:_,avg_sales_amount:d}}}),{deep:!0}),(0,l.watch)((()=>e.checked),(e=>{o.value={kuaishou_name:[{required:e,message:"请输入昵称",trigger:"blur"}],kuaishou_id:[{required:e,message:"请输入快手号",trigger:"blur"}],fans_number:[{required:e,message:"请输入粉丝数",trigger:"blur"}]}}),{deep:!0}),{formData:s,formRules:o,structData:c,liveStructData:m,companyList:i,liveFormData:n,validate:u,liveFormRules:p,props:e}},render(){const e=arguments[0];return e("div",{class:"base-info",style:"padding-left: 3px"},[e(fe,{ref:"ksPlatform",attrs:{labelWidth:"106px",rules:this.formRules,title:"基础信息",formData:this.formData,structData:this.structData,required:this.props.checked}}),e(fe,{ref:"ksLivePlatform",attrs:{labelWidth:"106px",title:"直播",rules:this.liveFormRules,structData:this.liveStructData,formData:this.liveFormData}})])}}),ie=le,re=(0,E.Z)(ie,q,C,!1,null,null,null),se=re.exports,ne=(0,l.defineComponent)({name:"kolXiaohongshu",props:{checked:{type:Boolean,default:!1}},components:{platformForm:fe},setup(e,t){const a=(0,l.inject)("editData"),i=(0,l.ref)({}),r=(0,l.ref)({xhs_name:"",fans_number:"",praise_collection:"",homepage_link:""}),s=(0,l.ref)({photo_filing_price:"",video_filing_price:"",photo_not_filing_price:"",video_not_filing_price:""}),n=(0,l.ref)({checked:!1,photo_filing_price:"",video_filing_price:"",photo_not_filing_price:"",video_not_filing_price:""}),o=(0,l.ref)({xhs_name:[{required:!0,message:"请输入昵称",trigger:"blur"}],fans_number:[{required:!0,message:"请输入粉丝数",trigger:"blur"}],praise_collection:[{required:!0,message:"请输入赞藏数",trigger:"blur"}],homepage_link:[{required:!0,message:"主页链接",trigger:"blur"}]}),c=(0,l.ref)({photo_filing_price:[{required:!0,message:"至少填1项报价",trigger:"blur"}],video_filing_price:[{required:!0,message:"至少填1项报价",trigger:"blur"}],photo_not_filing_price:[{required:!0,message:"至少填1项报价",trigger:"blur"}],video_not_filing_price:[{required:!0,message:"至少填1项报价",trigger:"blur"}]}),p=(0,l.ref)([{component:"el-input",className:"common-input",prop:"xhs_name",label:"昵称",children:{value:"",key:"xhs_name",attrs:{size:"small",placeholder:"请输入昵称",maxlength:30}}},{component:"el-input",className:"common-input",prop:"fans_number",label:"粉丝数",children:{value:"",key:"fans_number",attrs:{maxlength:11,size:"small",placeholder:"请输入粉丝数"}},on:{input:function(e,t,a){t[a]=(0,X.nA)(e)}},unit:"万"},{component:"el-input",className:"common-input",prop:"praise_collection",label:"赞藏数",children:{value:"",key:"praise_collection",attrs:{maxlength:11,size:"small",placeholder:"请输入获赞数"}},on:{input:function(e,t,a){t[a]=(0,X.nA)(e)}},unit:"万"},{component:"el-input",className:"common-input",prop:"homepage_link",label:"主页链接",children:{key:"homepage_link",attrs:{size:"small",placeholder:"请输入主页链接",maxlength:255}}}]),m=(0,l.ref)([{component:"el-input",className:"common-input",prop:"photo_not_filing_price",label:"图文不报备成本价",children:{value:"",key:"photo_not_filing_price",attrs:{maxlength:11,size:"small",placeholder:"请输入图文不报备成本价"}},on:{input:function(e,t,a){n.value.photo_not_filing_price=e,t[a]=e}}},{component:"el-input",className:"common-input",prop:"photo_filing_price",label:"图文报备成本价",children:{value:"",key:"photo_filing_price",attrs:{maxlength:11,size:"small",placeholder:"请输入图文报备成本价"}},on:{input:function(e,t,a){n.value.photo_filing_price=e,t[a]=e}}},{component:"el-input",className:"common-input",prop:"video_not_filing_price",label:"视频不报备成本价",children:{value:"",key:"video_not_filing_price",attrs:{maxlength:11,size:"small",placeholder:"请输入视频不报备成本价"}},on:{input:function(e,t,a){n.value.video_not_filing_price=e,t[a]=e}}},{component:"el-input",className:"common-input",prop:"video_filing_price",label:"视频报备成本价",children:{value:"",key:"video_filing_price",attrs:{maxlength:11,size:"small",placeholder:"请输入视频报备成本价"}},on:{input:function(e,t,a){n.value.video_filing_price=e,t[a]=e}}}]),u=async()=>{try{const e=await t.refs.xhsPlatform.validate(),a=await t.refs.xhsKolPlatform.validate();return Promise.resolve({xhs:Object.assign(i.value,e,a)})}catch(e){return Promise.reject()}};return(0,l.watch)((()=>e.checked),(e=>{n.value.checked=e,o.value={xhs_name:[{required:e,message:"请输入昵称",trigger:"blur"}],fans_number:[{required:e,message:"请输入粉丝数",trigger:"blur"}],praise_collection:[{required:e,message:"请输入赞藏数",trigger:"blur"}],homepage_link:[{required:e,message:"主页链接",trigger:"blur"}]}}),{deep:!0}),(0,l.watch)((()=>a),(e=>{const{kol_xhs_info:t}=e.value;if(t){i.value=t;const{xhs_name:e,fans_number:a,praise_collection:l,homepage_link:o,photo_filing_price:c,video_filing_price:p,photo_not_filing_price:m,video_not_filing_price:u}=t;r.value={xhs_name:e,fans_number:a,praise_collection:l,homepage_link:o},s.value={photo_filing_price:c,video_filing_price:p,photo_not_filing_price:m,video_not_filing_price:u},n.value.photo_filing_price=c,n.value.photo_not_filing_price=m,n.value.video_filing_price=p,n.value.video_not_filing_price=u}}),{deep:!0}),(0,l.watch)((()=>n.value),(t=>{const a=e.checked&&!(t.video_filing_price||t.video_not_filing_price||t.photo_filing_price||t.photo_not_filing_price);c.value={video_filing_price:[{required:a,message:"至少填1项报价",trigger:"blur"}],video_not_filing_price:[{required:a,message:"至少填1项报价",trigger:"blur"}],photo_filing_price:[{required:a,message:"至少填1项报价",trigger:"blur"}],photo_not_filing_price:[{required:a,message:"至少填1项报价",trigger:"blur"}]}}),{deep:!0}),{formData:r,formRules:o,structData:p,kolStructData:m,kolFormData:s,validate:u,kolFormRules:c,props:e}},render(){const e=arguments[0];return e("div",{class:"base-info",style:"padding-left: 3px"},[e(fe,{ref:"xhsPlatform",attrs:{labelWidth:"106px",rules:this.formRules,title:"基础信息",formData:this.formData,structData:this.structData,required:this.props.checked}}),e(fe,{ref:"xhsKolPlatform",attrs:{labelWidth:"106px",title:"种草",subTitle:"formData",structData:this.kolStructData,formData:this.kolFormData,rules:this.kolFormRules}})])}}),oe=ne,ce=(0,E.Z)(oe,B,z,!1,null,null,null),pe=ce.exports,me=(0,l.defineComponent)({name:"kolTaobao",props:{checked:{type:Boolean,default:!1}},components:{platformForm:fe},setup(e,t){const a=(0,l.ref)({star_name:"",star_id:"",fans_number:""}),i=(0,l.ref)({}),r=(0,l.ref)({star_mix_cost:"",star_mix_price:"",mix_min_commission_percent:"",pure_min_commission_percent:"",star_special_cost:"",star_special_price:"",special_commission_min_percent:""}),s=(0,l.inject)("editData"),n=(0,l.ref)({star_name:[{required:!0,message:"请输入淘宝账号",trigger:"blur"}],star_id:[{required:!0,message:"请输入淘宝ID",trigger:"blur"}],fans_number:[{required:!0,message:"请输入粉丝数",trigger:"blur"}]}),o=(0,l.ref)([{component:"el-input",className:"common-input",prop:"star_name",label:"淘宝账号",children:{value:"",key:"star_name",attrs:{size:"small",placeholder:"请输入淘宝账号",maxlength:30}}},{component:"el-input",className:"common-input",prop:"star_id",label:"淘宝ID",children:{value:"",key:"star_id",attrs:{size:"small",placeholder:"请输入淘宝ID",maxlength:20}}},{component:"el-input",className:"common-input",prop:"fans_number",label:"粉丝数",children:{value:"",key:"fans_number",attrs:{maxlength:11,size:"small",placeholder:"请输入粉丝数"}},on:{input:function(e,t,a){t[a]=(0,X.nA)(e)}},unit:"万"}]),c=(0,l.ref)({star_mix_cost:[{required:!0,message:"请输入混播成本价",trigger:"blur"}],star_mix_price:[{required:!0,message:"请输入混播刊例价",trigger:"blur"}],mix_min_commission_percent:[{required:!0,message:"请输入混播佣金",trigger:"blur"}],pure_min_commission_percent:[{required:!0,message:"请输入纯佣金",trigger:"blur"}]}),p=(0,l.ref)([{component:"el-input",className:"common-input",prop:"star_mix_cost",label:"混播成本价",children:{value:"",key:"star_mix_cost",attrs:{maxlength:11,size:"small",placeholder:"请输入混播成本价"}}},{component:"el-input",className:"common-input",prop:"star_mix_price",label:"混播刊例价",children:{value:"",key:"star_mix_price",attrs:{maxlength:11,size:"small",placeholder:"请输入混播刊例价"}}},{component:"el-input",className:"common-input",prop:"mix_min_commission_percent",label:"混播佣金",children:{value:"",key:"mix_min_commission_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入混播佣金"}}},{component:"el-input",className:"common-input",prop:"pure_min_commission_percent",label:"纯佣金",children:{value:"",key:"pure_min_commission_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入纯佣金"}}},{component:"el-input",className:"common-input",prop:"star_special_cost",label:"专场成本价",children:{value:"",key:"star_special_cost",attrs:{maxlength:11,size:"small",placeholder:"请输入专场成本价"}}},{component:"el-input",className:"common-input",prop:"star_special_price",label:"专场刊例价",children:{value:"",key:"star_special_price",attrs:{maxlength:11,size:"small",placeholder:"请输入专场刊例价"}}},{component:"el-input",className:"common-input",prop:"special_commission_min_percent",label:"专场佣金",children:{value:"",key:"special_commission_min_percent",attrs:{maxlength:11,size:"small",placeholder:"请输入专场佣金"}}}]),m=async()=>{try{const e=await t.refs.taobaoPlatform.validate(),a=await t.refs.taobaoLivePlatform.validate();return Promise.resolve({tb:Object.assign(i.value,e,a)})}catch(e){return Promise.reject()}};return(0,l.watch)((()=>s),(e=>{const{star_info:t}=e.value;if(t){i.value=t;const{star_name:e,star_id:l,fans_number:s,star_special_cost:n,star_special_price:o,special_commission_min_percent:c,star_mix_cost:p,star_mix_price:m,mix_min_commission_percent:u,pure_min_commission_percent:_}=t;a.value={star_name:e,star_id:l,fans_number:s},r.value={star_mix_cost:p,star_mix_price:m,mix_min_commission_percent:u,pure_min_commission_percent:_,star_special_cost:n,star_special_price:o,special_commission_min_percent:c}}}),{deep:!0}),(0,l.watch)((()=>e.checked),(e=>{n.value={star_name:[{required:e,message:"请输入淘宝账号",trigger:"blur"}],star_id:[{required:e,message:"请输入淘宝ID",trigger:"blur"}],fans_number:[{required:e,message:"请输入粉丝数",trigger:"blur"}]},c.value={star_mix_cost:[{required:e,message:"请输入混播成本价",trigger:"blur"}],star_mix_price:[{required:e,message:"请输入混播刊例价",trigger:"blur"}],mix_min_commission_percent:[{required:e,message:"请输入混播佣金",trigger:"blur"}],pure_min_commission_percent:[{required:e,message:"请输入纯佣金",trigger:"blur"}]}}),{deep:!0}),{formData:a,formRules:n,structData:o,liveStructData:p,liveFormData:r,validate:m,liveFormRules:c,props:e}},render(){const e=arguments[0];return e("div",{class:"base-info",style:"padding-left: 3px"},[e(fe,{ref:"taobaoPlatform",attrs:{labelWidth:"106px",rules:this.formRules,title:"基础信息",formData:this.formData,structData:this.structData,required:this.props.checked}}),e(fe,{ref:"taobaoLivePlatform",attrs:{labelWidth:"106px",title:"直播报价",rules:this.liveFormRules,structData:this.liveStructData,formData:this.liveFormData}})])}}),ue=me,_e=(0,E.Z)(ue,P,N,!1,null,null,null),de=_e.exports,he=(0,l.defineComponent)({name:"platformForm",props:{labelWidth:{type:String,default:"106px"},rules:{type:Object,default:()=>({})},formData:{type:Object,default:()=>({})},structData:{type:Array,default:()=>[]},title:{type:String,default:"基础信息"},tips:{type:String,default:""},required:{type:Boolean,default:!1}},setup(e,t){const a=(0,l.ref)({douyin_type:[]}),i=async()=>{try{const e=await t.refs.formRef.validate();return e?Promise.resolve(a.value):Promise.reject()}catch(e){return Promise.reject()}};return(0,l.watch)((()=>e.formData),(e=>{a.value=e})),(0,l.watch)((()=>e.rules),(e=>{const l=(0,u.I8)(a.value);t.refs.formRef.resetFields(),a.value=l}),{deep:!0}),(0,l.onMounted)((()=>{a.value=(0,u.I8)(e.formData)})),{commonObj:a,validate:i,prop:e}},render(){const e=arguments[0],t=this.structData,a=[];for(let l=0;l<t.length/4;l++){const e=t.slice(4*l,4*(l+1));a.push(e)}return e("div",{class:"border-card-base-info"},[e("el-form",c()([{},{attrs:{model:this.commonObj}},{attrs:{rules:this.prop.rules,"label-position":"top",size:"small","label-width":this.labelWidth},ref:"formRef"}]),[e("div",{class:"form-container"},[this.title?e("div",{class:"base-item-title"},[this.required?e("span",{class:"star"},["* "]):"",e("span",{class:"title"},[this.title]),this.tips?e("span",{class:"tips"},[this.tips]):""]):"",a?a.map((t=>e("div",{class:"flex-line-box"},[t.map((t=>{if("el-input"===t.component){const{label:a,prop:l,children:i,unit:r,on:s}=t;return e("div",{class:"flex-line-item-4"},[e("el-form-item",{attrs:{label:a,prop:l}},[e("el-input",c()([{attrs:{"show-word-limit":!0}},i,{on:{input:e=>{s?.input?.apply(this,[e,this.commonObj,i.key])}},model:{value:this.commonObj[i.key],callback:e=>{this.$set(this.commonObj,i.key,e)}}}]),[r&&e("span",{slot:"append"},[r])])])])}if("el-select"===t.component){const{label:a,prop:l,children:i,selectOptions:r,on:s,labelSlot:n}=t;return e("div",{class:"flex-line-item-4"},[e("el-form-item",{attrs:{prop:l}},[e("span",{slot:"label"},[a,n&&e("el-tooltip",{attrs:{"popper-class":"sales-popper-class",content:n,placement:"top",effect:"light"}},[e("tg-icon",{style:"margin-left:5px",attrs:{name:"ico-question"}})])]),e("el-select",c()([{},{attrs:{...i.attrs}},{},{on:{...s}},{model:{value:this.commonObj[i.key],callback:e=>{this.$set(this.commonObj,i.key,e)}}}]),[r.data.map((t=>e("el-option",{key:t[r.key],attrs:{label:t[r.key],value:t[r.val]}})))])])])}if("el-radio-group"===t.component){const{label:a,prop:l,children:i,selectOptions:r,on:s}=t;return e("div",{class:"flex-line-item-4"},[e("el-form-item",{attrs:{label:a,prop:l}},[e("el-radio-group",c()([{},{attrs:{...i.attrs}},{},{on:{...s}},{model:{value:this.commonObj[i.key],callback:e=>{this.$set(this.commonObj,i.key,e)}}}]),[r.data.map((t=>e("el-radio",{attrs:{label:t[r.val]}},[t[r.key]])))])])])}if("el-checkbox-group"===t.component){const{label:a,prop:l,children:i,selectOptions:r,on:s}=t;return e("div",{class:"flex-line-item-4"},[e("el-form-item",{attrs:{label:a,prop:l}},[e("el-checkbox-group",c()([{},{attrs:{...i.attrs}},{},{on:{...s}},{model:{value:this.commonObj[i.key],callback:e=>{this.$set(this.commonObj,i.key,e)}}}]),[r.data.map((t=>e("el-checkbox",{attrs:{label:t[r.val]},key:t[r.val]},[t[r.key]])))])])])}}))]))):""])])])}}),ve=he,ge=(0,E.Z)(ve,j,R,!1,null,"5b051c6c",null),fe=ge.exports,be=(0,n.aZ)({components:{kolBasic:S,kolContact:Z,kolPlatform:G},setup(e,t){const a=async()=>{try{const e=await t.refs.kolBasic.validate(),a=await t.refs.kolContact.validate(),l=await t.refs.kolPlatform.validate();return Promise.resolve(Object.assign({},e,a,{platforms:l}))}catch(e){return Promise.reject()}},l=()=>{a()};return{validateBase:a,submitHandler:l}},render(){const e=arguments[0];return e("div",{class:"page-content-container"},[e("kol-basic",{ref:"kolBasic"}),e("kol-contact",{ref:"kolContact"}),e("kol-platform",{ref:"kolPlatform"})])}}),ke=be,ye=(0,E.Z)(ke,A,L,!1,null,"dc75a5da",null),xe=ye.exports,De=a(82741),Fe=(0,l.defineComponent)({components:{kolBaseInfo:xe},setup(e,t){const a=(0,l.ref)(!1),n=(0,l.ref)([]),o=(0,l.ref)({}),c=()=>{t.root.$router.go(-1)},u=(0,l.ref)([{name:i.bv.list,title:"达人管理"},{path:"",title:"新增达人"}]),_=(0,l.ref)(!1),d=async e=>{if(o.value.kol_info&&1===o.value.kol_info.verify_status){const e=await(0,De.I)(t,"该信息已审核通过，是否确认提交重新进行审核?");if(!e)return!1}_.value=!0;const{data:a}=await(0,r.DC)(e);_.value=!1,a.success?(t.root.$message.success("保存成功"),t.root.$router.push({name:i.bv.list})):t.root.$message.warning(a.message)},h=(0,l.ref)("");(0,l.provide)("kolTag",h);const v=async()=>{try{const e=await t.refs.kolBaseInfo.validateBase();d(Object.assign({kol_id:o.value?.kol_info?.kol_id},e))}catch(e){console.error(e)}},g=()=>{v()};(0,l.provide)("editData",o),(0,l.provide)("companyList",n);const f=async e=>{a.value=!0;const{data:l}=await(0,s.W7)({kol_id:e});if(a.value=!1,l.success){const e=l.data.data,t=e[0];t.kol_info.kol_tag=m.kolTagList.find((e=>e.value===t.kol_info?.kol_tag))?.value;const a=t.kol_info.business_type.length?t.kol_info.business_type[0]:"";a!==p.WD.marketing&&a!==p.WD.mcn&&(t.kol_info.business_type=a),t.kol_info.kol_company_id=t.kol_info?.kol_company_id||void 0,o.value=t,h.value=o.value.kol_info.kol_tag}else t.root.$message.warning(l.message)};return(0,l.onMounted)((()=>{t.root.$route.params.id&&(u.value[1].title="编辑达人",f(t.root.$route.params.id))})),{routes:u,backHandler:c,submitHandler:g,loading:_,editData:o}},render(){const e=arguments[0],{routes:t}=this;return e("div",{class:"player-detail-page flex-auto"},[e("tg-breadcrumbs",{attrs:{routes:t}}),e("kol-base-info",{ref:"kolBaseInfo",directives:[{name:"loading",value:this.detailLoading}]}),e("div",{class:"options"},[e("tg-button",{on:{click:this.backHandler},style:"margin-right: 18px"},["返回列表"]),e("div",{class:"div-primary-btn",on:{click:this.submitHandler}},["提交审核"])])])}}),we=Fe,qe=(0,E.Z)(we,O,$,!1,null,"5f334392",null),Ce=qe.exports},82741:function(e,t,a){"use strict";a.d(t,{I:function(){return i},u:function(){return r}});var l=a(71340);const i=(e,t)=>{const a="string"===typeof t?{title:t}:t;return new Promise((t=>{e.root.$TDialog({...a,onConfirm:()=>t(!0),onCancel:()=>t(!1)})}))},r=e=>{const t="string"===typeof e?{title:e}:e;return new Promise(((e,a)=>{(0,l.t)({...t,onConfirm:()=>e(!0),onCancel:()=>a()})}))}},8136:function(e,t,a){"use strict";a.d(t,{AR:function(){return q},BG:function(){return D},Cl:function(){return y},D$:function(){return n},EI:function(){return m},Hx:function(){return r},LY:function(){return c},Nv:function(){return o},Ps:function(){return P},Rd:function(){return w},ZC:function(){return _},_t:function(){return g},bI:function(){return k},g9:function(){return v},hy:function(){return u},jh:function(){return B},mB:function(){return f},mx:function(){return z},nA:function(){return C},q0:function(){return F},sc:function(){return x},ug:function(){return b},us:function(){return h},vJ:function(){return d},wA:function(){return s},xF:function(){return p}});var l=a(20713),i=a.n(l);function r(e,t){const a=e.display_type;switch(a){case 0:return"混播";case 1:return"专场"}}const s=["综合","美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值"],n=["美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值","行政采购"];function o({category:e}){return 0===e?"无":s[e]}function c(e,t){const a=e.sales_price_period;switch(a){case 0:return"0 ~ 100";case 1:return"100 ~ 200";case 2:return"200以上"}}function p(e,t="YYYY-MM-DD"){return i()(e).format(t)}function m(e,t="YYYY-MM-DD hh:mm:ss"){return i()(e+"+0800").format(t)}function u(e,t){return i()(e+"+0800").format(t||"YYYY-MM-DD")}function _(e){let t=parseInt(e,10),a=0,l=0;t>=60&&(a=parseInt(t/60,10),t=parseInt(t%60,10),a>=60&&(l=parseInt(a/60,10),a=parseInt(a%60,10)));let i=""+(parseInt(t,10)<10?"0"+parseInt(t,10):parseInt(t,10));return i=(parseInt(a,10)<10?"0"+parseInt(a,10):parseInt(a,10))+":"+i,i=(parseInt(l,10)<10?"0"+parseInt(l,10):parseInt(l,10))+":"+i,i}function d(e){const t=e.is_presell;switch(t){case-1:return"未录入";case 1:return"预售";case 0:return"非预售";case 2:return"预热"}}function h(e){const t=e.is_display;switch(t){case-1:return"未录入";case 2:return"已出单";case 1:return"未出单"}}function v(e){const t=e.duration;switch(t){case-1:return"未录入";case 0:return"5 ~ 10分钟";case 1:return"10 ~ 15分钟";case 2:return"15 ~ 20分钟";case 3:return"0 ~ 5分钟";case 4:return"20分钟以上"}}function g(e){const t=e.display_period;switch(t){case-1:return"未录入";case 0:return"白天";case 1:return"晚上"}}function f(e){const t=e.shop_type;switch(t){case 0:return"无";case 1:return"淘宝店";case 2:return"天猫店";case 3:return"抖音店";default:return"--"}}function b(e){const t=e.company_type;switch(t){case 0:return"无";case 1:return"同行机构";case 2:return"广告公司";case 3:return"品牌TP";case 4:return"直客"}}function k(e,t){const a=/[^\x00-\xff]/g;let l;if(e.replace(a,"**").length>t){l=Math.floor(t/2);for(let i=l,r=e.length;i<r;i++)if(e.substr(0,i).replace(a,"**").length>=t)return e.substr(0,i)}return e}const y=[{type:0,value:"全部"},{type:1,value:"普通客户"},{type:2,value:"重点客户"},{type:3,value:"战略客户"},{type:4,value:"KA客户"}],x=[{value:"全部",type:0},{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13}],D=[{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13},{value:"行政采购",type:14}],F=[{value:3,text:"抖音店"},{value:1,text:"淘宝店"},{value:2,text:"天猫店"}],w=[{value:1,text:"同行机构"},{value:2,text:"广告公司"},{value:3,text:"品牌TP"},{value:4,text:"直客"}],q=[{type:0,value:"--"},{type:1,value:"同行机构"},{type:2,value:"广告公司"},{type:3,value:"品牌TP"},{type:4,value:"直客"}],C=["#D15CB4","#6090F0","#FF9C69","#59B6DF","#C673F0","#52CCC2","#F0737F","#6FCC66","#DBD26A","#9D73F0","#FAB36E","#A2D160","#D15CB4","#58B89F","#E06C9C","#8873F0","#FA9384","#C251A6","#486DB5","#C77A52","#4185A3","#9557B5","#3C968F","#B55760","#4F9149","#A19A4D","#7657B5","#BF8954","#759645","#964282","#3C7D6C","#A65073","#6556B3","#BF7065","#873874"],B=["#6090F0","#FF9C69","#52CCC2","#59B6DF","#C673F0","#D15CB4","#F0737F","#DBD26A","#FAB36E","#A2D160","#6FCC66","#58B89F","#8873F0","#FA9384","#9D73F0","#E06C9C","#C251A6"],z=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"];function P(e){for(const t of e)if("一"<=t&&t<="龥")return t;return e[0]}},57046:function(e,t,a){"use strict";a.d(t,{I8:function(){return i},X1:function(){return r},mr:function(){return l}});a(26699);function l(e,t="yyyy-MM-dd"){var a=new Date(e),l={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),l)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?l[i]:("00"+l[i]).substr((""+l[i]).length)));return t}function i(e){const t=e.constructor===Array?[]:{};for(let a in e)e.hasOwnProperty(a)&&(e[a]&&"object"===typeof e[a]?(t[a]=e[a].constructor===Array?[]:{},t[a]=i(e[a])):t[a]=e[a]);return t}function r(e,t,a){const l=e.target.value,i=/^[1-9]\d*$/;e.target.value=i.test(l)?l:"",t[a]=i.test(l)?l:""}},20713:function(e,t,a){e.exports=a(70680)(52703)}}]);
"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[7610],{34883:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tg-merchants-project-page"},[a("tg-card",{attrs:{padding:[18,18,6,18]},on:{"rect:update":e.onTopCardRectUpdate}},[a("el-form",{attrs:{size:"small","label-width":"105px"},nativeOn:{submit:function(t){return t.preventDefault(),e.onFilterFormSubmit.apply(null,arguments)}}},[a("div",{staticClass:"filter-form-div"},[a("div",{staticClass:"filter-form-item",staticStyle:{"min-width":"290px"}},[a("el-form-item",{attrs:{label:"商品名称/编码："}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入商品名称/编码"},model:{value:e.filterForm.product_code_name,callback:function(t){e.$set(e.filterForm,"product_code_name",t)},expression:"filterForm.product_code_name"}})],1)],1),e.merchantViewAllHasPermission?a("div",{staticClass:"filter-form-item",staticStyle:{"min-width":"290px"}},[a("el-form-item",{attrs:{label:"招商人员：","label-width":"80px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.getUserList,placeholder:"请输入并选择招商人员"},on:{change:e.onUserIdChange},model:{value:e.filterForm.add_by_id,callback:function(t){e.$set(e.filterForm,"add_by_id",t)},expression:"filterForm.add_by_id"}},e._l(e.userList,(function(t,n){return a("el-option",{key:n,attrs:{label:t.username,value:t.id}},[a("span",[e._v(e._s(t.username))])])})),1)],1)],1):e._e(),a("div",{staticClass:"filter-form-item",staticStyle:{"min-width":"290px"}},[a("el-form-item",{attrs:{label:"是否有坑位费："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.filterForm.has_pit_fee,callback:function(t){e.$set(e.filterForm,"has_pit_fee",t)},expression:"filterForm.has_pit_fee"}},[a("el-option",{attrs:{label:"不限",value:""}}),a("el-option",{attrs:{label:"有",value:1}}),a("el-option",{attrs:{label:"无",value:0}})],1)],1)],1),a("div",{staticClass:"filter-form-item",staticStyle:{"min-width":"274px"}},[a("el-form-item",{attrs:{"label-width":"0"}},[a("div",{staticClass:"filter-form-item-btn"},[a("tg-button",{attrs:{type:"primary"},on:{click:e.onSearchClick}},[e._v("查询")]),a("tg-button",{staticClass:"mgl-12",on:{click:e.onResetClick}},[e._v("重置")])],1)])],1)])])],1),a("tg-card",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"mgt-12",class:e.cardFlexClass,attrs:{padding:[0,18,0,18]},on:{"rect:update":e.onRectUpdate}},"tg-card",e.cardProps,!1),[e.merchantEditHasPermission?a("tg-button-line",{staticClass:"mgt-12"},[a("tg-button",{attrs:{icon:"ico-btn-add",type:"primary"},on:{click:e.addMerchantGoodsClick}},[e._v("新增商品")]),a("tg-upload",{attrs:{action:"/api/shop_live/merchant_goods/import","show-file-list":!1,beforeUpload:e.beforeMerchantUpload,success:e.successMerchantUpload}},[a("tg-button",{attrs:{icon:"ico-upload-lite",type:"primary"}},[e._v("批量导入")])],1),a("tg-button",{staticStyle:{color:"#2877ff"},attrs:{type:"link"},on:{click:e.downloadModelxlsx}},[e._v("下载模板")])],1):e._e(),a("el-table",e._b({class:e.merchantEditHasPermission?"mgt-12":"mgt-18",attrs:{stripe:"",border:"",data:e.list},scopedSlots:e._u([{key:"empty",fn:function(){return[a("empty-common")]},proxy:!0}])},"el-table",e.tableProps,!1),e._l(e.columns,(function(t,n){return a("el-table-column",e._b({key:n},"el-table-column",t,!1))})),1),e.total>0?a("el-pagination",{staticStyle:{margin:"8px 0"},attrs:{"current-page":e.filterForm.page_num,"page-sizes":[10,20,50,100],"page-size":e.filterForm.num,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"update:currentPage":function(t){return e.$set(e.filterForm,"page_num",t)},"update:current-page":function(t){return e.$set(e.filterForm,"page_num",t)},"current-change":e.handleCurrentChange,"size-change":e.handlePageSizeChange}}):e._e()],1),a("add-goods",{attrs:{visible:e.addGoodsDialogVisible,item:e.merchantGoods,level:!0},on:{"update:visible":function(t){e.addGoodsDialogVisible=t},save:e.onMerchantGoodsSave,edit:e.onMerchantGoodsEdit}}),a("RelationCount",{ref:"relationCountRef",on:{success:e.reload}}),a("Settlement",{ref:"settlementRef",on:{close:e.reload}})],1)},i=[],o=a(97434),r=a(20809),s=a(74234),l=a(11676),c=a(64236),d=a(67910),m=a(61282),u=a(83626),_=a(85937),p=a.n(_),f=a(71340),g=a(21757),h=a(78902);const v=(e,t,a,n,i)=>{const r=(0,g.kG)(h.HN.merchant_view),s=(0,g.kG)(h.HN.merchant_view_all),l=(0,g.kG)(h.HN.merchant_edit),_=(0,g.kG)(h.HN.merchant_create_settlement),v=(0,o.computed)((()=>e.root.$store.getters["user/getUserInfo"])),b=(0,o.ref)(!1),y=(0,o.ref)([]),w=(0,o.ref)(0),C=async t=>{b.value=!0;let a=null;a=r&&!s?{...t,add_by_id:s?"":v.value.id}:t;const[n,{data:i}]=await Promise.all([await(0,c._v)(500),await(0,u.gY)(a)]);b.value=!1,i.success?(y.value=i.data.data,w.value=i.data.total):e.root.$message({type:"warning",message:i.message??"查询失败，稍后重试",duration:2e3,showClose:!0})},k=async a=>{const n=await new Promise((e=>{(0,f.t)({title:"你确定删除吗",onConfirm:()=>{e(!0)},onCancel:()=>{e(!1)}})}));if(!n)return;const i=await(0,u.Fb)(a.id);i.data.success?(e.root.$message.success("删除成功"),t()):e.root.$message.error(i.data.message)},x=(e,t,a,n)=>{const i=e[t]||"--",{is_folded:r,folded_text:s}=(0,m.zb)(i,a);return n||!r?s:(0,o.h)("el-popover",{props:{placement:"right",trigger:"hover",content:i}},[(0,o.h)("span",{slot:"reference"},[s]),(0,o.h)("DefText",{props:{content:e[t]}})])},S=e=>e.product_code??"--",j=(e,t)=>x(e,"product_name",16,t),$=(0,d.zY)(y,"项目名称",j),R=(e,t)=>x(e,"company_name",16,t),F=(0,d.zY)(y,"所属公司",R),I=(e,t)=>x(e,"shop_name",12,t),L=(0,d.zY)(y,"店铺",I),M=(e,t)=>x(e,"brand_name",12,t),P=(0,d.zY)(y,"品牌",M),z=(e,t)=>x(e,"project_name",12,t),B=(0,d.zY)(y,"关联项目",z),E=(0,o.computed)((()=>[{label:"商品编码",fixed:"left",minWidth:(0,d.zY)(y,"商品编码",S).value,formatter:S},{label:"商品名称",minWidth:$.value,formatter:e=>j(e,!1)},{label:"所属公司",minWidth:F.value,formatter:e=>R(e,!1)},{label:"店铺",minWidth:L.value,formatter:e=>I(e,!1)},{label:"品牌",minWidth:P.value,formatter:e=>M(e,!1)},{label:"是否有坑位费",width:110,align:"center",formatter:e=>1===e.has_pit_fee?"有":"无"},{label:"关联场次数",minWidth:100,align:"center",formatter:e=>e.live_count>0?(0,o.h)("div",{style:"color: #2877ff; cursor: pointer;"},[(0,o.h)("el-popover",{props:{placement:"bottom",trigger:"hover"}},[(0,o.h)("div",{class:"pop-container"},e.live_goods_detail_list.map((e=>(0,o.h)("div",{class:"pop-live-count"},[(0,o.h)("p",{class:"live-title"},[e.live_title]),(0,o.h)("p",{class:"live-time"},[`${e.live_start_time.substring(0,e.live_start_time.length-3).replace(/-/g,".")} - ${e.live_end_time.substring(0,e.live_start_time.length-3).replace(/-/g,".")}`]),(0,o.h)("div",{class:"live-account"},[(0,o.h)("p",{class:"merchants-fee"},[`招商坑位费: ￥${(0,m.SJ)(new(p())(e.merchant_pit_fee))}`]),(0,o.h)("p",{class:"count-fee"},[`场次坑位费: ￥${(0,m.SJ)(new(p())(e.income_pit_fee))}`])])])))),(0,o.h)("a",{slot:"reference"},[e.live_count])])]):0},{label:"关联项目",minWidth:B.value,formatter:e=>z(e,!1)},{label:"招商人员",minWidth:100,align:"center",property:"add_by_name"},{label:"招商时间",minWidth:100,align:"center",property:"gmt_create",formatter:e=>e.gmt_create.slice(0,10).replace(/-/g,".")},{label:l||_?"操作":"",width:l&&_?195:!l&&_?75:l&&!_?175:1,fixed:"right",formatter:e=>{const t=e.has_settlement,r=1===e.has_pit_fee&&e.live_count>0;return(0,o.h)("div",{class:"table-column-edit"},[l&&(0,o.h)("a",{class:"btn-edit",on:{click:()=>{const t=JSON.parse(JSON.stringify(e));n(t)}}},"关联场次"),_&&(0,o.h)("a",{class:r?"btn-edit":"not-del-btn btn-edit",on:{click:()=>{if(r){const t=JSON.parse(JSON.stringify(e));i(t)}}}},"结算"),l&&(0,o.h)("a",{class:t?"not-del-btn btn-edit":"btn-edit",on:{click:()=>{t||a(e)}}},"编辑"),l&&(0,o.h)("a",{class:t?"not-del-btn btn-edit":"btn-edit",on:{click:()=>{t||k(e)}}},"删除")])}}]));return{loadData:C,list:y,loading:b,total:w,columns:E}};var b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tg-mcn-project-add-goods"},[a("el-dialog",{staticClass:"customer-dialog tg-dialog-vcenter-new",attrs:{visible:e.visible,width:"478px",title:e.item.id?"编辑商品":"新增商品","close-on-click-modal":!1},on:{close:e.onClose},scopedSlots:e._u([{key:"footer",fn:function(){return[a("tg-button",{on:{click:e.onClose}},[e._v("取消")]),a("tg-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])]},proxy:!0}])},[a("div",{staticClass:"team-member-content"},[a("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.formRules,"label-width":"60px",size:"small","label-position":"top"}},[a("el-form-item",{attrs:{label:"商品编码",prop:"product_code"}},[a("el-input",{attrs:{placeholder:"请输入商品编码"},model:{value:e.form.product_code,callback:function(t){e.$set(e.form,"product_code","string"===typeof t?t.trim():t)},expression:"form.product_code"}})],1),a("el-form-item",{attrs:{label:"商品名称",prop:"product_name"}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.form.product_name,callback:function(t){e.$set(e.form,"product_name","string"===typeof t?t.trim():t)},expression:"form.product_name"}})],1),a("el-form-item",[a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{color:"#6a7b92","font-size":"12px","margin-right":"5px"},attrs:{slot:"label"},slot:"label"},[e._v("是否有坑位费：")]),a("el-radio-group",{staticStyle:{"margin-top":"3px"},model:{value:e.form.has_pit_fee,callback:function(t){e.$set(e.form,"has_pit_fee",t)},expression:"form.has_pit_fee"}},[a("el-radio",{attrs:{label:1}},[e._v("有")]),a("el-radio",{attrs:{label:0}},[e._v("无")])],1)],1)]),e.form.has_pit_fee?[a("el-form-item",{key:"yes_company_id",attrs:{label:"所属公司",prop:"company_id"}},[a("el-select",{ref:"onCompanyIdBlur",attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.GetCompanyList,placeholder:"请输入并选择所属公司"},on:{change:e.onCompanyIdChange,blur:e.onCompanyIdBlur},model:{value:e.form.company_id,callback:function(t){e.$set(e.form,"company_id",t)},expression:"form.company_id"}},e._l(e.CompanyNameList,(function(t,n){return a("el-option",{key:n,attrs:{label:t.company_name,value:t.id}},[a("span",[e._v(e._s(t.company_name))])])})),1)],1),a("el-form-item",{key:"yes_shop_id",attrs:{label:"所属店铺",prop:"shop_id"}},[a("el-select",{ref:"shopSelectRef",attrs:{clearable:"",filterable:"",placeholder:"请选择所属店铺"},on:{change:e.onShopIdChange,blur:e.onShopIdBlur},model:{value:e.form.shop_id,callback:function(t){e.$set(e.form,"shop_id",t)},expression:"form.shop_id"}},e._l(e.ShopList,(function(t,n){return a("el-option",{key:n,attrs:{label:t.shop_name,value:t.id}},[a("span",[e._v(e._s(t.shop_name))])])})),1)],1),a("el-form-item",{key:"yes_brand_id",attrs:{label:"品牌",prop:"brand_id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.brand_name,callback:function(t){e.$set(e.form,"brand_name",t)},expression:"form.brand_name"}})],1)]:[a("el-form-item",{key:"no_company_id",attrs:{label:"所属公司",prop:"company_name"}},[a("el-input",{attrs:{placeholder:"请输入所属公司"},model:{value:e.form.company_name,callback:function(t){e.$set(e.form,"company_name","string"===typeof t?t.trim():t)},expression:"form.company_name"}})],1),a("el-form-item",{key:"no_shop_id",attrs:{label:"所属店铺",prop:"shop_name"}},[a("el-input",{attrs:{placeholder:"请输入所属店铺"},model:{value:e.form.shop_name,callback:function(t){e.$set(e.form,"shop_name","string"===typeof t?t.trim():t)},expression:"form.shop_name"}})],1),a("el-form-item",{key:"no_brand_id",attrs:{label:"品牌",prop:"brand_name_new"}},[a("el-input",{attrs:{placeholder:"请输入品牌名称"},model:{value:e.form.brand_name_new,callback:function(t){e.$set(e.form,"brand_name_new","string"===typeof t?t.trim():t)},expression:"form.brand_name_new"}})],1)],a("el-form-item",{attrs:{label:"招商人员",prop:"add_by_id"}},[a("el-select",{attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.getUserList,placeholder:"请输入并选择招商人员"},on:{change:e.onUserIdChange},model:{value:e.form.add_by_id,callback:function(t){e.$set(e.form,"add_by_id",t)},expression:"form.add_by_id"}},e._l(e.userList,(function(t,n){return a("el-option",{key:n,attrs:{label:t.username,value:t.id}},[a("span",[e._v(e._s(t.username))])])})),1)],1)],2)],1)]),a("tg-mask-loading",{attrs:{visible:e.saveLoading,content:"  正在保存，请稍候..."}})],1)},y=[],w=a(3346),C=a(79433),k=a(44928),x=(0,o.defineComponent)({props:{visible:{type:Boolean,default:!1},level:{type:Boolean,default:!1},item:{type:Object,default:()=>({}),required:!1}},setup(e,t){const a=(0,k.t)(),n=a.currentRoute.params.id,i=(0,o.ref)(!1),r=(0,o.ref)(null),l=(0,o.reactive)({product_code:"",product_name:"",has_pit_fee:1,company_id:"",shop_id:"",brand_id:"",brand_name:"",company_name:"",shop_name:"",brand_name_new:"",add_by_id:"",add_by_name:""}),c=()=>{l.product_code="",l.product_name="",l.has_pit_fee=1,l.company_id="",l.shop_id="",l.brand_id="",l.brand_name="",l.company_name="",l.shop_name="",l.brand_name_new="",l.add_by_id="",l.add_by_name="",m.value=[]},d=(0,o.ref)({product_code:[{required:!0,message:"请输入商品编码",trigger:"blur"}],product_name:[{required:!0,message:"请输入商品名称",trigger:"blur"}],company_id:[{required:!0,message:"请选择所属公司",trigger:["blur","change"]}],shop_id:[{required:!0,message:"请选择所属店铺",trigger:["blur","change"]}],brand_id:[{required:!0,message:"请先创建品牌",trigger:["blur","change"]}],company_name:[{required:!0,message:"请输入所属公司",trigger:"blur"}],shop_name:[{required:!0,message:"请输入所属店铺",trigger:"blur"}],brand_name_new:[{required:!0,message:"请输入品牌名称",trigger:"blur"}],add_by_id:[{required:!0,message:"请选择招商人员",trigger:["blur","change"]}]});(0,o.watch)((()=>e.visible),(async a=>{if(a)if(e.item.id)await g(e.item.company_name,e.item.company_id),await _("",e.item.add_by_id),l.product_code=e.item.product_code,l.product_name=e.item.product_name,l.company_id=e.item.company_id?e.item.company_id:"",l.shop_id=e.item.shop_id?e.item.shop_id:"",l.brand_id=e.item.brand_id,l.brand_name=e.item.brand_name?e.item.brand_name:"",l.has_pit_fee=e.item.has_pit_fee,l.company_name=e.item.company_name,l.shop_name=e.item.shop_name,l.brand_name_new=e.item.brand_name,l.add_by_id=e.item.add_by_id,l.add_by_name=e.item.add_by_name,await j();else{const e=(0,o.computed)((()=>t.root.$store.getters["user/getUserInfo"]));m.value.push(e.value),console.log(m.value),l.add_by_id=e.value.id}else r.value?.resetFields(),c()}));const m=(0,o.ref)([]),_=async(e,a)=>{const n={search_type:2,is_checked:1,search_value:e,user_id:a},{data:i}=await(0,s.L)(n);i.success?m.value=i.data.data:t.root.$message({type:"warning",message:i.message??"查询失败，稍后重试",duration:2e3,showClose:!0})},p=e=>{l.add_by_id=e},f=(0,o.ref)([]),g=async(e,a)=>{if(!e)return;const{data:n}=await(0,w.vt)(e,a);n.success?f.value=n.data:t.root.$message({type:"warning",message:n.message??"查询失败，稍后重试",duration:2e3,showClose:!0})},h=async e=>{const t=f.value.filter((t=>t.id===e));l.company_id=e,l.company_name=t.length>0?t[0].company_name:"",l.shop_id="",l.brand_name="",l.brand_id="",j()},v=(0,o.ref)(null),b=()=>{v.value?.blur()},y=(0,o.ref)(null),x=()=>{window.setTimeout((()=>{y.value?.blur()}),500)},S=(0,o.ref)([]),j=async()=>{const{data:e}=await(0,C.dm)({company_id:l.company_id?.toString()});S.value=e.success?e.data:[]},$=async e=>{const a=S.value.filter((t=>t.id===e));l.brand_name="",l.brand_id="",l.shop_id=e,l.shop_name=a.length>0?a[0].shop_name:"";const n=S.value.find((e=>e.id.toString()===l.shop_id.toString()));n?.brand_id?(l.brand_name=n?.brand_name??"--",l.brand_id=n?.brand_id):t.root.$message({type:"warning",message:"请先创建品牌",duration:2e3,showClose:!0})},R={onClose:()=>{c(),t.emit("close"),t.emit("update:visible",!1)},onSave:async()=>{const a=await new Promise((e=>r.value?.validate((t=>e(t)))));if(!a)return;const o={product_code:l.product_code,product_name:l.product_name,has_pit_fee:l.has_pit_fee,company_id:l.has_pit_fee?l.company_id:"",shop_id:l.has_pit_fee?l.shop_id:"",brand_id:l.has_pit_fee?l.brand_id:"",company_name:0===l.has_pit_fee?l.company_name:"",shop_name:0===l.has_pit_fee?l.shop_name:"",brand_name:0===l.has_pit_fee?l.brand_name_new:"",project_id:e.level?"":n,add_by_id:l.add_by_id};i.value=!0;let s=null;s=e.item.id?await(0,u.Ll)(o,e.item.id):await(0,u.TR)(o),i.value=!1,s.data.success?e.item.id?t.emit("edit"):t.emit("save"):t.root.$message.error(s.data.message??"保存失败，请稍候重试")}};return{form:l,formRef:r,formRules:d,saveLoading:i,companyIdSelectRef:v,CompanyNameList:f,onCompanyIdChange:h,GetCompanyList:g,onCompanyIdBlur:b,onShopIdChange:$,shopSelectRef:y,onShopIdBlur:x,ShopList:S,userList:m,getUserList:_,onUserIdChange:p,...R}}}),S=x,j=a(1001),$=(0,j.Z)(S,b,y,!1,null,null,null),R=$.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tg-investment-relation-count"},[a("el-dialog",{staticClass:"tg-dialog-classic tg-dialog-vcenter-new",attrs:{visible:e.visible,width:"624px",title:"关联场次","close-on-click-modal":!1},on:{close:e.onClose},scopedSlots:e._u([{key:"footer",fn:function(){return[a("tg-button",{on:{click:e.onClose}},[e._v("取消")]),a("tg-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])]},proxy:!0}])},[a("div",{staticClass:"dialog-main"},[a("el-form",{ref:"formRef",attrs:{model:e.form,size:"small","label-position":"top"}},[a("el-form-item",{attrs:{label:"项目：",prop:"project_name",rules:e.formRules.project_name}},[a("el-select",{staticStyle:{width:"254px"},attrs:{disabled:1===e.hasSettlement,clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.getProjectList,placeholder:"请输入并选择"},on:{change:e.onProjectIdChange},model:{value:e.form.project_name,callback:function(t){e.$set(e.form,"project_name",t)},expression:"form.project_name"}},e._l(e.projectList,(function(t,n){return a("el-option",{key:n,attrs:{label:t.project_name,value:t.id}},[a("span",[e._v(e._s(t.project_name))])])})),1)],1),a("ul",{staticClass:"list"},[e._l(e.form.live_goods_detail_list,(function(t,n){return a("li",{key:n,staticClass:"list-item edit-item"},[t.has_settlement?[a("div",{staticClass:"item count"},[a("p",[a("span",{staticClass:"star"},[e._v("*")]),e._v("场次")]),a("p",{staticStyle:{"line-height":"40px"}},[e._v(e._s(t.live_title))])]),a("div",{staticClass:"item merchant-account"},[a("p",[a("span",{staticClass:"star"},[e._v("*")]),e._v("招商坑位费")]),a("p",{staticStyle:{"line-height":"40px"}},[e._v(" ￥"+e._s(e.Decimal2String(new e.Decimal(t.merchant_pit_fee)))+" ")])]),a("div",{staticClass:"item count-account"},[a("p",[a("span",{staticClass:"star"},[e._v("*")]),e._v("场次坑位费")]),a("p",{staticStyle:{"line-height":"40px"}},[e._v(" ￥"+e._s(e.Decimal2String(new e.Decimal(t.income_pit_fee)))+" ")])])]:[a("el-button",{staticClass:"form-item-close",attrs:{type:"danger",icon:"el-icon-close",circle:""},on:{click:function(t){return e.deleteItemClick(n)}}}),a("div",{staticClass:"item count"},[a("el-form-item",{attrs:{label:"场次：",prop:"live_goods_detail_list["+n+"].live_title",rules:e.formRules.live_title}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.getLive,placeholder:"请输入并选择"},on:{change:function(a){return e.onLiveIdChange(n,a,t)}},model:{value:t.live_title,callback:function(a){e.$set(t,"live_title",a)},expression:"item.live_title"}},e._l(e.liveList,(function(t,n){return a("el-option",{key:n,attrs:{label:t.live_title,value:t.id}},[a("span",[e._v(e._s(t.live_title))])])})),1)],1)],1),a("div",{staticClass:"item merchant-account"},[a("el-form-item",{attrs:{label:"招商坑位费：",prop:"live_goods_detail_list["+n+"].merchant_pit_fee",rules:[{required:1===e.hasPitFee,message:"请输入招商坑位费",trigger:"blur"}]}},[a("el-input",{attrs:{disabled:0===e.hasPitFee,placeholder:"请输入"},on:{input:function(t){return e.inputAmount(n,"merchant_pit_fee",t)}},model:{value:t.merchant_pit_fee,callback:function(a){e.$set(t,"merchant_pit_fee",a)},expression:"item.merchant_pit_fee"}},[a("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("￥")])])],1)],1),a("div",{staticClass:"item count-account"},[a("el-form-item",{attrs:{label:"场次坑位费：",prop:"live_goods_detail_list["+n+"].income_pit_fee",rules:[{required:1===e.hasPitFee,validator:function(t,a,i){return e.income_pit_fee_check(t,a,i,n)},trigger:"blur"}]}},[a("el-input",{attrs:{disabled:0===e.hasPitFee,placeholder:"请输入"},on:{input:function(t){return e.inputAmount(n,"income_pit_fee",t)}},model:{value:t.income_pit_fee,callback:function(a){e.$set(t,"income_pit_fee",a)},expression:"item.income_pit_fee"}},[a("span",{attrs:{slot:"prefix"},slot:"prefix"},[e._v("￥")])])],1)],1)]],2)})),a("tg-ghost-button",{staticClass:"add-upload-form-btn",on:{click:e.addItemClick}},[e._v("新增关联")])],2)],1)],1)]),a("tg-mask-loading",{attrs:{visible:e.saveLoading,content:"  正在保存，请稍候..."}})],1)},I=[],L=(a(21703),a(3293)),M=a(71963),P=(0,o.defineComponent)({setup(e,t){const a=(0,o.ref)(!1),n=(0,o.ref)(!1),i=(0,o.ref)(0),r=(0,o.ref)(0),s=(0,o.ref)(null),l=(0,o.reactive)({project_id:"",project_name:"",product_id:"",live_goods_detail_list:[],del_list:[],add_list:[],edit_list:[]}),d=(e,t,a,n)=>{if(r.value){const e=l.live_goods_detail_list[n],i=Number(e.merchant_pit_fee?e.merchant_pit_fee:0),o=Number(e.income_pit_fee?e.income_pit_fee:0);if(""===t||void 0===t||null===t)return a(new Error("请输入场次坑位费"));if(o>i)return a(new Error("场次坑位费不能大于招商坑位费"))}return a()},_=()=>{l.live_goods_detail_list.push({live_id:"",id:"",merchant_pit_fee:"",income_pit_fee:"",has_settlement:0})},f=e=>{l.live_goods_detail_list[e].id&&l.del_list.push({id:l.live_goods_detail_list[e].id,flag:1}),l.live_goods_detail_list.splice(e,1)},g=(e,t,a)=>{l.live_goods_detail_list[e][t]=(0,m.nA)(a)},h=(0,o.ref)({project_name:[{required:!0,message:"请输入并选择项目",trigger:"change"}],live_title:[{required:!0,message:"请输入并选择场次",trigger:"change"}]}),v=(0,o.ref)([]),b=async e=>{const a={search_type:6,search_value:e,mcn_project_type:"",platform_type:1,project_status:"",page_num:1,num:20,data_type:2},{data:n}=await(0,u.fX)(a);n.success?v.value=n.data.data:t.root.$message({type:"warning",message:n.message??"查询失败，稍后重试",duration:2e3,showClose:!0})},y=e=>{if(console.log(e),e!==l.project_id){l.project_id=e,w.value=[];const t=l.live_goods_detail_list;for(let e=0;e<t.length;e++)t[e].id&&l.del_list.push({id:t[e].id,flag:1});l.live_goods_detail_list=[],l.add_list=[],l.edit_list=[]}},w=(0,o.ref)([]),C=async e=>{if(""===l.project_id)return t.root.$message.warning("请先选择项目！"),!1;const a={page_num:1,num:20,project_id:l.project_id,live_start_date:"",live_end_date:"",has_settlement:0,live_title:e},[{data:n}]=await(0,c.Dc)(500,(0,L.MX)(a));n.success?w.value=n.data.data:(w.value=[],t.root.$message.warning(n.message??"查询失败，稍后重试"))},k=(e,a,n)=>{for(let i=0;i<l.live_goods_detail_list.length;i++)if(a===l.live_goods_detail_list[i].live_id)return l.live_goods_detail_list[e].live_id="",l.live_goods_detail_list[e].live_title="",t.root.$message.warning("该场次已被添加，请重新选择"),!1;l.live_goods_detail_list[e].live_id=a,n.id&&l.del_list.push({id:n.id,flag:1}),l.live_goods_detail_list[e].id=""},x=e=>{n.value=!0,i.value=e.has_settlement,r.value=e.has_pit_fee,l.product_id=e.id,e.project_name?(l.project_name=e.project_name,l.project_id=e.project_id,l.live_goods_detail_list=e.live_goods_detail_list):s.value?.clearValidate()},S=()=>{v.value=[],w.value=[],l.project_id="",l.project_name="",l.product_id="",l.live_goods_detail_list=[],l.del_list=[],l.add_list=[],l.edit_list=[]},j=()=>{n.value=!1,S()},$=async()=>{const e=await new Promise((e=>s.value?.validate((t=>e(t)))));if(!e)return;if(0===l.live_goods_detail_list.length)return void t.root.$message.error("关联场次明细列表字段必填");a.value=!0;for(let t=0;t<l.live_goods_detail_list.length;t++)l.live_goods_detail_list[t].id&&!l.live_goods_detail_list[t].has_settlement?l.edit_list.push({live_id:l.live_goods_detail_list[t].live_id,id:l.live_goods_detail_list[t].id,merchant_pit_fee:l.live_goods_detail_list[t].merchant_pit_fee,income_pit_fee:l.live_goods_detail_list[t].income_pit_fee}):""===l.live_goods_detail_list[t].id&&l.add_list.push({live_id:l.live_goods_detail_list[t].live_id,merchant_pit_fee:l.live_goods_detail_list[t].merchant_pit_fee,income_pit_fee:l.live_goods_detail_list[t].income_pit_fee});const n={project_id:l.project_id,product_id:l.product_id,live_goods_detail_list:[...l.del_list,...l.edit_list,...l.add_list]},[{data:i},o]=await Promise.all([await(0,M.ob)(n),await(0,c._v)(200)]);a.value=!1,i.success?(t.emit("success"),j()):(l.add_list=[],l.edit_list=[],t.root.$message.error(i.message??"保存失败，请稍候重试"))};return{saveLoading:a,visible:n,formRef:s,formRules:h,income_pit_fee_check:d,form:l,onClose:j,onSave:$,show:x,hasSettlement:i,hasPitFee:r,projectList:v,getProjectList:b,onProjectIdChange:y,getLive:C,onLiveIdChange:k,liveList:w,addItemClick:_,deleteItemClick:f,inputAmount:g,Decimal2String:m.SJ,Decimal:p()}}}),z=P,B=(0,j.Z)(z,F,I,!1,null,null,null),E=B.exports,G=a(73297),A=(0,o.defineComponent)({name:"TgInvestmentMerchantsPage",components:{AddGoods:R,RelationCount:E,Settlement:G.Z},setup(e,t){const{tableHeightLogic:a,onTopCardRectUpdate:n}=(0,r.Z)(),i=(0,g.kG)(h.HN.merchant_view_all),c=(0,g.kG)(h.HN.merchant_view),d=(0,g.kG)(h.HN.merchant_edit),m=(0,o.ref)(null),u=(0,o.reactive)({product_code_name:"",add_by_id:"",has_pit_fee:"",platform_type:1,page_num:1,num:20}),_=(0,o.ref)(void 0),p=()=>{u.product_code_name="",u.add_by_id="",u.has_pit_fee="",u.page_num=1,u.num=20},f=async(e=!0)=>{e&&(u.page_num=1),await A.loadData({...u})},b=()=>{f()},y=()=>{p(),f()},w=e=>{u.page_num=e,f(!1)},C=e=>{u.num=e,f()},k=()=>{f(!0)},x=(0,o.ref)([]),S=async e=>{const a={search_type:2,search_value:e,is_checked:1},{data:n}=await(0,s.L)(a);n.success?x.value=n.data.data:t.root.$message({type:"warning",message:n.message??"查询失败，稍后重试",duration:2e3,showClose:!0})},j=e=>{u.add_by_id=e},$=()=>{window.open("https://tiange-oss.oss-cn-hangzhou.aliyuncs.com/upload_template/mcn_merchant_goods_template_new.xlsx")},R=e=>(0,l.K)({excel:!0,fileSize:30})(e),F=e=>{e&&e.success?f(!0):t.root.$message.error(e.message)},I=(0,o.ref)({}),L=(0,o.ref)(!1),M=()=>{L.value=!0,I.value={}},P=()=>{L.value=!1,t.root.$message.success("新增成功"),f()},z=()=>{L.value=!1,t.root.$message.success("编辑成功"),f(!1)},B=e=>{L.value=!0,I.value=e},E=e=>{m.value.show(e)},G=e=>{_.value?.open(void 0,e)},A=v(t,f,B,E,G);return(0,o.onBeforeMount)((()=>{(c||i)&&f()})),{filterForm:u,merchantViewAllHasPermission:i,merchantEditHasPermission:d,onTopCardRectUpdate:n,...a,...A,resetForm:p,userList:x,reload:f,getUserList:S,onUserIdChange:j,onSearchClick:b,onResetClick:y,handleCurrentChange:w,handlePageSizeChange:C,downloadModelxlsx:$,beforeMerchantUpload:R,successMerchantUpload:F,addMerchantGoodsClick:M,addGoodsDialogVisible:L,merchantGoods:I,onMerchantGoodsSave:P,onMerchantGoodsEdit:z,onFilterFormSubmit:k,relationCountRef:m,settlementRef:_}}}),T=A,U=(0,j.Z)(T,n,i,!1,null,null,null),N=U.exports},79703:function(e,t,a){a.d(t,{Z:function(){return _}});var n=a(97434),i=a(64236),o=a(74750);const r={headers:{Authorization:(0,o.LP)()??""}};var s,l,c=(0,n.defineComponent)({name:"Appendix",props:{list:{type:Array,default:()=>[]},isDelete:{type:Boolean,default:!1}},setup(e,t){const a=new Map([["image/jpeg","picture"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","excel"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","word"],["application/msword","word"],["application/pdf","pdf"],["xlsx","excel"],["docx","word"],["doc","word"],["pdf","pdf"],["jpeg","picture"]]),n=()=>{const t=e.list.map((e=>{const t=e.split("/"),n=e.split(".")[e.split(".").length-1];return{fileName:t[t.length-1],link:e,icon:a.get(n)??"picture"}}));return t},o=async e=>{const a=decodeURIComponent(e.split("/")[e.split("/").length-1]);fetch(e,r).then((async e=>{const n=e.clone();try{const e=await n.json();t.root.$message.error(e.message)}catch{if(200===e.status){const t=await e.blob();(0,i.uA)(t,a)}else t.root.$message.error("下载失败")}}))},s=e=>{t.emit("deleteItem",e)};return{caseFun:n,downloadCaseBtnClick:o,deleteItem:s}},render(){const e=arguments[0],t=this.caseFun();return e("div",[t.map(((t,a)=>e("div",{key:a,class:"case-item"},[e("tg-icon",{class:"case-icon",slot:"icon",attrs:{name:`ico-${t.icon}`}}),e("p",{class:"case-name"},[decodeURI(t.fileName)]),e("a",{class:"case-down",on:{click:()=>this.downloadCaseBtnClick(t.link)}},["下载"]),this.isDelete?e("tg-icon",{attrs:{className:"icon-delete",name:"ico-a-quseguanbiicon2x"},on:{click:()=>{this.deleteItem(t)}}}):null])))])}}),d=c,m=a(1001),u=(0,m.Z)(d,s,l,!1,null,"8368843e",null),_=u.exports},6549:function(e,t,a){a.d(t,{C:function(){return i},j:function(){return n}});const n="/api/auth/query_user_v2",i="/api/auth/get_user_by_role"},11676:function(e,t,a){a.d(t,{K:function(){return m}});a(26699);var n=a(48606);const i=[".pdf",".doc",".docx",".ppt",".pptx"],o=[".mp4"],r=[".png",".jpg",".jpeg"],s=[".xls",".xlsx",".csv"],l=[".doc",".docx"],c=[".pdf"],d=[".csv"],m=e=>t=>{const a=/(\.[^.]+)$/.exec(t.name);let m="";a&&(m=a[1]);const u=[];if(e.image&&u.push(...r),e.file&&u.push(...i),e.video&&u.push(...o),e.excel&&u.push(...s),e.pdf&&u.push(...c),e.doc&&u.push(...l),e.csv&&u.push(...d),e.extensions&&u.push(...e.extensions),u.length>0&&!u.includes(m))return n.Message.warning(`文件格式不正确，请使用 ${u.join(";")}`),!1;if(void 0!==e.fileSize){const a=t.size/1024/1024<e.fileSize;if(!a)return n.Message.warning(`文件不能超过${e.fileSize}MB!`),!1}return!0};t["Z"]={ValidationFileUpload:m}},3346:function(e,t,a){a.d(t,{Ln:function(){return c},Me:function(){return _},OV:function(){return s},Ou:function(){return d},Pp:function(){return g},Tf:function(){return f},_F:function(){return h},eA:function(){return v},fO:function(){return b},hk:function(){return u},kg:function(){return l},mb:function(){return m},qC:function(){return p},vt:function(){return r}});var n=a(76012),i=a(10762),o=a(64236);const r=async(e,t)=>(0,n.dX)(i.y9,{params:{...(0,o.jG)({company_name:e,company_id:t})}}),s=async e=>(0,n.dX)(i.CH,{params:{...(0,o.jG)({project_uid:e})}}),l=async e=>(0,n.dX)(i.hV,{params:{...(0,o.jG)(e)}}),c=async e=>(0,n.dX)(i.yp,{params:{...(0,o.jG)(e)}}),d=async e=>(0,n.SO)(i.IY,{...(0,o.jG)(e)}),m=async e=>(0,n.SO)(i.Gs,{...(0,o.jG)(e)}),u=async e=>(0,n.SO)(i.Gs,{...e}),_=async e=>(0,n.dX)(i.S$.replace(":id",e)),p=async e=>(0,n.dX)(i.ii,{params:{...(0,o.jG)(e)}}),f=async e=>(0,n.dX)(i.AP,{params:{...(0,o.jG)(e)}}),g=async e=>(0,n.dX)(i.L6,{params:{...(0,o.jG)(e)}}),h=async e=>(0,n.SO)("/api/shop_live/save_withdraw",{...e}),v=async e=>(0,n.dX)("/api/settlement/get_settlement_by_shop_id",{params:{...(0,o.jG)(e)}}),b=async e=>(0,n.dX)("/api/settlement/query_settlements_last_achievement",{params:{...(0,o.jG)(e)}})},74234:function(e,t,a){a.d(t,{L:function(){return s},y:function(){return r}});var n=a(76012),i=a(6549),o=a(64236);const r=async()=>(0,n.dX)("/api/auth/get_right_tree"),s=e=>(0,n.dX)(i.j,{params:{...(0,o.jG)(e)}})},22895:function(e,t,a){var n;a.d(t,{w:function(){return n}}),function(e){e[e["YES"]=1]="YES",e[e["NO"]=0]="NO"}(n||(n={}))},67578:function(e,t,a){var n,i,o;a.d(t,{A1:function(){return f},Bn:function(){return n},Fq:function(){return p},Jd:function(){return i},LQ:function(){return r},Ly:function(){return w},MK:function(){return C},Qm:function(){return c},SN:function(){return _},XB:function(){return g},b7:function(){return d},go:function(){return v},h0:function(){return o},rt:function(){return l},sc:function(){return b},yW:function(){return h}}),function(e){e[e["none"]=0]="none",e[e["part"]=1]="part",e[e["done"]=2]="done"}(n||(n={})),function(e){e[e["receive"]=1]="receive",e[e["payment"]=2]="payment",e[e["settlement_income"]=3]="settlement_income",e[e["settlement_cost"]=4]="settlement_cost"}(i||(i={})),function(e){e[e["wait_confirm"]=1]="wait_confirm",e[e["confirmed"]=2]="confirmed",e[e["refused"]=3]="refused"}(o||(o={}));const r=new Map([[o.wait_confirm,"待确认"],[o.confirmed,"已确认"],[o.refused,"退回"]]);var s;(function(e){e[e["Salary"]=1]="Salary",e[e["AnchorServiceFee"]=2]="AnchorServiceFee",e[e["AssetPurchase"]=3]="AssetPurchase",e[e["WaterAndElectricity"]=4]="WaterAndElectricity",e[e["Decorate"]=5]="Decorate",e[e["HouseRent"]=6]="HouseRent",e[e["MarketingCost"]=7]="MarketingCost",e[e["Rebate"]=8]="Rebate",e[e["Reverse"]=9]="Reverse"})(s||(s={}));const l=new Map([[s.Salary,"人员工资"],[s.AnchorServiceFee,"主播服务费"],[s.AssetPurchase,"固定资产采购"],[s.WaterAndElectricity,"水电"],[s.Decorate,"装修"],[s.HouseRent,"房租"],[s.MarketingCost,"营销成本"],[s.Rebate,"返点"],[s.Reverse,"冲销"]]);var c;(function(e){e[e["bank"]=1]="bank",e[e["zfb"]=2]="zfb"})(c||(c={}));const d=new Map([[c.bank,"银行账户"],[c.zfb,"支付宝"]]);var m,u;(function(e){e["FixedAssets"]="01",e["OfficeExpenses"]="02",e["TravelExpenses"]="03",e["CityTransportationFee"]="04",e["BusinessEntertainmentExpenses"]="05",e["LogisticsFee"]="06",e["IntermediaryConsultingFee"]="07",e["CommunicationCost"]="08",e["CarCost"]="09",e["ConferenceExpenses"]="10",e["AssetUseFee"]="11",e["PromotionExpenses"]="13",e["TechnicalServiceFee"]="14",e["SampleFee"]="15",e["LowValueConsumables"]="16",e["MainBusinessCost"]="999999",e["Loan"]="999998"})(m||(m={})),function(e){e[e["Cost"]=1]="Cost",e[e["Refund"]=2]="Refund",e[e["Fee"]=3]="Fee",e[e["Loan"]=4]="Loan",e[e["Other"]=5]="Other",e[e["FundTransfer"]=6]="FundTransfer",e[e["financeBuy"]=7]="financeBuy",e[e["Release"]=8]="Release"}(u||(u={}));const _=new Map([[u.Cost,"成本"],[u.Refund,"退款"],[u.Fee,"费用"],[u.Loan,"借款"],[u.Other,"其他"],[u.FundTransfer,"资金划转"],[u.financeBuy,"理财买入"],[u.Release,"煜丰投放（收量）"]]),p=new Map([[m.FixedAssets,"固定资产"],[m.OfficeExpenses,"办公费"],[m.TravelExpenses,"差旅费"],[m.CityTransportationFee,"市内交通费"],[m.BusinessEntertainmentExpenses,"业务招待费"],[m.LogisticsFee,"物流费"],[m.IntermediaryConsultingFee,"中介咨询费"],[m.CommunicationCost,"通讯费用"],[m.CarCost,"汽车费用"],[m.ConferenceExpenses,"会议费"],[m.AssetUseFee,"资产使用费"],[m.PromotionExpenses,"促销费用"],[m.TechnicalServiceFee,"技术服务费"],[m.SampleFee,"样品费"],[m.LowValueConsumables,"低值易耗品"],[m.MainBusinessCost,"主营业务成本"],[m.Loan,"借款"]]);var f,g;(function(e){e[e["alipay"]=0]="alipay",e[e["zhaoshangBank"]=1]="zhaoshangBank",e[e["nongyeBank"]=2]="nongyeBank",e[e["gongshangBank"]=3]="gongshangBank",e[e["hangzhouBank"]=4]="hangzhouBank",e[e["lianheBank"]=5]="lianheBank",e[e["beijingBank"]=6]="beijingBank"})(f||(f={})),function(e){e[e["watigingClaim"]=0]="watigingClaim",e[e["claimed"]=1]="claimed"}(g||(g={}));const h=new Map([[g.watigingClaim,"待认领"],[g.claimed,"已认领"]]);var v;(function(e){e[e["otherIncome"]=0]="otherIncome",e[e["fundTransfer"]=1]="fundTransfer",e[e["ProjectIncome"]=2]="ProjectIncome",e[e["zfbWithdraw"]=3]="zfbWithdraw",e[e["financialIncome"]=4]="financialIncome",e[e["taobaoCpsIncome"]=5]="taobaoCpsIncome",e[e["vTaskIncome"]=6]="vTaskIncome",e[e["staffRepayment"]=7]="staffRepayment",e[e["damageIndemnity"]=8]="damageIndemnity",e[e["yulibaoRedemption"]=9]="yulibaoRedemption"})(v||(v={}));const b=new Map([[v.otherIncome,"其它收入"],[v.fundTransfer,"资金划转"],[v.ProjectIncome,"项目收入"],[v.zfbWithdraw,"支付宝提现"],[v.financialIncome,"理财收入"],[v.taobaoCpsIncome,"淘宝CPS收入"],[v.vTaskIncome,"V任务收入"],[v.staffRepayment,"员工还款"],[v.damageIndemnity,"公物损坏赔偿"],[v.yulibaoRedemption,"余利宝赎回"]]);var y;(function(e){e[e["cost"]=1]="cost",e[e["refund"]=2]="refund",e[e["fee"]=3]="fee",e[e["loan"]=4]="loan",e[e["other"]=5]="other",e[e["fundTransfer"]=6]="fundTransfer"})(y||(y={}));const w=new Map([[y.cost,"成本"],[y.refund,"退款"],[y.fee,"费用"],[y.loan,"借款"],[y.other,"其他"],[y.fundTransfer,"资金划转"]]);var C;(function(e){e[e["income"]=1]="income",e[e["cost"]=-1]="cost"})(C||(C={}))},82741:function(e,t,a){a.d(t,{I:function(){return i},u:function(){return o}});var n=a(71340);const i=(e,t)=>{const a="string"===typeof t?{title:t}:t;return new Promise((t=>{e.root.$TDialog({...a,onConfirm:()=>t(!0),onCancel:()=>t(!1)})}))},o=e=>{const t="string"===typeof e?{title:e}:e;return new Promise(((e,a)=>{(0,n.t)({...t,onConfirm:()=>e(!0),onCancel:()=>a()})}))}},58302:function(e,t,a){var n=a(97434),i=a(77944),o=a(52140);const r=e=>{const t=(0,n.computed)((()=>i.Z.getters["global/scrollbarSetting"])),a=(0,n.computed)((()=>void 0!==e.pagename?!0!==t.value.find((t=>t.key===e.pagename))?.value:e.disable??!1)),r=(0,n.computed)((()=>{const t=(e.fixedBlockHeightRefs??[]).map((e=>(0,n.unref)(e))).reduce(((e,t)=>(0,n.unref)(e)+(0,n.unref)(t)),0);return a.value?"max-content":`calc(100vh - ${(0,n.unref)(t)+56+36}px)`})),s=(0,n.computed)((()=>(a.value,"flex-auto"))),l=(0,n.computed)((()=>({height:r.value,overflowInBody:!a.value}))),c=(0,n.ref)(0),d=(0,n.computed)((()=>a.value?{}:{height:Math.max(c.value-(0,n.unref)((0,n.unref)(e.compensation)),e.tableMinHeight??0)})),m=a.value?()=>{}:e=>{c.value!==e&&(c.value=e,(0,o.S)())},u=a.value?()=>{}:t=>{0===c.value?setTimeout((()=>{m(t.height)}),e.delay??1200):m(t.height)};return{cardHeight:r,tableProps:d,onRectUpdate:u,rectHeight:c,cardFlexClass:s,cardProps:l}};t["Z"]=r},44928:function(e,t,a){a.d(t,{t:function(){return i}});var n=a(86834);const i=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(n.Z,t)}});return e}},52140:function(e,t,a){a.d(t,{S:function(){return n},n:function(){return i}});const n=()=>{const e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},i=()=>{const{width:e,height:t}=document.body.getBoundingClientRect();return{width:e,height:t}}},67910:function(e,t,a){a.d(t,{P6:function(){return l},zY:function(){return s}});var n=a(97434),i=a(61282),o=a(85937),r=a.n(o);const s=(e,t,a,o=20)=>(0,n.computed)((()=>Math.ceil(Math.max(...e.value.map((e=>(0,i.QN)(a(e,!0)))),(0,i.QN)(t)))+o+6)),l=(e,t=!0)=>{let a;return a=""===e||void 0===e?"--":(0,i.SJ)(new(r())(e??0)),t?(0,n.h)("span",[`￥${a}`]):(0,n.h)("span",[`${a}`])}},57046:function(e,t,a){a.d(t,{I8:function(){return i},X1:function(){return o},mr:function(){return n}});a(26699);function n(e,t="yyyy-MM-dd"){var a=new Date(e),n={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t}function i(e){const t=e.constructor===Array?[]:{};for(let a in e)e.hasOwnProperty(a)&&(e[a]&&"object"===typeof e[a]?(t[a]=e[a].constructor===Array?[]:{},t[a]=i(e[a])):t[a]=e[a]);return t}function o(e,t,a){const n=e.target.value,i=/^[1-9]\d*$/;e.target.value=i.test(n)?n:"",t[a]=i.test(n)?n:""}}}]);
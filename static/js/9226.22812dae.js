"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[9226],{31165:function(e,t,a){a.d(t,{Z:function(){return p}});var s,n,r=a(97434),l=a(23624),o=a(48606),i=a(82741),c=(0,r.defineComponent)({setup:(e,t)=>{const a=(0,r.reactive)({tabs:[{label:"按考评组",value:"group"},{label:"按单个员工",value:"people"}],active:"group"}),s=(0,r.ref)([]),n=(0,r.ref)([]),i=(0,r.ref)([]),c=(0,r.ref)([]),u=(0,r.ref)(),m=e=>{u.value=e,(0,l.s9)(e).then((e=>{e.data.success&&(s.value=e.data.data.evaluation_group_list.map(((e,t)=>(e.key=e.id,e.label=e.name,e))),e.data.data.evaluation_group_list.forEach((e=>{e.by_evaluation_person.forEach((e=>{i.value.push({key:e.user_id,label:`${e.username}(${e.real_name})`,id:e.user_id,username:e.username,real_name:e.real_name})}))})))}))},d=()=>{const e={assessment_management_id:u.value,evaluation_group_id_list:[],user_id_list:[]};if("group"===a.active){if(0===n.value.length)return o.Message.error("还未选择考评组");e.evaluation_group_id_list=n.value}else{if(0===c.value.length)return o.Message.error("还未选择员工");e.user_id_list=c.value}(0,l.wF)(e).then((e=>{e.data.success?(o.Message.success("发起成功"),t.emit("close"),t.emit("submit")):o.Message.error(e.data.message)}))};return{tabs:a,groupData:s,groupSelected:n,userData:i,userSelected:c,dialogSubmit:d,show:m}},render(){const e=arguments[0];let t,a=0,s=0;switch(this.tabs.active){case"group":t=e("el-transfer",{attrs:{data:this.groupData,filterable:!0,"filter-placeholder":"搜索考评组","button-texts":["回退","添加"],titles:["全选","全选"],format:{hasChecked:"已选择：${checked}",noChecked:"已选择：0"}},model:{value:this.groupSelected,callback:e=>{this.groupSelected=e}}}),a=this.groupSelected.length,s=this.groupData.length-a;break;case"people":t=e("el-transfer",{attrs:{data:this.userData,filterable:!0,"filter-placeholder":"搜索员工","button-texts":["回退","添加"],titles:["全选","全选"],format:{hasChecked:"已选择：${checked}",noChecked:"已选择：0"}},model:{value:this.userSelected,callback:e=>{this.userSelected=e}}}),a=this.userSelected.length,s=this.userData.length-a;break;default:break}return e("div",{class:"launch-container"},[e("tg-tabs",{attrs:{tabs:this.tabs.tabs,value:this.tabs.active},on:{input:async e=>{a>0&&await(0,i.u)("切换选人方式，当前已选中的会被清除"),this.groupSelected=[],this.userSelected=[],this.tabs.active=e}}}),e("div",{class:"content"},[e("div",{class:"transfer-header"},[e("div",["未发起评分 (",s,")"]),e("div"),e("div",["发起评分 (",a,")"])]),e("div",{class:"transfer-box"},[t])])])}}),u=c,m=a(1001),d=(0,m.Z)(u,s,n,!1,null,"d28d8cdc",null),p=d.exports},2906:function(e,t,a){a.d(t,{Z:function(){return q}});var s,n,r,l=a(97434),o=a(23624),i=a(59563),c=a(43773),u=a(15681),m=(0,l.defineComponent)({setup:(e,t)=>{const a=(0,l.ref)({selectedAssess:[],currentCycleType:u.Sr.MONTHLY,name:""}),s=(0,i.h)(o.UX,{manual:!0}),n=(0,l.computed)((()=>{const e=s.data||[];return e})),r=(0,l.computed)((()=>{let e=!1,t=!0;return n.value.map((s=>{const n=a.value.selectedAssess.some((e=>e.id===s.id));n||(t=!1),n&&(e=!0)})),0===n.value.length?(e=!1,t=!1):t&&(e=!1),{isIndeterminate:e,allCheck:t}})),c=e=>{e&&(a.value.selectedAssess=e,e.length>0&&(a.value.currentCycleType=e[0].cycle_type)),s.runAsync({page_num:1,num:20},{cycle_type:a.value.currentCycleType})},m=()=>{t.emit("submit",a.value.selectedAssess),t.emit("close")};return{reqEvalation:s,formData:a,checkAllStatus:r,dialogSubmit:m,filterData:n,show:c}},render(){const e=arguments[0],{formData:t,reqEvalation:a}=this,{pagination:s}=a;return e("div",{class:"launch-container"},[e("div",{class:"content-select"},[e("div",{class:"header"},[u.OF.map((a=>{let s="",n=!1;return t.currentCycleType===a.value&&(s+="active"),this.formData.selectedAssess.length>0&&t.selectedAssess[0].cycle_type!==a.value&&(n=!0,s+=" disabled"),e("span",{key:a.value,class:s,on:{click:()=>{n||(t.currentCycleType=a.value,this.reqEvalation.pagination.reQuery({cycle_type:a.value}))}}},[a.label])}))]),e("div",{class:"search"},[e("el-input",{attrs:{clearable:!0,size:"small"},on:{input:()=>{a.pagination.reQuery({name:t.name,cycle_type:t.currentCycleType})}},model:{value:t.name,callback:e=>{this.$set(t,"name",e)}}},[e("i",{slot:"prefix",class:"el-input__icon el-icon-search"})])]),e("div",{class:"flex-fill"},[e("div",{class:"table"},[e("div",{class:"table-row"},[e("div",{class:"mgr-6"},[e("el-checkbox",{attrs:{isIndeterminate:this.checkAllStatus.isIndeterminate,value:this.checkAllStatus.allCheck},on:{input:()=>{if(this.checkAllStatus.allCheck)t.selectedAssess=t.selectedAssess.filter((e=>!this.filterData.some((t=>t.id===e.id))));else{const e=this.filterData.filter((e=>!t.selectedAssess.some((t=>t.id===e.id))));t.selectedAssess.push(...e)}}}})]),e("div",["全选"])]),this.filterData.map(((a,s)=>{const n=t.selectedAssess.some((e=>e.id===a.id));return e("div",{class:"table-row",key:s},[e("div",{class:"mgr-6"},[e("el-checkbox",{attrs:{value:n},on:{input:()=>{n?t.selectedAssess=t.selectedAssess.filter((e=>e.id!==a.id)):t.selectedAssess.unshift(a)}}})]),e("div",[a.name]),e("div",{class:"group-count"},["（",a.by_evaluation_person.length,"人）"])])}))])]),e("div",{class:"pagination"},[e("el-pagination",{attrs:{small:!0,layout:"prev,pager,next",total:s.total,"current-page":s.page_num,"page-size":s.page_size},on:{"current-change":s.onCurrentChange}})])]),e("div",{class:"select-box"},[e("div",{class:"selected-info"},[e("span",["已选择 ",this.formData.selectedAssess.length," 个考评组"]),e("a",{on:{click:()=>{t.selectedAssess=[]}}},["清空选中"])]),e("div",{class:"selected-people"},[e("div",{class:"selected-people-list"},[this.formData.selectedAssess.map(((t,a)=>e("span",{key:a},[t.name,e("i",{class:"el-input__icon el-icon-close",on:{click:()=>{this.formData.selectedAssess.splice(a,1)}}})])))])])])])}}),d=m,p=a(1001),f=(0,p.Z)(d,s,n,!1,null,"a3e97cd4",null),_=f.exports,v=a(6933),h=a.n(v);(function(e){e["QUARTER"]="quarter",e["HALF"]="half"})(r||(r={}));const g=["Q1","Q2","Q3","Q4"],y=["上半年","下半年"],b=(e,t)=>{if(!e)return"";const a=h()(e),s=a.year(),n=a.month()+1,l=t===r.QUARTER?3:6,o=t===r.QUARTER?g:y,i=(r.QUARTER,"");return`${s}年${i}${o[Math.ceil(n/l)-1]}`};var A,S,k,R=(0,l.defineComponent)({props:{value:{type:Array,default:()=>[]},type:{type:String,default:()=>r.QUARTER}},setup(e,t){const a=(0,l.computed)((()=>{let t=e.value&&e.value[0];return t=t?h()(t):h()(),t})),s=(0,l.computed)((()=>{const t=e.value&&e.value[0];return b(t,e.type)})),n=(0,l.ref)(0),o=e=>{a.value.add(e,"years"),n.value++},i=(0,l.ref)(!1),c=s=>{const n=new Array(2),l=a.value.clone(),o=e.type===r.QUARTER?3:6;l.startOf("year").add(s*o,"months"),n[0]=l.format("YYYY-MM-DD HH:mm:ss"),n[1]=l.add(o-1,"months").endOf("month").format("YYYY-MM-DD HH:mm:ss"),i.value=!1,t.emit("input",n)};return{forceUpdate:n,currentYear:a,operatorYear:o,showPopover:i,quarter:g,half:y,selectedDate:c,currentInputValue:s}},render(){const e=arguments[0];return this.forceUpdate,e("el-popover",{attrs:{trigger:"click",width:"220",placement:"bottom-start"},model:{value:this.showPopover,callback:e=>{this.showPopover=e}}},[e("el-input",{attrs:{size:"small",value:this.currentInputValue},slot:"reference"},[e("i",{slot:"prefix",class:"el-input__icon el-icon-date"})]),e("div",{class:"date-box"},[e("div",{class:"date-box-title"},[e("button",{on:{click:()=>this.operatorYear(-1)},attrs:{type:"button"},class:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left"}),e("span",{attrs:{role:"button"},class:"el-date-picker__header-label"},[this.currentYear.format("YYYY 年")]),e("button",{on:{click:()=>this.operatorYear(1)},attrs:{type:"button"},class:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right"})]),e("div",{class:"date-box-content"},[(this.type===r.QUARTER&&this.quarter||this.half).map(((t,a)=>e("span",{key:a,on:{click:()=>this.selectedDate(a)}},[t])))])])])}}),T=R,E=(0,p.Z)(T,A,S,!1,null,"ee7c7560",null),Y=E.exports;(function(e){e["QUARTER"]="quarter",e["HALF"]="half"})(k||(k={}));const w=["Q1","Q2","Q3","Q4"],N=["上半年","下半年"],U=(e,t)=>{if(!e)return"";const a=h()(e),s=a.year(),n=a.month()+1,r=t===k.QUARTER?3:6,l=t===k.QUARTER?w:N,o=(k.QUARTER,"");return`${s}年${o}${l[Math.ceil(n/r)-1]}`};(0,l.defineComponent)({props:{value:{type:Array,default:()=>[]},type:{type:String,default:()=>k.QUARTER}},setup(e,t){const a=(0,l.computed)((()=>{let t=e.value&&e.value[0];return t=t?h()(t):h()(),t})),s=(0,l.computed)((()=>{const t=e.value&&e.value[0];return U(t,e.type)})),n=(0,l.ref)(0),r=e=>{a.value.add(e,"years"),n.value++},o=(0,l.ref)(!1),i=s=>{const n=new Array(2),r=a.value.clone(),l=e.type===k.QUARTER?3:6;r.startOf("year").add(s*l,"months"),n[0]=r.format("YYYY-MM-DD HH:mm:ss"),n[1]=r.add(l-1,"months").endOf("month").format("YYYY-MM-DD HH:mm:ss"),o.value=!1,t.emit("input",n)};return{forceUpdate:n,currentYear:a,operatorYear:r,showPopover:o,quarter:w,half:N,selectedDate:i,currentInputValue:s}},render(){const e=arguments[0];return this.forceUpdate,e("el-popover",{attrs:{trigger:"click",width:"220",placement:"bottom-start"},model:{value:this.showPopover,callback:e=>{this.showPopover=e}}},[e("el-input",{attrs:{size:"small",value:this.currentInputValue},slot:"reference"},[e("i",{slot:"prefix",class:"el-input__icon el-icon-date"})]),e("div",{class:"date-box"},[e("div",{class:"date-box-title"},[e("button",{on:{click:()=>this.operatorYear(-1)},attrs:{type:"button"},class:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left"}),e("span",{attrs:{role:"button"},class:"el-date-picker__header-label"},[this.currentYear.format("YYYY 年")]),e("button",{on:{click:()=>this.operatorYear(1)},attrs:{type:"button"},class:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right"})]),e("div",{class:"date-box-content"},[(this.type===k.QUARTER&&this.quarter||this.half).map(((t,a)=>e("span",{key:a,on:{click:()=>this.selectedDate(a)}},[t])))])])])}});var I,O,D=a(48606),C=a(64236),M=(0,l.defineComponent)({components:{DatePickers:Y},setup:(e,t)=>{const a=(0,i.h)(o.UX),s=(0,l.ref)({selectedAssess:[],user_id_list:[],assessment_cycle:"",assessment_cycle_time:"",cycle_type:void 0}),n=(0,l.ref)("考核名称"),r=(0,l.computed)((()=>{const e=s.value.cycle_type,t=s.value.assessment_cycle_time;if(void 0!==e){if(t)switch(e){case u.Sr.MONTHLY:return h()(t).format("YYYY年MM月绩效考核");case u.Sr.ANNUAL:return h()(t).format("YYYY年绩效考核");case u.Sr.QUARTERLY:return U(t[0],k.QUARTER)+"绩效考核";case u.Sr.SEMIANNUA:return U(t[0],k.HALF)+"绩效考核";default:return""}return""}})),m=(0,l.computed)((()=>{const e=s.value.selectedAssess;let t="";if(0===e.length)return null;for(let a=0;a<e.length;a++){const s=e[a].name;if(t.length+s.length>17){a<=e.length-1&&(t+=`等${e.length}个考评组`);break}a>0&&(t+="、 "),t+=s}return t}));(0,l.watch)((()=>r.value),(()=>{(0,C.xb)(r.value)?n.value="考核名称":(0,o.kT)({num:20,page_num:1},{name:r.value}).then((e=>{n.value=e.data.data.total>0?"合并到":"考核名称"}))}));const d=(0,c.R)({component:_,title:"选择考评组",width:"800px",on:{submit:e=>{s.value.user_id_list=[],s.value.cycle_type=e.length>0?e[0].cycle_type:void 0,s.value.selectedAssess=e,e.forEach((e=>{s.value.user_id_list.push(...e.by_evaluation_person)})),s.value.assessment_cycle_time=""}}}),p=()=>{if(0===s.value.user_id_list.length)return void D.Message.error("请添加考核人员");if(!r.value)return void D.Message.error("请选择考核周期");const e={...s.value,name:r.value};let a=s.value.assessment_cycle_time;switch(e.evaluation_group_id_list=s.value.selectedAssess.map((e=>e.id)),e.cycle_type){case u.Sr.MONTHLY:a=h()(a),e.assessment_cycle=a.format("YYYY年MM月"),e.assessment_start_time=a.format("YYYY-MM-DD HH:mm:ss"),e.assessment_end_time=a.endOf("month").format("YYYY-MM-DD HH:mm:ss");break;case u.Sr.ANNUAL:a=h()(a),e.assessment_cycle=a.format("YYYY年"),e.assessment_start_time=a.format("YYYY-MM-DD HH:mm:ss"),e.assessment_end_time=a.endOf("year").format("YYYY-MM-DD HH:mm:ss");break;case u.Sr.QUARTERLY:e.assessment_start_time=a[0],e.assessment_end_time=a[1],a=h()(e.assessment_start_time),e.assessment_cycle=U(e.assessment_start_time,k.QUARTER);break;case u.Sr.SEMIANNUA:e.assessment_start_time=a[0],e.assessment_end_time=a[1],a=h()(e.assessment_start_time),e.assessment_cycle=U(e.assessment_start_time,k.HALF);break}e.user_id_list=e.user_id_list.map((e=>e.user_id)),(0,o.ZM)(e).then((e=>{if(!e.data.success)return D.Message.error(e.data.message);D.Message.success("发起成功"),t.emit("close"),t.emit("submit")}))};return{reqEvalation:a,formData:s,dialogSelectEvaluationGroup:d,name:r,dialogSubmit:p,labelName:n,groupName:m}},render(){const e=arguments[0],{formData:t}=this;let a;switch(t.cycle_type){case u.Sr.MONTHLY:a=e("el-date-picker",{attrs:{type:"month",placeholder:"请选择考核周期"},style:"width:100%",model:{value:t.assessment_cycle_time,callback:e=>{this.$set(t,"assessment_cycle_time",e)}}});break;case u.Sr.QUARTERLY:a=e("date-pickers",{attrs:{placeholder:"请选择考核周期",type:"quarter"},style:"width:100%",model:{value:t.assessment_cycle_time,callback:e=>{this.$set(t,"assessment_cycle_time",e)}}});break;case u.Sr.SEMIANNUA:a=e("date-pickers",{attrs:{placeholder:"请选择考核周期",type:"half"},style:"width:100%",model:{value:t.assessment_cycle_time,callback:e=>{this.$set(t,"assessment_cycle_time",e)}}});break;case u.Sr.ANNUAL:a=e("el-date-picker",{attrs:{type:"year",placeholder:"请选择考核周期"},style:"width:100%",model:{value:this.formData.assessment_cycle_time,callback:e=>{this.$set(this.formData,"assessment_cycle_time",e)}}});break;default:a=e("el-date-picker",{attrs:{placeholder:"请选择考核周期",disabled:!0},style:"width:100%"});break}return e("div",{class:"launch-container"},[e("el-form",{attrs:{size:"small","label-position":"top"}},[e("el-form-item",{attrs:{label:"考评组"}},[e("div",{on:{click:()=>{this.dialogSelectEvaluationGroup.show(t.selectedAssess)}}},[e("el-input",{attrs:{placeholder:"请选择考评组",readonly:!0,value:this.groupName},style:"width:100%"})])]),e("el-form-item",{attrs:{label:"考核周期"}},[a]),e("el-form-item",{attrs:{label:this.labelName}},[e("el-input",{attrs:{disabled:!0,value:this.name}})])])])}}),G=M,L=(0,p.Z)(G,I,O,!1,null,"d047803c",null),q=L.exports},15681:function(e,t,a){var s;a.d(t,{F2:function(){return s},Kg:function(){return m},OF:function(){return i},Sr:function(){return l},Tp:function(){return d},__:function(){return u},fB:function(){return o},rD:function(){return n},ts:function(){return r}}),function(e){e[e["RATION"]=1]="RATION",e[e["QUALITATIVE"]=2]="QUALITATIVE",e[e["BONUS"]=3]="BONUS",e[e["DEDUCT"]=4]="DEDUCT"}(s||(s={}));const n=new Map([[s.RATION,"定量指标"],[s.QUALITATIVE,"定性指标"],[s.BONUS,"加分项"],[s.DEDUCT,"扣分项"]]),r=[{label:"定量指标",value:s.RATION},{label:"定性指标",value:s.QUALITATIVE},{label:"加分项",value:s.BONUS},{label:"扣分项",value:s.DEDUCT}];var l;(function(e){e[e["MONTHLY"]=1]="MONTHLY",e[e["QUARTERLY"]=2]="QUARTERLY",e[e["SEMIANNUA"]=3]="SEMIANNUA",e[e["ANNUAL"]=4]="ANNUAL"})(l||(l={}));const o=new Map([[l.MONTHLY,"月度"],[l.QUARTERLY,"季度"],[l.SEMIANNUA,"半年度"],[l.ANNUAL,"年度"]]),i=[{label:"月度",value:l.MONTHLY},{label:"季度",value:l.QUARTERLY},{label:"半年度",value:l.SEMIANNUA},{label:"年度",value:l.ANNUAL}];var c,u;(function(e){e[e["BY_EVALUATION_PERSON"]=1]="BY_EVALUATION_PERSON",e[e["DIRECT_MANAGER"]=2]="DIRECT_MANAGER"})(c||(c={})),function(e){e[e["TARGET_SETTING"]=1]="TARGET_SETTING",e[e["TARGET_CONFIRM"]=2]="TARGET_CONFIRM",e[e["IN_PROGRESS"]=3]="IN_PROGRESS",e[e["SELF"]=4]="SELF",e[e["SUPERIOR"]=5]="SUPERIOR",e[e["SIGNATURE"]=6]="SIGNATURE",e[e["FINISH"]=7]="FINISH"}(u||(u={}));const m=new Map([[u.TARGET_SETTING,"目标制定"],[u.TARGET_CONFIRM,"目标确认"],[u.IN_PROGRESS,"执行中"],[u.SELF,"自评"],[u.SUPERIOR,"上级评分"],[u.SIGNATURE,"签字确认"],[u.FINISH,"考核完成"]]),d=[{label:"目标制定",value:u.TARGET_SETTING},{label:"目标确认",value:u.TARGET_CONFIRM},{label:"执行中",value:u.IN_PROGRESS},{label:"自评",value:u.SELF},{label:"上级评分",value:u.SUPERIOR},{label:"签字确认",value:u.SIGNATURE},{label:"考核完成",value:u.FINISH}]},59563:function(e,t,a){a.d(t,{Q:function(){return r},h:function(){return l}});a(21703);var s=a(97434),n=a(48606);const r=(e,{manual:t,onError:a,onSuccess:r,defaultParams:l,transform:o}={})=>{const i=(0,s.ref)(),c=(0,s.ref)(),u=(0,s.ref)(!1),m=(0,s.ref)([]),d=()=>{p(...m.value)},p=(...t)=>Promise.resolve(t||l).then((()=>{u.value=!0})).then((()=>0===t.length&&l&&l.length>0?l:t)).then((e=>(m.value=e,e))).then((t=>e(...t))).then((e=>{if(!e.data.success)throw new Error(e.data.message);return i.value=o?o(e.data.data):e.data.data,r&&r(i.value,e.data),e})).then((()=>{u.value=!1})).catch((e=>{throw u.value=!1,c.value=e.message,a&&a(e),n.Message.error(e.message),e})),f=p;return t||p(...l||[]),(0,s.reactive)({data:i,error:c,loading:u,reload:d,run:p,runAsync:f,params:m})},l=(e,t={})=>{const{defaultPageSize:a=20,defaultParams:n=[],transform:l,...o}=t,i=(0,s.ref)(),c=(0,s.reactive)({total:0,page_num:1,page_size:a,onCurrentChange:e=>{const t=[...d.params];t[0]?t[0].page_num=e:t[0]={num:a,page_num:e},d.runAsync(...t).then((()=>{c.page_num=e}))},refresh:()=>c.onCurrentChange(1),reQuery(...e){const t=[];return d.params[0]?(t[0]=d.params[0],t[0].page_num=1,c.page_num=1):(t[0]={num:a,page_num:1},c.page_num=1),t.push(...e),d.runAsync(...t)}}),[u={num:a,page_num:1},...m]=n,d=r(e,{defaultParams:[u,...m],...o,onSuccess(e,a){i.value=l?l(e):e.data,c.total=e.total,t.onSuccess&&t.onSuccess(i.value,a)}}),{data:p,...f}=(0,s.toRefs)(d);return(0,s.reactive)({...f,data:i,pagination:c})}},23624:function(e,t,a){a.d(t,{$K:function(){return Y},$R:function(){return R},$b:function(){return P},Cl:function(){return C},Dr:function(){return l},EB:function(){return y},Ev:function(){return _},JP:function(){return E},L5:function(){return x},Mz:function(){return M},O5:function(){return k},UX:function(){return f},Y4:function(){return o},ZM:function(){return g},Z_:function(){return I},ao:function(){return H},bV:function(){return $},bl:function(){return i},dP:function(){return L},g:function(){return A},gb:function(){return U},iC:function(){return S},iL:function(){return p},kT:function(){return h},lI:function(){return v},mS:function(){return c},n5:function(){return b},nQ:function(){return r},oY:function(){return D},o_:function(){return q},q0:function(){return G},s9:function(){return w},vL:function(){return m},vv:function(){return u},wF:function(){return T},wH:function(){return N},y3:function(){return Q},yI:function(){return O},zr:function(){return d}});var s=a(76012),n=a(64236);const r=async(e,t)=>(0,s.dX)("/api/performance_management/query_indicators_library",{params:{...e,...(0,n.jG)(t)}}),l=async e=>(0,s.SO)("/api/performance_management/save_or_modify_indicator",(0,n.jG)(e)),o=async e=>(0,s.HG)("/api/performance_management/delete_indicators",{data:{id_list:e}}),i=async e=>(0,s.dX)("/api/performance_management/query_indicator_tag",{params:{...(0,n.jG)(e)}}),c=async e=>(0,s.SO)("/api/performance_management/modify_move_indicator_tag",{indicator_tag_list:e}),u=async e=>(0,s.SO)("/api/performance_management/save_or_modify_indicator_tag",e),m=async e=>(0,s.HG)(`/api/performance_management/delete_indicators_tag/${e}`),d=async()=>(0,s.dX)("/api/feishu/feishu_department_and_user_list"),p=async e=>(0,s.SO)("/api/performance_management/save_or_modify_evaluation_group",e),f=async(e,t)=>(0,s.dX)("/api/performance_management/query_evaluation_group",{params:(0,n.jG)({...e,...t})}),_=async(e,t)=>(0,s.dX)("/api/performance_management/query_evaluation_group_name",{params:(0,n.jG)({...e,...t})}),v=async e=>(0,s.HG)(`/api/performance_management/delete_evaluation_group/${e}`),h=async(e,t)=>(0,s.dX)("/api/performance_management/query_assessment",{params:(0,n.jG)({...e,...t})}),g=async e=>(0,s.SO)("/api/performance_management/save_assessment",e),y=async e=>(0,s.SO)("/api/performance_management/save_assessment_level_config",e),b=async()=>(0,s.dX)("/api/performance_management/query_assessment_level_config"),A=async(e,t)=>(0,s.dX)("/api/performance_management/query_assessment_detail",{params:(0,n.jG)({...e,...t})}),S=async e=>(0,s.dX)("/api/performance_management/get_assessment_detail_by_my_performance",{params:(0,n.jG)(e)}),k=async(e,t)=>(0,s.dX)("/api/performance_management/query_assessment_detail_by_analysis",{params:(0,n.jG)({...e,...t})}),R=async(e,t)=>(0,s.dX)("/api/performance_management/query_assessment_detail_by_performance_record",{params:(0,n.jG)({...e,...t})}),T=async e=>(0,s.SO)("/api/performance_management/modify_start_score",e),E=async e=>(0,s.SO)("/api/performance_management/modify_assessment_result",e),Y=async(e,t)=>(0,s.dX)("/api/performance_management/query_my_performance",{params:(0,n.jG)({...e,...t})}),w=async e=>(0,s.dX)("/api/performance_management/query_assessment_by_id",{params:{assessment_management_id:e}}),N=async e=>{const{assessment_dimension_list:t}=e;return t&&t.length>0&&t.forEach((e=>{e.indicator_list&&e.indicator_list?.forEach((e=>{["self_assessment_score","weight","superior_assessment_score"].forEach((t=>{(0,n.xb)(e[t])&&(e[t]=null)}))}))})),console.log("payload",e),(0,s.SO)("/api/performance_management/modify_performance_process",(0,n.jG)(e))},U=async(e,t)=>(0,s.dX)("/api/performance_management/query_user_performance_record",{params:(0,n.jG)({...t,...e})}),I=async(e,t)=>(0,s.dX)("/api/performance_management/query_user_performance_detail_record",{params:(0,n.jG)({...e,...t})}),O=async(e,t)=>(0,s.dX)("/api/performance_management/query_performance_analysis",{params:(0,n.jG)({...e,...t})}),D=async()=>(0,s.dX)("/api/performance_management/query_finish_assessment"),C=async(e,t)=>(0,s.dX)("/api/performance_management/query_with_me_performance",{params:(0,n.jG)({...e,...t})}),M=async(e,t)=>(0,s.dX)("/api/performance_management/query_subordinate_performance",{params:(0,n.jG)({...e,...t})}),G=async e=>(0,s.SO)("/api/performance_management/check_evaluation_group_user_ids",e),L=async e=>(0,s.SO)("/api/performance_management/modify_reset_process",(0,n.jG)(e)),q=async e=>(0,s.dX)("/api/performance_management/query_assessment_and_user",{params:e}),x=async e=>(0,s.dX)("/api/performance_management/query_assessment_and_user_by_analysis",{params:e}),Q=async e=>(0,s.dX)("/api/performance_management/query_assessment_and_user_by_performance_record",{params:e}),$=async(e,t)=>(0,s.dX)("/api/performance_management/query_assessment_name",{params:(0,n.jG)({...e,...t})}),H=async e=>(0,s.dX)("/api/auth/getuser_leader_by_subordinate_id",{params:{user_id:e}}),P=async e=>(0,s.dX)("/api/performance_management/query_assessment_and_user_by_my_performance",{params:(0,n.jG)(e)})},82741:function(e,t,a){a.d(t,{I:function(){return n},u:function(){return r}});var s=a(71340);const n=(e,t)=>{const a="string"===typeof t?{title:t}:t;return new Promise((t=>{e.root.$TDialog({...a,onConfirm:()=>t(!0),onCancel:()=>t(!1)})}))},r=e=>{const t="string"===typeof e?{title:e}:e;return new Promise(((e,a)=>{(0,s.t)({...t,onConfirm:()=>e(!0),onCancel:()=>a()})}))}},44928:function(e,t,a){a.d(t,{t:function(){return n}});var s=a(86834);const n=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(s.Z,t)}});return e}},70437:function(e,t,a){var s=a(36568),n=a.n(s);const r={functional:!0,render:(e,t)=>{const{props:a}=t,{showAll:s=!1,showAllText:r="全部",clearable:l=!0}=a,o={props:{...t.value,clearable:l},on:t.listeners,attrs:t.data.attrs};return e("el-select",n()([{},o]),[s&&e("el-option",{attrs:{label:r,value:void 0}}),a.options?.map(((t,a)=>e("el-option",{attrs:{disabled:t.disabled,label:t.label,value:t.value},key:a})))])}};t["Z"]=r},21495:function(e,t,a){a.d(t,{L:function(){return r}});var s=a(97434),n={template:"template-fe9519",searchBar:"searchBar-c522bd",formItemContainer:"formItemContainer-d53e08",formItem:"formItem-c6ff4c",bodyContainer:"bodyContainer-b06936",btnLine:"btnLine-d428fc",tableContainer:"tableContainer-dd87f4"},r=(0,s.defineComponent)({props:{columns:{type:Array,default:()=>[]},value:{type:Object},routes:{},service:{required:!0,type:Function},config:{type:Object,default:()=>{}}},setup(e,t){const a=(0,s.ref)(),{reset:n}=e.config||{},r=e.service,l=()=>{const t=r.params;return t[0]&&(t[0].page_num=1),r.runAsync(t[0],e.value)},o=()=>{n&&n(),(0,s.nextTick)(l)};return{formRef:a,onReset:o,reqData:r,search:l}},render(){const e=arguments[0];return e("div",{class:["tg-page-container",n.template]},[this.routes&&e("tg-breadcrumbs",{attrs:{routes:this.routes}}),this.$slots.default&&e("div",{class:["tg-card",n.searchBar]},[e("el-form",{attrs:{size:"small","show-message":!1,"hide-required-asterisk":!0,"label-width":"70px"},ref:"formRef"},[e("div",{class:n.formItemContainer},[this.$slots.default?.map((t=>e("div",{class:n.formItem},[t]))),this.$slots.searchBtn?this.$slots.searchBtn:e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:this.search}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:this.onReset}},["重置"])])])])]),this.$slots.middle,e("div",{class:n.bodyContainer},[this.$slots.btnLine&&e("div",{class:n.btnLine},[this.$slots.btnLine]),e("div",{class:n.tableContainer},[e("tg-table",{attrs:{stripe:!0,columns:this.columns,height:"100%",data:this.reqData.data,pagination:this.reqData.pagination},directives:[{name:"loading",value:this.reqData.loading}],on:{"selection-change":this.config?.table?.selectionChange}},[e("div",{class:"tg-page-empty",slot:"empty"},[e("empty-common")])])])])])}})},43773:function(e,t,a){a.d(t,{R:function(){return d},y:function(){return p}});var s=a(36568),n=a.n(s),r=a(97434),l=a(64923),o=a(77944);let i=1;const c=()=>{const e=document.createElement("div");return e.id="dialog_"+i++,document.body.appendChild(e),e},u=new Function,m=(e,t)=>{let a=e;return void 0===a&&(a={}),Object.keys(t).forEach((e=>{const s=a[e]||u,n=t[e];a[e]=(...e)=>{if(!1!==n(...e))return s(...e)}})),a},d=(e={})=>{const t=(0,r.ref)(),a=(0,r.reactive)({visible:!1,title:void 0,width:void 0,footer:!0,okText:"提交",cancelText:"取消",disabledOK:!0}),s=(0,r.ref)(!0),i=e=>{Object.keys(e).forEach((t=>{a.hasOwnProperty.call(a,t)&&(a[t]=e[t])}))};i(e);const u=(0,r.ref)(m(e.on,{close(){a.visible=!1},updateDialog(e={}){i(e)}})),d=()=>{const e=t.value.$refs&&t.value.$refs.dialogRef||{};e.dialogSubmit?e.dialogSubmit():e.onSaveBtnClick?e.onSaveBtnClick():console.log("子组件没有dialogSubmit或onSaveBtnClick")};t.value=new l["default"]({el:c(),store:o.Z,setup(){void 0!==e.provide&&Object.keys(e.provide).forEach((t=>{(0,r.provide)(t,e.provide[t])}))},render(t){if(s.value&&a.visible)return t("el-dialog",n()([{class:`customer-dialog el-dialog-center-rewrite tg-body-container  ${e.class}`},{props:a},{attrs:{"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1}},{on:u.value},{attrs:{isDialog:!0}}]),[a.visible&&t(e.component,{ref:"dialogRef",props:{...e.props,isDialog:!0},on:u.value}),a.footer&&t("fragments",{slot:"footer"},[t("tg-button",{on:{click:()=>a.visible=!1}},[a.cancelText]),a.disabledOK&&t("tg-button",{attrs:{type:"primary"},on:{click:d}},[a.okText])])])}});const p=(...e)=>{a.visible||(a.visible=!0,(0,r.nextTick)((()=>{const a=t.value.$refs&&t.value.$refs.dialogRef;a?a.dialogShow?a.dialogShow(...e):a.show&&a.show(...e):console.log("未找到子组件请检查代码")})))},f=e=>(i(e),h),_=()=>{a.visible=!1},v=(e,t,a=!1)=>(!0===a?u.value[e]=t:m(u.value,{[e]:t}),h);(0,r.onUnmounted)((()=>{s.value=!1,a.visible=!1}));const h=(0,r.reactive)({show:p,update:f,on:v,close:_,config:e,data:e.data});return h},p=(e={})=>{const t=(0,r.ref)(),a=(0,r.reactive)({visible:!1,title:void 0,width:void 0,footer:!0,okText:"提交",cancelText:"取消",disabledOK:!0}),s=(0,r.ref)(!0),i=e=>{Object.keys(e).forEach((t=>{a.hasOwnProperty.call(a,t)&&(a[t]=e[t])}))};i(e);const u=(0,r.ref)(m(e.on,{close(){a.visible=!1},updateDialog(e={}){i(e)}})),d=()=>{const e=t.value.$refs&&t.value.$refs.dialogRef||{};e.dialogSubmit?e.dialogSubmit():e.onSaveBtnClick?e.onSaveBtnClick():console.log("子组件没有dialogSubmit或onSaveBtnClick")};t.value=new l["default"]({el:c(),store:o.Z,setup(){void 0!==e.provide&&Object.keys(e.provide).forEach((t=>{(0,r.provide)(t,e.provide[t])}))},render(t){if(!s.value)return;if(!a.visible)return;const{width:r,...l}=a;return t("el-drawer",n()([{class:`tg-drawer-rewrite ${e.class}`},{props:{...l,size:r}},{attrs:{"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1}},{on:u.value},{attrs:{isDialog:!0}}]),[t("div",{class:"tg-drawer-content"},[a.visible&&t(e.component,{ref:"dialogRef",props:{...e.props,isDialog:!0},on:u.value})]),a.footer&&t("div",{class:"tg-drawer-footer"},[t("tg-button",{on:{click:()=>a.visible=!1}},[a.cancelText]),a.disabledOK&&t("tg-button",{class:"mgl-12",attrs:{type:"primary"},on:{click:d}},[a.okText])])])}});const p=(...e)=>{a.visible||(a.visible=!0,(0,r.nextTick)((()=>{const a=t.value.$refs&&t.value.$refs.dialogRef;a?a.dialogShow?a.dialogShow(...e):a.show&&a.show(...e):console.log("未找到子组件请检查代码")})))},f=e=>(i(e),h),_=()=>{a.visible=!1},v=(e,t,a=!1)=>(!0===a?u.value[e]=t:m(u.value,{[e]:t}),h);(0,r.onUnmounted)((()=>{s.value=!1,a.visible=!1}));const h=(0,r.reactive)({show:p,update:f,on:v,close:_,config:e});return h}}}]);
(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[3680],{72887:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return X}});var r=a(97434),o=(a(21703),a(99575)),i=a(48606);const s=({columns:e,data:t,onSortChange:a,defaultSort:o={order:null,prop:""}})=>{const i=(0,r.ref)([]),s=(0,r.ref)([]),n=(0,r.ref)(o.prop),l=(0,r.ref)(o.order),c=t=>{const r=e.length,o=new Array(r).fill(1).map(((e,t)=>t)),c=new Array(Math.max(t.length+1,10)).fill(1).map(((r,o)=>{const i={label:`key_${o}`,align:"center",minWidth:164,formatter(r,i,s,c){const p=this.$createElement,u=e[c];if(0===o){const t="custom"===u.sortable;let r="";n.value===u.prop&&(r=l.value);let o=e[c].label;return void 0!==e[c].renderHeader&&(o=e[c].renderHeader(e[c])),p("div",{class:"firstcolumn_sort",on:{click:()=>{t&&(n.value!==u.prop?(n.value=u.prop,l.value="ascending"):l.value="ascending"===l.value?"descending":"descending"===l.value?null:null===l.value?"ascending":null,a&&a(n.value,l.value))}}},[p("span",{class:"firstcolumn"},[o]),t&&p("span",{class:`caret-wrapper ${r}`},[p("i",{class:"sort-caret ascending",on:{click:e=>{e.stopPropagation(),n.value!==u.prop?(n.value=u.prop,l.value="ascending"):l.value=null===l.value?"ascending":null,a&&a(n.value,l.value)}}}),p("i",{class:"sort-caret descending",on:{click:e=>{e.stopPropagation(),n.value!==u.prop?(n.value=u.prop,l.value="descending"):l.value=null===l.value?"descending":null,a&&a(n.value,l.value)}}})])])}const d=t[o-1];if(void 0===d)return"";let _=d[u.prop];return null===_&&(_="--"),void 0!==u.formatter?u.formatter(_,d,u,o):_}};return 0===o&&(delete i.minWidth,i.width=130,i.fixed="left"),i}));i.value=c,s.value=o};return c(t.value),(0,r.watch)((()=>t.value),(()=>{c(t.value)})),(0,r.reactive)({columns:i,data:s})},n=()=>{const e=(0,r.ref)([]),t=(0,r.ref)(),a=(0,r.ref)([]),s=(0,r.reactive)({total:0,page_num:0}),n=(0,r.ref)(!1),l=e=>null===e||void 0===e?"--":e.toFixed(2),c=a=>{const r={...a};return r.start_date=a.start_date,r.end_date=a.end_date,(0,o.ki)(r).then((a=>{e.value=a.data.data.categories,t.value=a.data.data.project}))},p=e=>Promise.resolve().then((()=>{n.value=!0})).then((()=>(0,o.GX)({...e,num:20}).then((t=>{t.data.success?(t.data.data.items=t.data.data.items.map((e=>(e.market_price=null===e.market_price?"--":`${l(e.market_price/100)}`,e.shop_gmv=null===e.shop_gmv?"--":`${l(e.shop_gmv/100)}`,e.shop_price=null===e.shop_price?"--":`${l(e.shop_price)}`,e.discount_price=null===e.discount_price?"--":`${l(e.discount_price/100)}`,e.gmv=null===e.gmv?"--":`${l(e.gmv/100)}`,e.last_week_gmv=null===e.last_week_gmv?"--":`${l(e.last_week_gmv/100)}`,e.pay_rate=null===e.pay_rate?"--":`${e.pay_rate}%`,e.click_rate=null===e.click_rate?"--":`${e.click_rate}%`,e.shop_refund_gmv=null===e.shop_refund_gmv?"--":`${l(e.shop_refund_gmv/100)}`,e.shop_refund_gmv_rate=null===e.shop_refund_gmv_rate?"--":`${e.shop_refund_gmv_rate}%`,e))),s.total=t.data.data.total,s.page_num=e.page_num,a.value=t.data.data.items):i.Message.error(t.data.message)})))).then((e=>(n.value=!1,e))).catch((e=>{throw n.value=!1,e})),u=(0,r.ref)([]),d=(0,r.ref)([]),_=(0,r.ref)([]),m=(0,r.ref)((()=>{})),h=(0,r.ref)([]),v=(0,r.ref)([]),y=["其他","春季","夏季","秋季","冬季"],f=async(e,t,a,r,s)=>{await Promise.resolve({project_id:e,start_date:t,end_date:a}).then((e=>"season"!==s?(0,o.N1)(e):(0,o.NE)(e))).then((e=>{if(!e.data.success)throw new Error(e.data.message);return e})).then((e=>{_.value=e.data.data,"season"!==s?(u.value=_.value.map((e=>({value:e.year,label:0===e.year?"其他":e.year}))),m.value=b):(d.value=_.value.map((e=>({value:e.season,label:y[e.season]}))),m.value=g)})).then((()=>{m.value(r)})).catch((e=>{i.Message.error(e.message)}))},g=e=>{let t=_.value.find((t=>t.season===Number(e)));if(!t){if(void 0!==e)return void(u.value=[]);t={years:[]},_.value.forEach((e=>t.years.push(...e.years))),t.years=Array.from(new Set(t.years))}u.value=t.years.map((e=>({value:e,label:0===e?"其他":e})))},b=e=>{let t=_.value.find((t=>t.year===Number(e)));if(!t){if(void 0!==e)return void(d.value=[]);t={seasons:[]},_.value.forEach((e=>t.seasons.push(...e.seasons))),t.seasons=Array.from(new Set(t.seasons))}d.value=t.seasons.map((e=>({value:e,label:y[e]})))},w=async(e,t,a,r,s,n,l)=>{const c=await(0,o.v3)({project_id:e,start_date:t,end_date:a,category_id:r,level:1,room_id:n||void 0,is_from_project:l||!1});c.data.success?(h.value=c.data.data.map((e=>({label:e.cat_name,value:e.id}))),0===s&&h.value.push({label:"其他",value:0})):i.Message.error(c.data.message)},x=async(e,t,a,r,s,n)=>{const l=await(0,o.v3)({project_id:e,start_date:t,end_date:a,category_id:r,level:2,room_id:s||void 0,is_from_project:n||!1});l.data.success?v.value=l.data.data.map((e=>({label:e.cat_name,value:e.id}))):i.Message.error(l.data.message)};return(0,r.reactive)({project:t,category_report:e,category_report_query:c,project_report:a,query_project:p,pagination:s,category_1:h,category_2:v,year_options:u,season_options:d,getYearOptions:f,filterSeason:m,getCategory_1:w,getCategory_2:x,loading:n})};var l=a(47997),c=a(62214),p=a(44928),u=a(64892),d=a(72040),_=a(1763),m=a(53451),h=a.n(m),v=a(21910);a(28038);const{debounce:y}=h();var f=(0,r.defineComponent)({props:{save:{type:Function},cancel:{type:Function}},setup:function(e,t){const a=(0,r.ref)(null),o=(0,r.ref)(""),s=(0,r.ref)(!1),n=(0,r.ref)(0),l=(0,r.ref)({}),c=(0,r.ref)([]),p=()=>{l.value={}},u=()=>{n.value=0,t.emit("close"),t.root.$nextTick(p),s.value=!1},d=(e,t)=>{o.value=e,l.value={images:t||[]},s.value=!0,(0,r.nextTick)((()=>{new v["default"](".swiper-container",{loop:!1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",disabledClass:"my-button-disabled"},on:{slideChangeTransitionEnd:function(e){n.value=e.realIndex}}})}))},_=()=>{const e=t.refs.mySwiper;e.swiper.slidePrev()},m=()=>{const e=t.refs.mySwiper;e.swiper.slideNext()},h=()=>{const t=e.save;t(l.value).then((()=>{s.value=!1})).catch((e=>{i.Message.error(e.message)}))},f=()=>{const t=e.cancel;t(l.value).then((()=>{s.value=!1})).catch((e=>{i.Message.error(e.message)}))},g=y(h,200);return{show:d,title:o,visible:s,formData:l,months:c,onCloseBtnClick:u,onCancel:f,onSaveBtnClick:g,formRef:a,currIdx:n,prev:_,next:m}},render(){const e=arguments[0];return e("el-dialog",{class:"tg-dialog-classic",attrs:{width:"700px",visible:this.visible,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1},on:{close:this.onCloseBtnClick}},[e("fragments",{slot:"title"},[this.title]),e("div",{class:"dialog-content"},[e("div",{class:"swiper-container",ref:"mySwiper"},[e("div",{class:"swiper-wrapper"},[this.formData.images?.map(((t,a)=>e("div",{class:"swiper-slide",key:a},[e("tg-image",{class:"img",attrs:{src:t}})])))]),e("div",{class:0===this.currIdx?"swiper-button-prev my-button-disabled":"swiper-button-prev",on:{click:this.prev}}),e("div",{class:this.currIdx===this.formData.images?.length-1?"swiper-button-next my-button-disabled":"swiper-button-next",on:{click:this.next}})]),e("div",{class:"pagenation"},[e("span",[this.currIdx+1," / ",this.formData.images?.length])])])])}}),g=a(24522),b=a(43773);const w=(0,b.R)({component:g.Z,width:"700px",footer:!1});var x,j,k=(0,r.defineComponent)({components:{"line-charts":c.Z,dialogImageView:f},setup:(0,l.sY)(((e,t)=>{const a=r.h,i=(0,r.reactive)({is_from_project:!1,room_id:"",project_id:void 0,start_date:void 0,end_date:void 0,project_name:void 0,type:"",year:void 0,season:void 0,second_tiange_cat_id:void 0,third_tiange_cat_id:void 0,seasonType:void 0,first_tiange_cat_id:void 0,item_id:void 0}),l=(0,r.ref)(!1),c=(0,r.ref)(),m=n();let h=s({columns:[{label:"商品主图",prop:"image_url",formatter:(e,t,r)=>{let o=0;return null!==t.click_rate&&void 0!==t.click_rate&&(o=Number(t.click_rate.replace("%",""))),i.room_id&&""!==i.room_id?a("div",{class:"goods-descript",on:{click:()=>{w.show(e)}}},[a("img",{class:"first-row-img",attrs:{src:e}})]):a("div",{class:"goods-descript",on:{click:()=>{w.show(e)}}},[a("img",{class:"first-row-img",attrs:{src:e}}),o>=15?a("img",{class:"hot-img",attrs:{src:u}}):o>=12?a("img",{class:"hot-img",attrs:{src:d}}):""])}},{label:"商品编码",prop:"item_id",formatter:e=>a("span",{class:"goods_code"},[e])},{label:"商品款号",prop:"item_sn"},{label:"商品名称",prop:"title",formatter:(e,t)=>a("a",{attrs:{href:t.item_url,target:"_blank",title:e},class:"goods_name"},[e])},{label:"官方类目",formatter:(e,t,r)=>{const{first_tiange_cat:o,second_tiange_cat:i,third_tiange_cat:s}=t;return a("span",{class:"goods_code"},[o+"-"+i+"-"+s])}},{label:"吊牌价",prop:"market_price",sortable:"custom"},{label:"平均销售价 (元)",prop:"shop_price",sortable:"custom"},{label:"讲解次数",prop:"talk_times",sortable:"custom"},{label:"直播销量",prop:"sale_count",sortable:"custom"},{label:"直播销售额 (元)",prop:"gmv",sortable:"custom"},{label:"店铺销量",prop:"shop_sale_count",sortable:"custom"},{label:"店铺销售额 (元)",prop:"shop_gmv",sortable:"custom"},{label:"曝光人数",prop:"watch_ucnt",sortable:"custom"},{label:"点击人数",prop:"click_ucnt",sortable:"custom"},{label:"点击率",prop:"click_rate",sortable:"custom"},{label:"转化率",prop:"pay_rate",sortable:"custom"},{label:"上周销量",prop:"last_week_sale_count",sortable:"custom"},{label:"上周销售额 (元)",prop:"last_week_gmv",sortable:"custom"},{label:"累计销量",prop:"total_sale_count",sortable:"custom"}],data:(0,r.toRef)(m,"project_report"),onSortChange:(e,t)=>{if(null===t)x.value="";else{const a="descending"===t?"_desc":"";x.value=`${e}${a}`}j()},defaultSort:{prop:"sale_count",order:"descending"}});const v=(0,r.ref)(),y=(0,r.ref)({}),f=(0,r.ref)(),g=(0,r.ref)({displayHot:!1,displaySubHot:!1,displayOther:!0,displayRadio:"全部"}),b=(0,r.ref)(1),x=(0,r.ref)("sale_count_desc"),j=()=>m.query_project({room_id:i.room_id||"",project_id:i.project_id,start_date:i.start_date,end_date:i.end_date,page_num:b.value,hot:!0===g.value.displayOther?void 0:Number(g.value.displayHot),second_hot:!0===g.value.displayOther?void 0:Number(g.value.displaySubHot),sort:x.value,year:i.year,season:i.season,second_tiange_cat_id:i.second_tiange_cat_id,third_tiange_cat_id:i.third_tiange_cat_id,first_tiange_cat_id:i.first_tiange_cat_id,item_id:i.item_id,is_from_project:i.is_from_project}),k=(0,r.ref)([]),F=e=>{b.value=e,j().then((()=>{(0,r.nextTick)((()=>{const e=document.querySelector(".project-table .el-table__body-wrapper");e&&(e.scrollLeft=0)}))}))},C=()=>{const e=(0,p.t)(),{project_id:t,project_name:a,end_date:r,start_date:o,year:s,season:n,second_tiange_cat_id:l,third_tiange_cat_id:c,first_tiange_cat_id:u,type:d}=e.currentRoute.query;i.is_from_project="true"===String(e.currentRoute.query.is_from_project),i.room_id=String(e.currentRoute.query.room_id||""),i.project_id=t,i.start_date=o,i.end_date=r,i.project_name=a,i.second_tiange_cat_id=void 0!==l?Number(l):l,i.third_tiange_cat_id=void 0!==c?Number(c):c,i.year=void 0!==s?Number(s):s,i.season=void 0!==n?Number(n):n,i.type=void 0!==d?"2":"1",i.seasonType=d,i.first_tiange_cat_id=u,b.value=1,"2"===i.type?m.getYearOptions(i.project_id,i.start_date,i.end_date,"season"!==i.seasonType?i.year:i.season,i.seasonType):(m.getCategory_1(i.project_id,i.start_date,i.end_date,""!==i.room_id?"":u,""!==i.room_id?"":i.second_tiange_cat_id,i.room_id,i.is_from_project),m.getCategory_2(i.project_id,i.start_date,i.end_date,l,i.room_id,i.is_from_project)),j()};C(),i.room_id&&""!==i.room_id&&(h=s({columns:[{label:"商品主图",prop:"image_url",formatter:(e,t,r)=>{let o=0;return null!==t.click_rate&&void 0!==t.click_rate&&(o=Number(t.click_rate.replace("%",""))),i.room_id&&""!==i.room_id?a("div",{class:"goods-descript",on:{click:()=>{w.show(e)}}},[a("img",{class:"first-row-img",attrs:{src:e}})]):a("div",{class:"goods-descript",on:{click:()=>{w.show(e)}}},[a("img",{class:"first-row-img",attrs:{src:e}}),o>=15?a("img",{class:"hot-img",attrs:{src:u}}):o>=12?a("img",{class:"hot-img",attrs:{src:d}}):""])}},{label:"商品编码",prop:"item_id",formatter:e=>a("span",{class:"goods_code"},[e])},{label:"商品款号",prop:"item_sn"},{label:"商品名称",prop:"title",formatter:(e,t)=>a("a",{attrs:{href:t.item_url,target:"_blank",title:e},class:"goods_name"},[e])},{label:"官方类目",formatter:(e,t,r)=>{const{first_tiange_cat:o,second_tiange_cat:i,third_tiange_cat:s}=t;return a("span",{class:"goods_code"},[o+"-"+i+"-"+s])}},{label:"吊牌价",prop:"market_price",sortable:"custom"},{label:"平均销售价 (元)",prop:"shop_price",sortable:"custom"},{label:"讲解次数",prop:"talk_times",sortable:"custom"},{label:"直播销量",prop:"sale_count",sortable:"custom"},{label:"直播销售额 (元)",prop:"gmv",sortable:"custom"},{label:"店铺销量",prop:"shop_sale_count",sortable:"custom"},{label:"店铺销售额 (元)",prop:"shop_gmv",sortable:"custom"},{label:"曝光人数",prop:"watch_ucnt",sortable:"custom"},{label:"点击人数",prop:"click_ucnt",sortable:"custom"},{label:"点击率",prop:"click_rate",sortable:"custom"},{label:"转化率",prop:"pay_rate",sortable:"custom"},{label:"退款销售额 (元)",prop:"shop_refund_gmv",sortable:"custom"},{label:"退款销售额占比",prop:"shop_refund_gmv_rate",sortable:"custom"},{label:"累计销量",prop:"total_sale_count",sortable:"custom"}],data:(0,r.toRef)(m,"project_report"),onSortChange:(e,t)=>{if(null===t)x.value="";else{const a="descending"===t?"_desc":"";x.value=`${e}${a}`}j()},defaultSort:{prop:"sale_count",order:"descending"}})),(0,r.onActivated)(C);const G=(0,r.ref)([]);G.value=[{title:"品牌商品分析",name:_.xx.commodityAnalysis},{title:"商品列表"}];const X=(0,r.ref)([i.start_date,i.end_date]),$=()=>{const e={project_id:i.project_id,start_date:i.start_date,end_date:i.end_date,hot:!0===g.value.displayOther?void 0:Number(g.value.displayHot),second_hot:!0===g.value.displayOther?void 0:Number(g.value.displaySubHot),sort:x.value,year:i.year,season:i.season,second_tiange_cat_id:i.second_tiange_cat_id,third_tiange_cat_id:i.third_tiange_cat_id,first_tiange_cat_id:i.first_tiange_cat_id,item_id:i.item_id,is_from_project:i.is_from_project,room_id:i.room_id||""};(0,o.j_)(e)};return{goodData:m,tableData:h,selectedRow:y,search:j,checkList:g,onCurrentChange:F,tableRef:v,projectTableRef:f,parentParams:i,curDate:X,categoryOptions_1:k,routes:G,dialogVisible:l,dialogImage:c,page_num:b,exportBtnClick:$}})),render(){const e=arguments[0],t=this.goodData.pagination;return e("div",{class:"comp"},[e("tg-breadcrumbs",{attrs:{routes:this.routes}}),e("div",{class:"commodity-form"},[e("el-form",{attrs:{inline:!0,"label-width":"70px",size:"small"}},[e("el-form-item",{attrs:{label:"项目名称："}},[e("el-select",{attrs:{disabled:!0,value:"1"},style:"width:280px"},[e("el-option",{attrs:{value:"1",label:this.parentParams.project_name}})])]),(""===this.parentParams.room_id||!this.parentParams.room_id)&&e("el-form-item",{attrs:{label:"查询日期：","label-width":"70px"}},[e("el-date-picker",{attrs:{"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"daterange",format:"yyyy.MM.dd","range-separator":"~","value-format":"yyyy-MM-dd",clearable:!1,pickerOptions:{disabledDate(e){return e.getTime()>Date.now()||e.getTime()<new Date("2022/01/1 00:00:00").getTime()}}},on:{change:()=>{const{project_id:e,first_tiange_cat_id:t,room_id:a}=this.parentParams,r=this.curDate[0],o=this.curDate[1];this.goodData.getCategory_1(e,r,o,t,a),this.parentParams.start_date=r,this.parentParams.end_date=o,this.parentParams.second_tiange_cat_id=void 0,this.parentParams.third_tiange_cat_id=void 0}},style:"width:280px",model:{value:this.curDate,callback:e=>{this.curDate=e}}})]),"1"===this.parentParams.type&&e("fragments",[e("el-form-item",{attrs:{label:"二级类目："}},[e("el-select",{style:"width:280px",on:{change:()=>{const{project_id:e,start_date:t,end_date:a,second_tiange_cat_id:r,room_id:o}=this.parentParams;this.goodData.getCategory_2(e,t,a,r,o),this.parentParams.third_tiange_cat_id=void 0}},model:{value:this.parentParams.second_tiange_cat_id,callback:e=>{this.$set(this.parentParams,"second_tiange_cat_id",e)}}},[e("el-option",{attrs:{label:"全部",value:void 0}}),this.goodData.category_1.map((t=>e("el-option",{attrs:{value:t.value,label:t.label}})))])]),e("el-form-item",{attrs:{label:"三级类目："}},[e("el-select",{style:"width:280px",model:{value:this.parentParams.third_tiange_cat_id,callback:e=>{this.$set(this.parentParams,"third_tiange_cat_id",e)}}},[e("el-option",{attrs:{label:"全部",value:void 0}}),this.goodData.category_2.map((t=>e("el-option",{attrs:{value:t.value,label:t.label}})))])])]),"2"===this.parentParams.type&&("season"!==this.parentParams.seasonType?e("fragments",[e("el-form-item",{attrs:{label:"年度：","label-width":"43px"}},[e("el-select",{style:"width:280px",on:{change:()=>{this.goodData.filterSeason(this.parentParams.year),this.parentParams.season=void 0}},model:{value:this.parentParams.year,callback:e=>{this.$set(this.parentParams,"year",e)}}},[e("el-option",{attrs:{label:"全部",value:void 0}}),this.goodData.year_options.map((t=>e("el-option",{attrs:{value:t.value,label:t.label}})))])]),e("el-form-item",{attrs:{label:"季节：","label-width":"43px"}},[e("el-select",{style:"width:280px",model:{value:this.parentParams.season,callback:e=>{this.$set(this.parentParams,"season",e)}}},[e("el-option",{attrs:{label:"全部",value:void 0}}),this.goodData.season_options.map((t=>e("el-option",{attrs:{value:t.value,label:t.label}})))])])]):e("fragments",[e("el-form-item",{attrs:{label:"季节：","label-width":"43px"}},[e("el-select",{style:"width:280px",on:{change:()=>{this.goodData.filterSeason(this.parentParams.season),this.parentParams.year=void 0}},model:{value:this.parentParams.season,callback:e=>{this.$set(this.parentParams,"season",e)}}},[e("el-option",{attrs:{label:"全部",value:void 0}}),this.goodData.season_options.map((t=>e("el-option",{attrs:{value:t.value,label:t.label}})))])]),e("el-form-item",{attrs:{label:"年度：","label-width":"43px"}},[e("el-select",{style:"width:280px",model:{value:this.parentParams.year,callback:e=>{this.$set(this.parentParams,"year",e)}}},[e("el-option",{attrs:{label:"全部",value:void 0}}),this.goodData.year_options.map((t=>e("el-option",{attrs:{value:t.value,label:t.label}})))])])])),e("el-form-item",{attrs:{label:"商品编码："}},[e("el-input",{attrs:{clearable:!0,placeholder:"请输入商品编码"},style:"width:280px",model:{value:this.parentParams.item_id,callback:e=>{this.$set(this.parentParams,"item_id",e)}}})]),e("el-form-item",[e("tg-button",{attrs:{type:"primary"},on:{click:()=>{this.page_num=1,this.search()}}},["查询"])])])]),e("div",{class:"commodity-filter"},[(""===this.parentParams.room_id||!this.parentParams.room_id)&&e("div",[e("el-radio",{class:"hot-check",attrs:{label:"全部"},on:{input:()=>{this.checkList.displayOther=!0,this.checkList.displayHot=!1,this.checkList.displaySubHot=!1,this.page_num=1,this.search()}},model:{value:this.checkList.displayRadio,callback:e=>{this.$set(this.checkList,"displayRadio",e)}}}),e("el-radio",{class:"hot-check",attrs:{label:"只显示爆款"},on:{input:()=>{this.checkList.displayOther=!1,this.checkList.displayHot=!0,this.checkList.displaySubHot=!1,this.page_num=1,this.search()}},model:{value:this.checkList.displayRadio,callback:e=>{this.$set(this.checkList,"displayRadio",e)}}}),e("el-radio",{class:"hot-check",attrs:{label:"只显示次爆款"},on:{input:()=>{this.checkList.displayOther=!1,this.checkList.displayHot=!1,this.checkList.displaySubHot=!0,this.page_num=1,this.search()}},model:{value:this.checkList.displayRadio,callback:e=>{this.$set(this.checkList,"displayRadio",e)}}})," "]),e("tg-button",{attrs:{type:"default",icon:"ico-btn-export"},class:"export-btn",on:{click:this.exportBtnClick}},["导出"])]),e("div",{ref:"projectTableRef",class:"project-table"},[e("tg-table",{directives:[{name:"loading",value:this.goodData.loading}],attrs:{"show-header":!1,border:!0,columns:this.tableData.columns,data:this.tableData.data,"highlight-current-row":!0}})]),t.total>0&&e("div",{class:"pagination-box"},[e("el-pagination",{attrs:{total:t.total,"page-size":20,layout:"total, prev, pager, next","current-page":t.page_num},on:{"current-change":this.onCurrentChange}})]),e("el-dialog",{class:"tg-dialog-classic el-dialog-center-rewrite",attrs:{width:"700px",visible:this.dialogVisible,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1},on:{close:()=>{this.dialogVisible=!1}}},[e("div",{class:"dialog-wrapper"},[e("img",{attrs:{src:this.dialogImage}})])]),e(f,{ref:"dialogImageViewRef"})])}}),F=k,C=a(1001),G=(0,C.Z)(F,x,j,!1,null,"00722b08",null),X=G.exports},32200:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chart",staticClass:"chart"})},o=[],i=a(4096),s={props:{options:{type:Object,default:()=>({})},currentIndex:{type:Number,default:-1}},watch:{options:{handler(e){this.updateOptions(e)},deep:!0},currentIndex:{handler:function(e){-1!==e&&this.upAxisPointer()},deep:!0}},mounted(){const{resize:e,...t}=this.$listeners,a=this.$refs.chart;this.chart=i.init(a),Object.keys(t).forEach((e=>{this.chart.on(e,((...t)=>this.$emit(e,this.chart,...t)))})),this.updateOptions(this.options),window.addEventListener("resize",this.resize),this.chart.on("click",this.clickFunc)},destroyed(){window.removeEventListener("resize",this.resize),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{resize(...e){this.chart.resize(),this.$emit("resize",[this.chart,...e])},updateOptions(e){null!==e&&void 0!==e&&this.chart.setOption(e,!0)},clickFunc(e){this.$emit("selectClick",e)},upAxisPointer(){let e={currentIndex:this.currentIndex},t=this.options.series[3].data.length;e.currentIndex>0&&this.chart.dispatchAction({type:"downplay",seriesIndex:3,dataIndex:e.currentIndex-1}),e.currentIndex=e.currentIndex%t,this.chart.dispatchAction({type:"highlight",seriesIndex:3,dataIndex:e.currentIndex}),this.chart.dispatchAction({type:"showTip",seriesIndex:3,dataIndex:e.currentIndex})}}},n=s,l=a(1001),c=(0,l.Z)(n,r,o,!1,null,"67d5f011",null),p=c.exports},99197:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"empty-chart",staticStyle:{"margin-top":"20px"}},[a("empty-common",{attrs:{"detial-text":"暂无数据","img-height":100,"img-width":150}})],1)},o=[],i=a(1001),s={},n=(0,i.Z)(s,r,o,!1,null,"1c4271b8",null),l=n.exports},62214:function(e,t,a){"use strict";a.d(t,{Z:function(){return h}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{height:"314px",width:"100%"}},[e.date.length>0?a("base-echarts",{attrs:{options:e.baseOptions}}):a("Empty")],1)},o=[],i=a(32200),s=a(45781),n=a(99197),l=a(8136);const{tranNumber:c}=s.Z,p=(e,t)=>{const a=e-0;return 0===t||isNaN(a)?e:a.toFixed(2)};var u={name:"BaseLine",components:{BaseEcharts:i.Z,Empty:n.Z},props:{loading:{type:Boolean,default:!0},date:{type:Array,default:()=>[]},list:{type:Array,default:()=>[]},legend:{type:Boolean,default:()=>!0},color:{type:Array},percentage:{type:Boolean},unit:{type:String,default:"%"}},data(){return{baseOptions:{grid:{top:10},tooltip:{trigger:"axis",backgroundColor:"#fff",padding:0,formatter:e=>{const t=15;let a="",r=Math.round(e.length/t)+1;for(let i=0;i<e.length;){const t=1===i||2===i?this.unit:"";a+='<div style="display: flex; line-height: 24px;padding: 0 15px;color: #606974;font-size: 12px;font-weight: normal">';for(let o=0;o<r;o++){if(i>=e.length)continue;const r=void 0===e[i].value||null===e[i].value;a+=`<div style="display: flex;align-items: center;margin-right: 10px;flex: 1;">${e[i].marker}<span>${(0,l.bI)(e[i].seriesName,15)}</span>\n                  <span style="padding-left: 18px;">${r?"--":p(c(e[i].value),i)}${r?"":t}</span></div>`,i+=1}a+="</div>"}const o=`<div style="padding-bottom: 10px">\n              <p style="padding:10px;">\n                <span>${e[0].name}</span>\n                <span style="float:right;"></span>\n              </p>\n              ${a}\n            </div>`;return o},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);"},legend:{show:this.legend,bottom:0},xAxis:{type:"category",data:[],axisLine:{lineStyle:{color:"rgba(52,63,76,0.30)"}},axisTick:{lineStyle:{opacity:0}},axisLabel:{color:"#606974",fontSize:11},splitLine:{show:!1}},color:this.color?this.color:l.nA,yAxis:[{type:"value",scale:!0,nameTextStyle:{color:"#666",fontSize:14},min:0,splitLine:{show:!0,lineStyle:{color:["#eee"],type:"dashed"}},axisTick:{lineStyle:{opacity:0}},axisLabel:{color:"#606974",formatter:(...e)=>{const t=c(...e);return!0===this.percentage?`${t}%`:t}},axisLine:{lineStyle:{type:"solid",color:"rgba(52,63,76,0.30)",width:"1"}}},{type:"value",scale:!0,position:"right",nameTextStyle:{color:"#666",fontSize:14},min:0,splitLine:{show:!0,lineStyle:{color:["#eee"],type:"dashed"}},axisTick:{lineStyle:{opacity:0}},axisLabel:{color:"#606974",formatter:(...e)=>{const t=c(...e);return`${t}${this.unit}`}},axisLine:{lineStyle:{type:"solid",color:"rgba(52,63,76,0.30)",width:"1"}}}],series:[]}}},created(){this.init()},watch:{date:{handler(){this.init()},deep:!0},list:{handler(){this.init()},deep:!0}},methods:{init(){const e=JSON.parse(JSON.stringify(this.list));this.baseOptions.xAxis.data=this.date,this.baseOptions.series=e}}},d=u,_=a(1001),m=(0,_.Z)(d,r,o,!1,null,null,null),h=m.exports},28038:function(){},99575:function(e,t,a){"use strict";a.d(t,{j_:function(){return ye},QC:function(){return ve},Av:function(){return M},e_:function(){return R},YM:function(){return Q},RG:function(){return J},Ze:function(){return b},$1:function(){return g},hi:function(){return le},Fy:function(){return ce},hx:function(){return Z},hU:function(){return V},_Z:function(){return X},vB:function(){return G},Fr:function(){return F},wT:function(){return k},BP:function(){return j},Qd:function(){return z},s0:function(){return W},Xj:function(){return K},nM:function(){return A},ki:function(){return E},f:function(){return L},Hk:function(){return Y},mX:function(){return se},GU:function(){return ne},xU:function(){return U},tG:function(){return N},OZ:function(){return I},GX:function(){return O},j1:function(){return q},p8:function(){return B},zG:function(){return ue},A0:function(){return pe},nA:function(){return C},wf:function(){return Ae},tF:function(){return w},vN:function(){return x},Yf:function(){return de},R5:function(){return S},Te:function(){return T},GH:function(){return D},N1:function(){return ae},NE:function(){return re},v3:function(){return oe},th:function(){return P},Bm:function(){return te},aH:function(){return ee},$V:function(){return $},F7:function(){return ie},LC:function(){return he},PG:function(){return me},Be:function(){return we},Cb:function(){return H},p4:function(){return be},gV:function(){return xe},ji:function(){return ge},Zn:function(){return Pe},v6:function(){return De},mm:function(){return $e},yD:function(){return fe},Zw:function(){return Se},G2:function(){return Xe},_d:function(){return je},R0:function(){return Fe},y2:function(){return ke},mW:function(){return Ge},mI:function(){return Ce},LQ:function(){return _e}});a(21703);var r=a(76012),o=(a(48606),a(64236)),i=a(42963),s=a(74750);const n="/api/shop_live/query_ctr_projects",l="/api/shop_live/query_ctr_shop_live",c="/api/shop_live/query_project_shifts",p="/api/shop_live/query_shift_group_ctr_shop_live",u="/api/shop_live/save_shop_live_live_screenshot",d="/api/shop_live/query_shop_live_statistical_trends",_="/api/shop_live/operating/project_trade_funnel",m="/api/shop_live/operating/project_flow_sunburst",h="/api/shop_live/operating/department_project_statistics_detail",v="/api/shop_live/operating/query_project_top_products",y="/api/shop_live/operating/query_department_project_statistics",f="/api/shop_live/operating/get_last_update_time",g=async e=>(0,r.dX)("/api/data_center/query_common_project",{params:{...(0,o.jG)(e)}}),b=async e=>(0,r.dX)("/api/shop_live/query_project_douyin_by_date",{params:{...(0,o.jG)(e)}}),w=async e=>(0,r.dX)("/api/data_center/query_shop_live_project",{params:{...(0,o.jG)(e)}}),x=async e=>(0,r.dX)("/api/data_center/query_cooperation",{params:{...(0,o.jG)(e)}}),j=async e=>(0,r.dX)("/api/data_center/table",{params:{...(0,o.jG)(e)}}),k=async e=>(0,r.dX)("/api/data_center/chart",{params:{...(0,o.jG)(e)}}),F=async()=>(0,r.dX)("/api/data_center/customer_supplier_manage_table"),C=async()=>(0,r.dX)("/api/data_center/invoice_apply_table"),G=async()=>(0,r.dX)("/api/data_center/customer_pay_apply_table"),X=async()=>(0,r.dX)("/api/data_center/contract_apply_table"),$=async()=>(0,r.dX)("/api/data_center/system_login_table"),D=async()=>(0,r.dX)("/api/data_center/settlement_table"),S=async()=>(0,r.dX)("/api/data_center/project_table"),P=async()=>(0,r.dX)("/api/data_center/shop_live_table"),A=async e=>(0,r.dX)("/api/shop_live/douyin_category_pie_chart",{params:{...(0,o.jG)(e)}}),B=async e=>(0,r.dX)("/api/shop_live/douyin_old_category_pie_chart",{params:{...(0,o.jG)(e)}}),I=async e=>(0,r.dX)("/api/shop_live/douyin_item_pie_chart",{params:{...(0,o.jG)(e)}}),T=async()=>(0,r.dX)("/api/shop_live/query_douyin_report_projects"),O=async e=>e.is_from_project?e.room_id&&""!==e.room_id?(0,r.dX)("/api/shop_live/project_data/douyin_item_report_by_room",{params:{...(0,o.jG)(e)}}):(0,r.dX)("/api/shop_live/project_data/douyin_item_report",{params:{...(0,o.jG)(e)}}):e.room_id&&""!==e.room_id?(0,r.dX)("/api/shop_live/operating/douyin_item_report_by_room",{params:{...(0,o.jG)(e)}}):(0,r.dX)("/api/shop_live/douyin_item_report",{params:{...(0,o.jG)(e)}}),E=async e=>(0,r.dX)("/api/shop_live/douyin_category_report",{params:{...(0,o.jG)(e)}}),L=async e=>(0,r.dX)("/api/shop_live/douyin_category_timeline",{params:{...(0,o.jG)(e)}}),q=async e=>(0,r.dX)("/api/shop_live/douyin_item_timeline",{params:{...(0,o.jG)(e)}}),N=async e=>(0,r.dX)("/api/shop_live/douyin_hot_item_report",{params:{...(0,o.jG)(e)}}),R=async e=>(0,r.dX)("/api/shop_live/check_project_douyin_access",{params:{...(0,o.jG)(e)}}),Y=async e=>(0,r.dX)("/api/shop_live/query_douyin_competitive_item_categories",{params:{...(0,o.jG)(e)}}),Z=async()=>(0,r.dX)("/api/shop_live/query_douyin_competitive_shops"),z=async e=>(0,r.dX)("/api/shop_live/query_douyin_competitive_items",{params:{...(0,o.jG)(e)}}),M=async e=>(0,r.dX)("/api/shop_live/query_douyin_competitive_items_total",{params:{...(0,o.jG)(e)}}),H=e=>(0,r.SO)("/api/shop_live/update_douyin_competitive_shops",{...(0,o.jG)({shop_names:e})}),V=async e=>(0,r.dX)("/api/shop_live/query_douyin_competitive_item_timeline",{params:{...(0,o.jG)(e)}}),U=async()=>(0,r.dX)("/api/data_center/douyin_composite_categories"),W=async e=>(0,r.dX)("/api/data_center/douyin_category_image",{params:{...(0,o.jG)(e)}}),K=async e=>(0,r.dX)("/api/data_center/douyin_category_image_detail",{params:{...(0,o.jG)(e)}}),J=async e=>(0,r.dX)("/api/shop_live/douyin_year_season_report",{params:{...(0,o.jG)(e)}}),Q=async e=>(0,r.dX)("/api/shop_live/douyin_season_year_report",{params:{...(0,o.jG)(e)}}),ee=async e=>(0,r.dX)("/api/shop_live/query_douyin_tiange_category",{params:{...(0,o.jG)(e)}}),te=async e=>e.is_from_project?(0,r.dX)("/api/shop_live/project_data/douyin_tiange_category_report",{params:{...(0,o.jG)(e)}}):(0,r.dX)("/api/shop_live/douyin_tiange_category_report",{params:{...(0,o.jG)(e)}}),ae=async e=>(0,r.dX)("/api/shop_live/list_douyin_season",{params:{...(0,o.jG)(e)}}),re=async e=>(0,r.dX)("/api/shop_live/list_douyin_season_year",{params:{...(0,o.jG)(e)}}),oe=async e=>e.room_id&&""!==e.room_id?e.is_from_project?(0,r.dX)("/api/shop_live/project_data/query_douyin_tiange_category_by_room",{params:{...(0,o.jG)(e)}}):(0,r.dX)("/api/shop_live/operating/query_douyin_tiange_category_by_room",{params:{...(0,o.jG)(e)}}):(0,r.dX)("/api/shop_live/query_douyin_tiange_category",{params:{...(0,o.jG)(e)}}),ie=async e=>(0,r.dX)("/api/shop_live/douyin_contrast_category_timeline",{params:{...(0,o.jG)(e)}}),se=async e=>(0,r.dX)("/api/data_center/get_douyin_completion_schedule_detail",{params:{...(0,o.jG)(e)}}),ne=async e=>(0,r.dX)("/api/data_center/query_douyin_completion_schedule_trend",{params:{...(0,o.jG)(e)}}),le=async e=>(0,r.dX)("/api/shop_live/query_douyin_competitive_analysis",{params:{...(0,o.jG)(e)}}),ce=async e=>(0,r.dX)("/api/shop_live/query_douyin_competitive_analysis_detail",{params:{...(0,o.jG)(e)}}),pe=async e=>(0,r.dX)("/api/shop_live/query_feigua_hot_item_project",{params:{...(0,o.jG)(e)}}),ue=async e=>(0,r.dX)("/api/data_center/hot_item",{params:{...(0,o.jG)(e)}}),de=async e=>(0,r.dX)("/api/data_center/feigua_monitor_config",{params:{...(0,o.jG)(e)}}),_e=e=>(0,r.SO)("/api/data_center/feigua_monitor_config",{...(0,o.jG)(e)}),me=async(e,t=!1)=>t?(0,r.dX)("/api/data_center/hot_style_every_month",{params:{...(0,o.jG)(e)}}):(0,r.dX)("/api/data_center/hot_style_every_week",{params:{...(0,o.jG)(e)}}),he=async()=>(0,r.dX)("/api/data_center/tiange_douyin_category",{params:{...(0,o.jG)({level:3})}}),ve=e=>{const t=(0,o.jG)(e),a=i.stringify(t),r=(0,s.LP)();window.open(`https://data.goumee.com/api/shop_live/export_douyin_tiange_category_report?${a}&Authorization=${r}`)},ye=e=>{if(e.room_id&&""!==e.room_id){const t=(0,s.LP)();if(e.is_from_project){e.is_from_project=void 0;const a=(0,o.jG)(e),r=i.stringify(a);window.open(`https://data.goumee.com/api/shop_live/project_data/export_douyin_item_report_by_room?${r}&Authorization=${t}`)}else{e.is_from_project=void 0;const a=(0,o.jG)(e),r=i.stringify(a);window.open(`https://data.goumee.com/api/shop_live/operating/export_douyin_item_report_by_room?${r}&Authorization=${t}`)}}else{e.is_from_project=void 0,e.room_id=void 0;const t=(0,o.jG)(e),a=i.stringify(t),r=(0,s.LP)();window.open(`https://data.goumee.com/api/shop_live/export_douyin_item_report?${a}&Authorization=${r}`)}},fe=async()=>(0,r.dX)(c),ge=async e=>(0,r.dX)(l,{params:{...(0,o.jG)(e)}}),be=e=>(0,r.SO)("/api/shop_live/save_shift",{...(0,o.jG)(e)}),we=e=>(0,r.SO)("/api/shop_live/save_shop_live_change_tips",{...e}),xe=e=>(0,r.dX)(n,{params:{...(0,o.jG)(e??{})}}),je=e=>(0,r.dX)(p,{params:{...(0,o.jG)(e)}}),ke=(e,t)=>(0,r.SO)(u,{...(0,o.jG)({id:e,live_screenshot:t})}),Fe=e=>(0,r.dX)(d,{params:{...(0,o.jG)(e)}}),Ce=async e=>(0,r.dX)("/api/shop_live/query_douyin_category_competitive_items_total",{params:{...(0,o.jG)(e)}}),Ge=async(e,t)=>(0,r.dX)("/api/shop_live/get_dp_shop_orders_presell_stat_day",{params:{...(0,o.jG)({...e,...t})}}),Xe=async e=>(0,r.dX)(_,{params:{...(0,o.jG)({...e})}}),$e=async e=>(0,r.dX)(m,{params:{...(0,o.jG)({...e})}}),De=async e=>(0,r.dX)(h,{params:{...(0,o.jG)({...e})}}),Se=async e=>(0,r.dX)(v,{params:{...(0,o.jG)({...e})}}),Pe=async e=>(0,r.dX)(y,{params:{...(0,o.jG)({...e})}}),Ae=async()=>(0,r.dX)(f)},44928:function(e,t,a){"use strict";a.d(t,{t:function(){return o}});var r=a(86834);const o=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(r.Z,t)}});return e}},8136:function(e,t,a){"use strict";a.d(t,{AR:function(){return C},BG:function(){return j},Cl:function(){return w},D$:function(){return n},EI:function(){return u},Hx:function(){return i},LY:function(){return c},Nv:function(){return l},Ps:function(){return D},Rd:function(){return F},ZC:function(){return _},_t:function(){return y},bI:function(){return b},g9:function(){return v},hy:function(){return d},jh:function(){return X},mB:function(){return f},mx:function(){return $},nA:function(){return G},q0:function(){return k},sc:function(){return x},ug:function(){return g},us:function(){return h},vJ:function(){return m},wA:function(){return s},xF:function(){return p}});var r=a(20713),o=a.n(r);function i(e,t){const a=e.display_type;switch(a){case 0:return"混播";case 1:return"专场"}}const s=["综合","美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值"],n=["美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值","行政采购"];function l({category:e}){return 0===e?"无":s[e]}function c(e,t){const a=e.sales_price_period;switch(a){case 0:return"0 ~ 100";case 1:return"100 ~ 200";case 2:return"200以上"}}function p(e,t="YYYY-MM-DD"){return o()(e).format(t)}function u(e,t="YYYY-MM-DD hh:mm:ss"){return o()(e+"+0800").format(t)}function d(e,t){return o()(e+"+0800").format(t||"YYYY-MM-DD")}function _(e){let t=parseInt(e,10),a=0,r=0;t>=60&&(a=parseInt(t/60,10),t=parseInt(t%60,10),a>=60&&(r=parseInt(a/60,10),a=parseInt(a%60,10)));let o=""+(parseInt(t,10)<10?"0"+parseInt(t,10):parseInt(t,10));return o=(parseInt(a,10)<10?"0"+parseInt(a,10):parseInt(a,10))+":"+o,o=(parseInt(r,10)<10?"0"+parseInt(r,10):parseInt(r,10))+":"+o,o}function m(e){const t=e.is_presell;switch(t){case-1:return"未录入";case 1:return"预售";case 0:return"非预售";case 2:return"预热"}}function h(e){const t=e.is_display;switch(t){case-1:return"未录入";case 2:return"已出单";case 1:return"未出单"}}function v(e){const t=e.duration;switch(t){case-1:return"未录入";case 0:return"5 ~ 10分钟";case 1:return"10 ~ 15分钟";case 2:return"15 ~ 20分钟";case 3:return"0 ~ 5分钟";case 4:return"20分钟以上"}}function y(e){const t=e.display_period;switch(t){case-1:return"未录入";case 0:return"白天";case 1:return"晚上"}}function f(e){const t=e.shop_type;switch(t){case 0:return"无";case 1:return"淘宝店";case 2:return"天猫店";case 3:return"抖音店";default:return"--"}}function g(e){const t=e.company_type;switch(t){case 0:return"无";case 1:return"同行机构";case 2:return"广告公司";case 3:return"品牌TP";case 4:return"直客"}}function b(e,t){const a=/[^\x00-\xff]/g;let r;if(e.replace(a,"**").length>t){r=Math.floor(t/2);for(let o=r,i=e.length;o<i;o++)if(e.substr(0,o).replace(a,"**").length>=t)return e.substr(0,o)}return e}const w=[{type:0,value:"全部"},{type:1,value:"普通客户"},{type:2,value:"重点客户"},{type:3,value:"战略客户"},{type:4,value:"KA客户"}],x=[{value:"全部",type:0},{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13}],j=[{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13},{value:"行政采购",type:14}],k=[{value:3,text:"抖音店"},{value:1,text:"淘宝店"},{value:2,text:"天猫店"}],F=[{value:1,text:"同行机构"},{value:2,text:"广告公司"},{value:3,text:"品牌TP"},{value:4,text:"直客"}],C=[{type:0,value:"--"},{type:1,value:"同行机构"},{type:2,value:"广告公司"},{type:3,value:"品牌TP"},{type:4,value:"直客"}],G=["#D15CB4","#6090F0","#FF9C69","#59B6DF","#C673F0","#52CCC2","#F0737F","#6FCC66","#DBD26A","#9D73F0","#FAB36E","#A2D160","#D15CB4","#58B89F","#E06C9C","#8873F0","#FA9384","#C251A6","#486DB5","#C77A52","#4185A3","#9557B5","#3C968F","#B55760","#4F9149","#A19A4D","#7657B5","#BF8954","#759645","#964282","#3C7D6C","#A65073","#6556B3","#BF7065","#873874"],X=["#6090F0","#FF9C69","#52CCC2","#59B6DF","#C673F0","#D15CB4","#F0737F","#DBD26A","#FAB36E","#A2D160","#6FCC66","#58B89F","#8873F0","#FA9384","#9D73F0","#E06C9C","#C251A6"],$=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"];function D(e){for(const t of e)if("一"<=t&&t<="龥")return t;return e[0]}},45781:function(e,t,a){"use strict";var r=a(49187),o=a(8581),i=a(61282);const s=new r.ZP;t["Z"]={formatEmpty(e,t){return null===e||void 0===e||""===e||e instanceof Array&&e.length<=0?"--":void 0!==t?`${e}${t}`:e},formatTime(e){try{return null===e||void 0===e||""===e?"--":e.replace(/-/g,".")}catch(t){return e}},formatTimespan(e){try{if(null===e||void 0===e||""===e)return"--";const t=new Date;return t.setTime(1e3*e),(0,o.WU)(t,"YYYY.mm.dd")}catch(t){return e}},formatPrice(e,t=r.WL.Fen,a=!0){try{if(null===e||void 0===e||""===e)return"--";const r=s.format(s.parse(e,t));return a?`￥${r}`:r}catch(o){return e}},formatPriceFormYuan(e,t=2,a=!0){try{if(null===e||void 0===e||""===e)return"--";let r=e;return r=e>1e8?(e/1e8).toFixed(t)+"亿":e>1e4?(e/1e4).toFixed(t)+"w":(e-0).toFixed(t),a&&(r=`￥${r}`),r}catch(r){return e}},formatPriceToThousand(e,t=2,a=!0,r=!1){try{if(null===e||void 0===e||""===e)return"--";let o=e;return e>1e4?o=(e/1e4).toFixed(t)+"w":(o=(e-0).toFixed(t),r&&(o=(e-0).toFixed(0))),a&&(o=`￥${o}`),o}catch(o){return e}},formatPriceToThousandformatAmount(e,t=2,a=!0,r=!1){try{if(null===e||void 0===e||""===e)return"--";let o=e;return e>1e4?o=(0,i.dN)((e/1e4).toFixed(2),"None")+"w":(o=(0,i.dN)((e-0).toFixed(t),"None",0===t),r&&(o=(e-0).toFixed(0))),a&&(o=`￥${o}`),o}catch(o){return e}},tranNumber(e,t=2){if(null===e||void 0===e||""===e)return"--";if(!(e>=0))return e||"-";e+="";const a=e.toString(),r=a.split(".")[0],o=r.length;if(o<5)return a;if(o>8){const e=r.substring(r.length-8,r.length-8+t);return parseFloat(parseInt(r/1e8+"",10)+"."+e)+"亿"}if(o>4){const e=r.substring(r.length-4,r.length-4+t);return parseFloat(parseInt(r/1e4+"",10)+"."+e)+"w"}}}},43773:function(e,t,a){"use strict";a.d(t,{R:function(){return d},y:function(){return _}});var r=a(36568),o=a.n(r),i=a(97434),s=a(64923),n=a(77944);let l=1;const c=()=>{const e=document.createElement("div");return e.id="dialog_"+l++,document.body.appendChild(e),e},p=new Function,u=(e,t)=>{let a=e;return void 0===a&&(a={}),Object.keys(t).forEach((e=>{const r=a[e]||p,o=t[e];a[e]=(...e)=>{if(!1!==o(...e))return r(...e)}})),a},d=(e={})=>{const t=(0,i.ref)(),a=(0,i.reactive)({visible:!1,title:void 0,width:void 0,footer:!0,okText:"提交",cancelText:"取消",disabledOK:!0}),r=(0,i.ref)(!0),l=e=>{Object.keys(e).forEach((t=>{a.hasOwnProperty.call(a,t)&&(a[t]=e[t])}))};l(e);const p=(0,i.ref)(u(e.on,{close(){a.visible=!1},updateDialog(e={}){l(e)}})),d=()=>{const e=t.value.$refs&&t.value.$refs.dialogRef||{};e.dialogSubmit?e.dialogSubmit():e.onSaveBtnClick?e.onSaveBtnClick():console.log("子组件没有dialogSubmit或onSaveBtnClick")};t.value=new s["default"]({el:c(),store:n.Z,setup(){void 0!==e.provide&&Object.keys(e.provide).forEach((t=>{(0,i.provide)(t,e.provide[t])}))},render(t){if(r.value&&a.visible)return t("el-dialog",o()([{class:`customer-dialog el-dialog-center-rewrite tg-body-container  ${e.class}`},{props:a},{attrs:{"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1}},{on:p.value},{attrs:{isDialog:!0}}]),[a.visible&&t(e.component,{ref:"dialogRef",props:{...e.props,isDialog:!0},on:p.value}),a.footer&&t("fragments",{slot:"footer"},[t("tg-button",{on:{click:()=>a.visible=!1}},[a.cancelText]),a.disabledOK&&t("tg-button",{attrs:{type:"primary"},on:{click:d}},[a.okText])])])}});const _=(...e)=>{a.visible||(a.visible=!0,(0,i.nextTick)((()=>{const a=t.value.$refs&&t.value.$refs.dialogRef;a?a.dialogShow?a.dialogShow(...e):a.show&&a.show(...e):console.log("未找到子组件请检查代码")})))},m=e=>(l(e),y),h=()=>{a.visible=!1},v=(e,t,a=!1)=>(!0===a?p.value[e]=t:u(p.value,{[e]:t}),y);(0,i.onUnmounted)((()=>{r.value=!1,a.visible=!1}));const y=(0,i.reactive)({show:_,update:m,on:v,close:h,config:e,data:e.data});return y},_=(e={})=>{const t=(0,i.ref)(),a=(0,i.reactive)({visible:!1,title:void 0,width:void 0,footer:!0,okText:"提交",cancelText:"取消",disabledOK:!0}),r=(0,i.ref)(!0),l=e=>{Object.keys(e).forEach((t=>{a.hasOwnProperty.call(a,t)&&(a[t]=e[t])}))};l(e);const p=(0,i.ref)(u(e.on,{close(){a.visible=!1},updateDialog(e={}){l(e)}})),d=()=>{const e=t.value.$refs&&t.value.$refs.dialogRef||{};e.dialogSubmit?e.dialogSubmit():e.onSaveBtnClick?e.onSaveBtnClick():console.log("子组件没有dialogSubmit或onSaveBtnClick")};t.value=new s["default"]({el:c(),store:n.Z,setup(){void 0!==e.provide&&Object.keys(e.provide).forEach((t=>{(0,i.provide)(t,e.provide[t])}))},render(t){if(!r.value)return;if(!a.visible)return;const{width:i,...s}=a;return t("el-drawer",o()([{class:`tg-drawer-rewrite ${e.class}`},{props:{...s,size:i}},{attrs:{"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1}},{on:p.value},{attrs:{isDialog:!0}}]),[t("div",{class:"tg-drawer-content"},[a.visible&&t(e.component,{ref:"dialogRef",props:{...e.props,isDialog:!0},on:p.value})]),a.footer&&t("div",{class:"tg-drawer-footer"},[t("tg-button",{on:{click:()=>a.visible=!1}},[a.cancelText]),a.disabledOK&&t("tg-button",{class:"mgl-12",attrs:{type:"primary"},on:{click:d}},[a.okText])])])}});const _=(...e)=>{a.visible||(a.visible=!0,(0,i.nextTick)((()=>{const a=t.value.$refs&&t.value.$refs.dialogRef;a?a.dialogShow?a.dialogShow(...e):a.show&&a.show(...e):console.log("未找到子组件请检查代码")})))},m=e=>(l(e),y),h=()=>{a.visible=!1},v=(e,t,a=!1)=>(!0===a?p.value[e]=t:u(p.value,{[e]:t}),y);(0,i.onUnmounted)((()=>{r.value=!1,a.visible=!1}));const y=(0,i.reactive)({show:_,update:m,on:v,close:h,config:e});return y}},4096:function(e,t,a){e.exports=a(70680)(12996)},20713:function(e,t,a){e.exports=a(70680)(52703)},21910:function(e,t,a){e.exports=a(70680)(65206)}}]);
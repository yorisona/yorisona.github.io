"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[3236],{33236:function(t,a,e){e.r(a),e.d(a,{default:function(){return S}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"data-center-collect flex-auto tg-card"},[e("div",{staticClass:"collect-select"},[e("select-date",{on:{selectDate:t.selectDate}}),e("data-switch",{attrs:{index:t.activeIndex},on:{checkATab:t.handleCheckTab}})],1),0===t.activeIndex?[e("data-center-list",{staticClass:"center-list-min-height",attrs:{list:t.dataList,loading:t.tableLoading,"current-date-type":t.selectedDateType}}),e("div",{staticClass:"related-project",staticStyle:{"margin-top":"16px"}},[e("div",{staticClass:"related-project-title"},[e("head-lines",{attrs:{title:"相关项目"}}),e("el-input",{staticStyle:{width:"182px"},attrs:{size:"mini",placeholder:"项目名称/编码","suffix-icon":"el-icon-search"},nativeOn:{keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.onEnterPressSearch.apply(null,arguments)},click:function(a){return t.onEnterPressSearch.apply(null,arguments)}},model:{value:t.project_id,callback:function(a){t.project_id=a},expression:"project_id"}})],1),e("related-project",{attrs:{list:t.project_list_filter},on:{viewDetail:t.viewDetail}})],1)]:t._e(),1===t.activeIndex?e("data-center-chart",{attrs:{currentDate:t.currentDate}}):t._e()],2)},n=[],l=e(97434),i=e(86919),r=e(99824),d=e(60226),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"data-center-chart"},[e("h3",{staticClass:"center-chart-title",staticStyle:{margin:"14px 0 20px 0"}},[t._v("汇总数据")]),e("div",{staticClass:"center-chart-total"},[e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("GMV")]),null===t.numberFormat(t.summaryData.GMV,2)?e("p",{staticClass:"num"},[t._v("--")]):e("p",{staticClass:"num"},[e("span",{staticClass:"per"},[t._v("￥")]),t._v(t._s(t.numberFormat(t.summaryData.GMV,2)))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("预估净销售额")]),null===t.numberFormat(t.summaryData.预估净销额,2)?e("p",{staticClass:"num"},[t._v("--")]):e("p",{staticClass:"num"},[e("span",{staticClass:"per"},[t._v("￥")]),t._v(t._s(t.numberFormat(t.summaryData.预估净销额,2))+" ")])]),e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("投放金额")]),null===t.numberFormat(t.summaryData.投放金额,2)?e("p",{staticClass:"num"},[t._v("--")]):e("p",{staticClass:"num"},[e("span",{staticClass:"per"},[t._v("￥")]),t._v(t._s(t.numberFormat(t.summaryData.投放金额,2))+" ")])]),e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("预估佣金收入")]),null===t.numberFormat(t.summaryData.预估佣金收入,2)?e("p",{staticClass:"num"},[t._v("--")]):e("p",{staticClass:"num"},[e("span",{staticClass:"per"},[t._v("￥")]),t._v(t._s(t.numberFormat(t.summaryData.预估佣金收入,2))+" ")])]),e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("到账金额")]),null===t.numberFormat(t.summaryData.到账金额,2)?e("p",{staticClass:"num"},[t._v("--")]):e("p",{staticClass:"num"},[e("span",{staticClass:"per"},[t._v("￥")]),t._v(t._s(t.numberFormat(t.summaryData.到账金额,2))+" ")])])]),e("div",{staticClass:"center-chart-total",staticStyle:{"margin-bottom":"32px"}},[e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("定向投放ROI（倍数）")]),e("p",{staticClass:"num"},[t._v(" "+t._s(t.summaryData["定向投放ROI(倍数)"]?t.summaryData["定向投放ROI(倍数)"].toLocaleString():"--")+" ")])]),e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("直播时长")]),t.summaryData["直播时长(小时)"]?e("p",{staticClass:"num"},[t._v(" "+t._s(t.summaryData["直播时长(小时)"].toLocaleString())+" "),e("span",{staticClass:"per"},[t._v("h")])]):e("p",{staticClass:"num"},[t._v("--")])]),e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("新增粉丝数")]),e("p",{staticClass:"num"},[t._v(" "+t._s(t.summaryData["新增粉丝数"]?t.summaryData["新增粉丝数"].toLocaleString():"--")+" ")])]),e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("同时最高在线人数")]),e("p",{staticClass:"num"},[t._v(" "+t._s(t.summaryData["同时最高在线人数"]?t.summaryData["同时最高在线人数"].toLocaleString():"--")+" ")])]),e("div",{staticClass:"item"},[e("p",{staticClass:"title"},[t._v("用户停留时长")]),t.summaryData["用户停留时长(秒)"]?e("p",{staticClass:"num"},[t._v(" "+t._s(t.summaryData["用户停留时长(秒)"].toLocaleString())+" "),e("span",{staticClass:"per"},[t._v("s")])]):e("p",{staticClass:"num"},[t._v("--")])])]),e("div",{staticClass:"line-pie-box"},[e("div",{staticClass:"line-box"},[e("h3",{staticClass:"center-chart-title"},[t._v("到账金额趋势")]),e("div",{staticClass:"chart-border-box"},[e("LineEcharts",{attrs:{date:t.IncomeAmountTrend.date,list:t.IncomeAmountTrend.data,loading:t.IncomeAmountTrend.loading}})],1)]),e("div",{staticClass:"pie-box"},[e("h3",{staticClass:"center-chart-title"},[t._v("各项目到账金额占比")]),e("div",{staticClass:"chart-border-box"},[e("pieEcharts",{attrs:{"pie-data":t.IncomeAmountPercentData,loading:t.IncomeAmountPercentLoading}})],1)])]),e("h3",{staticClass:"center-chart-title"},[t._v("预估净销额趋势")]),e("div",{staticClass:"single-line-box"},[e("LineEcharts",{attrs:{date:t.NetSalesAmountTrend.date,list:t.NetSalesAmountTrend.data,loading:t.NetSalesAmountTrend.loading}})],1),e("h3",{staticClass:"center-chart-title"},[t._v("预估佣金趋势")]),e("div",{staticClass:"single-line-box"},[e("LineEcharts",{attrs:{date:t.CommissonAmountTrend.date,list:t.CommissonAmountTrend.data,loading:t.CommissonAmountTrend.loading}})],1),e("div",{staticClass:"line-pie-box"},[e("div",{staticClass:"line-box"},[e("h3",{staticClass:"center-chart-title"},[t._v("投放金额趋势")]),e("div",{staticClass:"chart-border-box"},[e("LineEcharts",{attrs:{date:t.PromoteAmountTrend.date,list:t.PromoteAmountTrend.data,loading:t.PromoteAmountTrend.loading}})],1)]),e("div",{staticClass:"pie-box"},[e("h3",{staticClass:"center-chart-title"},[t._v("业务投放TOP5")]),e("div",{staticClass:"chart-border-box",staticStyle:{padding:"20px"}},[e("TopFive",{attrs:{list:t.PromoteAmountTop,loading:t.PromoteAmountTopLoading}})],1)])]),e("div",{staticClass:"line-pie-box"},[e("div",{staticClass:"line-box"},[e("h3",{staticClass:"center-chart-title"},[t._v("GMV变化趋势")]),e("div",{staticClass:"chart-border-box"},[e("LineEcharts",{attrs:{date:t.GmvTrend.date,list:t.GmvTrend.data,loading:t.GmvTrend.loading}})],1)]),e("div",{staticClass:"pie-box"},[e("h3",{staticClass:"center-chart-title"},[t._v("各项目GMV占比")]),e("div",{staticClass:"chart-border-box"},[e("pieEcharts",{attrs:{"pie-data":t.GmvPercentData,loading:t.GmvPercentLoading}})],1)])]),e("h3",{staticClass:"center-chart-title"},[t._v("定向投放ROI趋势")]),e("div",{staticClass:"single-line-box"},[e("LineEcharts",{attrs:{date:t.RoiTrend.date,list:t.RoiTrend.data,loading:t.RoiTrend.loading}})],1),e("h3",{staticClass:"center-chart-title",staticStyle:{"margin-top":"20px"}},[t._v("直播效果趋势")]),e("div",{staticClass:"tag-list"},[e("span",{staticClass:"tag-lable"},[t._v("维度：")]),e("div",{staticClass:"tag-content"},t._l(t.tagList,(function(a){return e("span",{key:a.value,class:["tag-btn",{"tag-btn-active":a.value===t.defaultTag}],on:{click:function(e){return t.handleTagFilter(a.value)}}},[t._v(t._s(a.label))])})),0)]),e("div",{staticClass:"single-line-box"},[e("LineEcharts",{attrs:{date:t.LiveEffectTrend[t.defaultTag].date,list:t.LiveEffectTrend[t.defaultTag].data,loading:t.LiveEffectLoading}})],1)])},o=[],u=e(36672),m=e(82598),v=e(31671),p=e(99575),_=e(87939),h=e(24643),C=(0,l.defineComponent)({components:{LineEcharts:u.Z,pieEcharts:m.Z,TopFive:v.Z},props:{currentDate:{type:String,default:null}},setup(t,a){(0,l.watch)((()=>t.currentDate),(()=>{A()}));const e=(0,l.ref)({}),s=(0,l.ref)([]),n=(0,l.ref)(!0),i=(0,l.ref)({date:[],data:[],loading:!0}),r=(0,l.ref)({date:[],data:[],loading:!0}),d=(0,l.ref)({date:[],data:[],loading:!0}),c=(0,l.ref)({date:[],data:[],loading:!0}),o=(0,l.ref)([]),u=(0,l.ref)(!0),m=(0,l.ref)({date:[],data:[],loading:!0}),v=(0,l.ref)([]),C=(0,l.ref)(!0),y=(0,l.ref)({date:[],data:[],loading:!0}),b=(0,l.ref)({live_add_fans:{date:[],data:[]},live_time:{date:[],data:[]},top_online:{date:[],data:[]},stay_time:{date:[],data:[]}}),g=(0,l.ref)(!0),f=(0,l.ref)("live_add_fans"),T=(0,l.ref)([{label:"直播增粉",value:"live_add_fans"},{label:"直播时长",value:"live_time"},{label:"同时最高在线人数",value:"top_online"},{label:"用户停留时长",value:"stay_time"}]),D=t=>{f.value=t},A=()=>{n.value=!0,C.value=!0,(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.Summary}).then((t=>{t.data&&t.data.success&&(e.value=t.data.data[0])})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.IncomeAmount}).then((t=>{i.value.loading=!1,t.data&&t.data.success&&(i.value.date=t.data.data.dates,i.value.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.IncomeAmountPercent}).then((t=>{n.value=!1,t.data&&t.data.success&&(s.value=t.data.data.lists.map((t=>{const a=Object();return a.name=t.project_name??"--",a.value=t.values[0],a})))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.NetSalesAmount}).then((t=>{r.value.loading=!1,t.data&&t.data.success&&(r.value.date=t.data.data.dates,r.value.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.CommissionAmount}).then((t=>{d.value.loading=!1,t.data&&t.data.success&&(d.value.date=t.data.data.dates,d.value.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.PromoteAmount}).then((t=>{c.value.loading=!1,t.data&&t.data.success&&(c.value.date=t.data.data.dates,c.value.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.PromoteAmountTop}).then((t=>{u.value=!1,t.data&&t.data.success&&(o.value=t.data.data.lists.map(((t,a)=>{const e=Object();return e.project_name=t.project_name,e.values=t.values,e})))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.Gmv}).then((t=>{m.value.loading=!1,t.data&&t.data.success&&(m.value.date=t.data.data.dates,m.value.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.GmvPercent}).then((t=>{C.value=!1,t.data&&t.data.success&&(v.value=t.data.data.lists.map((t=>{const a=Object();return a.name=t.project_name??"--",a.value=t.values[0],a})))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.Roi}).then((t=>{y.value.loading=!1,t.data&&t.data.success&&(y.value.date=t.data.data.dates,y.value.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.NewFansCount}).then((t=>{g.value=!1,t.data&&t.data.success&&(b.value.live_add_fans.date=t.data.data.dates,b.value.live_add_fans.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.LiveDuration}).then((t=>{g.value=!1,t.data&&t.data.success&&(b.value.live_time.date=t.data.data.dates,b.value.live_time.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.MaxUv}).then((t=>{g.value=!1,t.data&&t.data.success&&(b.value.top_online.date=t.data.data.dates,b.value.top_online.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))})),(0,p.wT)({business_type:_._.Area,the_date:t.currentDate,chart_type:_.o.AvgStay}).then((t=>{g.value=!1,t.data&&t.data.success&&(b.value.stay_time.date=t.data.data.dates,b.value.stay_time.data=t.data.data.lists.map((t=>(t.name=t.project_name??"--",t.smooth=!0,t.showSymbol=!0,t.type="line",t.data=t.values,t))))}))};return A(),{summaryData:e,IncomeAmountTrend:i,IncomeAmountPercentData:s,IncomeAmountPercentLoading:n,NetSalesAmountTrend:r,CommissonAmountTrend:d,PromoteAmountTrend:c,PromoteAmountTop:o,PromoteAmountTopLoading:u,GmvTrend:m,GmvPercentData:v,GmvPercentLoading:C,RoiTrend:y,LiveEffectTrend:b,LiveEffectLoading:g,tagList:T,defaultTag:f,handleTagFilter:D,numberFormat:h.Y4}}}),y=C,b=e(1001),g=(0,b.Z)(y,c,o,!1,null,null,null),f=g.exports,T=e(41947),D=e(1763),A=e(44928);const x=t=>{const a=(0,l.ref)(!0),e=(0,l.ref)([]),s=async s=>{a.value=!0;const{data:n}=await(0,p.BP)(s);n.success?e.value=n.data.data:t.root.$message.error(n.message),a.value=!1};return{getData:s,tableLoading:a,dataList:e}};var j=(0,l.defineComponent)({components:{DataSwitch:i.Z,DataCenterList:d.Z,DataCenterChart:f,SelectDate:r.Z,RelatedProject:T.Z},setup(t,a){const e=x(a),s=(0,l.ref)([]),n=(0,l.ref)(""),i=(0,l.ref)(0),r=(0,l.ref)(0),d=(0,l.ref)(""),c=(0,l.ref)(""),o=(0,l.computed)((()=>s.value.filter((t=>!c.value||(!(!t.project_name||-1===t.project_name.indexOf(c.value))||!(!t.project_uid||-1===t.project_uid.indexOf(c.value))))))),u=(0,l.ref)(null),m=t=>{i.value=t},v=(t,n)=>{r.value=t,d.value=n,u.value=n,e.getData({business_type:_._.Area,the_date:n}),(0,p.tF)({page_num:1,num:1e6,search_type:1,cooperation_type:2,end_date:n}).then((t=>{t.data.success?s.value=t.data.data.data.map((t=>(t.title=null===t.project_name||""===t.project_name?t.project_uid:t.project_name,t))):a.root.$message.error(t.data.message)}))},h=t=>{const e=(0,A.t)(),{meta:s}=e.currentRoute;a.root.$router.push({name:"/datacenter/overview"===s?.activePath?D.xx.dataGeneralizationProject:D.xx.dataAreaProject,params:{id:t.id,businessType:""+_._.Area},query:{dateType:""+r.value,dateValue:d.value,projectName:t.title}})},C=()=>{c.value=n.value};return{activeIndex:i,handleCheckTab:m,selectDate:v,selectedDateType:r,project_id:n,project_list_filter:o,viewDetail:h,onEnterPressSearch:C,...e,currentDate:u}}}),w=j,L=(0,b.Z)(w,s,n,!1,null,"6a9e62f6",null),S=L.exports}}]);
"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[765],{765:function(e,t,a){a.r(t),a.d(t,{default:function(){return W}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tg-contract-page flex-auto"},[a("tg-card",{staticClass:"flex-none",attrs:{padding:18},on:{"rect:update":e.onTopCardRectUpdate}},[a("el-form",{staticClass:"filter-form flex-form",attrs:{inline:!0,size:"medium","show-message":!1,"label-width":"84px"}},[a("el-form-item",{staticClass:"flex-form-item form-item-group",staticStyle:{"margin-bottom":"12px"},attrs:{label:"合同搜索："}},[a("el-input",{staticClass:"contract-input",attrs:{placeholder:e.parther_select_placeholder,clearable:""},nativeOn:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.reload.apply(null,arguments)}},model:{value:e.queryForm.partner_name,callback:function(t){e.$set(e.queryForm,"partner_name",t)},expression:"queryForm.partner_name"}},[a("el-select",{staticStyle:{width:"116px"},attrs:{slot:"prepend"},slot:"prepend",model:{value:e.partner_select_type,callback:function(t){e.partner_select_type=t},expression:"partner_select_type"}},[a("el-option",{attrs:{value:5,label:"项目名称"}}),a("el-option",{attrs:{value:1,label:"公司名称"}}),a("el-option",{attrs:{value:3,label:"合同编号"}})],1)],1)],1),a("el-form-item",{staticClass:"flex-form-item",staticStyle:{"margin-bottom":"12px"},attrs:{label:"业务类型："}},[a("el-select",{staticClass:"select",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.queryForm.business_type,callback:function(t){e.$set(e.queryForm,"business_type",t)},expression:"queryForm.business_type"}},e._l(e.businessTypeOptions,(function(e){return a("el-option",{key:e.value,attrs:{"合同搜索":"",label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"flex-form-item",staticStyle:{"margin-bottom":"12px"},attrs:{label:"合同类别："}},[a("el-select",{staticClass:"select",attrs:{placeholder:"请选择"},model:{value:e.queryForm.partner_type,callback:function(t){e.$set(e.queryForm,"partner_type",t)},expression:"queryForm.partner_type"}},e._l(e.contractTypeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"flex-form-item",staticStyle:{"margin-bottom":"12px"},attrs:{label:"签约类型："}},[a("el-select",{staticClass:"select",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.queryForm.sign_type,callback:function(t){e.$set(e.queryForm,"sign_type",t)},expression:"queryForm.sign_type"}},e._l(e.saleContractTypeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticStyle:{"margin-bottom":"12px"},attrs:{label:"结束日期："}},[a("el-date-picker",{attrs:{type:"date",size:"small",placeholder:"请选择日期","start-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.queryForm.coop_end_date,callback:function(t){e.$set(e.queryForm,"coop_end_date",t)},expression:"queryForm.coop_end_date"}})],1),a("el-form-item",{staticClass:"flex-form-item",staticStyle:{"margin-bottom":"12px"},attrs:{label:"费用类型："}},[a("el-select",{staticClass:"select",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.queryForm.pay_type,callback:function(t){e.$set(e.queryForm,"pay_type",t)},expression:"queryForm.pay_type"}},e._l(e.PayConditionOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"flex-form-item",staticStyle:{"margin-bottom":"12px"},attrs:{label:"是否收回："}},[a("el-select",{staticClass:"select",attrs:{clearable:"",placeholder:"请选择"},model:{value:e.queryForm.is_recycled,callback:function(t){e.$set(e.queryForm,"is_recycled",t)},expression:"queryForm.is_recycled"}},[a("el-option",{attrs:{label:"全部",value:void 0}}),a("el-option",{attrs:{label:"已收回",value:1}}),a("el-option",{attrs:{label:"未收回",value:0}})],1)],1),a("el-form-item",{staticClass:"flex-form-item order-100",staticStyle:{"margin-bottom":"14px"}},[a("tg-button",{attrs:{type:"primary"},on:{click:e.reload}},[e._v("查询")]),a("tg-button",{staticClass:"mgl-12",on:{click:e.reset}},[e._v("重置")])],1)],1)],1),a("tg-card",e._b({staticClass:"result-list Customer-contract mgt-12",class:e.cardFlexClass,attrs:{padding:[18,18,0,18]},on:{"rect:update":e.onRectUpdate}},"tg-card",e.cardProps,!1),[e.Permission.canViewContractList?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{stripe:"",border:"",data:e.list,"row-style":{cursor:"pointer"},height:"100%"},on:{"selection-change":e.handleSelectionChange,"row-click":e.handleRowClick},scopedSlots:e._u([{key:"empty",fn:function(){return[a("empty-common",{attrs:{"detial-text":"暂无合同数据"}})]},proxy:!0}],null,!1,3611815005)},e._l(e.columns,(function(t,n){return a("el-table-column",e._b({key:n},"el-table-column",t,!1))})),1):e._e(),e.Permission.canViewContractList&&e.list.length?a("el-pagination",{staticStyle:{margin:"8px 0"},attrs:{"current-page":e.queryForm.page_num,"page-sizes":[10,20,50,100,200],"page-size":e.queryForm.num,layout:"total,prev, pager, next, sizes, jumper",total:e.total},on:{"update:currentPage":function(t){return e.$set(e.queryForm,"page_num",t)},"update:current-page":function(t){return e.$set(e.queryForm,"page_num",t)},"current-change":e.handleCurrentChange,"size-change":e.handlePageSizeChange}}):e._e()],1)],1)},r=[],o=a(97434),l=a(89935),c=a(37808),u=a(86863),i=a(62707),s=a(57325),p=(a(26699),a(83005)),m=a(93889),d=a(17099),_=a(47997),f=a(21757),v=a(29625),b=a(67910),y=a(61282),h=a(40290),g=a(85937),w=a.n(g),C=a(8581),k=a(6933),x=a.n(k);const P=(0,_.sY)((e=>{const{jumpProjectDetail:t}=(0,h.k)(e),a=(0,o.ref)(!1),n=(0,o.ref)(0),r=(0,o.ref)([]),l=async t=>{r.value=[],a.value=!0,t.contract_status=2;const{data:o}=await(0,p.CU)(t);a.value=!1,o.success?(r.value=o.data.data.map((e=>{const t=e.pay_type;if(e.getMoneytype="",e.contractMoney="",e.contractCommission="",e.contractOtherMoney="",1===t)e.getMoneytype="固定服务费",e.contractMoney=e.contract_amount||0===e.contract_amount?"￥"+(0,y.SJ)(new(w())(e.contract_amount)):"--";else if(2===t){e.getMoneytype="服务费+佣金";const t=e.anchor_commission_rate?e.contract_commission_rate+"%(主播)":"",a=e.ourself_commission_rate||0!==Number(e.ourself_commission_rate)?e.ourself_commission_rate+"%(构美)":"",n=e.contract_amount||0===e.contract_amount?"￥"+(0,y.SJ)(new(w())(e.contract_amount)):"";if(e.contractMoney=n,a||t)e.contractCommission=a?a+"+"+t:t;else{const t=e.contract_commission_rate||0===e.contract_commission_rate?e.contract_commission_rate+"%":"";e.contractCommission=t}}else if(3===t){e.getMoneytype="纯佣金";const t=e.anchor_commission_rate?e.contract_commission_rate+"%(主播)":"",a=e.ourself_commission_rate||0!==Number(e.ourself_commission_rate)?e.ourself_commission_rate+"%(构美)":"";if(a||t)e.contractCommission=a?t+"+"+a:t;else{const t=e.contract_commission_rate||0===e.contract_commission_rate?e.contract_commission_rate+"%":"";e.contractCommission=t}}else 0===t||t?(e.getMoneytype="其它",e.contractOtherMoney="--"):(e.getMoneytype="--",e.contractOtherMoney=e.contract_amount||0===e.contract_amount?"￥"+(0,y.SJ)(new(w())(e.contract_amount)):"--");return e})),n.value=o.data.total):e.root.$message({type:"warning",message:o.message??"查询合同失败，稍后重试",duration:2e3,showClose:!0})},c=(0,f.gI)(),u=e=>1===e.contract_type||2===e.contract_type||5===e.contract_type?"客户合同":"供应商合同",i=(0,b.zY)(r,"合同类别",u),s=(e,t)=>{const{contract_uid:a}=e;if(t)return a;const n=(0,o.h)("div",[(0,o.h)("span",[a])]);return n},_=(0,b.zY)(r,"合同编号",s),g=(e,t)=>{const a=e.company_name||"--",{is_folded:n,folded_text:r}=(0,y.zb)(a,12);return t||!n?r:(0,o.h)("el-popover",{props:{placement:"top",trigger:"hover",content:a}},[(0,o.h)("span",{slot:"reference"},[r])])},k=(0,b.zY)(r,"公司名称",g),P=(e,a)=>{const n=e.project_name||"--",{is_folded:r,folded_text:l}=(0,y.zb)(n,12);return a||!r?(0,o.h)("span",{class:["hover-link","empty-data-line"],on:{click:a=>{e.business_type===v.WD.marketing?window.open("/marketing/project/"+e.cooperation_id):[v.WD.douyin,v.WD.taobao].includes(e.business_type?e.business_type:-1)?t({project_id:e.project_id,newWindow:!0}):window.open("/commonBusiness/project/"+e.project_id)}}},[l]):(0,o.h)("el-popover",{props:{placement:"top",trigger:"hover",content:n}},[(0,o.h)("span",{class:["hover-link","empty-data-line"],on:{click:a=>{e.business_type===v.WD.marketing?window.open("/marketing/project/"+e.cooperation_id):[v.WD.douyin,v.WD.taobao].includes(e.business_type?e.business_type:-1)?t({project_id:e.project_id,newWindow:!0}):window.open("/commonBusiness/project/"+e.project_id)}},slot:"reference"},[l])])},q=(0,o.computed)((()=>[{prop:"row",label:"项目名称",fixed:"left",minWidth:180,formatter:e=>P(e,!1)},{label:"业务类型",fixed:"left",minWidth:100,align:"center",formatter:e=>void 0!==e.business_type?v.Zb.get(e.business_type)??"--":"--"},{label:"合同类别",fixed:"left",align:"center",minWidth:i.value,formatter:u},{prop:"row",label:"合同编号",minWidth:_.value,formatter:e=>s(e,!1)},{label:"签约类型",minWidth:100,align:"center",formatter:e=>m.kV.get(e.sign_type)||"--"},{prop:"company_name",label:"公司名称",minWidth:k.value,formatter:e=>g(e,!1)},{label:"合作期限",width:206,align:"center",formatter:e=>{let t="";t=null===e.coop_start_date||null!==e.coop_end_date&&0!==e.coop_end_date?e.coop_end_date?(0,C.WU)(x()(1e3*parseInt(e.coop_end_date,10)).valueOf(),"YYYY-mm-dd"):"":"长期有效";const a=e.coop_start_date?(0,C.WU)(x()(1e3*parseInt(e.coop_start_date,10)).valueOf(),"YYYY-mm-dd"):"",n=[a,t],r=n.filter((e=>null!==e)).join("～").replace(/-/g,".")||(0,d.l)();return r}},{label:"费用类型",width:130,align:"center",formatter:e=>e.getMoneytype??(0,d.l)()},{label:"合同金额",align:"left",minWidth:200,formatter:e=>{const t=[];return e.contractMoney&&t.push((0,o.h)("div",[(0,o.h)("span",{style:{color:"#a4b2c2"}},[e.contractCommission?"服务费：":"固定服务费："]),(0,o.h)("span",{style:{color:"#19232D"}},[e.contractMoney??"--"])])),e.contractCommission&&t.push((0,o.h)("div",[(0,o.h)("span",{style:{color:"#a4b2c2"}},["佣金："]),(0,o.h)("span",{style:{color:"#19232D"}},[e.contractCommission??"--"])])),e.contractOtherMoney&&t.push((0,o.h)("div",[(0,o.h)("span",{style:{color:"#19232D"}},[e.contractOtherMoney??"--"])])),t.length>0?t:"--"}},{label:"结算金额 (元)",align:"right",minWidth:160,formatter:e=>{const t=e.settlement_amount||0===e.settlement_amount?(0,y.SJ)(new(w())(e.settlement_amount)):"--";return t}},{label:"已付/已收金额 (元)",align:"right",minWidth:160,formatter:e=>{const t=e.received_or_paid_amount||0===e.received_or_paid_amount?(0,y.SJ)(new(w())(e.received_or_paid_amount)):"--";return t}},{label:"发票核销金额 (元)",align:"right",minWidth:160,formatter:e=>{const t=e.invoice_write_off_amount||0===e.invoice_write_off_amount?(0,y.SJ)(new(w())(e.invoice_write_off_amount)):"--";return t}},{label:"是否收回",minWidth:100,align:"center",formatter:e=>e.is_recycled?"是":"否"}]));return{list:r,loading:a,loadData:l,total:n,columns:q,permission:c}}));var q=a(64236),S=a(1763),F=a(78902),M=a(44928),$=a(58302);const T=!1;var j=(0,o.defineComponent)({name:"ContractApproval",setup(e,t){const a=(0,M.t)(),n=(0,o.computed)((()=>{const e=(0,f.kG)(F.HN.law_statistics_contract_view),t=(0,f.kG)(F.HN.law_statistics_contract_list);return{canEditContract:t,canViewContractList:e}}));(0,o.provide)("Permission",n);const r=(0,o.ref)(null),u=(0,o.ref)([]),s=(0,o.ref)(5),p=(0,o.computed)((()=>{let e="";switch(s.value){case 1:e="公司名称";break;case 2:e="供应商名称";break;case 3:e="合同编号";break;case 4:e="创建人";break;case 5:e="项目名称";break;case 6:e="项目编号";break}return`请输入${e}`})),m=(0,o.ref)({sign_type:void 0,contract_status:"console"===a.currentRoute.query.source?2:void 0,manager_id:void 0,is_recycled:"console"===a.currentRoute.query.source?0:void 0,contract_uid:"",partner_type:void 0,last_annex_status:void 0,partner_name:"",page_num:1,num:20,coop_end_date:"",business_type:void 0,project_name:void 0,project_uid:void 0,pay_type:void 0,execute_status:void 0}),d=()=>{m.value={contract_sign_type:void 0,contract_status:void 0,manager_id:void 0,is_recycled:void 0,contract_uid:"",partner_type:void 0,last_annex_status:void 0,partner_name:"",page_num:1,num:20,coop_end_date:"",business_type:void 0,project_name:void 0,project_uid:void 0,pay_type:void 0,execute_status:void 0},s.value=5},_=(e,t,a,n)=>10*(m.value.page_num-1)+(n+1),v=(0,o.ref)(null),b=e=>{r.value=e.contract_detail.contract_id,v.value?.show(e)},y=(0,o.ref)(null),h=P(t,{indexFormatter:_,currentUserInfo:y,showAddContractCopyDialog:b}),g=async(e=!0)=>{e&&(m.value.page_num=1);const{...t}=m.value,a={...t},n=a.partner_name;switch(a.partner_name=void 0,s.value){case 1:a.company_name=n;break;case 2:a.company_name=n;break;case 3:a.contract_uid=n;break;case 4:a.add_by_name=n;break;case 5:a.project_name=n;break;case 6:a.project_uid=n}await h.loadData(a)},w=async()=>{d(),await g()},C=async()=>{m.value.contract_status=2,m.value.num=200,await g()},k=(0,o.ref)({contract_sign_type:2,contract_status:3,is_recycled:5,coop_end_date:7,add_by_name:6,partner_name:1,contract_uid:0}),x=(e,a)=>{"操作"!==a.label&&("项目名称"===a.label&&e.project_name||(1===e.contract_type||2===e.contract_type||5===e.contract_type?t.root.$router.push({name:5===e.contract_type?S.l6.statistics.customer.detailTemplate:S.l6.statistics.customer.detail,params:{id:`${e.id}`}}):3===e.contract_type||4===e.contract_type||6===e.contract_type?t.root.$router.push({name:6===e.contract_type?S.l6.statistics.supplier.detailTemplate:S.l6.statistics.supplier.detail,params:{id:`${e.id}`},query:{contract_type:`${e.contract_type}`}}):t.root.$router.push({name:S.l6.statistics.anchor.detailTemplate,params:{id:`${e.id}`},query:{contract_type:`${e.contract_type}`}})))},j=0,Z=46,R=30,O=4,W=(0,o.ref)(0),B=e=>{W.value=e.height},D=(0,$.Z)({compensation:j+Z+R+O,fixedBlockHeightRefs:[W],pagename:"legal_contract",delay:100});return{Permission:n,contractId:r,recycledStatusList:u,partner_select_type:s,parther_select_placeholder:p,CONSTRACT_APPROVER:i.Rs,ROLE_CODE:c.b,contractTypeOptions:[{value:void 0,label:"全部"},...l.w1],ExecuteFlagOptions:[{value:void 0,label:"全部"},{value:1,label:"执行中"},{value:2,label:"正常结束"},{value:3,label:"提前终止"},{value:4,label:"暂未开始"}],PayConditionOptions:[{value:void 0,label:"全部"},{value:1,label:"固定服务费"},{value:2,label:"服务费+佣金"},{value:3,label:"纯佣金"},{value:-1,label:"其它"}],businessTypeOptions:[{value:void 0,label:"全部"},...l.$X,{value:5,label:"S2B2C"}],saleContractTypeOptions:[{value:void 0,label:"全部"},{value:1,label:"单次合作"},{value:2,label:"框架合同"},{value:3,label:"长期合作"},{value:4,label:"合作协议"},{value:-1,label:"补充协议"},{value:-2,label:"从合同"},{value:-3,label:"解除协议"},{value:-4,label:"结算协议"},{value:11,label:"客户销售合同"},{value:12,label:"供应商采买"}],supplierContractTypeOptions:l.YK,accountManager:[],queryForm:m,...h,reload:g,reset:w,currentUserInfo:y,recycled:!1,whitespace:"　",fetchStatements:T?C:q.mz,formItemOrder:k,addContractCopyDialogRef:v,handleRowClick:x,onTopCardRectUpdate:B,...D}},async mounted(){await this.getAccountManager(),this.currentUserInfo=this.$store.getters["user/getUserInfo"],this.queryContract()},activated(){},methods:{showAddContractCopyDialog(e){this.contractId=e.contract_detail.contract_id,this.$refs.addContractCopyDialogRef.show(e)},getAccountManager(){return new Promise(((e,t)=>{(0,u.em)({role:c.b.customer_manager}).then((a=>{a.data.success?(this.accountManager=a.data.data.user_data,e(!0)):(this.$message({type:"warning",message:a.data.message,duration:2e3,showClose:!0}),t(a.data.message))})).catch((e=>{this.$message({type:"error",message:"客户经理获取失败，稍后重试",duration:2e3,showClose:!0}),t(e)}))}))},async queryContract(e=!0){await this.reload(e),this.recycledStatusList=this.list.map((e=>({status:1===e.is_recycled,loading:!1})))},handleSelectionChange(e){this.selection=e},handleReviewContractClick(e){this.$refs.reviewDialog.show(e)},handleCurrentChange(e){this.queryForm.page_num=e,this.queryContract(!1)},handlePageSizeChange(e){this.queryForm.num=e,this.queryContract()},fixFileToken:s.W},watch:{$route:{handler(e,t){"客户合同"===e.name&&"合同详情"!==t.name&&this.reset()}}}}),Z=j,R=a(1001),O=(0,R.Z)(Z,n,r,!1,null,"9d41d490",null),W=O.exports},86863:function(e,t,a){a.d(t,{B9:function(){return k},C7:function(){return y},E2:function(){return p},Fn:function(){return s},Jv:function(){return w},LK:function(){return d},Ou:function(){return b},TG:function(){return l},Uw:function(){return r},XZ:function(){return m},_6:function(){return g},aw:function(){return M},cQ:function(){return C},dh:function(){return F},em:function(){return o},g9:function(){return P},iI:function(){return i},it:function(){return h},jy:function(){return f},kT:function(){return x},pc:function(){return c},qJ:function(){return _},qq:function(){return v},ve:function(){return q},vf:function(){return S},w_:function(){return u}});var n=a(76012);a(42963);function r(e){return(0,n.ZP)({url:"/api/cust/del_customer",method:"get",params:e})}function o(e){return(0,n.ZP)({url:"/api/auth/query_user_names",method:"get",params:e})}function l(){return(0,n.ZP)({url:"/api/auth/query_user_names",method:"get"})}function c(e){return(0,n.ZP)({url:"/api/auth/get_user_by_role",method:"get",params:e})}function u(e){return(0,n.ZP)({url:"/api/cont/upload_attachment",method:"post",data:e})}function i(){return(0,n.ZP)({url:"/api/auth/get_department",method:"get"})}function s(){return(0,n.ZP)({url:"/api/cont/get_approver",method:"get"})}function p(e,t=1){const a=1===t?"/api/cont/query_contract":2===t?"/api/cont/query_law_contract":4===t?"/api/cont/query_cooperation_contract":5===t?"/api/cont/query_common_contract":"/api/cont/query_shop_live_contract";return(0,n.ZP)({url:a,method:"get",params:e})}function m(){return(0,n.ZP)({url:"/api/cont/get_contract_uid",method:"get"})}function d(e={}){return(0,n.ZP)({url:"/api/shop_live/get_shop_live_contract_uid",method:"get",params:e})}function _(e){return(0,n.ZP)({url:"/api/cont/del_contract",method:"post",data:e})}function f(e){return(0,n.ZP)({url:"/api/cont/approve_contract",method:"post",data:e})}function v(e){return(0,n.ZP)({url:"/api/cont/del_contract",method:"post",data:e})}function b(e){return(0,n.ZP)({url:`/api/cont/delete_contract_annex/${e}/`,method:"post"})}function y(e){return(0,n.ZP)({url:`/api/cont/delete_contract_statements/${e}/`,method:"post"})}function h(e){return(0,n.ZP)({url:"/api/cont/invalid_contract",method:"post",data:e})}function g(e){return(0,n.ZP)({url:"/api/cont/recycle_contract",method:"post",data:e})}function w(e){return(0,n.ZP)({url:"/api/auth/get_user_by_role",method:"get",params:e})}function C(e){return(0,n.ZP)({url:"/api/cont/get_partner_by_name",method:"get",params:e})}function k(e){return(0,n.ZP)({url:"/api/cont/save_contract_annex",method:"post",data:e})}function x(e){return(0,n.ZP)({url:"/api/cont/del_contract_annex",method:"post",data:e})}function P(e){return(0,n.ZP)({url:"/api/cont/query_contract_annex",method:"get",params:e})}function q(e){return(0,n.ZP)({url:"/api/cont/query_contract_statements",method:"get",params:e})}function S(e){return(0,n.ZP)({url:`/api/cont/get_contract_approval_flow/${e}/`,method:"get"})}function F(e){return(0,n.ZP)({url:`/api/cont/get_contract_annex_approval_flow/${e}/`,method:"get"})}function M(e){return(0,n.ZP)({url:`/api/cont/get_contract_statements_approval_flow/${e}/`,method:"get"})}},89935:function(e,t,a){a.d(t,{$X:function(){return w},CE:function(){return s},E1:function(){return T},E9:function(){return i},Fj:function(){return $},G7:function(){return x},H2:function(){return o},KL:function(){return k},KS:function(){return l},L8:function(){return S},OI:function(){return r},Q:function(){return f},Rd:function(){return y},Sx:function(){return q},Vd:function(){return p},XQ:function(){return _},YE:function(){return u},YK:function(){return g},aX:function(){return c},bM:function(){return F},dQ:function(){return b},gZ:function(){return j},hi:function(){return P},iN:function(){return m},qw:function(){return M},sk:function(){return d},tv:function(){return C},u_:function(){return v},w1:function(){return h}});var n=a(93889);const r=[{value:1,label:"美妆"},{value:2,label:"个护"},{value:3,label:"服饰"},{value:4,label:"美食"},{value:5,label:"母婴"},{value:6,label:"数码"},{value:7,label:"家居"},{value:8,label:"保健"},{value:9,label:"萌宠"},{value:10,label:"箱包"},{value:11,label:"配饰"}],o=[{value:0,label:"混播"},{value:1,label:"专场"}],l=[{value:0,label:"0 ~ 100"},{value:1,label:"100 ~ 200"},{value:2,label:"200以上"}],c=[{value:"每小时观看人数",color:"#7484b7"},{value:"每小时观看数",color:"#4dcdb1"},{value:"场均观看人数",color:"#f895e7"},{value:"场均观看数",color:"#ffbf40"},{value:"粉丝精准度",color:"#5273d3"},{value:"日均开播场次",color:"#d87a80"},{value:"日均开播时长",color:"#b6a2de"},{value:"人均点击数",color:"#FFB980"},{value:"每小时互动数",color:"#d075c4"},{value:"人均互动数",color:"#fd936e"}],u=[{value:"最近15天",label:15},{value:"最近1个月",label:30},{value:"最近3个月",label:90}],i=[{value:"每小时观看人数",color:"#4dcdb1"},{value:"每小时观看数",color:"#7484b7"},{value:"观看数",color:"#b4c4f5"},{value:"观看人数",color:"#f895e7"},{value:"时长",color:"#5ab1ef"}],s=[{value:"最近7场",num:7},{value:"最近15场",num:15},{value:"最近30场",num:30},{value:"最近90场",num:90}],p=["最近15天","最近1个月","最近3个月"],m=[{value:0,label:"白天"},{value:1,label:"晚上"}],d=[{value:3,label:"0 ~ 5分钟"},{value:0,label:"5 ~ 10分钟"},{value:1,label:"10 ~ 15分钟"},{value:2,label:"15 ~ 20分钟"},{value:4,label:"20分钟以上"}],_=[{value:1,label:"预售场"},{value:2,label:"预热场"},{value:0,label:"非预售场"},{value:-1,label:"未录入"}],f=[{value:1,label:"预售场"},{value:2,label:"预热场"},{value:0,label:"非预售场"}],v=[{value:1,label:"未出单"},{value:2,label:"已出单"}],b=[{value:7,label:"最近一周"},{value:15,label:"最近15天"},{value:30,label:"最近一个月"}],y=[{value:n.RJ.Sales,label:"销售合同"},{value:n.RJ.Framework,label:"框架合同"}],h=[{value:1,label:"客户合同"},{value:2,label:"供应商合同"}],g=[{value:3,label:"采买合同"},{value:4,label:"框架合同"}],w=[{value:1,label:"营销业务"},{value:3,label:"抖音店播"},{value:2,label:"淘宝店播"}],C=[{value:1,label:"营销业务"},{value:3,label:"抖音店播"},{value:2,label:"淘宝店播"},{value:4,label:"区域业务"},{value:5,label:"S2B2C"}],k=[{value:1,label:"小红书"},{value:2,label:"微信公众号"},{value:3,label:"新浪微博"},{value:4,label:"抖音"},{value:5,label:"快手"},{value:6,label:"哔哩哔哩"},{value:7,label:"淘宝直播"},{value:8,label:"一直播"},{value:9,label:"淘宝图文"},{value:10,label:"淘宝短视频"},{value:11,label:"线下场地搭建"},{value:12,label:"线下视觉设计"},{value:13,label:"活动策划执行"}],x=[{value:1,label:"长视频"},{value:2,label:"短视频"},{value:3,label:"直播"}];var P,q;(function(e){e[e["ServiceCharge"]=1]="ServiceCharge",e[e["Commission"]=2]="Commission",e[e["Other"]=3]="Other",e[e["Refund"]=5]="Refund"})(P||(P={})),function(e){e[e["writeoff_no"]=0]="writeoff_no",e[e["writeoff_partial"]=1]="writeoff_partial",e[e["writeoff_yes"]=2]="writeoff_yes"}(q||(q={}));const S=[{label:"未核销",value:q.writeoff_no},{label:"部分核销",value:q.writeoff_partial},{label:"已核销",value:q.writeoff_yes}],F=new Map([[P.ServiceCharge,"服务费"],[P.Commission,"佣金"],[P.Other,"其他"],[P.Refund,"退款"]]),M=[{label:"服务费",value:P.ServiceCharge},{label:"佣金",value:P.Commission},{label:"其他",value:P.Other},{label:"退款",value:P.Refund}],$=[{label:"V任务",value:1},{label:"支付宝",value:2},{label:"对公银行",value:3}],T=[...$,{label:"阿里妈妈",value:4},{label:"巨量百应",value:5}],j=[{label:"网络营销师",value:1},{label:"练习生",value:2}]},29625:function(e,t,a){var n,r;a.d(t,{Bs:function(){return d},C_:function(){return c},RB:function(){return _},UN:function(){return s},WD:function(){return n},Wj:function(){return u},Y$:function(){return r},Yh:function(){return l},Zb:function(){return o},i8:function(){return m},kA:function(){return f},x3:function(){return i}}),function(e){e[e["marketing"]=1]="marketing",e[e["taobao"]=2]="taobao",e[e["douyin"]=3]="douyin",e[e["base"]=4]="base",e[e["mcn"]=5]="mcn",e[e["douyinsh"]=7]="douyinsh"}(n||(n={})),function(e){e[e["common"]=1]="common",e[e["system"]=2]="system"}(r||(r={}));const o=new Map([[n.marketing,"营销业务"],[n.douyin,"抖音店播"],[n.taobao,"淘宝店播"],[n.base,"基地业务"],[n.mcn,"S2B2C"],[n.douyinsh,"抖音店播(上海)"]]),l=[{value:n.marketing,label:"整合营销"},{value:n.douyin,label:"抖音店播"},{value:n.taobao,label:"淘宝店播"},{value:n.mcn,label:"S2B2C"},{value:n.douyinsh,label:"抖音店播(上海)"}];var c;(function(e){e[e["creation"]=1]="creation",e[e["tryLive"]=2]="tryLive",e[e["execution"]=3]="execution",e[e["regionExecution"]=4]="regionExecution",e[e["finish"]=5]="finish",e[e["executionEnd"]=6]="executionEnd"})(c||(c={}));const u=new Map([[c.creation,"项目创建"],[c.tryLive,"试播中"],[c.execution,"项目执行中"],[c.regionExecution,"区域执行中"],[c.executionEnd,"执行结束"],[c.finish,"已完结"]]);var i;(function(e){e[e["region"]=2]="region",e[e["selfSupport"]=1]="selfSupport"})(i||(i={}));const s=new Map([[i.region,"区域"],[i.selfSupport,"自营"]]);var p;(function(e){e[e["month"]=1]="month",e[e["quarter"]=2]="quarter",e[e["halfAyear"]=3]="halfAyear"})(p||(p={}));const m=new Map([[p.month,"月结"],[p.quarter,"季结"],[p.halfAyear,"半年"]]),d=new Map([[1,"美妆"],[2,"生活"],[3,"服饰"],[4,"美食"],[5,"母婴"],[6,"数码"],[7,"家装"],[8,"健康"],[9,"宠物"],[10,"时尚"],[11,"配饰"],[12,"家电"],[13,"测评"],[14,"旅行"],[15,"运动"],[16,"摄影"],[17,"情感"],[18,"汽车"],[19,"搞笑"],[20,"教育"],[21,"财经"],[22,"萌娃"],[23,"文化"],[24,"影视"],[25,"娱乐"],[26,"游戏"],[27,"海外"],[28,"才艺"],[29,"三农"],[30,"二次元"],[31,"高颜值"]]);function _(e){return 0===e?"无":d.get(e)??"无"}var f;(function(e){e[e["live"]=1]="live",e[e["marketing"]=2]="marketing",e[e["common_business"]=3]="common_business"})(f||(f={}))},93889:function(e,t,a){a.d(t,{GD:function(){return s},MT:function(){return l.Kb},N5:function(){return o},RJ:function(){return n},TZ:function(){return c},Vx:function(){return u},cC:function(){return r},kD:function(){return m},kV:function(){return d},nd:function(){return i},wk:function(){return p}});var n,r,o,l=a(17890);(function(e){e[e["Sales"]=1]="Sales",e[e["Framework"]=2]="Framework",e[e["Purchase"]=3]="Purchase",e[e["SupplierFramework"]=4]="SupplierFramework",e[e["ServiceContract"]=5]="ServiceContract",e[e["SupplierContract"]=6]="SupplierContract",e[e["AnchorContract"]=7]="AnchorContract"})(n||(n={})),function(e){e[e["initial"]=0]="initial",e[e["waiting"]=1]="waiting",e[e["passed"]=2]="passed",e[e["refused"]=3]="refused"}(r||(r={})),function(e){e[e["Type1"]=1]="Type1",e[e["Type2"]=2]="Type2",e[e["Type3"]=3]="Type3"}(o||(o={}));const c=new Map([[o.Type1,"不用印章"],[o.Type2,"公章"],[o.Type3,"合同章"]]),u=[{label:"公章",value:o.Type2},{label:"合同章",value:o.Type3},{label:"不用印章",value:o.Type1}],i=new Map([[l.Kb.Pending,"待审批"],[l.Kb.Normal,"审批成功"],[l.Kb.Failure,"审批失败"],[l.Kb.Processing,"审批中"],[l.Kb.Invalid,"作废"]]);var s;(function(e){e[e["Bank"]=1]="Bank",e[e["Alipay"]=2]="Alipay",e[e["VTask"]=3]="VTask",e[e["Alimama"]=4]="Alimama",e[e["Buyin"]=5]="Buyin"})(s||(s={}));const p=new Map([[s.Bank,"对公银行"],[s.Alipay,"支付宝"],[s.VTask,"V任务"],[s.Alimama,"淘宝联盟"],[s.Buyin,"巨量百应"]]),m=[{value:s.Bank,label:"对公银行"},{value:s.Alipay,label:"支付宝"},{value:s.VTask,label:"V任务"},{value:s.Alimama,label:"淘宝联盟"},{value:s.Buyin,label:"巨量百应"}],d=new Map([[1,"单次合作"],[2,"框架合同"],[3,"长期合作"],[4,"合作协议"],[-1,"补充协议"],[-2,"从合同"],[-3,"解除协议"],[-4,"结算协议"],[11,"销售合同"],[12,"采买合同"]]);new Map([[0,"其它"],[1,"固定服务费"],[2,"固定服务费+佣金"],[3,"纯佣金"]])},17890:function(e,t,a){var n,r;a.d(t,{Kb:function(){return n},OX:function(){return u},l7:function(){return c},yR:function(){return o}}),function(e){e[e["Pending"]=1]="Pending",e[e["Normal"]=2]="Normal",e[e["Failure"]=3]="Failure",e[e["Processing"]=4]="Processing",e[e["Invalid"]=5]="Invalid"}(n||(n={})),function(e){e[e["Yes"]=0]="Yes",e[e["No"]=1]="No",e[e["Reject"]=2]="Reject"}(r||(r={}));const o=new Map([[n.Pending,"待审批"],[n.Normal,"审批成功"],[n.Failure,"审批失败"],[n.Processing,"审批中"],[n.Invalid,"已作废"]]),l=new Map([[r.Yes,"未上传"],[r.No,"已上传"],[r.Reject,"已驳回"]]),c=[n.Normal,n.Failure,n.Processing,n.Invalid].map((e=>({value:e,label:o.get(e)??""}))),u=[r.Yes,r.No,r.Reject].map((e=>({value:e,label:l.get(e)??""})))},58302:function(e,t,a){var n=a(97434),r=a(77944),o=a(52140);const l=e=>{const t=(0,n.computed)((()=>r.Z.getters["global/scrollbarSetting"])),a=(0,n.computed)((()=>void 0!==e.pagename?!0!==t.value.find((t=>t.key===e.pagename))?.value:e.disable??!1)),l=(0,n.computed)((()=>{const t=(e.fixedBlockHeightRefs??[]).map((e=>(0,n.unref)(e))).reduce(((e,t)=>(0,n.unref)(e)+(0,n.unref)(t)),0);return a.value?"max-content":`calc(100vh - ${(0,n.unref)(t)+56+36}px)`})),c=(0,n.computed)((()=>(a.value,"flex-auto"))),u=(0,n.computed)((()=>({height:l.value,overflowInBody:!a.value}))),i=(0,n.ref)(0),s=(0,n.computed)((()=>a.value?{}:{height:Math.max(i.value-(0,n.unref)((0,n.unref)(e.compensation)),e.tableMinHeight??0)})),p=a.value?()=>{}:e=>{i.value!==e&&(i.value=e,(0,o.S)())},m=a.value?()=>{}:t=>{0===i.value?setTimeout((()=>{p(t.height)}),e.delay??1200):p(t.height)};return{cardHeight:l,tableProps:s,onRectUpdate:m,rectHeight:i,cardFlexClass:c,cardProps:u}};t["Z"]=l},44928:function(e,t,a){a.d(t,{t:function(){return r}});var n=a(86834);const r=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(n.Z,t)}});return e}},52140:function(e,t,a){a.d(t,{S:function(){return n},n:function(){return r}});const n=()=>{const e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},r=()=>{const{width:e,height:t}=document.body.getBoundingClientRect();return{width:e,height:t}}},40290:function(e,t,a){a.d(t,{k:function(){return r}});var n=a(1763);const r=e=>{const t={jumpProjectDetail:e=>{const a={name:n.FB.project.detail,params:{id:`${e.project_id}`,tab:e.tab??"projectInfo",liveType:e.liveType??"calendar"}},r=e.newWindow??!1;t.jump(a,r)},jumpLiveDisplayDetail:e=>{const a={name:n.FB.display.detail,params:{id:`${e.project_id}`,liveId:`${e.live_id}`,tab:"live",liveType:e.liveType??"calendar"}},r=e.newWindow??!1;t.jump(a,r)},jump:(t,a=!1)=>{if(a){const{href:a}=e.root.$router.resolve(t);window.open(a,"_blank")}else e.root.$router.push(t)}};return{...t}}},67910:function(e,t,a){a.d(t,{P6:function(){return u},zY:function(){return c}});var n=a(97434),r=a(61282),o=a(85937),l=a.n(o);const c=(e,t,a,o=20)=>(0,n.computed)((()=>Math.ceil(Math.max(...e.value.map((e=>(0,r.QN)(a(e,!0)))),(0,r.QN)(t)))+o+6)),u=(e,t=!0)=>{let a;return a=""===e||void 0===e?"--":(0,r.SJ)(new(l())(e??0)),t?(0,n.h)("span",[`￥${a}`]):(0,n.h)("span",[`${a}`])}}}]);
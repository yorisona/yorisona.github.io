"use strict";(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[3727],{61022:function(e,a,t){t.d(a,{Z:function(){return h}});var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e.operation.isEdit?t("div",{staticClass:"cooperation-info-box"},[t("tg-button",{attrs:{type:"primary",icon:"ico-btn-add"},on:{click:e.operation.add}},[e._v("新增合作")])],1):e._e(),t("div",{staticClass:"cooperation-info"},e._l(e.info.cooperations,(function(a){return t("div",{key:a.id,staticClass:"cooperation-item"},[t("div",{staticClass:"title-area"},[t("span",{staticClass:"cooperation-shop"},[t("tg-textPopover",{attrs:{text:a.project_name,defaultText:"未关联项目",maxWidth:192,textClass:"cooperation-shop-title"}}),1===a.release_status?t("span",{staticClass:"cooperation-status invalid"},[e._v("已解除")]):2===a.cooperation_status&&e.contract_isValid(a)?t("span",{staticClass:"cooperation-status normal"},[e._v("合作中")]):2!==a.cooperation_status||e.contract_isValid(a)?4===a.cooperation_status?t("span",{staticClass:"cooperation-status approving"},[e._v("审核中")]):3===a.cooperation_status?t("span",{staticClass:"cooperation-status failed"},[e._v("审核不通过")]):e._e():t("span",{staticClass:"cooperation-status invalid"},[e._v("已过期")])],1),t("span",{staticClass:"fill"}),e.operation.isEdit?t("span",{staticClass:"cooperation-operation"},[t("tg-icon",{staticClass:"ico-btn-delete",attrs:{name:"ico-btn-delete"},on:{click:function(t){return e.operation.del(a.id)}}}),t("tg-icon",{attrs:{name:"ico-edit"},on:{click:function(t){return e.operation.edit(a)}}})],1):e._e(),t("tg-button",{attrs:{type:"link"},on:{click:function(t){return e.gotoContractClick(a)}}},[e._v("详情")])],1),t("div",{staticClass:"content-area"},[t("div",{staticClass:"content-row"},[t("span",{staticClass:"label"},[e._v("合作时间：")]),t("span",{staticClass:"text"},[e._v(e._s(a.start_date?a.start_date.replace(/-/g,"."):"")+"～"+e._s(a.end_date?a.end_date.replace(/-/g,"."):""))])]),t("div",{staticClass:"content-row"},[t("span",{staticClass:"label"},[e._v("计算方式：")]),t("span",{staticClass:"text"},[e._v(e._s(a.settlement_type_label?a.settlement_type_label:"--"))])]),1===a.settlement_type?t("div",{staticClass:"content-row"},[t("span",{staticClass:"label"},[e._v(e._s(a.settlement_type_label)+"：")]),t("span",{staticClass:"text"},[e._v(e._s(a.hourly_wage?a.hourly_wage:"--")+" 元/时")])]):e._e(),3===a.settlement_type?t("div",{staticClass:"content-row"},[t("span",{staticClass:"label"},[e._v(e._s(a.settlement_type_label)+"：")]),t("span",{staticClass:"text"},[e._v(e._s(a.base_salary?a.base_salary:"--")+" 元")])]):e._e(),t("div",{staticClass:"content-row"},[t("span",{staticClass:"label"},[e._v("直播场次：")]),t("span",{staticClass:"text"},[e._v(e._s(a.live_count?a.live_count:"--")+"场  "+e._s(a.live_time?parseInt(a.live_time/60):"--")+"小时"+e._s(a.live_time?a.live_time%60:"--")+"分")]),t("tg-button",{staticClass:"view-scheduling",attrs:{type:"link"},on:{click:e.handleSchedulingView}},[t("tg-icon",{attrs:{name:"ico-icon_tongyong_paiban"}})],1)],1),t("div",{staticClass:"content-row contract"},[t("span",{staticClass:"label"},[e._v("合同附件：")]),t("div",{staticClass:"attach"},[t("ul",[e._l(a.appendix,(function(a,l){return t("li",{key:l,staticClass:"attach-item text"},[t("tg-icon",{attrs:{name:e.urlHelper.getFileInfo(a.url).icoName}}),t("div",{staticClass:"text line-clamp-1",staticStyle:{"word-break":"break-all","line-height":"22px"}},[e._v(" "+e._s(e.urlHelper.getFileInfo(a.url).fileName)+" ")]),t("tg-button",{staticClass:"view",attrs:{type:"link"},on:{click:function(t){return t.preventDefault(),function(){return e.downloadAPIFileHandler(a.url,a.file_name)}.apply(null,arguments)}}},[t("tg-icon",{attrs:{name:"ico-xiazai"}})],1)],1)})),0===a.appendix.length?t("li",{staticClass:"attach-item text"},[t("div",{staticClass:"text"},[e._v("暂无附件")])]):e._e()],2)])])])])})),0),e.info.cooperations.length<=0?t("div",{staticClass:"empty-data"},[t("empty-common",{attrs:{"detial-text":"暂无合作信息"}})],1):e._e()])},s=[],o=t(97434),i=t(57412),r=t(8581),n=t(6933),c=t.n(n),u=t(74750),p=t(64236),d=(0,o.defineComponent)({name:"CooperationInfo",props:{operation:{type:Object},info:{type:Object,default:()=>({cooperations:[]}),require:!0}},setup(e,a){const t=new i.m,l=()=>{const a=e.info?.id,[t,l]=r.Ov.getRecent7Days(),s=a?(-1*a).toString():a?.toString(),o="/live/roster-query?kol_id="+s+"&start_date="+t+"&end_date="+l;window.open(o)},s=e=>{const t="/supplier/playermanager/contract/anchorTemplate/"+e.id+"?anchorId="+a.root.$router.currentRoute.params.id+"&parent_tab="+a.root.$router.currentRoute.params.tab;window.open(t)},o=e=>{if(!e.end_date)return!1;const a=c()().startOf("day"),t=c()(e.end_date);return t.isSameOrAfter(a)},n=e=>(p.qz,`${e}?Authorization=${(0,u.LP)()}&timestamp=${(new Date).getTime()}`),d=(e,t)=>{fetch(n(e)).then((async e=>{const l=e.clone();try{const e=await l.json();a.root.$message.error(e.message)}catch{if(200===e.status){const a=await e.blob();(0,p.uA)(a,t)}else a.root.$message.error("下载失败")}}))};return{urlHelper:t,utils:i.Z,handleSchedulingView:l,gotoContractClick:s,contract_isValid:o,downloadAPIFileHandler:d}}}),m=d,v=t(1001),f=(0,v.Z)(m,l,s,!1,null,"bf16866c",null),h=f.exports},33727:function(e,a,t){t.r(a),t.d(a,{default:function(){return oe}});var l=t(97434),s=t(1763),o=t(23812),i=(t(21703),t(36568)),r=t.n(i),n=t(89935),c=t(318);const u=()=>{const e=(0,l.ref)({anchor_type:void 0,live_year:void 0,has_kol_exp:void 0,flower_name:void 0,wechat:void 0,real_name:void 0,shoes_size:void 0,gender:void 0,height:void 0,weight:void 0,cates:[],tags:[],images:[],cases:[]}),a=(0,l.ref)([]),t=(0,l.ref)([]);c.ZP.GetAnchorGoodAtCategories().then((e=>{a.value=e.data.data?e.data.data.map((e=>({label:e.name,value:e.code}))):[]})),c.ZP.GetAnchorTags().then((e=>{t.value=e.data.data?e.data.data.map((e=>({label:e.name,value:e.id}))):[]}));const s=async()=>{const a={...e.value};return c.ZP.PostAnchorBasic(a)},o=a=>{c.ZP.GetAnchorDetail(a).then((a=>{a.cates.length>3&&(a.cates.length=3),a.tags.length>5&&(a.tags.length=5);const t={...a};a.cates&&(t.cates=a.cates.map((e=>e.code))),a.tags&&(t.tags=a.tags.map((e=>e.id))),e.value=t}))};return{formData:e,saveAnchor:s,getEditInfo:o,catesData:(0,l.reactive)({catesList:a}),tagsData:(0,l.reactive)({tagsList:t})}};var p=t(48606),d=t(53451),m=t.n(d),v=t(57412),f=t(11676);const{debounce:h}=m();var b,g,_,y,k=(0,l.defineComponent)({setup(e,a){const t=(0,l.ref)(null),s=(0,l.ref)(""),o=(0,l.ref)(!1),i=(0,l.ref)({id:void 0,lid:void 0,title:"",description:"",videos:[]}),r=(0,l.ref)([]),n=()=>{a.emit("close"),a.root.$nextTick(c),o.value=!1},c=()=>{i.value.id=void 0,i.value.lid=void 0,i.value.title="",i.value.description="",i.value.videos=[]},u=(e,a)=>{s.value=e,i.value=a||{title:"",description:"",videos:[],lid:void 0},void 0===i.value.lid&&(i.value.lid=Date.now()),o.value=!0},p=()=>{t.value?.validate((e=>{if(!e)return!1;a.emit("saveCommissinRate",{...i.value}),o.value=!1}))},d=h(p,200);return{show:u,title:s,visible:o,formData:i,months:r,onCloseBtnClick:n,onSaveBtnClick:d,formRef:t}},render(){const e=arguments[0];return e("el-dialog",{class:"tg-dialog-classic",attrs:{width:"547px",visible:this.visible,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1},on:{close:this.onCloseBtnClick}},[e("fragments",{slot:"title"},[this.title]),e("div",{class:"dialog-content"},[e("el-form",r()([{},{attrs:{model:this.formData}},{ref:"formRef",attrs:{"label-position":"top",size:"small","label-width":"106px"}}]),[e("div",{class:"line-box"},[e("el-form-item",{class:"mgb-18",attrs:{label:"标题",prop:"title",rules:{required:!0,message:"请输入标题",trigger:"blur"}}},[e("el-input",{attrs:{placeholder:"标题示例：2020年双11欧莱雅淘宝专场直播",maxlength:20,"show-word-limit":!0},model:{value:this.formData.title,callback:e=>{this.$set(this.formData,"title",e)}}})])]),e("div",{class:"line-box"},[e("el-form-item",{attrs:{className:"mgb-18",label:"说明",prop:"description",rules:[{required:!0,message:"请输入业绩说明",trigger:"blur"},{min:20,message:"请最少输入20个字",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入业绩说明",type:"textarea","show-word-limit":!0,maxlength:200,rows:3},model:{value:this.formData.description,callback:e=>{this.$set(this.formData,"description",e)}}})])]),e("div",{class:"line-box"},[e("el-form-item",{attrs:{className:"mgb-18",label:"视频",prop:"videos"}},[e("span",{slot:"label"},[e("span",["视频"]),e("span",{class:"file-tips"},[" 最多上传5个视频，单个大小不超过50M！"])]),this.formData.videos.length<5&&e("tg-upload",{class:"upload-video",attrs:{action:"/api/anchor/upload_anchor_video","show-file-list":!1,beforeUpload:f.Z.ValidationFileUpload({video:!0,fileSize:50}),success:e=>{this.formData.videos.push(e.data.source)}}},[e("tg-button",{attrs:{name:"ico-upload"}},["上传视频"])]),e("div",{class:"videos"},[this.formData.videos.map(((a,t)=>e("div",{class:"video"},[e("tg-icon",{attrs:{name:"ico-Pdfbeifen"}}),e("p",{class:"video-name"},[v.Z.basename(a)]),e("tg-icon",{class:"delete-icon",attrs:{name:"ico-a-quseguanbiicon2x"},on:{click:()=>{this.formData.videos.splice(t,1)}}})])))])])])])]),e("template",{slot:"footer",style:"height: 50px"},[e("tg-button",{attrs:{size:"small"},on:{click:this.onCloseBtnClick}},["取消"]),e("tg-button",{attrs:{size:"small",type:"primary"},on:{click:this.onSaveBtnClick}},["保存"])])])}}),w=k,x=t(1001),C=(0,x.Z)(w,b,g,!1,null,"e7160b7e",null),D=C.exports,j=t(44928),$=t(64236),S=(0,l.defineComponent)({components:{caseDialog:D},setup(e,a){const t=u(),{formData:o,catesData:i,tagsData:r,saveAnchor:n}=t,d=(0,l.ref)(void 0),m=(0,j.t)(),v=m.currentRoute.params.id;void 0!==v&&t.getEditInfo(v);const f=()=>{d.value?.validate((e=>{e&&n().then((()=>{p.Message.success(void 0!==v?"修改成功":"添加成功"),void 0===v&&m.push({name:s.bv.player})})).catch((e=>{p.Message.error(e.message)}))}))},h=(0,l.ref)(null),b=()=>{p.Message.warning("最多只能上传8张照片")},g=async e=>{const[{data:a}]=await(0,$.Dc)(500,c.ZP.GetCheckAnchorWechat(e,v));if(a.data){const e=a.data;return e.is_exist||!1}return!1};return{getdata:g,dialogRef:h,formData:o,catesData:i,tagsData:r,onSubmit:f,formRef:d,exceedFun:b}},render(){const e=arguments[0],{formData:a,catesData:t,tagsData:o}=this;return e("div",{style:"height:100%; overflow-y: hidden;"},[e("div",{class:"base-info"},[-1===a.verify_status&&a.verify_message&&e("div",{class:"warning-box"},[e("i",{class:"el-icon-warning"}),e("span",[a.verify_message])]),e("el-form",r()([{ref:"formRef",attrs:{size:"small",labelPosition:"top"}},{attrs:{model:this.formData}}]),[e("div",{class:"form-container"},[e("div",{class:"base-item-title"},[e("span",{class:"star"},["*"]),e("span",{class:"title"},["基本信息"])]),e("div",{class:"flex-line-box",style:"margin-top: -8px"},[e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"主播名称",prop:"flower_name",rules:{required:!0,message:"请输入主播名称",trigger:"blur"}}},[e("el-input",{attrs:{placeholder:"请输入主播名称",maxlength:20,"show-word-limit":!0},model:{value:a.flower_name,callback:e=>{this.$set(a,"flower_name",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"微信号",prop:"wechat",rules:[{required:!0,message:"请输入微信号",trigger:"blur"},{validator:async(e,a,t)=>{const l=await(0,$.Dc)(500,this.getdata(a));l&&l.length>0&&!0===l[0]?t(new Error("主播已存在")):t()},trigger:["blur"]}]}},[e("el-input",{attrs:{placeholder:"请输入微信号",maxlength:20,"show-word-limit":!0},model:{value:a.wechat,callback:e=>{this.$set(a,"wechat",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"真名",prop:"real_name",rules:[{required:!0,message:"请输入真名"}]}},[e("el-input",{attrs:{placeholder:"请输入真名",maxlength:20,"show-word-limit":!0},model:{value:a.real_name,callback:e=>{this.$set(a,"real_name",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"性别",prop:"gender",rules:[{required:!0,message:"请选择性别"}]}},[e("el-select",{attrs:{placeholder:"请选择性别"},style:{width:"100%"},model:{value:a.gender,callback:e=>{this.$set(a,"gender",e)}}},[e("el-option",{attrs:{label:"男",value:1}}),e("el-option",{attrs:{label:"女",value:2}})])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"身高",prop:"height",rules:[{required:!0,message:"请输入身高"}]}},[e("el-input",{attrs:{className:"input-more",placeholder:"请输入身高"},style:{width:"100%"},model:{value:a.height,callback:e=>{this.$set(a,"height",e)}}},[e("fragments",{slot:"append"},["CM"])])])])]),e("div",{class:"flex-line-box"},[e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"体重",rules:[{required:!0,message:"请输入体重"}],prop:"weight"}},[e("el-input",{attrs:{className:"input-more",placeholder:"请输入体重"},model:{value:a.weight,callback:e=>{this.$set(a,"weight",e)}}},[e("fragments",{slot:"append"},["KG"])])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"鞋码",prop:"shoes_size",rules:[{required:!0,message:"请输入鞋码"}]}},[e("el-input",{attrs:{placeholder:"请输入鞋码",maxLength:2},model:{value:a.shoes_size,callback:e=>{this.$set(a,"shoes_size",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"主播类型",prop:"anchor_type",rules:[{required:!0,message:"请选择主播类型"}]}},[e("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择主播类型"},model:{value:a.anchor_type,callback:e=>{this.$set(a,"anchor_type",e)}}},[n.gZ.map(((a,t)=>e("el-option",{attrs:{label:a.label,value:a.value},key:t})))])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"直播经验",prop:"live_year",rules:[{required:!0,message:"请输入经验年限"}]}},[e("el-input",{attrs:{className:"input-more",placeholder:"请输入经验年限"},model:{value:a.live_year,callback:e=>{this.$set(a,"live_year",e)}}},[e("fragments",{slot:"append"},["年"])])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"达人经验",prop:"has_kol_exp",rules:[{required:!0,message:"请选择有无达人经验"}]}},[e("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择有无达人经验"},model:{value:a.has_kol_exp,callback:e=>{this.$set(a,"has_kol_exp",e)}}},[e("el-option",{attrs:{label:"有",value:!0}}),e("el-option",{attrs:{label:"无",value:!1}})])])])]),e("el-form-item",{attrs:{prop:"images",rules:[{required:!0,message:"请上传照片",trigger:["blur","change"]},{validator:(e,t,l)=>{a.images.length<3?l(new Error("请至少上传3张照片")):l()},trigger:["blur","change"]}]}},[e("span",{slot:"label",class:"base-item-title mgt-30"},[e("span",{class:"title"},["上传照片"]),e("span",{class:"tips"},["（3-8张，支持PNG、JPG格式，单张不超过5MB）"])]),e("div",{class:"file-list",style:"margin-top: 30px"},[a.images.map(((t,l)=>e("div",{class:"file-wrapper mgt-30"},[e("div",{class:"file",key:l},[e("tg-image",{attrs:{src:t}})]),e("tg-icon",{attrs:{name:"ico-a-quseguanbiicon2x"},on:{click:()=>{a.images.splice(l,1)}}})]))),a.images.length<8&&e("tg-upload",{attrs:{accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG",action:"/api/medium/upload_file",multiple:!0,limit:8,"show-file-list":!1,beforeUpload:f.Z.ValidationFileUpload({fileSize:5,image:!0}),success:e=>{e.success&&a.images.length<8&&a.images.push(e.data.source)},onExceed:this.exceedFun},ref:"TgUpload"},[e("div",{class:"upload-btn mgt-30"},[e("i",{class:"el-icon-plus avatar-uploader-icon"}),e("span",["上传照片"])])])])]),e("div",{class:"flex-line-box"},[e("el-form-item",{attrs:{label:"擅长类目",prop:"cates",rules:[{required:!0,message:"至少选一个擅长类目",trigger:"blur"}]}},[e("span",{slot:"label",class:"base-item-title mgt-30"},[e("span",{class:"title"},["擅长类目"]),e("span",{class:"tips"},["（最多选3项）"])]),e("el-checkbox-group",{style:"margin-top: 40px;margin-left: 7px",attrs:{max:3},model:{value:a.cates,callback:e=>{this.$set(a,"cates",e)}}},[t.catesList.map((a=>e("el-checkbox",{attrs:{label:a.value},key:a.value},[e("p",{class:"checkbox-p"},[a.label])])))])])]),e("div",{class:"flex-line-box"},[e("el-form-item",{attrs:{label:"个人标签"}},[e("span",{slot:"label",class:"base-item-title mgt-30"},[e("span",{class:"title"},["个人标签"]),e("span",{class:"tips"},["（最多选5项）"])]),e("el-checkbox-group",{style:"margin-top: 40px;margin-left: 7px",attrs:{max:5},model:{value:a.tags,callback:e=>{this.$set(a,"tags",e)}}},[o.tagsList.map((a=>e("el-checkbox",{attrs:{label:a.value},key:a.value},[e("p",{class:"checkbox-p"},[a.label])])))])])]),e("el-form-item",{attrs:{label:"优秀案例",prop:"cases",rules:[{required:a.live_year&&a.live_year>0,message:"请上传优秀案例",trigger:"blur"}]}},[e("span",{slot:"label",class:"base-item-title mgt-30"},[e("span",{class:"title"},["优秀案例"])]),a.cases.length<10&&e("tg-button",{attrs:{icon:"ico-btn-add",className:"mgb-12"},style:"margin-top: 54px",on:{click:()=>{this.dialogRef?.show("新增案例")}}},["新增案例"]),e("el-row",{attrs:{gutter:50}},[a.cases.map(((t,l)=>e("el-col",{attrs:{span:8}},[e("div",{class:"cases",key:l},[e("p",{class:"labels"},["案例",l+1,"："]),e("p",{class:"text"},[t.title]),e("span",{class:"mgr-12 operation",on:{click:()=>{void 0===t.lid&&(t.lid=Date.now()),this.dialogRef?.show("编辑案例",{...t})}}},[e("tg-icon",{attrs:{name:"ico-edit"},class:"case-edit"})]),e("span",{class:"operation",on:{click:()=>{a.cases.splice(l,1)}}},[e("tg-icon",{attrs:{name:"ico-btn-delete"},class:"case-delete"})])])])))])])])]),e("case-dialog",{ref:"dialogRef",on:{saveCommissinRate:e=>{if(void 0===e.lid)a.cases.push(e);else{const t=a.cases.findIndex((a=>a.lid===e.lid));-1!==t?(0,l.set)(a.cases,t,e):a.cases.push(e)}}}})]),e("div",{class:"options"},[e("el-button",{attrs:{size:"small"},on:{click:()=>{this.$router.push({name:s.bv.player})}}},["返回列表"]),e("el-button",{style:"margin-left: 18px",attrs:{size:"small",type:"primary"},on:{click:this.onSubmit}},["保存基本信息"])])])}}),A=S,G=(0,x.Z)(A,_,y,!1,null,"850d809e",null),P=G.exports;const q={id:"",anchor_platform:"",hourly_wage:"",salary:"",settlement_company_id:"",bank_card_front:"",bank_card_back:"",collection_bank_name:"",collection_bank_no:"",collection_phone:"",collection_bank_account:"",id_card:"",id_card_front:"",id_card_back:"",verify_message:"",verify_status:0,contracts:[]},R=()=>{const e=(0,l.ref)({...q}),a=(0,l.ref)([]),t=e=>{c.ZP.GetListSettlementCompanies(e,1).then((e=>{a.value=e}))},s=async()=>{const a={...e.value};return console.log("postData",a),c.ZP.PostAnchorOther(a)},o=t=>{c.ZP.GetAnchorDetail(t).then((t=>{const l={};Object.keys(q).forEach((e=>{let a=t[e];null!==a&&void 0!==a||(a=q[e]),l[e]=a})),null!==t.settlement_company_id&&(a.value=[{company_name:t.settlement_company_name,id:t.settlement_company_id}]),e.value=l}))};return(0,l.reactive)({company_list:a,queryCompanies:t,formData:e,saveAnchor:s,getEditInfo:o})};var Z,M,T=t(82741),F=(0,l.defineComponent)({components:{caseDialog:D},setup(e,a){const t=R(),{formData:o,saveAnchor:i}=t,r=(0,l.ref)(void 0),n=(0,j.t)(),c=n.currentRoute.params.id,u=n.currentRoute.params.verify;void 0!==c&&t.getEditInfo(c);const d=()=>{r.value?.validate((async e=>{if(e){if("success"===u){const e=await(0,T.I)(a,"该信息已审核通过，是否确认提交重新进行审核?");if(!e)return!1}i().then((()=>{a.root.$message.success("操作成功，即将返回主播列表"),setTimeout((()=>{a.root.$router.push({name:s.bv.player})}),2e3)})).catch((e=>{p.Message.error(e.message)}))}}))},m=(0,l.ref)(null);return{useFD:t,dialogRef:m,formData:o,onSubmit:d,formRef:r}},render(){const e=arguments[0],{formData:a}=this.useFD;return e("div",{style:"height:100%; overflow-y: hidden;"},[e("div",{class:"other-info"},[-1===a.verify_status&&a.verify_message&&e("div",{class:"warning-box"},[e("i",{class:"el-icon-warning"}),e("span",[a.verify_message])]),e("el-form",r()([{ref:"formRef",attrs:{size:"small",labelPosition:"top"}},{attrs:{model:a}}]),[e("div",{class:"form-container"},[e("div",{class:"block-title star",style:"margin-top: 0"},["其他信息"]),e("div",{class:"flex-line-box"},[e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"主播类型",prop:"anchor_platform",rules:[{required:!0,message:"请选择主播类型",trigger:["blur","change"]}]}},[e("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择主播类型"},model:{value:a.anchor_platform,callback:e=>{this.$set(a,"anchor_platform",e)}}},[e("el-option",{attrs:{label:"机构主播",value:1}}),e("el-option",{attrs:{label:"个人主播",value:2}})])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"结算公司",prop:"settlement_company_id",rules:[{required:!0,message:"请输入结算公司",trigger:["blur","change"]}]}},[e("el-select",{style:{width:"100%"},attrs:{placeholder:"请输入结算公司",remote:!0,filterable:!0,"remote-method":e=>{this.useFD.queryCompanies(e)}},model:{value:a.settlement_company_id,callback:e=>{this.$set(a,"settlement_company_id",e)}}},[this.useFD.company_list.map(((a,t)=>e("el-option",{key:t,attrs:{label:a.company_name,value:a.id}})))])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"期望时薪",prop:"hourly_wage",rules:[{required:!0,message:"请选择期望时薪",trigger:["blur","change"]}]}},[e("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择期望时薪"},model:{value:a.hourly_wage,callback:e=>{this.$set(a,"hourly_wage",e)}}},[e("el-option",{attrs:{label:"130及以下",value:1}}),e("el-option",{attrs:{label:"130-150",value:2}}),e("el-option",{attrs:{label:"150-180",value:3}}),e("el-option",{attrs:{label:"180-220",value:4}}),e("el-option",{attrs:{label:"220-250",value:5}}),e("el-option",{attrs:{label:"250以上",value:6}})])])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"期望综合薪资",prop:"salary",rules:[{required:!0,message:"请输入综合薪资",trigger:["blur","change"]}]}},[e("el-input",{attrs:{className:"input-more",placeholder:"请输入综合薪资"},model:{value:a.salary,callback:e=>{this.$set(a,"salary",e)}}},[e("fragments",{slot:"append"},["元/月"])])])])]),e("div",{class:"block-title star"},["收款信息"]),e("div",{class:"flex-line-box"},[e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"户名",prop:"collection_bank_account",rules:[{required:!0,message:"请输入户名",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入户名"},model:{value:a.collection_bank_account,callback:e=>{this.$set(a,"collection_bank_account",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"开户行",prop:"collection_bank_name",rules:[{required:!0,message:"请输入开户行",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入开户行"},model:{value:a.collection_bank_name,callback:e=>{this.$set(a,"collection_bank_name",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"银行卡号",prop:"collection_bank_no",rules:[{required:!0,message:"请输入银行卡号",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入银行卡号"},model:{value:a.collection_bank_no,callback:e=>{this.$set(a,"collection_bank_no",e)}}})])]),e("div",{class:"flex-line-item"},[e("el-form-item",{attrs:{label:"手机号",prop:"collection_phone",rules:[{required:!0,message:"请输入手机号",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:a.collection_phone,callback:e=>{this.$set(a,"collection_phone",e)}}})])])]),e("div",{class:"form-block-container"},[e("el-form-item",{attrs:{prop:"bank_card_front",rules:[{required:!0,message:"请上传银行卡正面",trigger:"blur"}]}},[e("div",{class:"file-list"},[e("tg-upload",{attrs:{action:"/api/medium/upload_file","show-file-list":!1,beforeUpload:f.Z.ValidationFileUpload({image:!0,fileSize:5}),success:e=>{a.bank_card_front=e.data.source}}},[a.bank_card_front?e("div",{class:"upload-preview"},[e("tg-image",{attrs:{src:a.bank_card_front}})]):e("div",{class:"upload-btn"},[e("i",{class:"el-icon-plus avatar-uploader-icon"}),e("span",{class:"star"},["上传银行卡正面"])])])])]),e("el-form-item",{attrs:{prop:"bank_card_back",rules:[{required:!0,message:"请上传银行卡背面",trigger:"blur"}]}},[e("div",{class:"file-list",style:"margin-left: 97px"},[e("tg-upload",{attrs:{action:"/api/medium/upload_file","show-file-list":!1,beforeUpload:f.Z.ValidationFileUpload({image:!0,fileSize:5}),success:e=>{a.bank_card_back=e.data.source}}},[a.bank_card_back?e("div",{class:"upload-preview"},[e("tg-image",{attrs:{src:a.bank_card_back}})]):e("div",{class:"upload-btn"},[e("i",{class:"el-icon-plus avatar-uploader-icon"}),e("span",{class:"star"},["上传银行卡背面"])])])])])]),e("div",{class:"block-title star"},["实名信息"]),e("div",{class:"flex-line-box"},[e("div",{class:"single"},[e("el-form-item",{attrs:{label:"身份证号",prop:"id_card",rules:[{required:!0,message:"请输入身份证号",trigger:"blur"}]}},[e("el-input",{attrs:{placeholder:"请输入身份证号"},model:{value:a.id_card,callback:e=>{this.$set(a,"id_card",e)}}})])])]),e("div",{class:"form-block-container"},[e("el-form-item",{attrs:{prop:"id_card_front",rules:[{required:!0,message:"请上传身份证正面",trigger:"blur"}]}},[e("div",{class:"file-list"},[e("tg-upload",{attrs:{action:"/api/medium/upload_file","show-file-list":!1,beforeUpload:f.Z.ValidationFileUpload({image:!0,fileSize:5}),success:e=>{a.id_card_front=e.data.source}}},[a.id_card_front?e("div",{class:"upload-preview"},[e("tg-image",{attrs:{src:a.id_card_front}})]):e("div",{class:"upload-btn"},[e("i",{class:"el-icon-plus avatar-uploader-icon"}),e("span",{class:"star"},["上传身份证正面"])])])])]),e("el-form-item",{attrs:{prop:"id_card_back",rules:[{required:!0,message:"上传身份证背面",trigger:"blur"}]}},[e("div",{class:"file-list",style:"margin-left: 97px"},[e("tg-upload",{attrs:{action:"/api/medium/upload_file","show-file-list":!1,beforeUpload:f.Z.ValidationFileUpload({image:!0,fileSize:5}),success:e=>{a.id_card_back=e.data.source}}},[a.id_card_back?e("div",{class:"upload-preview"},[e("tg-image",{attrs:{src:a.id_card_back}})]):e("div",{class:"upload-btn"},[e("i",{class:"el-icon-plus avatar-uploader-icon"}),e("span",{class:"star"},["上传身份证背面"])])])])])]),e("div",{class:"block-title"},["合同"]),e("div",{class:"form-container",style:"margin-top: 12px; padding: 0 10px"},[e("el-form-item",[e("div",{class:"resume"},[a.contracts.length<10&&e("tg-upload",{attrs:{action:"/api/medium/upload_file","show-file-list":!1,beforeUpload:f.Z.ValidationFileUpload({fileSize:30,image:!0,file:!0}),success:e=>{a.contracts.push(e.data.source)}}},[e("tg-button",{attrs:{icon:"ico-upload-lite"}},["上传合同"])]),e("div",{class:"tips"},["支持扩展名：.docx .doc .pdf .jpg .png；最多上传10个文件",e("br"),"（单个文件大小不超过30M）"])]),e("upload-file-list",{model:{value:a.contracts,callback:e=>{this.$set(a,"contracts",e)}}})])])])])]),e("div",{class:"options"},[e("el-button",{attrs:{size:"small"},on:{click:()=>{this.$router.push({name:s.bv.player})}}},["返回列表"]),e("div",{style:"margin-left: 18px",class:"div-primary-btn",on:{click:this.onSubmit}},["提交审核"])])])}}),V=F,z=(0,x.Z)(V,Z,M,!1,null,"586c5cbe",null),N=z.exports,I=t(61022),O=t(6933),B=t.n(O);const{debounce:E}=m(),U=()=>({business_type:2,base_salary:"",commission_rate:"",end_date:"",start_date:"",settlement_type:1,hourly_wage:"",project_id:"",appendix:[],coop_dates:[]});var X,Y,L,K,H=(0,l.defineComponent)({components:{},props:{save:{type:Function}},setup(e,a){const t=(0,l.ref)(null),s=(0,l.ref)(""),o=(0,l.ref)(!1),i=(0,l.ref)([]),r=(0,l.ref)({...U()}),n=(0,l.computed)((()=>{const e=[],a=i.value.find((e=>e.project_id===r.value.project_id));return a&&(e[0]=a.start_date,e[1]=a.end_date),e})),u=e=>{if(0===n.value.length)return!0;const a=B()(e);return!!a.isBefore(n.value[0])||!!a.isAfter(n.value[1])},d=(0,l.ref)([]),m=()=>{a.emit("close"),a.root.$nextTick(v),o.value=!1},v=()=>{r.value={pics:[],videos:[],status:1}},f=(e,a)=>{s.value=e,r.value={...U(),...a},null!==a.project_id&&(i.value=[{project_name:a.project_name,project_id:a.project_id}]),o.value=!0},h=()=>{t.value?.validate((a=>{if(!a)return!1;e.save(r.value).then((()=>{o.value=!1})).catch((e=>{p.Message.error(e.message)}))}))},b=E(h,200),g=e=>{c.ZP.GetUnCompletedProjects({business_type:r.value.business_type,project_name:e}).then((e=>{i.value=e}))};return{show:f,query:g,title:s,visible:o,formData:r,months:d,onCloseBtnClick:m,onSaveBtnClick:b,formRef:t,project_list:i,selectRange:n,hasDisabledDate:u}},render(){const e=arguments[0];return e("el-dialog",{class:"tg-dialog-classic",attrs:{width:"440px",visible:this.visible,"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,wrapperClosable:!1},on:{close:this.onCloseBtnClick}},[e("fragments",{slot:"title"},[this.title]),e("div",{class:"dialog-content"},[e("el-form",r()([{},{attrs:{model:this.formData}},{ref:"formRef",attrs:{"label-position":"top",size:"small","label-width":"106px"}}]),[e("div",{class:"line-box first"},[e("el-form-item",{class:"mgb-18",attrs:{label:"业务类型",prop:"business_type",rules:{required:!0,message:"请选择",trigger:"blur"}}},[e("el-select",{attrs:{placeholder:"请输入标题"},on:{change:()=>{this.formData.project_id=null,this.project_list=[]}},model:{value:this.formData.business_type,callback:e=>{this.$set(this.formData,"business_type",e)}}},[e("el-option",{attrs:{label:"抖音店播",value:3}}),e("el-option",{attrs:{label:"淘宝店播 ",value:2}})])]),e("el-form-item",{attrs:{className:"mgb-18",label:"请选择项目",prop:"project_id",rules:{required:!0,message:"请选择项目",trigger:"blur"}}},[e("el-select",{attrs:{filterable:!0,remote:!0,"remote-method":this.query},model:{value:this.formData.project_id,callback:e=>{this.$set(this.formData,"project_id",e)}}},[this.project_list.map(((a,t)=>e("el-option",{attrs:{label:a.project_name,value:a.project_id},key:t})))])])]),e("div",{class:"line-box"},[e("el-form-item",{attrs:{className:"mgb-18",label:"合作日期",prop:"coop_dates",rules:{required:!0,message:"请选择合作日期",trigger:"blur"}}},[e("el-date-picker",{attrs:{type:"daterange","range-separator":"~","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:this.formData.coop_dates,callback:e=>{this.$set(this.formData,"coop_dates",e)}}})])]),e("div",{class:"line-box jiesuanbox"},[e("el-form-item",{attrs:{className:"mgb-18",label:"结算方式",prop:"settlement_type",rules:{required:!0,message:"请选择结算方式",trigger:"blur"}}},[e("el-select",{model:{value:this.formData.settlement_type,callback:e=>{this.$set(this.formData,"settlement_type",e)}}},[e("el-option",{attrs:{label:"时薪",value:1}}),e("el-option",{attrs:{label:"底薪+提成",value:3}}),e("el-option",{attrs:{label:"底薪和提成选高的",value:2}})])]),1===this.formData.settlement_type&&e("el-form-item",{attrs:{className:"mgb-18",label:"时薪",prop:"hourly_wage",rules:{required:!0,message:"请输入时薪",trigger:"blur"}}},[e("el-input",{attrs:{placeholder:"请输入时薪"},model:{value:this.formData.hourly_wage,callback:e=>{this.$set(this.formData,"hourly_wage",e)}}},[e("span",{slot:"append"},["小时"])])]),1!==this.formData.settlement_type&&e("el-form-item",{attrs:{className:"mgb-18",label:"底薪",prop:"base_salary",rules:{required:!0,message:"请输入底薪",trigger:"blur"}}},[e("el-input",{attrs:{placeholder:"请输入底薪"},model:{value:this.formData.base_salary,callback:e=>{this.$set(this.formData,"base_salary",e)}}},[e("span",{slot:"append"},["月"])])]),1!==this.formData.settlement_type&&e("el-form-item",{attrs:{className:"mgb-18",label:"提成",prop:"commission_rate",rules:{required:!0,message:"请输入提成",trigger:"blur"}}},[e("el-input",{attrs:{placeholder:"请输入提成"},model:{value:this.formData.commission_rate,callback:e=>{this.$set(this.formData,"commission_rate",e)}}},[e("span",{slot:"append"},["%"])])])]),e("div",{class:"line-box jianlibox"},[e("el-form-item",{attrs:{className:"mgb-18",label:"合同附件",prop:"appendix"}},[e("div",{class:"jianli-upload"},[this.formData.appendix?.length<5&&e("tg-upload",{attrs:{action:"/api/anchor/upload_anchor_video","show-file-list":!1,beforeUpload:f.Z.ValidationFileUpload({file:!0,image:!0,fileSize:30}),success:e=>{this.formData.appendix.push(e.data.source)}}},[e("tg-button",{attrs:{name:"ico-upload"}},["上传附件"])]),e("span",{class:"file-tips"},["支持扩展名：.docx .doc .pdf .jpg .png；最多上传5个文件（单个文件大小不超过30M）"])]),e("upload-file-list",{model:{value:this.formData.appendix,callback:e=>{this.$set(this.formData,"appendix",e)}}})])])])]),e("template",{slot:"footer",style:"height: 50px"},[e("tg-button",{attrs:{size:"small"},on:{click:this.onCloseBtnClick}},["取消"]),e("tg-button",{attrs:{size:"small",type:"primary"},on:{click:this.onSaveBtnClick}},["确定"])])])}}),J=H,Q=(0,x.Z)(J,X,Y,!1,null,"45da005e",null),W=Q.exports,ee=(0,l.defineComponent)({components:{cooperationInfo:I.Z,dialogCooperation:W},setup(e,a){const t=(0,l.ref)(null),s=(0,l.ref)({cooperations:[]}),o=(0,l.ref)(),i=(0,j.t)(),r=i.currentRoute.params.id,n={isEdit:!0,add:async()=>{if(2!==t.value)return a.root.$message.warning("主播信息未通过审核，不允许新增合作"),!1;o.value?.show("新增合作",{})},edit:e=>{const a={...e,coop_dates:[e.start_date,e.end_date]};o.value?.show("编辑合作",a)},del:async e=>{const t=await(0,T.I)(a,"确定删除合作?");t&&c.ZP.GetDeleteAnchorCooperation(e).then((()=>{p.Message.success("删除成功"),u()})).catch((e=>{p.Message.error(e.message)}))}};s.value={cooperations:[],id:r};const u=()=>{c.ZP.GetListAnchorCooperations(r).then((e=>{s.value.cooperations=e})),c.ZP.GetAnchorDetail(r).then((e=>{t.value=e.verify_status}))},d=e=>c.ZP.PostAnchorCooperation(e).then((()=>{u()}));return u(),{operation:n,dialogCooperationRef:o,info:s,save:d,query:u,anchor_id:r}},render(){const e=arguments[0];return e("div",[e(I.Z,{attrs:{operation:this.operation,info:this.info}}),";",e(W,{ref:"dialogCooperationRef",attrs:{save:async e=>{const a={...e,anchor_info_id:this.anchor_id};return 1===e.settlement_type?(delete a.base_salary,delete a.commission_rate):delete a.hourly_wage,a.start_date=B()(e.coop_dates[0]).format("YYYY-MM-DD"),a.end_date=B()(e.coop_dates[1]).format("YYYY-MM-DD"),delete a.coop_dates,this.save(a)}}})])}}),ae=t(31973),te=(0,l.defineComponent)({components:{baseInfo:P,otherInfo:N,cooperationInfo:ee},setup(){const e=(0,j.t)(),a=(0,l.ref)(null),t=(0,l.ref)(null),s=void 0!==e.currentRoute.params.id,i=e.currentRoute.params.id;a.value=e.currentRoute.params.verify_status+"",t.value=e.currentRoute.params.verify;const r=(0,l.ref)(void 0),n=(0,ae.nT)(r),u=()=>(0,o.cY)([("2"!==a.value||"success"===t.value)&&(n.value||!s)&&ae.YH.supplier_anchor_detail&&{label:"基本信息",value:"baseInfo"},("2"!==a.value||"success"===t.value)&&n.value&&ae.YH.supplier_anchor_detail&&{label:"结算信息",value:"otherInfo"}].filter(Boolean)),p=(0,l.ref)(u()),d=()=>{s&&c.ZP.GetAnchorDetail(i).then((e=>{r.value=e,p.value=u()}))};return d(),{hasEdit:s,tabs:p}},render(){const e=arguments[0];return e("div",{class:"player-detail-page flex-auto"},[e("tg-breadcrumbs",{attrs:{routes:[{title:"主播管理",name:s.bv.player},{title:this.hasEdit?"修改主播":"新增主播"}]}}),this.hasEdit&&e("div",[e("tg-tabs",{class:"edit-tab-box",attrs:{tabs:this.tabs.tabs},on:{change:this.tabs.onTabChange},model:{value:this.tabs.checkedTab,callback:e=>{this.$set(this.tabs,"checkedTab",e)}}})]),!this.hasEdit&&e("div",{class:"tabs-add"},[e("div",{class:"active"},["基本信息"]),e("div",{class:"disabled"},["结算信息"]),e("div",{class:"disabled"},["合作信息 "])]),e("div",{class:"page-content-container"},[e(this.tabs.checkedTab)])])}}),le=te,se=(0,x.Z)(le,L,K,!1,null,"1207bbea",null),oe=se.exports},89935:function(e,a,t){t.d(a,{$X:function(){return k},CE:function(){return u},E1:function(){return P},E9:function(){return c},Fj:function(){return G},G7:function(){return C},H2:function(){return o},KL:function(){return x},KS:function(){return i},L8:function(){return $},OI:function(){return s},Q:function(){return f},Rd:function(){return g},Sx:function(){return j},Vd:function(){return p},XQ:function(){return v},YE:function(){return n},YK:function(){return y},aX:function(){return r},bM:function(){return S},dQ:function(){return b},gZ:function(){return q},hi:function(){return D},iN:function(){return d},qw:function(){return A},sk:function(){return m},tv:function(){return w},u_:function(){return h},w1:function(){return _}});var l=t(93889);const s=[{value:1,label:"美妆"},{value:2,label:"个护"},{value:3,label:"服饰"},{value:4,label:"美食"},{value:5,label:"母婴"},{value:6,label:"数码"},{value:7,label:"家居"},{value:8,label:"保健"},{value:9,label:"萌宠"},{value:10,label:"箱包"},{value:11,label:"配饰"}],o=[{value:0,label:"混播"},{value:1,label:"专场"}],i=[{value:0,label:"0 ~ 100"},{value:1,label:"100 ~ 200"},{value:2,label:"200以上"}],r=[{value:"每小时观看人数",color:"#7484b7"},{value:"每小时观看数",color:"#4dcdb1"},{value:"场均观看人数",color:"#f895e7"},{value:"场均观看数",color:"#ffbf40"},{value:"粉丝精准度",color:"#5273d3"},{value:"日均开播场次",color:"#d87a80"},{value:"日均开播时长",color:"#b6a2de"},{value:"人均点击数",color:"#FFB980"},{value:"每小时互动数",color:"#d075c4"},{value:"人均互动数",color:"#fd936e"}],n=[{value:"最近15天",label:15},{value:"最近1个月",label:30},{value:"最近3个月",label:90}],c=[{value:"每小时观看人数",color:"#4dcdb1"},{value:"每小时观看数",color:"#7484b7"},{value:"观看数",color:"#b4c4f5"},{value:"观看人数",color:"#f895e7"},{value:"时长",color:"#5ab1ef"}],u=[{value:"最近7场",num:7},{value:"最近15场",num:15},{value:"最近30场",num:30},{value:"最近90场",num:90}],p=["最近15天","最近1个月","最近3个月"],d=[{value:0,label:"白天"},{value:1,label:"晚上"}],m=[{value:3,label:"0 ~ 5分钟"},{value:0,label:"5 ~ 10分钟"},{value:1,label:"10 ~ 15分钟"},{value:2,label:"15 ~ 20分钟"},{value:4,label:"20分钟以上"}],v=[{value:1,label:"预售场"},{value:2,label:"预热场"},{value:0,label:"非预售场"},{value:-1,label:"未录入"}],f=[{value:1,label:"预售场"},{value:2,label:"预热场"},{value:0,label:"非预售场"}],h=[{value:1,label:"未出单"},{value:2,label:"已出单"}],b=[{value:7,label:"最近一周"},{value:15,label:"最近15天"},{value:30,label:"最近一个月"}],g=[{value:l.RJ.Sales,label:"销售合同"},{value:l.RJ.Framework,label:"框架合同"}],_=[{value:1,label:"客户合同"},{value:2,label:"供应商合同"}],y=[{value:3,label:"采买合同"},{value:4,label:"框架合同"}],k=[{value:1,label:"营销业务"},{value:3,label:"抖音店播"},{value:2,label:"淘宝店播"}],w=[{value:1,label:"营销业务"},{value:3,label:"抖音店播"},{value:2,label:"淘宝店播"},{value:4,label:"区域业务"},{value:5,label:"S2B2C"}],x=[{value:1,label:"小红书"},{value:2,label:"微信公众号"},{value:3,label:"新浪微博"},{value:4,label:"抖音"},{value:5,label:"快手"},{value:6,label:"哔哩哔哩"},{value:7,label:"淘宝直播"},{value:8,label:"一直播"},{value:9,label:"淘宝图文"},{value:10,label:"淘宝短视频"},{value:11,label:"线下场地搭建"},{value:12,label:"线下视觉设计"},{value:13,label:"活动策划执行"}],C=[{value:1,label:"长视频"},{value:2,label:"短视频"},{value:3,label:"直播"}];var D,j;(function(e){e[e["ServiceCharge"]=1]="ServiceCharge",e[e["Commission"]=2]="Commission",e[e["Other"]=3]="Other",e[e["Refund"]=5]="Refund"})(D||(D={})),function(e){e[e["writeoff_no"]=0]="writeoff_no",e[e["writeoff_partial"]=1]="writeoff_partial",e[e["writeoff_yes"]=2]="writeoff_yes"}(j||(j={}));const $=[{label:"未核销",value:j.writeoff_no},{label:"部分核销",value:j.writeoff_partial},{label:"已核销",value:j.writeoff_yes}],S=new Map([[D.ServiceCharge,"服务费"],[D.Commission,"佣金"],[D.Other,"其他"],[D.Refund,"退款"]]),A=[{label:"服务费",value:D.ServiceCharge},{label:"佣金",value:D.Commission},{label:"其他",value:D.Other},{label:"退款",value:D.Refund}],G=[{label:"V任务",value:1},{label:"支付宝",value:2},{label:"对公银行",value:3}],P=[...G,{label:"阿里妈妈",value:4},{label:"巨量百应",value:5}],q=[{label:"网络营销师",value:1},{label:"练习生",value:2}]},11676:function(e,a,t){t.d(a,{K:function(){return p}});t(26699);var l=t(48606);const s=[".pdf",".doc",".docx",".ppt",".pptx"],o=[".mp4"],i=[".png",".jpg",".jpeg"],r=[".xls",".xlsx",".csv"],n=[".doc",".docx"],c=[".pdf"],u=[".csv"],p=e=>a=>{const t=/(\.[^.]+)$/.exec(a.name);let p="";t&&(p=t[1]);const d=[];if(e.image&&d.push(...i),e.file&&d.push(...s),e.video&&d.push(...o),e.excel&&d.push(...r),e.pdf&&d.push(...c),e.doc&&d.push(...n),e.csv&&d.push(...u),e.extensions&&d.push(...e.extensions),d.length>0&&!d.includes(p))return l.Message.warning(`文件格式不正确，请使用 ${d.join(";")}`),!1;if(void 0!==e.fileSize){const t=a.size/1024/1024<e.fileSize;if(!t)return l.Message.warning(`文件不能超过${e.fileSize}MB!`),!1}return!0};a["Z"]={ValidationFileUpload:p}},31973:function(e,a,t){t.d(a,{PS:function(){return c},YH:function(){return r},nT:function(){return n},zy:function(){return l}});var l,s=t(21757),o=t(43847),i=t(97434);(function(e){e[e["None"]=0]="None",e[e["ViewMask"]=1]="ViewMask",e[e["ViewWithoutMask"]=2]="ViewWithoutMask",e[e["ViewDirectly"]=3]="ViewDirectly"})(l||(l={}));const r=(0,s.gI)(),n=e=>(0,i.computed)((()=>{const a=(0,o.oR)(),t=a.state.user?.userinfo,l=t?.id;return e?.value?.add_user_id===l||e.value?.maintainer_id===l})),c=(e,a)=>(0,i.computed)((()=>n(e).value?l.ViewDirectly:r.view_anchor_key_info&&""!==a.value&&!a.value?l.ViewMask:r.view_anchor_key_info&&(a.value||""===a.value)?l.ViewWithoutMask:l.None))},318:function(e,a,t){t.d(a,{Zn:function(){return B},Qv:function(){return O},F9:function(){return X},aw:function(){return Y},aI:function(){return M},kg:function(){return I},K:function(){return T},j5:function(){return z},wu:function(){return y},yz:function(){return N},Mj:function(){return E},id:function(){return U},UK:function(){return _},ZP:function(){return H}});t(21703);var l=t(76012),s=t(64236);const o="/api/medium/get_company_name_and_id",i="/api/model/del_model",r="/api/anchor/del_anchor",n="/api/auth/query_anchor_maintainer",c="/api/anchor/save_anchor_maintainer",u="/api/anchor/get_anchor_key_info",p="/api/anchor/get_anchor_key_info_log",d="/api/medium/add_tmp_company",m="/api/anchor/contract/associate_project",v=e=>{if(!0!==e.data.success)throw new Error(e.data.message);return e.data.data},f=async()=>(0,l.dX)("/api/anchor/good_at_categories"),h=async()=>(0,l.dX)("/api/anchor/anchor_tags"),b=async e=>(0,l.dX)(`/api/anchor/delete_anchor/${e}`),g=async e=>(0,l.SO)("/api/anchor/verify_anchor",(0,s.jG)(e)),_=async e=>(0,l.SO)(d,(0,s.jG)(e)),y=async e=>(0,l.SO)("/api/medium/add_company",(0,s.jG)(e)),k=async e=>(0,l.SO)("/api/anchor/save_anchor_basic",e).then(v),w=async e=>(0,l.SO)("/api/anchor/save_anchor_other",(0,s.jG)(e)).then(v),x=async e=>(0,l.dX)("/api/anchor/list_anchors",{params:(0,s.jG)(e)}).then(v),C=async e=>(0,l.dX)(`/api/anchor/get_anchor_detail/${e}/`).then(v),D=async e=>(0,l.dX)("/api/anchor/apply/list",{params:(0,s.jG)(e)}).then(v),j=async e=>(0,l.dX)(`/api/anchor/apply/list/${e.anchor_id}`,{params:(0,s.jG)(e)}).then(v),$=async e=>(0,l.dX)("/api/shop_live/query_uncompleted_projects",{params:(0,s.jG)(e)}).then(v),S=async e=>(0,l.dX)("/api/shop_live/query_shop_live_project",{params:(0,s.jG)(e)}).then(v),A=async e=>(0,l.SO)("/api/anchor/apply/schedule",{apply_id:e}).then(v),G=async e=>(0,l.SO)("/api/anchor/apply/cancel",{apply_id:e}).then(v),P=async e=>(0,l.SO)("/api/anchor/apply/feedback",(0,s.jG)(e)).then(v),q=async e=>(0,l.SO)("/api/anchor/save_anchor_cooperation",(0,s.jG)(e)).then(v),R=async e=>(0,l.SO)("/api/anchor/apply/pilot",(0,s.jG)(e)).then(v),Z=async e=>(0,l.SO)("/api/anchor/apply/audition",(0,s.jG)(e)).then(v),M=async e=>(0,l.dX)("/api/auth/query_user_v2",{params:(0,s.jG)(e)}).then(v),T=async(e,a)=>(0,l.dX)("/api/anchor/list_settlement_companies",{params:{company_name:e,verify_status:a}}).then(v),F=async e=>(0,l.dX)(`/api/anchor/delete_anchor_cooperation/${e}/`).then(v),V=async e=>(0,l.dX)(`/api/anchor/list_anchor_cooperations/${e}/`).then(v),z=async e=>(0,l.dX)("/api/model/model_list",{params:(0,s.jG)(e)}).then(v),N=async e=>(0,l.SO)("/api/model/save_model",(0,s.jG)(e)).then(v),I=async e=>(0,l.dX)(o,{params:{...(0,s.jG)(e)}}),O=async e=>(0,l.SO)(i,{id:e}),B=async e=>(0,l.SO)(r,{id:e}),E=async e=>(0,l.dX)(n,{params:{...(0,s.jG)({search_value:e})}}),U=async e=>(0,l.SO)(c,{...(0,s.jG)(e)}),X=async e=>(0,l.dX)(u,{params:{...(0,s.jG)(e)}}),Y=async e=>(0,l.dX)(p,{params:{...(0,s.jG)(e)}}),L=async(e,a)=>(0,l.dX)("/api/anchor/check_anchor_wechat",{params:{wechat:e,anchor_id:a}}),K=async e=>(0,l.SO)(m,{...(0,s.jG)(e)});var H={GetCheckAnchorWechat:L,GetAnchorGoodAtCategories:f,GetAnchorApplyCancel:G,PostSaveModel:N,GetAnchorApplyList:D,GetModelList:z,GetAnchorApplyDetail:j,PostAnchorOther:w,GetAnchorTags:h,PostAnchorBasic:k,GetAnchorList:x,GetAnchorDetail:C,GetAnchorDelete:b,PostAnchorVerify:g,GetListSettlementCompanies:T,GetAnchorApplySchedule:A,PostAnchorApplyFedback:P,GetListAnchorCooperations:V,GetUnCompletedProjects:$,PostAnchorCooperation:q,GetAuthQueryUser:M,PostAnchorApplyPilot:R,PostAnchorApplyAudition:Z,GetShopLiveProject:S,GetDeleteAnchorCooperation:F,PostModifyCompany:y,SaveAnchorProjectContract:K}},93889:function(e,a,t){t.d(a,{GD:function(){return u},MT:function(){return i.Kb},N5:function(){return o},RJ:function(){return l},TZ:function(){return r},Vx:function(){return n},cC:function(){return s},kD:function(){return d},kV:function(){return m},nd:function(){return c},wk:function(){return p}});var l,s,o,i=t(17890);(function(e){e[e["Sales"]=1]="Sales",e[e["Framework"]=2]="Framework",e[e["Purchase"]=3]="Purchase",e[e["SupplierFramework"]=4]="SupplierFramework",e[e["ServiceContract"]=5]="ServiceContract",e[e["SupplierContract"]=6]="SupplierContract",e[e["AnchorContract"]=7]="AnchorContract"})(l||(l={})),function(e){e[e["initial"]=0]="initial",e[e["waiting"]=1]="waiting",e[e["passed"]=2]="passed",e[e["refused"]=3]="refused"}(s||(s={})),function(e){e[e["Type1"]=1]="Type1",e[e["Type2"]=2]="Type2",e[e["Type3"]=3]="Type3"}(o||(o={}));const r=new Map([[o.Type1,"不用印章"],[o.Type2,"公章"],[o.Type3,"合同章"]]),n=[{label:"公章",value:o.Type2},{label:"合同章",value:o.Type3},{label:"不用印章",value:o.Type1}],c=new Map([[i.Kb.Pending,"待审批"],[i.Kb.Normal,"审批成功"],[i.Kb.Failure,"审批失败"],[i.Kb.Processing,"审批中"],[i.Kb.Invalid,"作废"]]);var u;(function(e){e[e["Bank"]=1]="Bank",e[e["Alipay"]=2]="Alipay",e[e["VTask"]=3]="VTask",e[e["Alimama"]=4]="Alimama",e[e["Buyin"]=5]="Buyin"})(u||(u={}));const p=new Map([[u.Bank,"对公银行"],[u.Alipay,"支付宝"],[u.VTask,"V任务"],[u.Alimama,"淘宝联盟"],[u.Buyin,"巨量百应"]]),d=[{value:u.Bank,label:"对公银行"},{value:u.Alipay,label:"支付宝"},{value:u.VTask,label:"V任务"},{value:u.Alimama,label:"淘宝联盟"},{value:u.Buyin,label:"巨量百应"}],m=new Map([[1,"单次合作"],[2,"框架合同"],[3,"长期合作"],[4,"合作协议"],[-1,"补充协议"],[-2,"从合同"],[-3,"解除协议"],[-4,"结算协议"],[11,"销售合同"],[12,"采买合同"]]);new Map([[0,"其它"],[1,"固定服务费"],[2,"固定服务费+佣金"],[3,"纯佣金"]])},17890:function(e,a,t){var l,s;t.d(a,{Kb:function(){return l},OX:function(){return n},l7:function(){return r},yR:function(){return o}}),function(e){e[e["Pending"]=1]="Pending",e[e["Normal"]=2]="Normal",e[e["Failure"]=3]="Failure",e[e["Processing"]=4]="Processing",e[e["Invalid"]=5]="Invalid"}(l||(l={})),function(e){e[e["Yes"]=0]="Yes",e[e["No"]=1]="No",e[e["Reject"]=2]="Reject"}(s||(s={}));const o=new Map([[l.Pending,"待审批"],[l.Normal,"审批成功"],[l.Failure,"审批失败"],[l.Processing,"审批中"],[l.Invalid,"已作废"]]),i=new Map([[s.Yes,"未上传"],[s.No,"已上传"],[s.Reject,"已驳回"]]),r=[l.Normal,l.Failure,l.Processing,l.Invalid].map((e=>({value:e,label:o.get(e)??""}))),n=[s.Yes,s.No,s.Reject].map((e=>({value:e,label:i.get(e)??""})))},82741:function(e,a,t){t.d(a,{I:function(){return s},u:function(){return o}});var l=t(71340);const s=(e,a)=>{const t="string"===typeof a?{title:a}:a;return new Promise((a=>{e.root.$TDialog({...t,onConfirm:()=>a(!0),onCancel:()=>a(!1)})}))},o=e=>{const a="string"===typeof e?{title:e}:e;return new Promise(((e,t)=>{(0,l.t)({...a,onConfirm:()=>e(!0),onCancel:()=>t()})}))}},23812:function(e,a,t){t.d(a,{GQ:function(){return r},YE:function(){return o},cY:function(){return n},pK:function(){return i}});var l=t(97434),s=t(44928);const o=(e,a)=>({tabs:(0,l.reactive)([...e]),checkedTab:(0,l.ref)(a??(e.length<1?"":e[0].value))}),i=(e,a)=>{const t=(0,l.isRef)(e)?e:(0,l.ref)(e),s=(0,l.isRef)(a)?(0,l.unref)(a):a,o=t.value.length<1?"":t.value[0].value,i=(0,l.ref)(s??o);return{tabs:t,checkedTab:i}},r=(e,a,t)=>{const s=(0,l.reactive)([...a]),o=(0,l.ref)(t??(a.length<1?"":`${a[0].value}`)),i=a=>{e.root.$router.push({path:e.root.$route.path,query:{tab:`${a.value}`}})};return(0,l.onBeforeMount)((()=>{const l=e.root.$route.query.tab;o.value="string"===typeof l?l:t??(a.length<1?"":`${a[0].value}`)})),{tabs:s,checkedTab:o,onTabChange:i}},n=(e,a)=>{const t=(0,l.reactive)([...e]),o=(0,l.ref)(a??(e.length<1?"":`${e[0].value}`)),i=(0,s.t)(),r=e=>{const a=i.currentRoute,t={...a.params,tab:e.value};i.push({name:a.name,params:t})};return o.value=i.currentRoute.params.tab||a||o.value,{tabs:t,checkedTab:o,onTabChange:r}}},44928:function(e,a,t){t.d(a,{t:function(){return s}});var l=t(86834);const s=()=>{const e=new Proxy({},{get(e,a){return Reflect.get(l.Z,a)}});return e}},43847:function(e,a,t){t.d(a,{Pc:function(){return i},oR:function(){return o}});var l=t(77944),s=t(97434);const o=()=>l.Z,i=()=>{const e=o(),a=(0,s.computed)((()=>e.getters["user/getUserInfo"]));return a}}}]);
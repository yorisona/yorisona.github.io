(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[4740],{32200:function(e,t,a){"use strict";a.d(t,{Z:function(){return m}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chart",staticClass:"chart"})},n=[],s=a(4096),i={props:{options:{type:Object,default:()=>({})},currentIndex:{type:Number,default:-1}},watch:{options:{handler(e){this.updateOptions(e)},deep:!0},currentIndex:{handler:function(e){-1!==e&&this.upAxisPointer()},deep:!0}},mounted(){const{resize:e,...t}=this.$listeners,a=this.$refs.chart;this.chart=s.init(a),Object.keys(t).forEach((e=>{this.chart.on(e,((...t)=>this.$emit(e,this.chart,...t)))})),this.updateOptions(this.options),window.addEventListener("resize",this.resize),this.chart.on("click",this.clickFunc)},destroyed(){window.removeEventListener("resize",this.resize),this.chart&&(this.chart.dispose(),this.chart=null)},methods:{resize(...e){this.chart.resize(),this.$emit("resize",[this.chart,...e])},updateOptions(e){null!==e&&void 0!==e&&this.chart.setOption(e,!0)},clickFunc(e){this.$emit("selectClick",e)},upAxisPointer(){let e={currentIndex:this.currentIndex},t=this.options.series[3].data.length;e.currentIndex>0&&this.chart.dispatchAction({type:"downplay",seriesIndex:3,dataIndex:e.currentIndex-1}),e.currentIndex=e.currentIndex%t,this.chart.dispatchAction({type:"highlight",seriesIndex:3,dataIndex:e.currentIndex}),this.chart.dispatchAction({type:"showTip",seriesIndex:3,dataIndex:e.currentIndex})}}},o=i,l=a(1001),c=(0,l.Z)(o,r,n,!1,null,"67d5f011",null),m=c.exports},84740:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var r,n,s=a(36568),i=a.n(s),o=a(97434),l=a(21495),c=a(59563),m=a(70437),u=a(1763),p=a(23624),d=a(44928),_=a(32200),g=a(3293),f=a(64185),y=a(21757),v=(0,o.defineComponent)({components:{BaseEcharts:_.Z},setup:()=>{const e=(0,d.t)(),t=(0,y.gI)(),a=[{align:"center",label:"花名",minWidth:100,formatter:e=>`${e.username}(${e.real_name})`},{align:"center",label:"工号",prop:"work_id"},{align:"center",label:"部门",prop:"department_name"},{align:"center",label:"岗位",prop:"job_title"},{align:"center",label:"考核名称",minWidth:140,prop:"assessment_management_name"},{align:"center",label:"考评组",minWidth:120,formatter:e=>e.evaluation_group.name},{align:"center",label:"考核结果",prop:"result"},{align:"center",label:"绩效等级",prop:"level"},{align:"center",label:"排名",prop:"rank"},{label:"操作",minWidth:60,formatter:t=>h("div",[h("tg-button",{attrs:{type:"link"},on:{click:()=>{const{href:a}=e.resolve({name:u.Gr.report.result_analysis_detail,params:{userid:t.id,id:t.assessment_management_id}});window.open(a)}}},["查看"])])}],r=(0,o.ref)([]),n=(0,c.h)(p.yI,{manual:!0,onSuccess(e,t){r.value=t.data.level_total_analysis,l.value.xAxis.data=r.value.map((e=>e.level)),l.value.series=[{type:"bar",data:r.value.map((e=>e.proportion)),barMaxWidth:60,itemStyle:{borderRadius:4,color:"#2877FF"}}]}}),s=(0,o.ref)([]),i=(0,o.ref)({assessment_management_id:void 0});(0,p.oY)().then((e=>{e.data.success&&(s.value=e.data.data.map((e=>({value:e.assessment_management_id,label:e.name}))),s.value.length>0&&(i.value.assessment_management_id=s.value[0].value,n.run(n.params[0],i.value)))}));const l=(0,o.ref)({tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}},textStyle:{color:"#343F4C",fontSize:14,fontWeight:"bold"},extraCssText:"box-shadow: 1px 2px 8px 0px  rgba(0, 0, 0, 0.26);",formatter:"{b0}: {c0}%"},legend:{show:!0,right:80,top:12,type:"scroll",width:700,itemGap:20,itemWidth:20},grid:{left:30,right:10,bottom:30,top:30,containLabel:!1},xAxis:{type:"category",data:[],axisPointer:{type:"shadow",label:{show:!1},shadowStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,156,255,0.02)"},{offset:1,color:"rgba(0,156,255,0.15)"}],global:!1}}},axisTick:{show:!1},axisLine:{lineStyle:{color:"#F2F2F2"}},axisLabel:{color:"#6A7B92"}},yAxis:[{type:"value",axisPointer:{type:"line",label:{show:!0},lineStyle:{type:[6,5],color:"#A4B2C2",cap:"round"}},position:"left",splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},alignTicks:!0,axisLine:{show:!1},nameTextStyle:{padding:[0,42,15,0]},axisLabel:{}},{type:"value",position:"right",alignTicks:!0,splitLine:{lineStyle:{type:[6,5],color:"#F2F2F2",cap:"round",dashOffset:6}},axisPointer:{show:!1},axisLine:{show:!1},axisLabel:{formatter:"{value}%"}}],series:[]}),m=(0,c.h)(p.Ev,{defaultParams:[{num:20,page_num:1},{search_type:3}],transform(e){return e.data.map((e=>({label:e.name,value:e.id})))}}),_=(0,c.Q)(g.o1,{transform(e){return e.data}}),f=(0,o.ref)(),v=(e,t)=>(t.push(e.id),e.sons?.forEach((e=>v(e,t))),t.join(",")),b=()=>{i.value={assessment_management_id:i.value.assessment_management_id},n.pagination.reQuery(i.value)};return{columns:a,assessment_management_options:s,reqList:n,formData:i,level_total_analysis:r,baseOptions:l,groupOptions:m,reqFeishuDep:_,treeRef:f,eachDemp:v,permission:t,reset:b}},render(){const e=arguments[0],{formData:t,permission:a}=this;return e(l.L,{attrs:{columns:this.columns,service:this.reqList},model:{value:t,callback:e=>{t=e}}},[e("el-form-item",{attrs:{label:"绩效表："}},[e(m.Z,{attrs:{clearable:!1,options:this.assessment_management_options},model:{value:t.assessment_management_id,callback:e=>{this.$set(t,"assessment_management_id",e)}}})]),e("el-form-item",{attrs:{label:"员工部门："}},[e("el-popover",{attrs:{placement:"bottom-start",trigger:"click","popper-class":"marketing-department-tree-popper-class"}},[e("div",{slot:"reference",class:"repain-select",style:"display: block"},[e("el-input",{attrs:{value:this.formData.department_id_input,placeholder:"请选择所属部门",readonly:!0},style:"color: #999"},[e("i",{class:"select-icon select-icon-user-add el-icon-arrow-down",slot:"suffix"})])]),e("div",{class:"department-tree"},[e("el-tree",i()([{ref:"treeRef"},{props:{props:{label:"name",children:"sons"}}},{attrs:{"check-strictly":"true","node-key":"id",data:this.reqFeishuDep.data,"show-checkbox":!0},on:{check:e=>{this.treeRef?.setCheckedKeys([]),e.name!==t.department_id_input?(this.treeRef?.setCheckedKeys([e.id]),(0,o.set)(t,"department_id_input",e.name),(0,o.set)(t,"feishu_department_id_list",this.eachDemp(e,[]))):((0,o.set)(t,"department_id_input",""),(0,o.set)(t,"feishu_department_id_list",""))}}}]))])])]),e("el-form-item",{attrs:{label:"考评组："}},[e(m.Z,{attrs:{placeholder:"请选择考评组",options:this.groupOptions.data,filterable:!0,remote:!0,"remote-method":e=>this.groupOptions.pagination.reQuery({name:e,search_type:3})},model:{value:t.evaluation_group_id,callback:e=>{this.$set(t,"evaluation_group_id",e)}}})]),e("el-form-item",{attrs:{label:"员工花名："}},[e("el-input",{attrs:{placeholder:"请填写花名"},model:{value:t.username,callback:e=>{this.$set(t,"username",e)}}})]),e("el-form-item",{attrs:{label:"员工工号："}},[e("el-input",{attrs:{placeholder:"请填写工号"},model:{value:t.work_id,callback:e=>{this.$set(t,"work_id",e)}}})]),e("div",{slot:"middle",class:"charts-box"},[e("div",{class:"chart "+(0===this.level_total_analysis.length?"chartEmpty":"")},[0===this.level_total_analysis.length&&e("empty-common"),this.level_total_analysis.length>0&&e("base-echarts",{attrs:{options:this.baseOptions}})]),e("tg-table",{attrs:{data:this.level_total_analysis,border:!0}},[e("el-table-column",{attrs:{label:"绩效等级",prop:"level",align:"center"}}),e("el-table-column",{attrs:{align:"center",label:"占比"},scopedSlots:{default:({row:e})=>`${e.proportion}%`}}),e("el-table-column",{attrs:{align:"center",label:"人数",prop:"count"}}),e("div",{class:"tg-page-empty",slot:"empty"},[e("empty-common")])])]),e("div",{slot:"searchBtn"},[e("tg-button",{attrs:{type:"primary"},on:{click:()=>{this.reqList.pagination.reQuery(t)}}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:this.reset}},["重置"]),a.performance_report_analysis_view_export&&e("tg-button",{class:"mgl-12",on:{click:()=>{(0,f.KY)(t,"/api/performance_management/export_performance_analysis")}}},["导出"])])])}}),b=v,x=a(1001),w=(0,x.Z)(b,r,n,!1,null,"63e69110",null),k=w.exports},59063:function(e,t,a){"use strict";var r;a.d(t,{b_:function(){return r},md:function(){return n}}),function(e){e[e["QuickFashion"]=2]="QuickFashion",e[e["LightLuxury"]=1]="LightLuxury",e[e["Sports"]=3]="Sports",e[e["Other"]=4]="Other"}(r||(r={}));const n=[{label:"轻奢",value:r.LightLuxury},{label:"快时尚",value:r.QuickFashion},{label:"运动",value:r.Sports},{label:"其他",value:r.Other}];var s;(function(e){e[e["Normal"]=0]="Normal",e[e["Leading"]=1]="Leading",e[e["Lagging"]=2]="Lagging"})(s||(s={}));s.Normal,s.Leading,s.Lagging;var i;(function(e){e[e["Spring"]=1]="Spring",e[e["Summer"]=2]="Summer",e[e["Autumn"]=3]="Autumn",e[e["Winter"]=4]="Winter"})(i||(i={}));i.Spring,i.Summer,i.Autumn,i.Winter},59563:function(e,t,a){"use strict";a.d(t,{Q:function(){return s},h:function(){return i}});a(21703);var r=a(97434),n=a(48606);const s=(e,{manual:t,onError:a,onSuccess:s,defaultParams:i,transform:o}={})=>{const l=(0,r.ref)(),c=(0,r.ref)(),m=(0,r.ref)(!1),u=(0,r.ref)([]),p=()=>{d(...u.value)},d=(...t)=>Promise.resolve(t||i).then((()=>{m.value=!0})).then((()=>0===t.length&&i&&i.length>0?i:t)).then((e=>(u.value=e,e))).then((t=>e(...t))).then((e=>{if(!e.data.success)throw new Error(e.data.message);return l.value=o?o(e.data.data):e.data.data,s&&s(l.value,e.data),e})).then((()=>{m.value=!1})).catch((e=>{throw m.value=!1,c.value=e.message,a&&a(e),n.Message.error(e.message),e})),h=d;return t||d(...i||[]),(0,r.reactive)({data:l,error:c,loading:m,reload:p,run:d,runAsync:h,params:u})},i=(e,t={})=>{const{defaultPageSize:a=20,defaultParams:n=[],transform:i,...o}=t,l=(0,r.ref)(),c=(0,r.reactive)({total:0,page_num:1,page_size:a,onCurrentChange:e=>{const t=[...p.params];t[0]?t[0].page_num=e:t[0]={num:a,page_num:e},p.runAsync(...t).then((()=>{c.page_num=e}))},refresh:()=>c.onCurrentChange(1),reQuery(...e){const t=[];return p.params[0]?(t[0]=p.params[0],t[0].page_num=1,c.page_num=1):(t[0]={num:a,page_num:1},c.page_num=1),t.push(...e),p.runAsync(...t)}}),[m={num:a,page_num:1},...u]=n,p=s(e,{defaultParams:[m,...u],...o,onSuccess(e,a){l.value=i?i(e):e.data,c.total=e.total,t.onSuccess&&t.onSuccess(l.value,a)}}),{data:d,...h}=(0,r.toRefs)(p);return(0,r.reactive)({...h,data:l,pagination:c})}},64185:function(e,t,a){"use strict";a.d(t,{CO:function(){return y},KY:function(){return _},YV:function(){return g},_O:function(){return f},b5:function(){return x},mU:function(){return b},yF:function(){return v}});var r=a(97434),n=a(99575),s=a(45781),i=a(24643),o=a(42963),l=a(74750),c=a(6933),m=a.n(c),u=a(59760),p=a(59063),d=a(61282);const{formatPriceFormYuan:h}=s.Z;function _(e,t){const a=o.stringify(e),r=(0,l.LP)();window.open(`https://data.goumee.com${t}?${a}&Authorization=${r}`)}const g=e=>{const t=[{label:"竞品店铺风格",prop:"style",width:160,formatter:e=>{switch(e.style){case p.b_.QuickFashion:return"快时尚";case p.b_.LightLuxury:return"轻奢";case p.b_.Sports:return"运动";case p.b_.Other:return"其他";default:return"未知分类"}}},{label:"类目",prop:"item_cat",minWidth:220,formatter:e=>{if(!e.item_cat||e.item_cat.length<16)return e.item_cat||"--";const{folded_text:t}=(0,d.zb)(e.item_cat,15);return(0,r.h)("el-popover",{props:{placement:"top",trigger:"hover",effect:"light",content:e.item_cat},scopedSlots:{reference:()=>(0,r.h)("span",{},t)}})}},{label:"销售额 (元)",prop:"gmv",align:"right",minWidth:160,headerAlign:"right",sortable:!!e&&"custom",dataType:"",formatter:e=>e.gmv_str},{label:"销量",prop:"sale_count",align:"right",minWidth:120,headerAlign:"right",sortable:!!e&&"custom",formatter:e=>e.sale_count_str},{label:"浏览量",prop:"watch_count_str",align:"right",minWidth:120,headerAlign:"right",sortable:!!e&&"custom"},{label:"转化率",prop:"pay_rate_str",align:"right",minWidth:120,headerAlign:"right",sortable:!!e&&"custom",dataType:{suffix:"%"}}];return t},f=(e,t)=>{const a=[{label:"商品信息",minWidth:280,formatter:e=>(0,r.h)("div",{class:"competitor-goods-info"},[(0,r.h)("el-image",{attrs:{src:e.item_image,fit:"contain"},style:{cursor:"pointer"},on:{click:function(){window.open("https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id)}},class:"goods-image"},[(0,r.h)("img",{slot:"error",attrs:{style:"width: 100%;height: 100%;",src:u}})]),(0,r.h)("div",{class:"goods-info"},[(0,r.h)("p",void 0,e.item_id),(0,r.h)("el-tooltip",{attrs:{effect:"light",content:e.item_title,placement:"top-start"}},[(0,r.h)("div",{attrs:{title:e.item_title},class:"goods-name two-omit-item"},[(0,r.h)("a",{attrs:{target:"_blank",href:"https://haohuo.jinritemai.com/views/product/item2?id="+e.item_id}},e.item_title)])])])])},{label:"所属类目",prop:"item_cat",minWidth:134,align:"center",headerAlign:"center"},{label:"销量",minWidth:134,align:"right",headerAlign:"right",sortable:!!e&&"custom",prop:"sale_count",formatter(e){return null!==e.sale_count?(0,i.Y4)(Number(e.sale_count),0,".",","):"--"}},{label:"销售额 (元)",minWidth:134,align:"right",headerAlign:"right",sortable:!!e&&"custom",prop:"gmv",formatter(e){return null!==e.gmv?h(e.gmv,2,!1):"--"}},{label:"浏览量",minWidth:134,align:"right",headerAlign:"right",prop:"watch_count",sortable:!!e&&"custom",formatter(e){return null!==e.watch_count?(0,i.Y4)(Number(e.watch_count),0,".",","):"--"}},{label:"转化率",align:"center",minWidth:98,headerAlign:"center",sortable:!!e&&"custom",prop:"pay_rate",formatter(e){return null!==e.pay_rate?e.pay_rate+"%":"--"}},{label:"吊牌价 (元)",align:"right",minWidth:110,headerAlign:"right",sortable:!!e&&"custom",prop:"market_price",formatter(e){return null!==e.market_price?h(e.market_price,2,!1):"--"}},{label:"销售价 (元)",align:"right",minWidth:110,headerAlign:"right",sortable:!!e&&"custom",prop:"discount_price",formatter(e){return null!==e.discount_price?h(e.discount_price,2,!1):"--"}},{label:"销售趋势",minWidth:134,align:"center",headerAlign:"center",formatter(e){return(0,r.h)("a",{class:"trend",on:{click:()=>t(e)}},"查看")}}];return a},y=[{label:"商品信息",minWidth:270,formatter:e=>(0,r.h)("div",{class:"competitor-goods-info"},[(0,r.h)("el-image",{attrs:{src:e.item_image,fit:"contain"},class:"goods-image"}),(0,r.h)("div",{class:"goods-info"},[(0,r.h)("p",void 0,e.item_id),(0,r.h)("el-tooltip",{attrs:{effect:"light",content:e.item_title,placement:"top-start"}},[(0,r.h)("div",{attrs:{title:e.item_title},class:"goods-name two-omit-item"},e.item_title)])])])},{label:"所属类目",prop:"item_cat",minWidth:134,align:"center",headerAlign:"center"},{label:"日期",minWidth:134,prop:"date",align:"center",headerAlign:"center"},{label:"销量",minWidth:134,align:"right",headerAlign:"right",prop:"sale_count",sortable:"custom",formatter(e){return null!==e.sale_count?(0,i.Y4)(Number(e.sale_count),0,".",","):"--"}},{label:"销售额 (元)",minWidth:134,align:"right",headerAlign:"right",prop:"gmv",sortable:"custom",formatter(e){return null!==e.gmv?h(e.gmv,2,!1):"--"}},{label:"浏览量",minWidth:134,align:"right",headerAlign:"right",prop:"watch_count",sortable:"custom",formatter(e){return null!==e.watch_count?(0,i.Y4)(Number(e.watch_count),0,".",","):"--"}},{label:"转化率",align:"center",minWidth:88,headerAlign:"center",sortable:"custom",prop:"pay_rate",formatter(e){return null!==e.pay_rate?e.pay_rate+"%":"--"}},{label:"吊牌价 (元)",align:"right",minWidth:110,headerAlign:"right",sortable:"custom",prop:"market_price",formatter(e){return null!==e.market_price?h(e.market_price,2,!1):"--"}},{label:"销售价 (元)",align:"right",minWidth:110,headerAlign:"right",sortable:"custom",prop:"discount_price",formatter(e){return null!==e.discount_price?h(e.discount_price,2,!1):"--"}}],v=e=>{const t=(0,r.reactive)({loading:!1,cummaryParams:{shop_name:void 0,start_date:void 0,end_date:void 0,item_cat:void 0,page_num:1,num:10,sort:void 0},summaryTotal:0,summaryData:[]}),a=async(a,r)=>{const s={...a};s.shop_name="全部"===s.shop_name?void 0:s.shop_name,t.loading=!0;const i=1===r?n.Av:n.Qd;try{const{data:{data:e}}=await i(s);t.summaryData=e.list,t.summaryTotal=e.total}catch(o){console.error(o),e.root.$message.error("查询失败")}finally{t.loading=!1}};return{...(0,r.toRefs)(t),getData:a}},b=()=>{const e=(0,r.ref)(!1),t=(0,r.ref)(!1),a=(0,r.ref)({data:[],series:[]}),s=(0,r.ref)(""),i=()=>{t.value=!1},o=r=>{s.value="抖音销量/浏览量趋势",a.value={data:[],series:[]},t.value=!0,e.value=!0,(0,n.hU)(r).then((t=>{const r=t.data.data,n=r.map((e=>e.date));a.value={data:n,series:[{smooth:!0,showSymbol:!0,type:"line",name:"销量",data:r.map((e=>e.sale_count))},{smooth:!0,showSymbol:!0,type:"line",name:"浏览量",yAxisIndex:1,data:r.map((e=>e.watch_count))}]},e.value=!1}))};return(0,r.reactive)({loading:e,visible:t,charts:a,queryCategory:o,onClose:i,title:s})},x=e=>{const t=m()().add(-30,"days").format("YYYY-MM-DD"),a=m()().format("YYYY-MM-DD"),s=(0,r.reactive)({loading:!1,categoryParams:{shop_name:void 0,start_date:t,end_date:a,style:void 0},categoryData:[],shopList:[],total_gmv:0,total_sale_count:0}),o=async t=>{const a={...t};s.loading=!0;try{const{data:{data:e}}=await(0,n.Hk)(a);e.list.forEach((e=>{e.pay_rate_str=e.pay_rate,e.gmv_str=h(e.gmv,2,!1),e.sale_count_str=null!==e.sale_count?(0,i.Y4)(Number(e.sale_count),0,".",","):null,e.watch_count_str=null!==e.watch_count?(0,i.Y4)(Number(e.watch_count),0,".",","):null})),s.total_gmv=e.total_gmv,s.total_sale_count=e.total_sale_count,s.categoryData=e.list}catch(r){e.root.$message.error("查询失败")}finally{s.loading=!1}},l=async()=>{try{const{data:{data:e}}=await(0,n.hx)();s.shopList=[...e]}catch(t){e.root.$message.error("查询失败")}};return{...(0,r.toRefs)(s),getData:o,getShopData:l}}},23624:function(e,t,a){"use strict";a.d(t,{$K:function(){return F},$R:function(){return A},$b:function(){return N},Cl:function(){return j},Dr:function(){return i},EB:function(){return v},Ev:function(){return _},JP:function(){return L},L5:function(){return P},Mz:function(){return X},O5:function(){return k},UX:function(){return h},Y4:function(){return o},ZM:function(){return y},Z_:function(){return O},ao:function(){return z},bV:function(){return E},bl:function(){return l},dP:function(){return G},g:function(){return x},gb:function(){return W},iC:function(){return w},iL:function(){return d},kT:function(){return f},lI:function(){return g},mS:function(){return c},n5:function(){return b},nQ:function(){return s},oY:function(){return I},o_:function(){return D},q0:function(){return Y},s9:function(){return $},vL:function(){return u},vv:function(){return m},wF:function(){return S},wH:function(){return q},y3:function(){return T},yI:function(){return C},zr:function(){return p}});var r=a(76012),n=a(64236);const s=async(e,t)=>(0,r.dX)("/api/performance_management/query_indicators_library",{params:{...e,...(0,n.jG)(t)}}),i=async e=>(0,r.SO)("/api/performance_management/save_or_modify_indicator",(0,n.jG)(e)),o=async e=>(0,r.HG)("/api/performance_management/delete_indicators",{data:{id_list:e}}),l=async e=>(0,r.dX)("/api/performance_management/query_indicator_tag",{params:{...(0,n.jG)(e)}}),c=async e=>(0,r.SO)("/api/performance_management/modify_move_indicator_tag",{indicator_tag_list:e}),m=async e=>(0,r.SO)("/api/performance_management/save_or_modify_indicator_tag",e),u=async e=>(0,r.HG)(`/api/performance_management/delete_indicators_tag/${e}`),p=async()=>(0,r.dX)("/api/feishu/feishu_department_and_user_list"),d=async e=>(0,r.SO)("/api/performance_management/save_or_modify_evaluation_group",e),h=async(e,t)=>(0,r.dX)("/api/performance_management/query_evaluation_group",{params:(0,n.jG)({...e,...t})}),_=async(e,t)=>(0,r.dX)("/api/performance_management/query_evaluation_group_name",{params:(0,n.jG)({...e,...t})}),g=async e=>(0,r.HG)(`/api/performance_management/delete_evaluation_group/${e}`),f=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment",{params:(0,n.jG)({...e,...t})}),y=async e=>(0,r.SO)("/api/performance_management/save_assessment",e),v=async e=>(0,r.SO)("/api/performance_management/save_assessment_level_config",e),b=async()=>(0,r.dX)("/api/performance_management/query_assessment_level_config"),x=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment_detail",{params:(0,n.jG)({...e,...t})}),w=async e=>(0,r.dX)("/api/performance_management/get_assessment_detail_by_my_performance",{params:(0,n.jG)(e)}),k=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment_detail_by_analysis",{params:(0,n.jG)({...e,...t})}),A=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment_detail_by_performance_record",{params:(0,n.jG)({...e,...t})}),S=async e=>(0,r.SO)("/api/performance_management/modify_start_score",e),L=async e=>(0,r.SO)("/api/performance_management/modify_assessment_result",e),F=async(e,t)=>(0,r.dX)("/api/performance_management/query_my_performance",{params:(0,n.jG)({...e,...t})}),$=async e=>(0,r.dX)("/api/performance_management/query_assessment_by_id",{params:{assessment_management_id:e}}),q=async e=>{const{assessment_dimension_list:t}=e;return t&&t.length>0&&t.forEach((e=>{e.indicator_list&&e.indicator_list?.forEach((e=>{["self_assessment_score","weight","superior_assessment_score"].forEach((t=>{(0,n.xb)(e[t])&&(e[t]=null)}))}))})),console.log("payload",e),(0,r.SO)("/api/performance_management/modify_performance_process",(0,n.jG)(e))},W=async(e,t)=>(0,r.dX)("/api/performance_management/query_user_performance_record",{params:(0,n.jG)({...t,...e})}),O=async(e,t)=>(0,r.dX)("/api/performance_management/query_user_performance_detail_record",{params:(0,n.jG)({...e,...t})}),C=async(e,t)=>(0,r.dX)("/api/performance_management/query_performance_analysis",{params:(0,n.jG)({...e,...t})}),I=async()=>(0,r.dX)("/api/performance_management/query_finish_assessment"),j=async(e,t)=>(0,r.dX)("/api/performance_management/query_with_me_performance",{params:(0,n.jG)({...e,...t})}),X=async(e,t)=>(0,r.dX)("/api/performance_management/query_subordinate_performance",{params:(0,n.jG)({...e,...t})}),Y=async e=>(0,r.SO)("/api/performance_management/check_evaluation_group_user_ids",e),G=async e=>(0,r.SO)("/api/performance_management/modify_reset_process",(0,n.jG)(e)),D=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user",{params:e}),P=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_analysis",{params:e}),T=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_performance_record",{params:e}),E=async(e,t)=>(0,r.dX)("/api/performance_management/query_assessment_name",{params:(0,n.jG)({...e,...t})}),z=async e=>(0,r.dX)("/api/auth/getuser_leader_by_subordinate_id",{params:{user_id:e}}),N=async e=>(0,r.dX)("/api/performance_management/query_assessment_and_user_by_my_performance",{params:(0,n.jG)(e)})},44928:function(e,t,a){"use strict";a.d(t,{t:function(){return n}});var r=a(86834);const n=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(r.Z,t)}});return e}},45781:function(e,t,a){"use strict";var r=a(49187),n=a(8581),s=a(61282);const i=new r.ZP;t["Z"]={formatEmpty(e,t){return null===e||void 0===e||""===e||e instanceof Array&&e.length<=0?"--":void 0!==t?`${e}${t}`:e},formatTime(e){try{return null===e||void 0===e||""===e?"--":e.replace(/-/g,".")}catch(t){return e}},formatTimespan(e){try{if(null===e||void 0===e||""===e)return"--";const t=new Date;return t.setTime(1e3*e),(0,n.WU)(t,"YYYY.mm.dd")}catch(t){return e}},formatPrice(e,t=r.WL.Fen,a=!0){try{if(null===e||void 0===e||""===e)return"--";const r=i.format(i.parse(e,t));return a?`￥${r}`:r}catch(n){return e}},formatPriceFormYuan(e,t=2,a=!0){try{if(null===e||void 0===e||""===e)return"--";let r=e;return r=e>1e8?(e/1e8).toFixed(t)+"亿":e>1e4?(e/1e4).toFixed(t)+"w":(e-0).toFixed(t),a&&(r=`￥${r}`),r}catch(r){return e}},formatPriceToThousand(e,t=2,a=!0,r=!1){try{if(null===e||void 0===e||""===e)return"--";let n=e;return e>1e4?n=(e/1e4).toFixed(t)+"w":(n=(e-0).toFixed(t),r&&(n=(e-0).toFixed(0))),a&&(n=`￥${n}`),n}catch(n){return e}},formatPriceToThousandformatAmount(e,t=2,a=!0,r=!1){try{if(null===e||void 0===e||""===e)return"--";let n=e;return e>1e4?n=(0,s.dN)((e/1e4).toFixed(2),"None")+"w":(n=(0,s.dN)((e-0).toFixed(t),"None",0===t),r&&(n=(e-0).toFixed(0))),a&&(n=`￥${n}`),n}catch(n){return e}},tranNumber(e,t=2){if(null===e||void 0===e||""===e)return"--";if(!(e>=0))return e||"-";e+="";const a=e.toString(),r=a.split(".")[0],n=r.length;if(n<5)return a;if(n>8){const e=r.substring(r.length-8,r.length-8+t);return parseFloat(parseInt(r/1e8+"",10)+"."+e)+"亿"}if(n>4){const e=r.substring(r.length-4,r.length-4+t);return parseFloat(parseInt(r/1e4+"",10)+"."+e)+"w"}}}},70437:function(e,t,a){"use strict";var r=a(36568),n=a.n(r);const s={functional:!0,render:(e,t)=>{const{props:a}=t,{showAll:r=!1,showAllText:s="全部",clearable:i=!0}=a,o={props:{...t.value,clearable:i},on:t.listeners,attrs:t.data.attrs};return e("el-select",n()([{},o]),[r&&e("el-option",{attrs:{label:s,value:void 0}}),a.options?.map(((t,a)=>e("el-option",{attrs:{disabled:t.disabled,label:t.label,value:t.value},key:a})))])}};t["Z"]=s},21495:function(e,t,a){"use strict";a.d(t,{L:function(){return s}});var r=a(97434),n={template:"template-fe9519",searchBar:"searchBar-c522bd",formItemContainer:"formItemContainer-d53e08",formItem:"formItem-c6ff4c",bodyContainer:"bodyContainer-b06936",btnLine:"btnLine-d428fc",tableContainer:"tableContainer-dd87f4"},s=(0,r.defineComponent)({props:{columns:{type:Array,default:()=>[]},value:{type:Object},routes:{},service:{required:!0,type:Function},config:{type:Object,default:()=>{}}},setup(e,t){const a=(0,r.ref)(),{reset:n}=e.config||{},s=e.service,i=()=>{const t=s.params;return t[0]&&(t[0].page_num=1),s.runAsync(t[0],e.value)},o=()=>{n&&n(),(0,r.nextTick)(i)};return{formRef:a,onReset:o,reqData:s,search:i}},render(){const e=arguments[0];return e("div",{class:["tg-page-container",n.template]},[this.routes&&e("tg-breadcrumbs",{attrs:{routes:this.routes}}),this.$slots.default&&e("div",{class:["tg-card",n.searchBar]},[e("el-form",{attrs:{size:"small","show-message":!1,"hide-required-asterisk":!0,"label-width":"70px"},ref:"formRef"},[e("div",{class:n.formItemContainer},[this.$slots.default?.map((t=>e("div",{class:n.formItem},[t]))),this.$slots.searchBtn?this.$slots.searchBtn:e("div",[e("tg-button",{attrs:{type:"primary"},on:{click:this.search}},["查询"]),e("tg-button",{class:"mgl-12",on:{click:this.onReset}},["重置"])])])])]),this.$slots.middle,e("div",{class:n.bodyContainer},[this.$slots.btnLine&&e("div",{class:n.btnLine},[this.$slots.btnLine]),e("div",{class:n.tableContainer},[e("tg-table",{attrs:{stripe:!0,columns:this.columns,height:"100%",data:this.reqData.data,pagination:this.reqData.pagination},directives:[{name:"loading",value:this.reqData.loading}],on:{"selection-change":this.config?.table?.selectionChange}},[e("div",{class:"tg-page-empty",slot:"empty"},[e("empty-common")])])])])])}})},4096:function(e,t,a){e.exports=a(70680)(12996)}}]);
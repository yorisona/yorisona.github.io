(self["webpackChunkgoumee_star_temp"]=self["webpackChunkgoumee_star_temp"]||[]).push([[5987],{85987:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tg-hot-sale-detail-page"},[n("TgBreadcrumbs",{attrs:{routes:e.routes}}),n("tg-card",e._b({staticClass:"flex-auto",attrs:{padding:[0,18,0,18]},on:{"rect:update":e.onRectUpdate}},"tg-card",e.cardProps,!1),[n("div",{staticClass:"top-handle-box"},[n("div",{staticClass:"date-switch"},[n("div",{staticClass:"btn-circle",on:{click:e.onPrevDay}},[n("tg-icon",{attrs:{name:"ico-arrow-left"}})],1),n("span",{staticClass:"live-date"},[e._v(e._s(e.currentDay))]),n("div",{staticClass:"btn-circle",on:{click:e.onNextDay}},[n("tg-icon",{attrs:{name:"ico-arrow-right"}})],1)]),n("tg-button",{attrs:{type:"primary"},on:{click:e.showMonitorDialog}},[e._v("监控设置")])],1),n("el-table",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{stripe:"",data:e.list},scopedSlots:e._u([{key:"empty",fn:function(){return[n("empty-common",{attrs:{"detial-text":"暂无数据"}})]},proxy:!0}])},"el-table",e.tableProps,!1),e._l(e.columns,(function(t,r){return n("el-table-column",e._b({key:r},"el-table-column",t,!1))})),1),e.total>0?n("el-pagination",{staticStyle:{margin:"8px 0"},attrs:{"current-page":e.queryForm.page_num,"page-sizes":[10,20,50,100],"page-size":e.queryForm.num,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"update:currentPage":function(t){return e.$set(e.queryForm,"page_num",t)},"update:current-page":function(t){return e.$set(e.queryForm,"page_num",t)},"current-change":e.handleCurrentChange,"size-change":e.handlePageSizeChange}}):e._e()],1),n("Monitor",{attrs:{visible:e.monitorVisible},on:{"update:visible":function(t){e.monitorVisible=t}}})],1)},a=[],o=n(97434),i=n(20809),s=n(64236),l=n(99575),u=n(61282),c=n(67910),d=n(45781),m=n(24643),p=n(8136),f=n(59760),h="data:image/png;base64,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";const{formatPriceFormYuan:v}=d.Z,g=e=>{const t=(0,o.ref)(!1),n=(0,o.ref)(0),r=(0,o.ref)([]),a=async a=>{t.value=!0;const[{data:o}]=await(0,s.Dc)(500,(0,l.zG)(a));t.value=!1,o.success?(r.value=o.data.data,n.value=o.data.total):(r.value=[],n.value=0,e.root.$message({type:"warning",message:o.message??"查询失败，稍后重试",duration:2e3,showClose:!0}))},i=(e,t,n,r)=>{const a=e[t]||"--",{is_folded:i,folded_text:s}=(0,u.zb)(a,n);return r||!i?s:(0,o.h)("el-popover",{props:{placement:"right",trigger:"hover",content:a}},[(0,o.h)("span",{slot:"reference"},[s]),(0,o.h)("DefText",{props:{content:e[t]}})])},d=(e,t)=>i(e,"anchor_account_name",15,t),g=(0,c.zY)(r,"项目名称",d),A=(0,o.ref)([{label:"商品信息",minWidth:356,formatter:e=>{const t=(0,o.h)("p",{class:"commodity-name",on:{click:function(){window.open(e.item_dy_url)}}},e.item_name);return(0,o.h)("div",{class:"shop-box"},[(0,o.h)("div",{class:"pic-box"},[(0,o.h)("el-image",{attrs:{src:e.item_pic_url,fit:"contain"},class:"goods-image"},[(0,o.h)("img",{slot:"error",attrs:{style:"width: 100%;height: 100%;",src:f}})]),1===e.hot_flag?(0,o.h)("img",{attrs:{src:h},class:"hot-icon"}):null]),(0,o.h)("div",{class:"info-box"},[e.item_name.length>60?(0,o.h)("el-tooltip",{attrs:{effect:"light",content:e.item_name,placement:"top-start",popperClass:"hot-sale-detail-popper-class"}},[t]):t,(0,o.h)("div",{class:"price-line"},[(0,o.h)("span",["￥"]),(0,o.h)("span",e.item_price_range)])])])}},{label:"直播账号",minWidth:g.value+160,formatter:e=>d(e,!1)},{label:"讲解次数",minWidth:100,align:"right",formatter:e=>e.talk_times||0===e.talk_times?e.talk_times:"--"},{label:"讲解时长",minWidth:100,align:"right",formatter:e=>e.talk_duration||0===e.talk_duration?0===e.talk_duration?(0,o.h)("div",(0,p.ZC)(e.talk_duration)):(0,o.h)("el-tooltip",{attrs:{effect:"light",placement:"right",popperClass:"hot-sale-detail-talk-time"}},[(0,o.h)("div",{class:"talk-time-box",slot:"content"},[(0,o.h)("h3",{style:{fontSize:"12px",width:"100%",lineHeight:"8px"}},"讲解时长"),...e.talk_detail.map((e=>(0,o.h)("p",{class:"talk-time-item"},e)))]),(0,o.h)("div",{class:"talk-time"},(0,p.ZC)(e.talk_duration))]):(0,o.h)("div","--")},{label:"销量",minWidth:110,align:"right",formatter:e=>e.sale_count||0===e.sale_count?(0,m.Y4)(Number(e.sale_count),0,".",","):"--"},{label:"销售额 (元)",minWidth:110,align:"right",formatter:e=>e.sale_amount||0===e.sale_amount?v(e.sale_amount/100,2,!1):"--"}]);return{loading:t,total:n,list:r,loadData:a,columns:A}};var A=n(1763),y=n(44928),b=n(6933),F=n.n(b),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hot-sale-monitor-dialog"},[n("el-dialog",{staticClass:"customer-dialog tg-dialog-vcenter-new",attrs:{visible:e.visible,width:"488px",title:"监控设置","close-on-click-modal":!1},on:{close:e.onClose},scopedSlots:e._u([{key:"footer",fn:function(){return[n("tg-button",{on:{click:e.onClose}},[e._v("取消")]),n("tg-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])]},proxy:!0}])},[n("div",{staticClass:"warning-box",staticStyle:{"margin-bottom":"20px"}},[n("tg-icon",{attrs:{name:"ico-icon_tongyong_jinggao_mianxingbeifen-01"}}),n("p",{staticClass:"text"},[e._v("添加的监控账号为直播账号名称")])],1),n("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.formRules,size:"small",inline:""}},[n("el-form-item",{staticStyle:{"margin-right":"6px"},attrs:{prop:"hot_sale_time",label:"热销阀值设置：","label-width":"118px"}},[n("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:""},model:{value:e.form.hot_sale_time,callback:function(t){e.$set(e.form,"hot_sale_time",t)},expression:"form.hot_sale_time"}},[n("el-option",{attrs:{label:"1",value:1}}),n("el-option",{attrs:{label:"2",value:2}}),n("el-option",{attrs:{label:"3",value:3}}),n("el-option",{attrs:{label:"4",value:4}}),n("el-option",{attrs:{label:"5",value:5}}),n("el-option",{attrs:{label:"6",value:6}})],1)],1),n("el-form-item",{attrs:{prop:"hot_sale_count",label:"小时内单品销量达到","label-width":"126px"}},[n("el-input",{staticStyle:{width:"120px","margin-left":"6px"},attrs:{placeholder:"",maxlength:20},on:{input:e.formatInterger},model:{value:e.form.hot_sale_count,callback:function(t){e.$set(e.form,"hot_sale_count","string"===typeof t?t.trim():t)},expression:"form.hot_sale_count"}})],1),n("el-form-item",{attrs:{prop:"receiver_list",label:"消息接收人：","label-width":"118px"}},[n("el-select",{staticStyle:{width:"348px"},attrs:{clearable:"",multiple:"",remote:"",filterable:"",value:e.selectNames,"remote-method":e.getAllOtherMembersRequest,loading:e.otherMemberLoading,placeholder:""},on:{change:e.onOtherMembersChanged}},e._l(e.otherMembers,(function(e){return n("el-option",{key:e.user_id,attrs:{label:e.name,value:e.name}})})),1)],1),n("div",{staticClass:"tip-line-box"},[n("tg-icon",{attrs:{name:"ico-icon_tongyong_tishi_mianxing-01"}}),n("p",{staticClass:"text"},[e._v("达到热销阀值后会发送消息提醒，每款商品一天只提醒一次")])],1),n("div",{staticClass:"account-box"},[n("div",{staticClass:"account-label"},[e._v("监控账号设置：")]),n("div",{staticClass:"flex-line-box-wrap"},[e._l(e.form.monitor_accounts,(function(t,r){return n("div",{key:r,staticClass:"flex-line-item"},[n("el-form-item",{attrs:{prop:"monitor_accounts["+r+"]",rules:[{required:!0,validator:function(t,n,a){return e.monitorAcCheck(t,n,a,r)},trigger:"blur"}]}},[n("el-input",{attrs:{placeholder:"请输入账号名称",maxlength:20},model:{value:e.form.monitor_accounts[r],callback:function(t){e.$set(e.form.monitor_accounts,r,"string"===typeof t?t.trim():t)},expression:"form.monitor_accounts[index]"}})],1),n("tg-icon",{staticClass:"ico-btn-delete",attrs:{name:"ico-btn-delete"},on:{click:function(t){return e.deleteAccount(r)}}})],1)})),n("div",{staticClass:"flex-line-item",staticStyle:{"margin-bottom":"18px"}},[n("tg-button",{attrs:{disabled:e.form.monitor_accounts.length>=5,type:"primary",icon:"ico-btn-add"},on:{click:e.addAccount}},[e._v("新增监控账号")])],1)],2)])],1)],1),n("tg-mask-loading",{attrs:{visible:e.saveLoading,content:"  正在保存，请稍候..."}})],1)},D=[],C=(n(21703),n(88721)),w=n(41729),_=(0,o.defineComponent)({props:{visible:{type:Boolean,default:!1}},setup(e,t){const n=(0,o.ref)(!1),r=(0,o.inject)("project_id"),a=(0,o.ref)(null),i=(0,o.reactive)({project_id:r,hot_sale_count:"",hot_sale_time:"",receiver_list:[],monitor_accounts:[""]}),s=()=>{i.hot_sale_time="",i.hot_sale_count="",i.receiver_list=[],i.monitor_accounts=[""]},u=(0,o.ref)({hot_sale_time:[{required:!0,message:"请选择时间",trigger:"change"}],hot_sale_count:[{required:!0,message:"请设置阀值",trigger:["blur","change"]}],receiver_list:[{required:0===i.receiver_list.length,message:"请输入并选择",trigger:["blur","change"]}]}),c=(e,t,n,r)=>""===t||void 0===t||null===t?n(new Error("请输入账号名称")):n();(0,o.watch)((()=>e.visible),(e=>{e?d():(a.value?.resetFields(),s())}));const d=async()=>{const e=await(0,l.Yf)({project_id:r});if(e.data.success){const t=e.data.data.data;if(!t)return;i.hot_sale_time=t.hot_sale_time,i.hot_sale_count=t.hot_sale_count,i.monitor_accounts=t.monitor_accounts,i.receiver_list=t.receiver_list,f.value=t.receiver_list}else t.root.$message.error(e.data.message??"获取失败，请稍候重试")},m=(0,o.ref)(!1),p=(0,o.ref)([]),f=(0,o.ref)([]),h=(0,o.computed)((()=>i.receiver_list.map((e=>{const t=f.value.find((t=>t.user_id===e.user_id));return t?.name??""})))),v=async e=>{if(""===e||void 0===e)return void(p.value=[]);m.value=!0;const t=await(0,w.wk)(e);m.value=!1,t.data.success?p.value=t.data.data.data:p.value=[]},g=e=>{const t=[];p.value.forEach((e=>{const t=f.value.find((t=>e.user_id===t.user_id));t||f.value.push({user_id:e.user_id,name:e.name})})),e.forEach((e=>{const n=f.value.find((t=>t.name===e));n&&t.push(n)})),i.receiver_list=t},A=e=>{i.monitor_accounts.splice(e,1)},y=()=>{i.monitor_accounts.push("")},b={onClose:()=>{s(),t.emit("update:visible",!1)},onSave:async()=>{const e=await new Promise((e=>a.value?.validate((t=>e(t)))));if(!e)return;const r={...i};n.value=!0;const o=await(0,l.LQ)(r);n.value=!1,o.data.success?(t.root.$message.success(o.data.message??"操作成功"),s(),t.emit("save"),t.emit("update:visible",!1)):t.root.$message.error(o.data.message??"保存失败，请稍候重试")}},F=e=>{i.hot_sale_count=C.Z.Interger(e)};return{form:i,formRules:u,formRef:a,saveLoading:n,...b,formatInterger:F,otherMemberLoading:m,otherMembers:p,selectNames:h,getAllOtherMembersRequest:v,onOtherMembersChanged:g,deleteAccount:A,addAccount:y,monitorAcCheck:c}}}),B=_,k=n(1001),S=(0,k.Z)(B,x,D,!1,null,null,null),z=S.exports;const I=[{name:A.xx.hotSaleMonitor,title:"全网热销监控"},{path:"",title:"项目详情"}];var R=(0,o.defineComponent)({name:"TgHotSaleMonitorDetail",components:{Monitor:z},setup(e,t){const{tableHeightLogic:n}=(0,i.Z)(),r=(0,y.t)(),a=r.currentRoute.params.id,s=r.currentRoute.params.project_name;I[1].title=s;const l=(0,o.ref)(!1);(0,o.provide)("project_id",a);const u=(0,o.reactive)({project_id:parseInt(a,10),date:F()(new Date).format("YYYY-MM-DD"),page_num:1,num:20}),c=(0,o.ref)(0),d=(0,o.computed)((()=>{const e=new Date;return e.setDate(e.getDate()+c.value),e})),m=()=>{l.value=!0};(0,o.watch)((()=>d.value),(e=>{const t=F()(e).format("YYYY-MM-DD");u.date=t,v()}));const p={formatDouble:e=>e<10?`0${e}`:e,onPrevDay:()=>{p.getNewDate(-1)},onNextDay:()=>{p.getNewDate(1)},getNewDate:e=>{c.value+=e}},f=(0,o.computed)((()=>`${d.value.getFullYear()}年${p.formatDouble(d.value.getMonth()+1)}月${p.formatDouble(d.value.getDate())}日`)),h=g(t),v=async(e=!0)=>{e&&(u.page_num=1),await h.loadData(u)},A=e=>{u.page_num=e,v(!1)},b=e=>{u.num=e,v()};return(0,o.onBeforeMount)((()=>{v()})),{reload:v,...n,routes:I,queryForm:u,handleCurrentChange:A,handlePageSizeChange:b,...h,...p,currentDay:f,monitorVisible:l,showMonitorDialog:m}}}),j=R,P=(0,k.Z)(j,r,a,!1,null,null,null),Q=P.exports},41729:function(e,t,n){"use strict";n.d(t,{Sg:function(){return p},ZZ:function(){return c},nV:function(){return d},wk:function(){return m},i6:function(){return v},HO:function(){return f},yD:function(){return h}});var r=n(76012);const a="/api/auth/message_notification_config/",o="/api/auth/message_notification_receiver_list/",i="/api/feishu/feishu_user_list",s="/api/auth/save_message_notification_receiver/",l="/api/auth/message_notification_config_status/";var u=n(64236);const c=async()=>(0,r.dX)(a),d=async e=>(0,r.dX)(o+"?config_id="+e),m=async e=>(0,r.dX)(i+"?name="+e),p=async e=>(0,r.dX)("/api/feishu/feishu_bot_groups?event_type="+e),f=async e=>(0,r.SO)(s,{...(0,u.jG)(e)}),h=async e=>(0,r.SO)("/api/feishu/update_checked_feishu_bot_groups",{...(0,u.jG)(e)}),v=async e=>(0,r.SO)(l,{...(0,u.jG)(e)})},58302:function(e,t,n){"use strict";var r=n(97434),a=n(77944),o=n(52140);const i=e=>{const t=(0,r.computed)((()=>a.Z.getters["global/scrollbarSetting"])),n=(0,r.computed)((()=>void 0!==e.pagename?!0!==t.value.find((t=>t.key===e.pagename))?.value:e.disable??!1)),i=(0,r.computed)((()=>{const t=(e.fixedBlockHeightRefs??[]).map((e=>(0,r.unref)(e))).reduce(((e,t)=>(0,r.unref)(e)+(0,r.unref)(t)),0);return n.value?"max-content":`calc(100vh - ${(0,r.unref)(t)+56+36}px)`})),s=(0,r.computed)((()=>(n.value,"flex-auto"))),l=(0,r.computed)((()=>({height:i.value,overflowInBody:!n.value}))),u=(0,r.ref)(0),c=(0,r.computed)((()=>n.value?{}:{height:Math.max(u.value-(0,r.unref)((0,r.unref)(e.compensation)),e.tableMinHeight??0)})),d=n.value?()=>{}:e=>{u.value!==e&&(u.value=e,(0,o.S)())},m=n.value?()=>{}:t=>{0===u.value?setTimeout((()=>{d(t.height)}),e.delay??1200):d(t.height)};return{cardHeight:i,tableProps:c,onRectUpdate:m,rectHeight:u,cardFlexClass:s,cardProps:l}};t["Z"]=i},44928:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var r=n(86834);const a=()=>{const e=new Proxy({},{get(e,t){return Reflect.get(r.Z,t)}});return e}},20809:function(e,t,n){"use strict";var r=n(97434),a=n(58302);t["Z"]=()=>{const e=32,t=34,n=36,o=31,i=(0,r.ref)(0),s=e=>{i.value=e.height},l=(0,a.Z)({compensation:(0,r.computed)((()=>e+t+n+o)),fixedBlockHeightRefs:[i,25],tableMinHeight:100});return{tableHeightLogic:l,onTopCardRectUpdate:s}}},52140:function(e,t,n){"use strict";n.d(t,{S:function(){return r},n:function(){return a}});const r=()=>{const e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)},a=()=>{const{width:e,height:t}=document.body.getBoundingClientRect();return{width:e,height:t}}},8136:function(e,t,n){"use strict";n.d(t,{AR:function(){return _},BG:function(){return D},Cl:function(){return F},D$:function(){return s},EI:function(){return d},Hx:function(){return o},LY:function(){return u},Nv:function(){return l},Ps:function(){return z},Rd:function(){return w},ZC:function(){return p},_t:function(){return g},bI:function(){return b},g9:function(){return v},hy:function(){return m},jh:function(){return k},mB:function(){return A},mx:function(){return S},nA:function(){return B},q0:function(){return C},sc:function(){return x},ug:function(){return y},us:function(){return h},vJ:function(){return f},wA:function(){return i},xF:function(){return c}});var r=n(20713),a=n.n(r);function o(e,t){const n=e.display_type;switch(n){case 0:return"混播";case 1:return"专场"}}const i=["综合","美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值"],s=["美妆","生活","服饰","美食","母婴","数码","家装","健康","宠物","时尚","配饰","家电","测评","旅行","运动","摄影","情感","汽车","搞笑","教育","财经","萌娃","文化","影视","娱乐","游戏","海外","才艺","二次元","高颜值","行政采购"];function l({category:e}){return 0===e?"无":i[e]}function u(e,t){const n=e.sales_price_period;switch(n){case 0:return"0 ~ 100";case 1:return"100 ~ 200";case 2:return"200以上"}}function c(e,t="YYYY-MM-DD"){return a()(e).format(t)}function d(e,t="YYYY-MM-DD hh:mm:ss"){return a()(e+"+0800").format(t)}function m(e,t){return a()(e+"+0800").format(t||"YYYY-MM-DD")}function p(e){let t=parseInt(e,10),n=0,r=0;t>=60&&(n=parseInt(t/60,10),t=parseInt(t%60,10),n>=60&&(r=parseInt(n/60,10),n=parseInt(n%60,10)));let a=""+(parseInt(t,10)<10?"0"+parseInt(t,10):parseInt(t,10));return a=(parseInt(n,10)<10?"0"+parseInt(n,10):parseInt(n,10))+":"+a,a=(parseInt(r,10)<10?"0"+parseInt(r,10):parseInt(r,10))+":"+a,a}function f(e){const t=e.is_presell;switch(t){case-1:return"未录入";case 1:return"预售";case 0:return"非预售";case 2:return"预热"}}function h(e){const t=e.is_display;switch(t){case-1:return"未录入";case 2:return"已出单";case 1:return"未出单"}}function v(e){const t=e.duration;switch(t){case-1:return"未录入";case 0:return"5 ~ 10分钟";case 1:return"10 ~ 15分钟";case 2:return"15 ~ 20分钟";case 3:return"0 ~ 5分钟";case 4:return"20分钟以上"}}function g(e){const t=e.display_period;switch(t){case-1:return"未录入";case 0:return"白天";case 1:return"晚上"}}function A(e){const t=e.shop_type;switch(t){case 0:return"无";case 1:return"淘宝店";case 2:return"天猫店";case 3:return"抖音店";default:return"--"}}function y(e){const t=e.company_type;switch(t){case 0:return"无";case 1:return"同行机构";case 2:return"广告公司";case 3:return"品牌TP";case 4:return"直客"}}function b(e,t){const n=/[^\x00-\xff]/g;let r;if(e.replace(n,"**").length>t){r=Math.floor(t/2);for(let a=r,o=e.length;a<o;a++)if(e.substr(0,a).replace(n,"**").length>=t)return e.substr(0,a)}return e}const F=[{type:0,value:"全部"},{type:1,value:"普通客户"},{type:2,value:"重点客户"},{type:3,value:"战略客户"},{type:4,value:"KA客户"}],x=[{value:"全部",type:0},{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13}],D=[{value:"淘宝图文",type:9},{value:"小红书",type:1},{value:"微信公众号",type:2},{value:"新浪微博",type:3},{value:"淘宝短视频",type:10},{value:"抖音",type:4},{value:"快手",type:5},{value:"哔哩哔哩",type:6},{value:"淘宝直播",type:7},{value:"一直播",type:8},{value:"线下场地搭建",type:11},{value:"线下视觉设计",type:12},{value:"活动策划执行",type:13},{value:"行政采购",type:14}],C=[{value:3,text:"抖音店"},{value:1,text:"淘宝店"},{value:2,text:"天猫店"}],w=[{value:1,text:"同行机构"},{value:2,text:"广告公司"},{value:3,text:"品牌TP"},{value:4,text:"直客"}],_=[{type:0,value:"--"},{type:1,value:"同行机构"},{type:2,value:"广告公司"},{type:3,value:"品牌TP"},{type:4,value:"直客"}],B=["#D15CB4","#6090F0","#FF9C69","#59B6DF","#C673F0","#52CCC2","#F0737F","#6FCC66","#DBD26A","#9D73F0","#FAB36E","#A2D160","#D15CB4","#58B89F","#E06C9C","#8873F0","#FA9384","#C251A6","#486DB5","#C77A52","#4185A3","#9557B5","#3C968F","#B55760","#4F9149","#A19A4D","#7657B5","#BF8954","#759645","#964282","#3C7D6C","#A65073","#6556B3","#BF7065","#873874"],k=["#6090F0","#FF9C69","#52CCC2","#59B6DF","#C673F0","#D15CB4","#F0737F","#DBD26A","#FAB36E","#A2D160","#6FCC66","#58B89F","#8873F0","#FA9384","#9D73F0","#E06C9C","#C251A6"],S=["#1E8DFF","#FFBF00","#10C0D3","#9273F8","#FE9C25","#00B942","#FFCD39","#FF829D","#00A3FF","#3AD08E","#F1DC2F","#845EF7","#FF7F00","#B3DC12","#009999","#2877FF","#D977F2","#FFC073","#768FF3","#81E5B1","#BAC8FF","#E599F8","#E7E275","#FF7E7E","#F7A0B8","#49C6F1","#B197FC","#53D66F","#FF97AD","#FDD866"];function z(e){for(const t of e)if("一"<=t&&t<="龥")return t;return e[0]}},45781:function(e,t,n){"use strict";var r=n(49187),a=n(8581),o=n(61282);const i=new r.ZP;t["Z"]={formatEmpty(e,t){return null===e||void 0===e||""===e||e instanceof Array&&e.length<=0?"--":void 0!==t?`${e}${t}`:e},formatTime(e){try{return null===e||void 0===e||""===e?"--":e.replace(/-/g,".")}catch(t){return e}},formatTimespan(e){try{if(null===e||void 0===e||""===e)return"--";const t=new Date;return t.setTime(1e3*e),(0,a.WU)(t,"YYYY.mm.dd")}catch(t){return e}},formatPrice(e,t=r.WL.Fen,n=!0){try{if(null===e||void 0===e||""===e)return"--";const r=i.format(i.parse(e,t));return n?`￥${r}`:r}catch(a){return e}},formatPriceFormYuan(e,t=2,n=!0){try{if(null===e||void 0===e||""===e)return"--";let r=e;return r=e>1e8?(e/1e8).toFixed(t)+"亿":e>1e4?(e/1e4).toFixed(t)+"w":(e-0).toFixed(t),n&&(r=`￥${r}`),r}catch(r){return e}},formatPriceToThousand(e,t=2,n=!0,r=!1){try{if(null===e||void 0===e||""===e)return"--";let a=e;return e>1e4?a=(e/1e4).toFixed(t)+"w":(a=(e-0).toFixed(t),r&&(a=(e-0).toFixed(0))),n&&(a=`￥${a}`),a}catch(a){return e}},formatPriceToThousandformatAmount(e,t=2,n=!0,r=!1){try{if(null===e||void 0===e||""===e)return"--";let a=e;return e>1e4?a=(0,o.dN)((e/1e4).toFixed(2),"None")+"w":(a=(0,o.dN)((e-0).toFixed(t),"None",0===t),r&&(a=(e-0).toFixed(0))),n&&(a=`￥${a}`),a}catch(a){return e}},tranNumber(e,t=2){if(null===e||void 0===e||""===e)return"--";if(!(e>=0))return e||"-";e+="";const n=e.toString(),r=n.split(".")[0],a=r.length;if(a<5)return n;if(a>8){const e=r.substring(r.length-8,r.length-8+t);return parseFloat(parseInt(r/1e8+"",10)+"."+e)+"亿"}if(a>4){const e=r.substring(r.length-4,r.length-4+t);return parseFloat(parseInt(r/1e4+"",10)+"."+e)+"w"}}}},88721:function(e,t,n){"use strict";var r=n(41572);n(97434);const a={IntergerAndDecimals(e){const t=/(\d+)$|\d+\.?\d{0,2}/.exec(e);return t?t[0]:""},Interger(e){return e.replace(/[^\d]/g,"")},NumberRange(e,t){return n=>{const r=this.IntergerAndDecimals(n);if(""===r)return r;const a=Number(r);return a<e?e+"":a>t?t+"":r}},Thousands(e){if(null===e||void 0===e||""===e)return e;e+="";const t=/^(\d+)(\.\d+$)?$/.exec(e+"");if(!t)return e;const n=t[1],r=t[2];let a=n.replace(/(\d{1,3})(?=(\d{3})+$)/g,(e=>`${e},`));return void 0!==r&&(a=`${a}${r}`),a},NineIntergerAndDecimals(e){const t=(/(?:0|[1-9]\d{0,8})(?:\.\d{0,2})?/u.exec(e.replace(/[^.\d]+/gu,"").replace(r.Pj,""))??[""])[0];return t}};t["Z"]=a},67910:function(e,t,n){"use strict";n.d(t,{P6:function(){return l},zY:function(){return s}});var r=n(97434),a=n(61282),o=n(85937),i=n.n(o);const s=(e,t,n,o=20)=>(0,r.computed)((()=>Math.ceil(Math.max(...e.value.map((e=>(0,a.QN)(n(e,!0)))),(0,a.QN)(t)))+o+6)),l=(e,t=!0)=>{let n;return n=""===e||void 0===e?"--":(0,a.SJ)(new(i())(e??0)),t?(0,r.h)("span",[`￥${n}`]):(0,r.h)("span",[`${n}`])}},20713:function(e,t,n){e.exports=n(70680)(52703)}}]);